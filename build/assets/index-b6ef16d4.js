function G$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function X$(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var o_={exports:{}},sp={},l_={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),J$=Symbol.for("react.portal"),Q$=Symbol.for("react.fragment"),Z$=Symbol.for("react.strict_mode"),eL=Symbol.for("react.profiler"),tL=Symbol.for("react.provider"),rL=Symbol.for("react.context"),nL=Symbol.for("react.forward_ref"),sL=Symbol.for("react.suspense"),aL=Symbol.for("react.memo"),iL=Symbol.for("react.lazy"),DN=Symbol.iterator;function oL(e){return e===null||typeof e!="object"?null:(e=DN&&e[DN]||e["@@iterator"],typeof e=="function"?e:null)}var c_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d_=Object.assign,u_={};function Dc(e,t,r){this.props=e,this.context=t,this.refs=u_,this.updater=r||c_}Dc.prototype.isReactComponent={};Dc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function h_(){}h_.prototype=Dc.prototype;function B0(e,t,r){this.props=e,this.context=t,this.refs=u_,this.updater=r||c_}var z0=B0.prototype=new h_;z0.constructor=B0;d_(z0,Dc.prototype);z0.isPureReactComponent=!0;var MN=Array.isArray,f_=Object.prototype.hasOwnProperty,W0={current:null},m_={key:!0,ref:!0,__self:!0,__source:!0};function p_(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)f_.call(t,n)&&!m_.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Du,type:e,key:i,ref:o,props:a,_owner:W0.current}}function lL(e,t){return{$$typeof:Du,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function U0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Du}function cL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var IN=/\/+/g;function eg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cL(""+e.key):t.toString(36)}function ff(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Du:case J$:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+eg(o,0):n,MN(a)?(r="",e!=null&&(r=e.replace(IN,"$&/")+"/"),ff(a,t,r,"",function(u){return u})):a!=null&&(U0(a)&&(a=lL(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(IN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",MN(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+eg(i,l);o+=ff(i,t,r,c,a)}else if(c=oL(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+eg(i,l++),o+=ff(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vh(e,t,r){if(e==null)return e;var n=[],a=0;return ff(e,n,"","",function(i){return t.call(r,i,a++)}),n}function dL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qr={current:null},mf={transition:null},uL={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:mf,ReactCurrentOwner:W0};function x_(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:vh,forEach:function(e,t,r){vh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vh(e,function(){t++}),t},toArray:function(e){return vh(e,function(t){return t})||[]},only:function(e){if(!U0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=Dc;Ve.Fragment=Q$;Ve.Profiler=eL;Ve.PureComponent=B0;Ve.StrictMode=Z$;Ve.Suspense=sL;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uL;Ve.act=x_;Ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=d_({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=W0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)f_.call(t,c)&&!m_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Du,type:e.type,key:a,ref:i,props:n,_owner:o}};Ve.createContext=function(e){return e={$$typeof:rL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tL,_context:e},e.Consumer=e};Ve.createElement=p_;Ve.createFactory=function(e){var t=p_.bind(null,e);return t.type=e,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:nL,render:e}};Ve.isValidElement=U0;Ve.lazy=function(e){return{$$typeof:iL,_payload:{_status:-1,_result:e},_init:dL}};Ve.memo=function(e,t){return{$$typeof:aL,type:e,compare:t===void 0?null:t}};Ve.startTransition=function(e){var t=mf.transition;mf.transition={};try{e()}finally{mf.transition=t}};Ve.unstable_act=x_;Ve.useCallback=function(e,t){return Qr.current.useCallback(e,t)};Ve.useContext=function(e){return Qr.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return Qr.current.useDeferredValue(e)};Ve.useEffect=function(e,t){return Qr.current.useEffect(e,t)};Ve.useId=function(){return Qr.current.useId()};Ve.useImperativeHandle=function(e,t,r){return Qr.current.useImperativeHandle(e,t,r)};Ve.useInsertionEffect=function(e,t){return Qr.current.useInsertionEffect(e,t)};Ve.useLayoutEffect=function(e,t){return Qr.current.useLayoutEffect(e,t)};Ve.useMemo=function(e,t){return Qr.current.useMemo(e,t)};Ve.useReducer=function(e,t,r){return Qr.current.useReducer(e,t,r)};Ve.useRef=function(e){return Qr.current.useRef(e)};Ve.useState=function(e){return Qr.current.useState(e)};Ve.useSyncExternalStore=function(e,t,r){return Qr.current.useSyncExternalStore(e,t,r)};Ve.useTransition=function(){return Qr.current.useTransition()};Ve.version="18.3.1";l_.exports=Ve;var p=l_.exports;const G=aa(p),K0=G$({__proto__:null,default:G},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hL=p,fL=Symbol.for("react.element"),mL=Symbol.for("react.fragment"),pL=Object.prototype.hasOwnProperty,xL=hL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gL={key:!0,ref:!0,__self:!0,__source:!0};function g_(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)pL.call(t,n)&&!gL.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:fL,type:e,key:i,ref:o,props:a,_owner:xL.current}}sp.Fragment=mL;sp.jsx=g_;sp.jsxs=g_;o_.exports=sp;var s=o_.exports,v_={exports:{}},$n={},y_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,T){var re=_.length;_.push(T);e:for(;0<re;){var M=re-1>>>1,H=_[M];if(0<a(H,T))_[M]=T,_[re]=H,re=M;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var T=_[0],re=_.pop();if(re!==T){_[0]=re;e:for(var M=0,H=_.length,te=H>>>1;M<te;){var ne=2*(M+1)-1,fe=_[ne],ae=ne+1,ee=_[ae];if(0>a(fe,re))ae<H&&0>a(ee,fe)?(_[M]=ee,_[ae]=re,M=ae):(_[M]=fe,_[ne]=re,M=ne);else if(ae<H&&0>a(ee,re))_[M]=ee,_[ae]=re,M=ae;else break e}}return T}function a(_,T){var re=_.sortIndex-T.sortIndex;return re!==0?re:_.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,j=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=_)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function b(_){if(g=!1,w(_),!j)if(r(c)!==null)j=!0,R(N);else{var T=r(u);T!==null&&W(b,T.startTime-_)}}function N(_,T){j=!1,g&&(g=!1,y(C),C=-1),m=!0;var re=f;try{for(w(T),h=r(c);h!==null&&(!(h.expirationTime>T)||_&&!I());){var M=h.callback;if(typeof M=="function"){h.callback=null,f=h.priorityLevel;var H=M(h.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?h.callback=H:h===r(c)&&n(c),w(T)}else n(c);h=r(c)}if(h!==null)var te=!0;else{var ne=r(u);ne!==null&&W(b,ne.startTime-T),te=!1}return te}finally{h=null,f=re,m=!1}}var k=!1,P=null,C=-1,A=5,S=-1;function I(){return!(e.unstable_now()-S<A)}function O(){if(P!==null){var _=e.unstable_now();S=_;var T=!0;try{T=P(!0,_)}finally{T?z():(k=!1,P=null)}}else k=!1}var z;if(typeof v=="function")z=function(){v(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=O,z=function(){Y.postMessage(null)}}else z=function(){x(O,0)};function R(_){P=_,k||(k=!0,z())}function W(_,T){C=x(function(){_(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){j||m||(j=!0,R(N))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var re=f;f=T;try{return _()}finally{f=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,T){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var re=f;f=_;try{return T()}finally{f=re}},e.unstable_scheduleCallback=function(_,T,re){var M=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?M+re:M):re=M,_){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,_={id:d++,callback:T,priorityLevel:_,startTime:re,expirationTime:H,sortIndex:-1},re>M?(_.sortIndex=re,t(u,_),r(c)===null&&_===r(u)&&(g?(y(C),C=-1):g=!0,W(b,re-M))):(_.sortIndex=H,t(c,_),j||m||(j=!0,R(N))),_},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(_){var T=f;return function(){var re=f;f=T;try{return _.apply(this,arguments)}finally{f=re}}}})(j_);y_.exports=j_;var vL=y_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yL=p,Dn=vL;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w_=new Set,Jd={};function ol(e,t){cc(e,t),cc(e+"Capture",t)}function cc(e,t){for(Jd[e]=t,e=0;e<t.length;e++)w_.add(t[e])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cv=Object.prototype.hasOwnProperty,jL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RN={},$N={};function wL(e){return Cv.call($N,e)?!0:Cv.call(RN,e)?!1:jL.test(e)?$N[e]=!0:(RN[e]=!0,!1)}function bL(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NL(e,t,r,n){if(t===null||typeof t>"u"||bL(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ar[e]=new Zr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ar[t]=new Zr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ar[e]=new Zr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ar[e]=new Zr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ar[e]=new Zr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ar[e]=new Zr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ar[e]=new Zr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ar[e]=new Zr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ar[e]=new Zr(e,5,!1,e.toLowerCase(),null,!1,!1)});var H0=/[\-:]([a-z])/g;function V0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H0,V0);Ar[t]=new Zr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H0,V0);Ar[t]=new Zr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H0,V0);Ar[t]=new Zr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ar[e]=new Zr(e,1,!1,e.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ar[e]=new Zr(e,1,!1,e.toLowerCase(),null,!0,!0)});function q0(e,t,r,n){var a=Ar.hasOwnProperty(t)?Ar[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(NL(t,r,a,n)&&(r=null),n||a===null?wL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ua=yL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Ml=Symbol.for("react.portal"),Il=Symbol.for("react.fragment"),Y0=Symbol.for("react.strict_mode"),Pv=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),_v=Symbol.for("react.suspense"),Ev=Symbol.for("react.suspense_list"),X0=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),S_=Symbol.for("react.offscreen"),LN=Symbol.iterator;function id(e){return e===null||typeof e!="object"?null:(e=LN&&e[LN]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Object.assign,tg;function Cd(e){if(tg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tg=t&&t[1]||""}return`
`+tg+e}var rg=!1;function ng(e,t){if(!e||rg)return"";rg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{rg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cd(e):""}function SL(e){switch(e.tag){case 5:return Cd(e.type);case 16:return Cd("Lazy");case 13:return Cd("Suspense");case 19:return Cd("SuspenseList");case 0:case 2:case 15:return e=ng(e.type,!1),e;case 11:return e=ng(e.type.render,!1),e;case 1:return e=ng(e.type,!0),e;default:return""}}function Av(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Il:return"Fragment";case Ml:return"Portal";case Pv:return"Profiler";case Y0:return"StrictMode";case _v:return"Suspense";case Ev:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N_:return(e.displayName||"Context")+".Consumer";case b_:return(e._context.displayName||"Context")+".Provider";case G0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X0:return t=e.displayName||null,t!==null?t:Av(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return Av(e(t))}catch{}}return null}function kL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Av(t);case 8:return t===Y0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function CL(e){var t=k_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jh(e){e._valueTracker||(e._valueTracker=CL(e))}function C_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=k_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ov(e,t){var r=t.checked;return $t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function FN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ii(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P_(e,t){t=t.checked,t!=null&&q0(e,"checked",t,!1)}function Tv(e,t){P_(e,t);var r=Ii(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dv(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dv(e,t.type,Ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function BN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dv(e,t,r){(t!=="number"||Mf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Pd=Array.isArray;function Xl(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ii(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Mv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return $t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(Pd(r)){if(1<r.length)throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ii(r)}}function __(e,t){var r=Ii(t.value),n=Ii(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function WN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wh,A_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PL=["Webkit","ms","Moz","O"];Object.keys(Rd).forEach(function(e){PL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rd[t]=Rd[e]})});function O_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rd.hasOwnProperty(e)&&Rd[e]?(""+t).trim():t+"px"}function T_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=O_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var _L=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rv(e,t){if(t){if(_L[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function $v(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lv=null;function J0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fv=null,Jl=null,Ql=null;function UN(e){if(e=Ru(e)){if(typeof Fv!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=cp(t),Fv(e.stateNode,e.type,t))}}function D_(e){Jl?Ql?Ql.push(e):Ql=[e]:Jl=e}function M_(){if(Jl){var e=Jl,t=Ql;if(Ql=Jl=null,UN(e),t)for(e=0;e<t.length;e++)UN(t[e])}}function I_(e,t){return e(t)}function R_(){}var sg=!1;function $_(e,t,r){if(sg)return e(t,r);sg=!0;try{return I_(e,t,r)}finally{sg=!1,(Jl!==null||Ql!==null)&&(R_(),M_())}}function Zd(e,t){var r=e.stateNode;if(r===null)return null;var n=cp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var Bv=!1;if(Oa)try{var od={};Object.defineProperty(od,"passive",{get:function(){Bv=!0}}),window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{Bv=!1}function EL(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var $d=!1,If=null,Rf=!1,zv=null,AL={onError:function(e){$d=!0,If=e}};function OL(e,t,r,n,a,i,o,l,c){$d=!1,If=null,EL.apply(AL,arguments)}function TL(e,t,r,n,a,i,o,l,c){if(OL.apply(this,arguments),$d){if($d){var u=If;$d=!1,If=null}else throw Error(oe(198));Rf||(Rf=!0,zv=u)}}function ll(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function KN(e){if(ll(e)!==e)throw Error(oe(188))}function DL(e){var t=e.alternate;if(!t){if(t=ll(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return KN(a),e;if(i===n)return KN(a),t;i=i.sibling}throw Error(oe(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function F_(e){return e=DL(e),e!==null?B_(e):null}function B_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=B_(e);if(t!==null)return t;e=e.sibling}return null}var z_=Dn.unstable_scheduleCallback,HN=Dn.unstable_cancelCallback,ML=Dn.unstable_shouldYield,IL=Dn.unstable_requestPaint,Ht=Dn.unstable_now,RL=Dn.unstable_getCurrentPriorityLevel,Q0=Dn.unstable_ImmediatePriority,W_=Dn.unstable_UserBlockingPriority,$f=Dn.unstable_NormalPriority,$L=Dn.unstable_LowPriority,U_=Dn.unstable_IdlePriority,ap=null,Vs=null;function LL(e){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(ap,e,void 0,(e.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:zL,FL=Math.log,BL=Math.LN2;function zL(e){return e>>>=0,e===0?32:31-(FL(e)/BL|0)|0}var bh=64,Nh=4194304;function _d(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=_d(l):(i&=o,i!==0&&(n=_d(i)))}else o=r&~a,o!==0?n=_d(o):i!==0&&(n=_d(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ns(t),a=1<<r,n|=e[r],t&=~a;return n}function WL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ns(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=WL(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Wv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function K_(){var e=bh;return bh<<=1,!(bh&4194240)&&(bh=64),e}function ag(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ns(t),e[t]=r}function KL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ns(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Z0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ns(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var st=0;function H_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V_,ej,q_,Y_,G_,Uv=!1,Sh=[],ji=null,wi=null,bi=null,eu=new Map,tu=new Map,fi=[],HL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VN(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(t.pointerId)}}function ld(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ru(t),t!==null&&ej(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function VL(e,t,r,n,a){switch(t){case"focusin":return ji=ld(ji,e,t,r,n,a),!0;case"dragenter":return wi=ld(wi,e,t,r,n,a),!0;case"mouseover":return bi=ld(bi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return eu.set(i,ld(eu.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,tu.set(i,ld(tu.get(i)||null,e,t,r,n,a)),!0}return!1}function X_(e){var t=ko(e.target);if(t!==null){var r=ll(t);if(r!==null){if(t=r.tag,t===13){if(t=L_(r),t!==null){e.blockedOn=t,G_(e.priority,function(){q_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Lv=n,r.target.dispatchEvent(n),Lv=null}else return t=Ru(r),t!==null&&ej(t),e.blockedOn=r,!1;t.shift()}return!0}function qN(e,t,r){pf(e)&&r.delete(t)}function qL(){Uv=!1,ji!==null&&pf(ji)&&(ji=null),wi!==null&&pf(wi)&&(wi=null),bi!==null&&pf(bi)&&(bi=null),eu.forEach(qN),tu.forEach(qN)}function cd(e,t){e.blockedOn===t&&(e.blockedOn=null,Uv||(Uv=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,qL)))}function ru(e){function t(a){return cd(a,e)}if(0<Sh.length){cd(Sh[0],e);for(var r=1;r<Sh.length;r++){var n=Sh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ji!==null&&cd(ji,e),wi!==null&&cd(wi,e),bi!==null&&cd(bi,e),eu.forEach(t),tu.forEach(t),r=0;r<fi.length;r++)n=fi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)X_(r),r.blockedOn===null&&fi.shift()}var Zl=Ua.ReactCurrentBatchConfig,Ff=!0;function YL(e,t,r,n){var a=st,i=Zl.transition;Zl.transition=null;try{st=1,tj(e,t,r,n)}finally{st=a,Zl.transition=i}}function GL(e,t,r,n){var a=st,i=Zl.transition;Zl.transition=null;try{st=4,tj(e,t,r,n)}finally{st=a,Zl.transition=i}}function tj(e,t,r,n){if(Ff){var a=Kv(e,t,r,n);if(a===null)pg(e,t,n,Bf,r),VN(e,n);else if(VL(a,e,t,r,n))n.stopPropagation();else if(VN(e,n),t&4&&-1<HL.indexOf(e)){for(;a!==null;){var i=Ru(a);if(i!==null&&V_(i),i=Kv(e,t,r,n),i===null&&pg(e,t,n,Bf,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else pg(e,t,n,null,r)}}var Bf=null;function Kv(e,t,r,n){if(Bf=null,e=J0(n),e=ko(e),e!==null)if(t=ll(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bf=e,null}function J_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RL()){case Q0:return 1;case W_:return 4;case $f:case $L:return 16;case U_:return 536870912;default:return 16}default:return 16}}var gi=null,rj=null,xf=null;function Q_(){if(xf)return xf;var e,t=rj,r=t.length,n,a="value"in gi?gi.value:gi.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return xf=a.slice(e,1<n?1-n:void 0)}function gf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kh(){return!0}function YN(){return!1}function Ln(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kh:YN,this.isPropagationStopped=YN,this}return $t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),t}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nj=Ln(Mc),Iu=$t({},Mc,{view:0,detail:0}),XL=Ln(Iu),ig,og,dd,ip=$t({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dd&&(dd&&e.type==="mousemove"?(ig=e.screenX-dd.screenX,og=e.screenY-dd.screenY):og=ig=0,dd=e),ig)},movementY:function(e){return"movementY"in e?e.movementY:og}}),GN=Ln(ip),JL=$t({},ip,{dataTransfer:0}),QL=Ln(JL),ZL=$t({},Iu,{relatedTarget:0}),lg=Ln(ZL),e3=$t({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),t3=Ln(e3),r3=$t({},Mc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n3=Ln(r3),s3=$t({},Mc,{data:0}),XN=Ln(s3),a3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o3[e])?!!t[e]:!1}function sj(){return l3}var c3=$t({},Iu,{key:function(e){if(e.key){var t=a3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sj,charCode:function(e){return e.type==="keypress"?gf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d3=Ln(c3),u3=$t({},ip,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JN=Ln(u3),h3=$t({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sj}),f3=Ln(h3),m3=$t({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),p3=Ln(m3),x3=$t({},ip,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g3=Ln(x3),v3=[9,13,27,32],aj=Oa&&"CompositionEvent"in window,Ld=null;Oa&&"documentMode"in document&&(Ld=document.documentMode);var y3=Oa&&"TextEvent"in window&&!Ld,Z_=Oa&&(!aj||Ld&&8<Ld&&11>=Ld),QN=String.fromCharCode(32),ZN=!1;function e2(e,t){switch(e){case"keyup":return v3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rl=!1;function j3(e,t){switch(e){case"compositionend":return t2(t);case"keypress":return t.which!==32?null:(ZN=!0,QN);case"textInput":return e=t.data,e===QN&&ZN?null:e;default:return null}}function w3(e,t){if(Rl)return e==="compositionend"||!aj&&e2(e,t)?(e=Q_(),xf=rj=gi=null,Rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z_&&t.locale!=="ko"?null:t.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b3[e.type]:t==="textarea"}function r2(e,t,r,n){D_(n),t=zf(t,"onChange"),0<t.length&&(r=new nj("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fd=null,nu=null;function N3(e){f2(e,0)}function op(e){var t=Fl(e);if(C_(t))return e}function S3(e,t){if(e==="change")return t}var n2=!1;if(Oa){var cg;if(Oa){var dg="oninput"in document;if(!dg){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),dg=typeof t1.oninput=="function"}cg=dg}else cg=!1;n2=cg&&(!document.documentMode||9<document.documentMode)}function r1(){Fd&&(Fd.detachEvent("onpropertychange",s2),nu=Fd=null)}function s2(e){if(e.propertyName==="value"&&op(nu)){var t=[];r2(t,nu,e,J0(e)),$_(N3,t)}}function k3(e,t,r){e==="focusin"?(r1(),Fd=t,nu=r,Fd.attachEvent("onpropertychange",s2)):e==="focusout"&&r1()}function C3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return op(nu)}function P3(e,t){if(e==="click")return op(t)}function _3(e,t){if(e==="input"||e==="change")return op(t)}function E3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cs=typeof Object.is=="function"?Object.is:E3;function su(e,t){if(Cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Cv.call(t,a)||!Cs(e[a],t[a]))return!1}return!0}function n1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s1(e,t){var r=n1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n1(r)}}function a2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i2(){for(var e=window,t=Mf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mf(e.document)}return t}function ij(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function A3(e){var t=i2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&a2(r.ownerDocument.documentElement,r)){if(n!==null&&ij(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=s1(r,i);var o=s1(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O3=Oa&&"documentMode"in document&&11>=document.documentMode,$l=null,Hv=null,Bd=null,Vv=!1;function a1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vv||$l==null||$l!==Mf(n)||(n=$l,"selectionStart"in n&&ij(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bd&&su(Bd,n)||(Bd=n,n=zf(Hv,"onSelect"),0<n.length&&(t=new nj("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$l)))}function Ch(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ll={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},ug={},o2={};Oa&&(o2=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function lp(e){if(ug[e])return ug[e];if(!Ll[e])return e;var t=Ll[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in o2)return ug[e]=t[r];return e}var l2=lp("animationend"),c2=lp("animationiteration"),d2=lp("animationstart"),u2=lp("transitionend"),h2=new Map,i1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(e,t){h2.set(e,t),ol(t,[e])}for(var hg=0;hg<i1.length;hg++){var fg=i1[hg],T3=fg.toLowerCase(),D3=fg[0].toUpperCase()+fg.slice(1);Vi(T3,"on"+D3)}Vi(l2,"onAnimationEnd");Vi(c2,"onAnimationIteration");Vi(d2,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(u2,"onTransitionEnd");cc("onMouseEnter",["mouseout","mouseover"]);cc("onMouseLeave",["mouseout","mouseover"]);cc("onPointerEnter",["pointerout","pointerover"]);cc("onPointerLeave",["pointerout","pointerover"]);ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function o1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TL(n,t,void 0,e),e.currentTarget=null}function f2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;o1(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;o1(a,l,u),i=c}}}if(Rf)throw e=zv,Rf=!1,zv=null,e}function jt(e,t){var r=t[Jv];r===void 0&&(r=t[Jv]=new Set);var n=e+"__bubble";r.has(n)||(m2(t,e,2,!1),r.add(n))}function mg(e,t,r){var n=0;t&&(n|=4),m2(r,e,n,t)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function au(e){if(!e[Ph]){e[Ph]=!0,w_.forEach(function(r){r!=="selectionchange"&&(M3.has(r)||mg(r,!1,e),mg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ph]||(t[Ph]=!0,mg("selectionchange",!1,t))}}function m2(e,t,r,n){switch(J_(t)){case 1:var a=YL;break;case 4:a=GL;break;default:a=tj}r=a.bind(null,t,r,e),a=void 0,!Bv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function pg(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ko(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}$_(function(){var u=i,d=J0(r),h=[];e:{var f=h2.get(e);if(f!==void 0){var m=nj,j=e;switch(e){case"keypress":if(gf(r)===0)break e;case"keydown":case"keyup":m=d3;break;case"focusin":j="focus",m=lg;break;case"focusout":j="blur",m=lg;break;case"beforeblur":case"afterblur":m=lg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=GN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f3;break;case l2:case c2:case d2:m=t3;break;case u2:m=p3;break;case"scroll":m=XL;break;case"wheel":m=g3;break;case"copy":case"cut":case"paste":m=n3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JN}var g=(t&4)!==0,x=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=Zd(v,y),b!=null&&g.push(iu(v,b,w)))),x)break;v=v.return}0<g.length&&(f=new m(f,j,null,r,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Lv&&(j=r.relatedTarget||r.fromElement)&&(ko(j)||j[Ta]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(j=r.relatedTarget||r.toElement,m=u,j=j?ko(j):null,j!==null&&(x=ll(j),j!==x||j.tag!==5&&j.tag!==6)&&(j=null)):(m=null,j=u),m!==j)){if(g=GN,b="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=JN,b="onPointerLeave",y="onPointerEnter",v="pointer"),x=m==null?f:Fl(m),w=j==null?f:Fl(j),f=new g(b,v+"leave",m,r,d),f.target=x,f.relatedTarget=w,b=null,ko(d)===u&&(g=new g(y,v+"enter",j,r,d),g.target=w,g.relatedTarget=x,b=g),x=b,m&&j)t:{for(g=m,y=j,v=0,w=g;w;w=gl(w))v++;for(w=0,b=y;b;b=gl(b))w++;for(;0<v-w;)g=gl(g),v--;for(;0<w-v;)y=gl(y),w--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=gl(g),y=gl(y)}g=null}else g=null;m!==null&&l1(h,f,m,g,!1),j!==null&&x!==null&&l1(h,x,j,g,!0)}}e:{if(f=u?Fl(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=S3;else if(e1(f))if(n2)N=_3;else{N=C3;var k=k3}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=P3);if(N&&(N=N(e,u))){r2(h,N,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Dv(f,"number",f.value)}switch(k=u?Fl(u):window,e){case"focusin":(e1(k)||k.contentEditable==="true")&&($l=k,Hv=u,Bd=null);break;case"focusout":Bd=Hv=$l=null;break;case"mousedown":Vv=!0;break;case"contextmenu":case"mouseup":case"dragend":Vv=!1,a1(h,r,d);break;case"selectionchange":if(O3)break;case"keydown":case"keyup":a1(h,r,d)}var P;if(aj)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Rl?e2(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Z_&&r.locale!=="ko"&&(Rl||C!=="onCompositionStart"?C==="onCompositionEnd"&&Rl&&(P=Q_()):(gi=d,rj="value"in gi?gi.value:gi.textContent,Rl=!0)),k=zf(u,C),0<k.length&&(C=new XN(C,e,null,r,d),h.push({event:C,listeners:k}),P?C.data=P:(P=t2(r),P!==null&&(C.data=P)))),(P=y3?j3(e,r):w3(e,r))&&(u=zf(u,"onBeforeInput"),0<u.length&&(d=new XN("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=P))}f2(h,t)})}function iu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Zd(e,r),i!=null&&n.unshift(iu(e,i,a)),i=Zd(e,t),i!=null&&n.push(iu(e,i,a))),e=e.return}return n}function gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l1(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Zd(r,i),c!=null&&o.unshift(iu(r,c,l))):a||(c=Zd(r,i),c!=null&&o.push(iu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var I3=/\r\n?/g,R3=/\u0000|\uFFFD/g;function c1(e){return(typeof e=="string"?e:""+e).replace(I3,`
`).replace(R3,"")}function _h(e,t,r){if(t=c1(t),c1(e)!==t&&r)throw Error(oe(425))}function Wf(){}var qv=null,Yv=null;function Gv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xv=typeof setTimeout=="function"?setTimeout:void 0,$3=typeof clearTimeout=="function"?clearTimeout:void 0,d1=typeof Promise=="function"?Promise:void 0,L3=typeof queueMicrotask=="function"?queueMicrotask:typeof d1<"u"?function(e){return d1.resolve(null).then(e).catch(F3)}:Xv;function F3(e){setTimeout(function(){throw e})}function xg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ru(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ru(t)}function Ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),Bs="__reactFiber$"+Ic,ou="__reactProps$"+Ic,Ta="__reactContainer$"+Ic,Jv="__reactEvents$"+Ic,B3="__reactListeners$"+Ic,z3="__reactHandles$"+Ic;function ko(e){var t=e[Bs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ta]||r[Bs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=u1(e);e!==null;){if(r=e[Bs])return r;e=u1(e)}return t}e=r,r=e.parentNode}return null}function Ru(e){return e=e[Bs]||e[Ta],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function cp(e){return e[ou]||null}var Qv=[],Bl=-1;function qi(e){return{current:e}}function bt(e){0>Bl||(e.current=Qv[Bl],Qv[Bl]=null,Bl--)}function pt(e,t){Bl++,Qv[Bl]=e.current,e.current=t}var Ri={},zr=qi(Ri),un=qi(!1),zo=Ri;function dc(e,t){var r=e.type.contextTypes;if(!r)return Ri;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function hn(e){return e=e.childContextTypes,e!=null}function Uf(){bt(un),bt(zr)}function h1(e,t,r){if(zr.current!==Ri)throw Error(oe(168));pt(zr,t),pt(un,r)}function p2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(oe(108,kL(e)||"Unknown",a));return $t({},r,n)}function Kf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,zo=zr.current,pt(zr,e),pt(un,un.current),!0}function f1(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=p2(e,t,zo),n.__reactInternalMemoizedMergedChildContext=e,bt(un),bt(zr),pt(zr,e)):bt(un),pt(un,r)}var ma=null,dp=!1,gg=!1;function x2(e){ma===null?ma=[e]:ma.push(e)}function W3(e){dp=!0,x2(e)}function Yi(){if(!gg&&ma!==null){gg=!0;var e=0,t=st;try{var r=ma;for(st=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ma=null,dp=!1}catch(a){throw ma!==null&&(ma=ma.slice(e+1)),z_(Q0,Yi),a}finally{st=t,gg=!1}}return null}var zl=[],Wl=0,Hf=null,Vf=0,Kn=[],Hn=0,Wo=null,va=1,ya="";function po(e,t){zl[Wl++]=Vf,zl[Wl++]=Hf,Hf=e,Vf=t}function g2(e,t,r){Kn[Hn++]=va,Kn[Hn++]=ya,Kn[Hn++]=Wo,Wo=e;var n=va;e=ya;var a=32-Ns(n)-1;n&=~(1<<a),r+=1;var i=32-Ns(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,va=1<<32-Ns(t)+a|r<<a|n,ya=i+e}else va=1<<i|r<<a|n,ya=e}function oj(e){e.return!==null&&(po(e,1),g2(e,1,0))}function lj(e){for(;e===Hf;)Hf=zl[--Wl],zl[Wl]=null,Vf=zl[--Wl],zl[Wl]=null;for(;e===Wo;)Wo=Kn[--Hn],Kn[Hn]=null,ya=Kn[--Hn],Kn[Hn]=null,va=Kn[--Hn],Kn[Hn]=null}var An=null,_n=null,_t=!1,ys=null;function v2(e,t){var r=Yn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function m1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,An=e,_n=Ni(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,An=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wo!==null?{id:va,overflow:ya}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,An=e,_n=null,!0):!1;default:return!1}}function Zv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ey(e){if(_t){var t=_n;if(t){var r=t;if(!m1(e,t)){if(Zv(e))throw Error(oe(418));t=Ni(r.nextSibling);var n=An;t&&m1(e,t)?v2(n,r):(e.flags=e.flags&-4097|2,_t=!1,An=e)}}else{if(Zv(e))throw Error(oe(418));e.flags=e.flags&-4097|2,_t=!1,An=e}}}function p1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;An=e}function Eh(e){if(e!==An)return!1;if(!_t)return p1(e),_t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gv(e.type,e.memoizedProps)),t&&(t=_n)){if(Zv(e))throw y2(),Error(oe(418));for(;t;)v2(e,t),t=Ni(t.nextSibling)}if(p1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_n=Ni(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=An?Ni(e.stateNode.nextSibling):null;return!0}function y2(){for(var e=_n;e;)e=Ni(e.nextSibling)}function uc(){_n=An=null,_t=!1}function cj(e){ys===null?ys=[e]:ys.push(e)}var U3=Ua.ReactCurrentBatchConfig;function ud(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function Ah(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function x1(e){var t=e._init;return t(e._payload)}function j2(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=Pi(y,v),y.index=0,y.sibling=null,y}function i(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,b){return v===null||v.tag!==6?(v=Sg(w,y.mode,b),v.return=y,v):(v=a(v,w),v.return=y,v)}function c(y,v,w,b){var N=w.type;return N===Il?d(y,v,w.props.children,b,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ci&&x1(N)===v.type)?(b=a(v,w.props),b.ref=ud(y,v,w),b.return=y,b):(b=Sf(w.type,w.key,w.props,null,y.mode,b),b.ref=ud(y,v,w),b.return=y,b)}function u(y,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=kg(w,y.mode,b),v.return=y,v):(v=a(v,w.children||[]),v.return=y,v)}function d(y,v,w,b,N){return v===null||v.tag!==7?(v=Ro(w,y.mode,b,N),v.return=y,v):(v=a(v,w),v.return=y,v)}function h(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sg(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yh:return w=Sf(v.type,v.key,v.props,null,y.mode,w),w.ref=ud(y,null,v),w.return=y,w;case Ml:return v=kg(v,y.mode,w),v.return=y,v;case ci:var b=v._init;return h(y,b(v._payload),w)}if(Pd(v)||id(v))return v=Ro(v,y.mode,w,null),v.return=y,v;Ah(y,v)}return null}function f(y,v,w,b){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yh:return w.key===N?c(y,v,w,b):null;case Ml:return w.key===N?u(y,v,w,b):null;case ci:return N=w._init,f(y,v,N(w._payload),b)}if(Pd(w)||id(w))return N!==null?null:d(y,v,w,b,null);Ah(y,w)}return null}function m(y,v,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(v,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yh:return y=y.get(b.key===null?w:b.key)||null,c(v,y,b,N);case Ml:return y=y.get(b.key===null?w:b.key)||null,u(v,y,b,N);case ci:var k=b._init;return m(y,v,w,k(b._payload),N)}if(Pd(b)||id(b))return y=y.get(w)||null,d(v,y,b,N,null);Ah(v,b)}return null}function j(y,v,w,b){for(var N=null,k=null,P=v,C=v=0,A=null;P!==null&&C<w.length;C++){P.index>C?(A=P,P=null):A=P.sibling;var S=f(y,P,w[C],b);if(S===null){P===null&&(P=A);break}e&&P&&S.alternate===null&&t(y,P),v=i(S,v,C),k===null?N=S:k.sibling=S,k=S,P=A}if(C===w.length)return r(y,P),_t&&po(y,C),N;if(P===null){for(;C<w.length;C++)P=h(y,w[C],b),P!==null&&(v=i(P,v,C),k===null?N=P:k.sibling=P,k=P);return _t&&po(y,C),N}for(P=n(y,P);C<w.length;C++)A=m(P,y,C,w[C],b),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?C:A.key),v=i(A,v,C),k===null?N=A:k.sibling=A,k=A);return e&&P.forEach(function(I){return t(y,I)}),_t&&po(y,C),N}function g(y,v,w,b){var N=id(w);if(typeof N!="function")throw Error(oe(150));if(w=N.call(w),w==null)throw Error(oe(151));for(var k=N=null,P=v,C=v=0,A=null,S=w.next();P!==null&&!S.done;C++,S=w.next()){P.index>C?(A=P,P=null):A=P.sibling;var I=f(y,P,S.value,b);if(I===null){P===null&&(P=A);break}e&&P&&I.alternate===null&&t(y,P),v=i(I,v,C),k===null?N=I:k.sibling=I,k=I,P=A}if(S.done)return r(y,P),_t&&po(y,C),N;if(P===null){for(;!S.done;C++,S=w.next())S=h(y,S.value,b),S!==null&&(v=i(S,v,C),k===null?N=S:k.sibling=S,k=S);return _t&&po(y,C),N}for(P=n(y,P);!S.done;C++,S=w.next())S=m(P,y,C,S.value,b),S!==null&&(e&&S.alternate!==null&&P.delete(S.key===null?C:S.key),v=i(S,v,C),k===null?N=S:k.sibling=S,k=S);return e&&P.forEach(function(O){return t(y,O)}),_t&&po(y,C),N}function x(y,v,w,b){if(typeof w=="object"&&w!==null&&w.type===Il&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yh:e:{for(var N=w.key,k=v;k!==null;){if(k.key===N){if(N=w.type,N===Il){if(k.tag===7){r(y,k.sibling),v=a(k,w.props.children),v.return=y,y=v;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ci&&x1(N)===k.type){r(y,k.sibling),v=a(k,w.props),v.ref=ud(y,k,w),v.return=y,y=v;break e}r(y,k);break}else t(y,k);k=k.sibling}w.type===Il?(v=Ro(w.props.children,y.mode,b,w.key),v.return=y,y=v):(b=Sf(w.type,w.key,w.props,null,y.mode,b),b.ref=ud(y,v,w),b.return=y,y=b)}return o(y);case Ml:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(y,v.sibling),v=a(v,w.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=kg(w,y.mode,b),v.return=y,y=v}return o(y);case ci:return k=w._init,x(y,v,k(w._payload),b)}if(Pd(w))return j(y,v,w,b);if(id(w))return g(y,v,w,b);Ah(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,w),v.return=y,y=v):(r(y,v),v=Sg(w,y.mode,b),v.return=y,y=v),o(y)):r(y,v)}return x}var hc=j2(!0),w2=j2(!1),qf=qi(null),Yf=null,Ul=null,dj=null;function uj(){dj=Ul=Yf=null}function hj(e){var t=qf.current;bt(qf),e._currentValue=t}function ty(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ec(e,t){Yf=e,dj=Ul=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function es(e){var t=e._currentValue;if(dj!==e)if(e={context:e,memoizedValue:t,next:null},Ul===null){if(Yf===null)throw Error(oe(308));Ul=e,Yf.dependencies={lanes:0,firstContext:e}}else Ul=Ul.next=e;return t}var Co=null;function fj(e){Co===null?Co=[e]:Co.push(e)}function b2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,fj(t)):(r.next=a.next,a.next=r),t.interleaved=r,Da(e,n)}function Da(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var di=!1;function mj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Si(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Da(e,r)}return a=n.interleaved,a===null?(t.next=t,fj(n)):(t.next=a.next,a.next=t),n.interleaved=t,Da(e,r)}function vf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Z0(e,r)}}function g1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gf(e,t,r,n){var a=e.updateQueue;di=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,g=l;switch(f=t,m=r,g.tag){case 1:if(j=g.payload,typeof j=="function"){h=j.call(m,h,f);break e}h=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=g.payload,f=typeof j=="function"?j.call(m,h,f):j,f==null)break e;h=$t({},h,f);break e;case 2:di=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ko|=o,e.lanes=o,e.memoizedState=h}}function v1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(oe(191,a));a.call(n)}}}var $u={},qs=qi($u),lu=qi($u),cu=qi($u);function Po(e){if(e===$u)throw Error(oe(174));return e}function pj(e,t){switch(pt(cu,t),pt(lu,e),pt(qs,$u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iv(t,e)}bt(qs),pt(qs,t)}function fc(){bt(qs),bt(lu),bt(cu)}function S2(e){Po(cu.current);var t=Po(qs.current),r=Iv(t,e.type);t!==r&&(pt(lu,e),pt(qs,r))}function xj(e){lu.current===e&&(bt(qs),bt(lu))}var It=qi(0);function Xf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vg=[];function gj(){for(var e=0;e<vg.length;e++)vg[e]._workInProgressVersionPrimary=null;vg.length=0}var yf=Ua.ReactCurrentDispatcher,yg=Ua.ReactCurrentBatchConfig,Uo=0,Rt=null,ir=null,pr=null,Jf=!1,zd=!1,du=0,K3=0;function Mr(){throw Error(oe(321))}function vj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cs(e[r],t[r]))return!1;return!0}function yj(e,t,r,n,a,i){if(Uo=i,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yf.current=e===null||e.memoizedState===null?Y3:G3,e=r(n,a),zd){i=0;do{if(zd=!1,du=0,25<=i)throw Error(oe(301));i+=1,pr=ir=null,t.updateQueue=null,yf.current=X3,e=r(n,a)}while(zd)}if(yf.current=Qf,t=ir!==null&&ir.next!==null,Uo=0,pr=ir=Rt=null,Jf=!1,t)throw Error(oe(300));return e}function jj(){var e=du!==0;return du=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Rt.memoizedState=pr=e:pr=pr.next=e,pr}function ts(){if(ir===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ir.next;var t=pr===null?Rt.memoizedState:pr.next;if(t!==null)pr=t,ir=e;else{if(e===null)throw Error(oe(310));ir=e,e={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},pr===null?Rt.memoizedState=pr=e:pr=pr.next=e}return pr}function uu(e,t){return typeof t=="function"?t(e):t}function jg(e){var t=ts(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=ir,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Uo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Rt.lanes|=d,Ko|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Cs(n,t.memoizedState)||(ln=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Rt.lanes|=i,Ko|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wg(e){var t=ts(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Cs(i,t.memoizedState)||(ln=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function k2(){}function C2(e,t){var r=Rt,n=ts(),a=t(),i=!Cs(n.memoizedState,a);if(i&&(n.memoizedState=a,ln=!0),n=n.queue,wj(E2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||pr!==null&&pr.memoizedState.tag&1){if(r.flags|=2048,hu(9,_2.bind(null,r,n,a,t),void 0,null),yr===null)throw Error(oe(349));Uo&30||P2(r,t,a)}return a}function P2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _2(e,t,r,n){t.value=r,t.getSnapshot=n,A2(t)&&O2(e)}function E2(e,t,r){return r(function(){A2(t)&&O2(e)})}function A2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cs(e,r)}catch{return!0}}function O2(e){var t=Da(e,1);t!==null&&Ss(t,e,1,-1)}function y1(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:e},t.queue=e,e=e.dispatch=q3.bind(null,Rt,e),[t.memoizedState,e]}function hu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function T2(){return ts().memoizedState}function jf(e,t,r,n){var a=Rs();Rt.flags|=e,a.memoizedState=hu(1|t,r,void 0,n===void 0?null:n)}function up(e,t,r,n){var a=ts();n=n===void 0?null:n;var i=void 0;if(ir!==null){var o=ir.memoizedState;if(i=o.destroy,n!==null&&vj(n,o.deps)){a.memoizedState=hu(t,r,i,n);return}}Rt.flags|=e,a.memoizedState=hu(1|t,r,i,n)}function j1(e,t){return jf(8390656,8,e,t)}function wj(e,t){return up(2048,8,e,t)}function D2(e,t){return up(4,2,e,t)}function M2(e,t){return up(4,4,e,t)}function I2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R2(e,t,r){return r=r!=null?r.concat([e]):null,up(4,4,I2.bind(null,t,e),r)}function bj(){}function $2(e,t){var r=ts();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function L2(e,t){var r=ts();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function F2(e,t,r){return Uo&21?(Cs(r,t)||(r=K_(),Rt.lanes|=r,Ko|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=r)}function H3(e,t){var r=st;st=r!==0&&4>r?r:4,e(!0);var n=yg.transition;yg.transition={};try{e(!1),t()}finally{st=r,yg.transition=n}}function B2(){return ts().memoizedState}function V3(e,t,r){var n=Ci(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},z2(e))W2(t,r);else if(r=b2(e,t,r,n),r!==null){var a=Gr();Ss(r,e,n,a),U2(r,t,n)}}function q3(e,t,r){var n=Ci(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(z2(e))W2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Cs(l,o)){var c=t.interleaved;c===null?(a.next=a,fj(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=b2(e,t,a,n),r!==null&&(a=Gr(),Ss(r,e,n,a),U2(r,t,n))}}function z2(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function W2(e,t){zd=Jf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function U2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Z0(e,r)}}var Qf={readContext:es,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},Y3={readContext:es,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:es,useEffect:j1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jf(4194308,4,I2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jf(4194308,4,e,t)},useInsertionEffect:function(e,t){return jf(4,2,e,t)},useMemo:function(e,t){var r=Rs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=V3.bind(null,Rt,e),[n.memoizedState,e]},useRef:function(e){var t=Rs();return e={current:e},t.memoizedState=e},useState:y1,useDebugValue:bj,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=y1(!1),t=e[0];return e=H3.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Rt,a=Rs();if(_t){if(r===void 0)throw Error(oe(407));r=r()}else{if(r=t(),yr===null)throw Error(oe(349));Uo&30||P2(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,j1(E2.bind(null,n,i,e),[e]),n.flags|=2048,hu(9,_2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Rs(),t=yr.identifierPrefix;if(_t){var r=ya,n=va;r=(n&~(1<<32-Ns(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=du++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=K3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},G3={readContext:es,useCallback:$2,useContext:es,useEffect:wj,useImperativeHandle:R2,useInsertionEffect:D2,useLayoutEffect:M2,useMemo:L2,useReducer:jg,useRef:T2,useState:function(){return jg(uu)},useDebugValue:bj,useDeferredValue:function(e){var t=ts();return F2(t,ir.memoizedState,e)},useTransition:function(){var e=jg(uu)[0],t=ts().memoizedState;return[e,t]},useMutableSource:k2,useSyncExternalStore:C2,useId:B2,unstable_isNewReconciler:!1},X3={readContext:es,useCallback:$2,useContext:es,useEffect:wj,useImperativeHandle:R2,useInsertionEffect:D2,useLayoutEffect:M2,useMemo:L2,useReducer:wg,useRef:T2,useState:function(){return wg(uu)},useDebugValue:bj,useDeferredValue:function(e){var t=ts();return ir===null?t.memoizedState=e:F2(t,ir.memoizedState,e)},useTransition:function(){var e=wg(uu)[0],t=ts().memoizedState;return[e,t]},useMutableSource:k2,useSyncExternalStore:C2,useId:B2,unstable_isNewReconciler:!1};function xs(e,t){if(e&&e.defaultProps){t=$t({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ry(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:$t({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hp={isMounted:function(e){return(e=e._reactInternals)?ll(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Gr(),a=Ci(e),i=Ca(n,a);i.payload=t,r!=null&&(i.callback=r),t=Si(e,i,a),t!==null&&(Ss(t,e,a,n),vf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Gr(),a=Ci(e),i=Ca(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Si(e,i,a),t!==null&&(Ss(t,e,a,n),vf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gr(),n=Ci(e),a=Ca(r,n);a.tag=2,t!=null&&(a.callback=t),t=Si(e,a,n),t!==null&&(Ss(t,e,n,r),vf(t,e,n))}};function w1(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!su(r,n)||!su(a,i):!0}function K2(e,t,r){var n=!1,a=Ri,i=t.contextType;return typeof i=="object"&&i!==null?i=es(i):(a=hn(t)?zo:zr.current,n=t.contextTypes,i=(n=n!=null)?dc(e,a):Ri),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function b1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hp.enqueueReplaceState(t,t.state,null)}function ny(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},mj(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=es(i):(i=hn(t)?zo:zr.current,a.context=dc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ry(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&hp.enqueueReplaceState(a,a.state,null),Gf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function mc(e,t){try{var r="",n=t;do r+=SL(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function bg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var J3=typeof WeakMap=="function"?WeakMap:Map;function H2(e,t,r){r=Ca(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){em||(em=!0,my=n),sy(e,t)},r}function V2(e,t,r){r=Ca(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){sy(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){sy(e,t),typeof n!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function N1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new J3;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=uF.bind(null,e,t,r),t.then(e,e))}function S1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function k1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ca(-1,1),t.tag=2,Si(r,t,1))),r.lanes|=1),e)}var Q3=Ua.ReactCurrentOwner,ln=!1;function Hr(e,t,r,n){t.child=e===null?w2(t,null,r,n):hc(t,e.child,r,n)}function C1(e,t,r,n,a){r=r.render;var i=t.ref;return ec(t,a),n=yj(e,t,r,n,i,a),r=jj(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ma(e,t,a)):(_t&&r&&oj(t),t.flags|=1,Hr(e,t,n,a),t.child)}function P1(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Aj(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,q2(e,t,i,n,a)):(e=Sf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:su,r(o,n)&&e.ref===t.ref)return Ma(e,t,a)}return t.flags|=1,e=Pi(i,n),e.ref=t.ref,e.return=t,t.child=e}function q2(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(su(i,n)&&e.ref===t.ref)if(ln=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,Ma(e,t,a)}return ay(e,t,r,n,a)}function Y2(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Hl,bn),bn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(Hl,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pt(Hl,bn),bn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pt(Hl,bn),bn|=n;return Hr(e,t,a,r),t.child}function G2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ay(e,t,r,n,a){var i=hn(r)?zo:zr.current;return i=dc(t,i),ec(t,a),r=yj(e,t,r,n,i,a),n=jj(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ma(e,t,a)):(_t&&n&&oj(t),t.flags|=1,Hr(e,t,r,a),t.child)}function _1(e,t,r,n,a){if(hn(r)){var i=!0;Kf(t)}else i=!1;if(ec(t,a),t.stateNode===null)wf(e,t),K2(t,r,n),ny(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=es(u):(u=hn(r)?zo:zr.current,u=dc(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&b1(t,o,n,u),di=!1;var f=t.memoizedState;o.state=f,Gf(t,n,o,a),c=t.memoizedState,l!==n||f!==c||un.current||di?(typeof d=="function"&&(ry(t,r,d,n),c=t.memoizedState),(l=di||w1(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,N2(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:xs(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=es(c):(c=hn(r)?zo:zr.current,c=dc(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&b1(t,o,n,c),di=!1,f=t.memoizedState,o.state=f,Gf(t,n,o,a);var j=t.memoizedState;l!==h||f!==j||un.current||di?(typeof m=="function"&&(ry(t,r,m,n),j=t.memoizedState),(u=di||w1(t,r,u,n,f,j,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=j),o.props=n,o.state=j,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return iy(e,t,r,n,i,a)}function iy(e,t,r,n,a,i){G2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&f1(t,r,!1),Ma(e,t,i);n=t.stateNode,Q3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=hc(t,e.child,null,i),t.child=hc(t,null,l,i)):Hr(e,t,l,i),t.memoizedState=n.state,a&&f1(t,r,!0),t.child}function X2(e){var t=e.stateNode;t.pendingContext?h1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&h1(e,t.context,!1),pj(e,t.containerInfo)}function E1(e,t,r,n,a){return uc(),cj(a),t.flags|=256,Hr(e,t,r,n),t.child}var oy={dehydrated:null,treeContext:null,retryLane:0};function ly(e){return{baseLanes:e,cachePool:null,transitions:null}}function J2(e,t,r){var n=t.pendingProps,a=It.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),pt(It,a&1),e===null)return ey(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pp(o,n,0,null),e=Ro(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ly(r),t.memoizedState=oy,e):Nj(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Z3(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Pi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Pi(l,i):(i=Ro(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ly(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=oy,n}return i=e.child,e=i.sibling,n=Pi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nj(e,t){return t=pp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oh(e,t,r,n){return n!==null&&cj(n),hc(t,e.child,null,r),e=Nj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z3(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=bg(Error(oe(422))),Oh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=pp({mode:"visible",children:n.children},a,0,null),i=Ro(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hc(t,e.child,null,o),t.child.memoizedState=ly(o),t.memoizedState=oy,i);if(!(t.mode&1))return Oh(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(oe(419)),n=bg(i,n,void 0),Oh(e,t,o,n)}if(l=(o&e.childLanes)!==0,ln||l){if(n=yr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Da(e,a),Ss(n,e,a,-1))}return Ej(),n=bg(Error(oe(421))),Oh(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=hF.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,_n=Ni(a.nextSibling),An=t,_t=!0,ys=null,e!==null&&(Kn[Hn++]=va,Kn[Hn++]=ya,Kn[Hn++]=Wo,va=e.id,ya=e.overflow,Wo=t),t=Nj(t,n.children),t.flags|=4096,t)}function A1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ty(e.return,t,r)}function Ng(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Q2(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Hr(e,t,n.children,r),n=It.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&A1(e,r,t);else if(e.tag===19)A1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pt(It,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Xf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ng(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ng(t,!0,r,null,i);break;case"together":Ng(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ma(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ko|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=Pi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Pi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function eF(e,t,r){switch(t.tag){case 3:X2(t),uc();break;case 5:S2(t);break;case 1:hn(t.type)&&Kf(t);break;case 4:pj(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;pt(qf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pt(It,It.current&1),t.flags|=128,null):r&t.child.childLanes?J2(e,t,r):(pt(It,It.current&1),e=Ma(e,t,r),e!==null?e.sibling:null);pt(It,It.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Q2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),pt(It,It.current),n)break;return null;case 22:case 23:return t.lanes=0,Y2(e,t,r)}return Ma(e,t,r)}var Z2,cy,eE,tE;Z2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cy=function(){};eE=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Po(qs.current);var i=null;switch(r){case"input":a=Ov(e,a),n=Ov(e,n),i=[];break;case"select":a=$t({},a,{value:void 0}),n=$t({},n,{value:void 0}),i=[];break;case"textarea":a=Mv(e,a),n=Mv(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wf)}Rv(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a?.[u],n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};tE=function(e,t,r,n){r!==n&&(t.flags|=4)};function hd(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ir(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tF(e,t,r){var n=t.pendingProps;switch(lj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(t),null;case 1:return hn(t.type)&&Uf(),Ir(t),null;case 3:return n=t.stateNode,fc(),bt(un),bt(zr),gj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Eh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ys!==null&&(gy(ys),ys=null))),cy(e,t),Ir(t),null;case 5:xj(t);var a=Po(cu.current);if(r=t.type,e!==null&&t.stateNode!=null)eE(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return Ir(t),null}if(e=Po(qs.current),Eh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Bs]=t,n[ou]=i,e=(t.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<Ed.length;a++)jt(Ed[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":FN(n,i),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},jt("invalid",n);break;case"textarea":zN(n,i),jt("invalid",n)}Rv(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&_h(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&_h(n.textContent,l,e),a=["children",""+l]):Jd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&jt("scroll",n)}switch(r){case"input":jh(n),BN(n,i,!0);break;case"textarea":jh(n),WN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Bs]=t,e[ou]=n,Z2(e,t,!1,!1),t.stateNode=e;e:{switch(o=$v(r,n),r){case"dialog":jt("cancel",e),jt("close",e),a=n;break;case"iframe":case"object":case"embed":jt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ed.length;a++)jt(Ed[a],e);a=n;break;case"source":jt("error",e),a=n;break;case"img":case"image":case"link":jt("error",e),jt("load",e),a=n;break;case"details":jt("toggle",e),a=n;break;case"input":FN(e,n),a=Ov(e,n),jt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=$t({},n,{value:void 0}),jt("invalid",e);break;case"textarea":zN(e,n),a=Mv(e,n),jt("invalid",e);break;default:a=n}Rv(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?T_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&A_(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qd(e,c):typeof c=="number"&&Qd(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&jt("scroll",e):c!=null&&q0(e,i,c,o))}switch(r){case"input":jh(e),BN(e,n,!1);break;case"textarea":jh(e),WN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ii(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Xl(e,!!n.multiple,i,!1):n.defaultValue!=null&&Xl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ir(t),null;case 6:if(e&&t.stateNode!=null)tE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));if(r=Po(cu.current),Po(qs.current),Eh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Bs]=t,(i=n.nodeValue!==r)&&(e=An,e!==null))switch(e.tag){case 3:_h(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_h(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bs]=t,t.stateNode=n}return Ir(t),null;case 13:if(bt(It),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_t&&_n!==null&&t.mode&1&&!(t.flags&128))y2(),uc(),t.flags|=98560,i=!1;else if(i=Eh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[Bs]=t}else uc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ir(t),i=!1}else ys!==null&&(gy(ys),ys=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||It.current&1?lr===0&&(lr=3):Ej())),t.updateQueue!==null&&(t.flags|=4),Ir(t),null);case 4:return fc(),cy(e,t),e===null&&au(t.stateNode.containerInfo),Ir(t),null;case 10:return hj(t.type._context),Ir(t),null;case 17:return hn(t.type)&&Uf(),Ir(t),null;case 19:if(bt(It),i=t.memoizedState,i===null)return Ir(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)hd(i,!1);else{if(lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xf(e),o!==null){for(t.flags|=128,hd(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pt(It,It.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ht()>pc&&(t.flags|=128,n=!0,hd(i,!1),t.lanes=4194304)}else{if(!n)if(e=Xf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),hd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!_t)return Ir(t),null}else 2*Ht()-i.renderingStartTime>pc&&r!==1073741824&&(t.flags|=128,n=!0,hd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ht(),t.sibling=null,r=It.current,pt(It,n?r&1|2:r&1),t):(Ir(t),null);case 22:case 23:return _j(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?bn&1073741824&&(Ir(t),t.subtreeFlags&6&&(t.flags|=8192)):Ir(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function rF(e,t){switch(lj(t),t.tag){case 1:return hn(t.type)&&Uf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fc(),bt(un),bt(zr),gj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xj(t),null;case 13:if(bt(It),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));uc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(It),null;case 4:return fc(),null;case 10:return hj(t.type._context),null;case 22:case 23:return _j(),null;case 24:return null;default:return null}}var Th=!1,Lr=!1,nF=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Kl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Bt(e,t,n)}else r.current=null}function dy(e,t,r){try{r()}catch(n){Bt(e,t,n)}}var O1=!1;function sF(e,t){if(qv=Ff,e=i2(),ij(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===i&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yv={focusedElem:e,selectionRange:r},Ff=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var g=j.memoizedProps,x=j.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:xs(t.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(b){Bt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return j=O1,O1=!1,j}function Wd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&dy(t,r,i)}a=a.next}while(a!==n)}}function fp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uy(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rE(e){var t=e.alternate;t!==null&&(e.alternate=null,rE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bs],delete t[ou],delete t[Jv],delete t[B3],delete t[z3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nE(e){return e.tag===5||e.tag===3||e.tag===4}function T1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wf));else if(n!==4&&(e=e.child,e!==null))for(hy(e,t,r),e=e.sibling;e!==null;)hy(e,t,r),e=e.sibling}function fy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fy(e,t,r),e=e.sibling;e!==null;)fy(e,t,r),e=e.sibling}var Sr=null,gs=!1;function ni(e,t,r){for(r=r.child;r!==null;)sE(e,t,r),r=r.sibling}function sE(e,t,r){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(ap,r)}catch{}switch(r.tag){case 5:Lr||Kl(r,t);case 6:var n=Sr,a=gs;Sr=null,ni(e,t,r),Sr=n,gs=a,Sr!==null&&(gs?(e=Sr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Sr.removeChild(r.stateNode));break;case 18:Sr!==null&&(gs?(e=Sr,r=r.stateNode,e.nodeType===8?xg(e.parentNode,r):e.nodeType===1&&xg(e,r),ru(e)):xg(Sr,r.stateNode));break;case 4:n=Sr,a=gs,Sr=r.stateNode.containerInfo,gs=!0,ni(e,t,r),Sr=n,gs=a;break;case 0:case 11:case 14:case 15:if(!Lr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dy(r,t,o),a=a.next}while(a!==n)}ni(e,t,r);break;case 1:if(!Lr&&(Kl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Bt(r,t,l)}ni(e,t,r);break;case 21:ni(e,t,r);break;case 22:r.mode&1?(Lr=(n=Lr)||r.memoizedState!==null,ni(e,t,r),Lr=n):ni(e,t,r);break;default:ni(e,t,r)}}function D1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nF),t.forEach(function(n){var a=fF.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function hs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Sr=l.stateNode,gs=!1;break e;case 3:Sr=l.stateNode.containerInfo,gs=!0;break e;case 4:Sr=l.stateNode.containerInfo,gs=!0;break e}l=l.return}if(Sr===null)throw Error(oe(160));sE(i,o,a),Sr=null,gs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Bt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aE(t,e),t=t.sibling}function aE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),Is(e),n&4){try{Wd(3,e,e.return),fp(3,e)}catch(g){Bt(e,e.return,g)}try{Wd(5,e,e.return)}catch(g){Bt(e,e.return,g)}}break;case 1:hs(t,e),Is(e),n&512&&r!==null&&Kl(r,r.return);break;case 5:if(hs(t,e),Is(e),n&512&&r!==null&&Kl(r,r.return),e.flags&32){var a=e.stateNode;try{Qd(a,"")}catch(g){Bt(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&P_(a,i),$v(l,o);var u=$v(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?T_(a,h):d==="dangerouslySetInnerHTML"?A_(a,h):d==="children"?Qd(a,h):q0(a,d,h,u)}switch(l){case"input":Tv(a,i);break;case"textarea":__(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Xl(a,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xl(a,!!i.multiple,i.defaultValue,!0):Xl(a,!!i.multiple,i.multiple?[]:"",!1))}a[ou]=i}catch(g){Bt(e,e.return,g)}}break;case 6:if(hs(t,e),Is(e),n&4){if(e.stateNode===null)throw Error(oe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Bt(e,e.return,g)}}break;case 3:if(hs(t,e),Is(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ru(t.containerInfo)}catch(g){Bt(e,e.return,g)}break;case 4:hs(t,e),Is(e);break;case 13:hs(t,e),Is(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Cj=Ht())),n&4&&D1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Lr=(u=Lr)||d,hs(t,e),Lr=u):hs(t,e),Is(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(xe=e,d=e.child;d!==null;){for(h=xe=d;xe!==null;){switch(f=xe,m=f.child,f.tag){case 0:case 11:case 14:case 15:Wd(4,f,f.return);break;case 1:Kl(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(g){Bt(n,r,g)}}break;case 5:Kl(f,f.return);break;case 22:if(f.memoizedState!==null){I1(h);continue}}m!==null?(m.return=f,xe=m):I1(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=O_("display",o))}catch(g){Bt(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Bt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hs(t,e),Is(e),n&4&&D1(e);break;case 21:break;default:hs(t,e),Is(e)}}function Is(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(nE(r)){var n=r;break e}r=r.return}throw Error(oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Qd(a,""),n.flags&=-33);var i=T1(e);fy(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=T1(e);hy(e,l,o);break;default:throw Error(oe(161))}}catch(c){Bt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aF(e,t,r){xe=e,iE(e)}function iE(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Th;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Lr;l=Th;var u=Lr;if(Th=o,(Lr=c)&&!u)for(xe=a;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?R1(a):c!==null?(c.return=o,xe=c):R1(a);for(;i!==null;)xe=i,iE(i),i=i.sibling;xe=a,Th=l,Lr=u}M1(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,xe=i):M1(e)}}function M1(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lr||fp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Lr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:xs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&v1(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}v1(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ru(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Lr||t.flags&512&&uy(t)}catch(f){Bt(t,t.return,f)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function I1(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function R1(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fp(4,t)}catch(c){Bt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Bt(t,a,c)}}var i=t.return;try{uy(t)}catch(c){Bt(t,i,c)}break;case 5:var o=t.return;try{uy(t)}catch(c){Bt(t,o,c)}}}catch(c){Bt(t,t.return,c)}if(t===e){xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,xe=l;break}xe=t.return}}var iF=Math.ceil,Zf=Ua.ReactCurrentDispatcher,Sj=Ua.ReactCurrentOwner,Jn=Ua.ReactCurrentBatchConfig,Je=0,yr=null,Zt=null,Er=0,bn=0,Hl=qi(0),lr=0,fu=null,Ko=0,mp=0,kj=0,Ud=null,sn=null,Cj=0,pc=1/0,ua=null,em=!1,my=null,ki=null,Dh=!1,vi=null,tm=0,Kd=0,py=null,bf=-1,Nf=0;function Gr(){return Je&6?Ht():bf!==-1?bf:bf=Ht()}function Ci(e){return e.mode&1?Je&2&&Er!==0?Er&-Er:U3.transition!==null?(Nf===0&&(Nf=K_()),Nf):(e=st,e!==0||(e=window.event,e=e===void 0?16:J_(e.type)),e):1}function Ss(e,t,r,n){if(50<Kd)throw Kd=0,py=null,Error(oe(185));Mu(e,r,n),(!(Je&2)||e!==yr)&&(e===yr&&(!(Je&2)&&(mp|=r),lr===4&&mi(e,Er)),fn(e,n),r===1&&Je===0&&!(t.mode&1)&&(pc=Ht()+500,dp&&Yi()))}function fn(e,t){var r=e.callbackNode;UL(e,t);var n=Lf(e,e===yr?Er:0);if(n===0)r!==null&&HN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&HN(r),t===1)e.tag===0?W3($1.bind(null,e)):x2($1.bind(null,e)),L3(function(){!(Je&6)&&Yi()}),r=null;else{switch(H_(n)){case 1:r=Q0;break;case 4:r=W_;break;case 16:r=$f;break;case 536870912:r=U_;break;default:r=$f}r=mE(r,oE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oE(e,t){if(bf=-1,Nf=0,Je&6)throw Error(oe(327));var r=e.callbackNode;if(tc()&&e.callbackNode!==r)return null;var n=Lf(e,e===yr?Er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rm(e,n);else{t=n;var a=Je;Je|=2;var i=cE();(yr!==e||Er!==t)&&(ua=null,pc=Ht()+500,Io(e,t));do try{cF();break}catch(l){lE(e,l)}while(1);uj(),Zf.current=i,Je=a,Zt!==null?t=0:(yr=null,Er=0,t=lr)}if(t!==0){if(t===2&&(a=Wv(e),a!==0&&(n=a,t=xy(e,a))),t===1)throw r=fu,Io(e,0),mi(e,n),fn(e,Ht()),r;if(t===6)mi(e,n);else{if(a=e.current.alternate,!(n&30)&&!oF(a)&&(t=rm(e,n),t===2&&(i=Wv(e),i!==0&&(n=i,t=xy(e,i))),t===1))throw r=fu,Io(e,0),mi(e,n),fn(e,Ht()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(oe(345));case 2:xo(e,sn,ua);break;case 3:if(mi(e,n),(n&130023424)===n&&(t=Cj+500-Ht(),10<t)){if(Lf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Gr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Xv(xo.bind(null,e,sn,ua),t);break}xo(e,sn,ua);break;case 4:if(mi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ns(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*iF(n/1960))-n,10<n){e.timeoutHandle=Xv(xo.bind(null,e,sn,ua),n);break}xo(e,sn,ua);break;case 5:xo(e,sn,ua);break;default:throw Error(oe(329))}}}return fn(e,Ht()),e.callbackNode===r?oE.bind(null,e):null}function xy(e,t){var r=Ud;return e.current.memoizedState.isDehydrated&&(Io(e,t).flags|=256),e=rm(e,t),e!==2&&(t=sn,sn=r,t!==null&&gy(t)),e}function gy(e){sn===null?sn=e:sn.push.apply(sn,e)}function oF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Cs(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mi(e,t){for(t&=~kj,t&=~mp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ns(t),n=1<<r;e[r]=-1,t&=~n}}function $1(e){if(Je&6)throw Error(oe(327));tc();var t=Lf(e,0);if(!(t&1))return fn(e,Ht()),null;var r=rm(e,t);if(e.tag!==0&&r===2){var n=Wv(e);n!==0&&(t=n,r=xy(e,n))}if(r===1)throw r=fu,Io(e,0),mi(e,t),fn(e,Ht()),r;if(r===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xo(e,sn,ua),fn(e,Ht()),null}function Pj(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(pc=Ht()+500,dp&&Yi())}}function Ho(e){vi!==null&&vi.tag===0&&!(Je&6)&&tc();var t=Je;Je|=1;var r=Jn.transition,n=st;try{if(Jn.transition=null,st=1,e)return e()}finally{st=n,Jn.transition=r,Je=t,!(Je&6)&&Yi()}}function _j(){bn=Hl.current,bt(Hl)}function Io(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$3(r)),Zt!==null)for(r=Zt.return;r!==null;){var n=r;switch(lj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Uf();break;case 3:fc(),bt(un),bt(zr),gj();break;case 5:xj(n);break;case 4:fc();break;case 13:bt(It);break;case 19:bt(It);break;case 10:hj(n.type._context);break;case 22:case 23:_j()}r=r.return}if(yr=e,Zt=e=Pi(e.current,null),Er=bn=t,lr=0,fu=null,kj=mp=Ko=0,sn=Ud=null,Co!==null){for(t=0;t<Co.length;t++)if(r=Co[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Co=null}return e}function lE(e,t){do{var r=Zt;try{if(uj(),yf.current=Qf,Jf){for(var n=Rt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Jf=!1}if(Uo=0,pr=ir=Rt=null,zd=!1,du=0,Sj.current=null,r===null||r.return===null){lr=1,fu=t,Zt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=S1(o);if(m!==null){m.flags&=-257,k1(m,o,l,i,t),m.mode&1&&N1(i,u,t),t=m,c=u;var j=t.updateQueue;if(j===null){var g=new Set;g.add(c),t.updateQueue=g}else j.add(c);break e}else{if(!(t&1)){N1(i,u,t),Ej();break e}c=Error(oe(426))}}else if(_t&&l.mode&1){var x=S1(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),k1(x,o,l,i,t),cj(mc(c,l));break e}}i=c=mc(c,l),lr!==4&&(lr=2),Ud===null?Ud=[i]:Ud.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=H2(i,c,t);g1(i,y);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ki===null||!ki.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=V2(i,l,t);g1(i,b);break e}}i=i.return}while(i!==null)}uE(r)}catch(N){t=N,Zt===r&&r!==null&&(Zt=r=r.return);continue}break}while(1)}function cE(){var e=Zf.current;return Zf.current=Qf,e===null?Qf:e}function Ej(){(lr===0||lr===3||lr===2)&&(lr=4),yr===null||!(Ko&268435455)&&!(mp&268435455)||mi(yr,Er)}function rm(e,t){var r=Je;Je|=2;var n=cE();(yr!==e||Er!==t)&&(ua=null,Io(e,t));do try{lF();break}catch(a){lE(e,a)}while(1);if(uj(),Je=r,Zf.current=n,Zt!==null)throw Error(oe(261));return yr=null,Er=0,lr}function lF(){for(;Zt!==null;)dE(Zt)}function cF(){for(;Zt!==null&&!ML();)dE(Zt)}function dE(e){var t=fE(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?uE(e):Zt=t,Sj.current=null}function uE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rF(r,t),r!==null){r.flags&=32767,Zt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lr=6,Zt=null;return}}else if(r=tF(r,t,bn),r!==null){Zt=r;return}if(t=t.sibling,t!==null){Zt=t;return}Zt=t=e}while(t!==null);lr===0&&(lr=5)}function xo(e,t,r){var n=st,a=Jn.transition;try{Jn.transition=null,st=1,dF(e,t,r,n)}finally{Jn.transition=a,st=n}return null}function dF(e,t,r,n){do tc();while(vi!==null);if(Je&6)throw Error(oe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(KL(e,i),e===yr&&(Zt=yr=null,Er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dh||(Dh=!0,mE($f,function(){return tc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Jn.transition,Jn.transition=null;var o=st;st=1;var l=Je;Je|=4,Sj.current=null,sF(e,r),aE(r,e),A3(Yv),Ff=!!qv,Yv=qv=null,e.current=r,aF(r),IL(),Je=l,st=o,Jn.transition=i}else e.current=r;if(Dh&&(Dh=!1,vi=e,tm=a),i=e.pendingLanes,i===0&&(ki=null),LL(r.stateNode),fn(e,Ht()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(em)throw em=!1,e=my,my=null,e;return tm&1&&e.tag!==0&&tc(),i=e.pendingLanes,i&1?e===py?Kd++:(Kd=0,py=e):Kd=0,Yi(),null}function tc(){if(vi!==null){var e=H_(tm),t=Jn.transition,r=st;try{if(Jn.transition=null,st=16>e?16:e,vi===null)var n=!1;else{if(e=vi,vi=null,tm=0,Je&6)throw Error(oe(331));var a=Je;for(Je|=4,xe=e.current;xe!==null;){var i=xe,o=i.child;if(xe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xe=u;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:Wd(8,d,i)}var h=d.child;if(h!==null)h.return=d,xe=h;else for(;xe!==null;){d=xe;var f=d.sibling,m=d.return;if(rE(d),d===u){xe=null;break}if(f!==null){f.return=m,xe=f;break}xe=m}}}var j=i.alternate;if(j!==null){var g=j.child;if(g!==null){j.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}xe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,xe=o;else e:for(;xe!==null;){if(i=xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wd(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,xe=y;break e}xe=i.return}}var v=e.current;for(xe=v;xe!==null;){o=xe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,xe=w;else e:for(o=v;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fp(9,l)}}catch(N){Bt(l,l.return,N)}if(l===o){xe=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,xe=b;break e}xe=l.return}}if(Je=a,Yi(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(ap,e)}catch{}n=!0}return n}finally{st=r,Jn.transition=t}}return!1}function L1(e,t,r){t=mc(r,t),t=H2(e,t,1),e=Si(e,t,1),t=Gr(),e!==null&&(Mu(e,1,t),fn(e,t))}function Bt(e,t,r){if(e.tag===3)L1(e,e,r);else for(;t!==null;){if(t.tag===3){L1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ki===null||!ki.has(n))){e=mc(r,e),e=V2(t,e,1),t=Si(t,e,1),e=Gr(),t!==null&&(Mu(t,1,e),fn(t,e));break}}t=t.return}}function uF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Gr(),e.pingedLanes|=e.suspendedLanes&r,yr===e&&(Er&r)===r&&(lr===4||lr===3&&(Er&130023424)===Er&&500>Ht()-Cj?Io(e,0):kj|=r),fn(e,t)}function hE(e,t){t===0&&(e.mode&1?(t=Nh,Nh<<=1,!(Nh&130023424)&&(Nh=4194304)):t=1);var r=Gr();e=Da(e,t),e!==null&&(Mu(e,t,r),fn(e,r))}function hF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hE(e,r)}function fF(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(oe(314))}n!==null&&n.delete(t),hE(e,r)}var fE;fE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||un.current)ln=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ln=!1,eF(e,t,r);ln=!!(e.flags&131072)}else ln=!1,_t&&t.flags&1048576&&g2(t,Vf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wf(e,t),e=t.pendingProps;var a=dc(t,zr.current);ec(t,r),a=yj(null,t,n,e,a,r);var i=jj();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hn(n)?(i=!0,Kf(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,mj(t),a.updater=hp,t.stateNode=a,a._reactInternals=t,ny(t,n,e,r),t=iy(null,t,n,!0,i,r)):(t.tag=0,_t&&i&&oj(t),Hr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=pF(n),e=xs(n,e),a){case 0:t=ay(null,t,n,e,r);break e;case 1:t=_1(null,t,n,e,r);break e;case 11:t=C1(null,t,n,e,r);break e;case 14:t=P1(null,t,n,xs(n.type,e),r);break e}throw Error(oe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xs(n,a),ay(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xs(n,a),_1(e,t,n,a,r);case 3:e:{if(X2(t),e===null)throw Error(oe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,N2(e,t),Gf(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=mc(Error(oe(423)),t),t=E1(e,t,n,r,a);break e}else if(n!==a){a=mc(Error(oe(424)),t),t=E1(e,t,n,r,a);break e}else for(_n=Ni(t.stateNode.containerInfo.firstChild),An=t,_t=!0,ys=null,r=w2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(uc(),n===a){t=Ma(e,t,r);break e}Hr(e,t,n,r)}t=t.child}return t;case 5:return S2(t),e===null&&ey(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Gv(n,a)?o=null:i!==null&&Gv(n,i)&&(t.flags|=32),G2(e,t),Hr(e,t,o,r),t.child;case 6:return e===null&&ey(t),null;case 13:return J2(e,t,r);case 4:return pj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hc(t,null,n,r):Hr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xs(n,a),C1(e,t,n,a,r);case 7:return Hr(e,t,t.pendingProps,r),t.child;case 8:return Hr(e,t,t.pendingProps.children,r),t.child;case 12:return Hr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,pt(qf,n._currentValue),n._currentValue=o,i!==null)if(Cs(i.value,o)){if(i.children===a.children&&!un.current){t=Ma(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ca(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ty(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ty(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Hr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ec(t,r),a=es(a),n=n(a),t.flags|=1,Hr(e,t,n,r),t.child;case 14:return n=t.type,a=xs(n,t.pendingProps),a=xs(n.type,a),P1(e,t,n,a,r);case 15:return q2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:xs(n,a),wf(e,t),t.tag=1,hn(n)?(e=!0,Kf(t)):e=!1,ec(t,r),K2(t,n,a),ny(t,n,a,r),iy(null,t,n,!0,e,r);case 19:return Q2(e,t,r);case 22:return Y2(e,t,r)}throw Error(oe(156,t.tag))};function mE(e,t){return z_(e,t)}function mF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,t,r,n){return new mF(e,t,r,n)}function Aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pF(e){if(typeof e=="function")return Aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===G0)return 11;if(e===X0)return 14}return 2}function Pi(e,t){var r=e.alternate;return r===null?(r=Yn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sf(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Aj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Il:return Ro(r.children,a,i,t);case Y0:o=8,a|=8;break;case Pv:return e=Yn(12,r,t,a|2),e.elementType=Pv,e.lanes=i,e;case _v:return e=Yn(13,r,t,a),e.elementType=_v,e.lanes=i,e;case Ev:return e=Yn(19,r,t,a),e.elementType=Ev,e.lanes=i,e;case S_:return pp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b_:o=10;break e;case N_:o=9;break e;case G0:o=11;break e;case X0:o=14;break e;case ci:o=16,n=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Yn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ro(e,t,r,n){return e=Yn(7,e,n,t),e.lanes=r,e}function pp(e,t,r,n){return e=Yn(22,e,n,t),e.elementType=S_,e.lanes=r,e.stateNode={isHidden:!1},e}function Sg(e,t,r){return e=Yn(6,e,null,t),e.lanes=r,e}function kg(e,t,r){return t=Yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xF(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ag(0),this.expirationTimes=ag(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ag(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Oj(e,t,r,n,a,i,o,l,c){return e=new xF(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Yn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mj(i),e}function gF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ml,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function pE(e){if(!e)return Ri;e=e._reactInternals;e:{if(ll(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var r=e.type;if(hn(r))return p2(e,r,t)}return t}function xE(e,t,r,n,a,i,o,l,c){return e=Oj(r,n,!0,e,a,i,o,l,c),e.context=pE(null),r=e.current,n=Gr(),a=Ci(r),i=Ca(n,a),i.callback=t??null,Si(r,i,a),e.current.lanes=a,Mu(e,a,n),fn(e,n),e}function xp(e,t,r,n){var a=t.current,i=Gr(),o=Ci(a);return r=pE(r),t.context===null?t.context=r:t.pendingContext=r,t=Ca(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Si(a,t,o),e!==null&&(Ss(e,a,o,i),vf(e,a,o)),o}function nm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function F1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tj(e,t){F1(e,t),(e=e.alternate)&&F1(e,t)}function vF(){return null}var gE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dj(e){this._internalRoot=e}gp.prototype.render=Dj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));xp(e,t,null,null)};gp.prototype.unmount=Dj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ho(function(){xp(null,e,null,null)}),t[Ta]=null}};function gp(e){this._internalRoot=e}gp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fi.length&&t!==0&&t<fi[r].priority;r++);fi.splice(r,0,e),r===0&&X_(e)}};function Mj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B1(){}function yF(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=nm(o);i.call(u)}}var o=xE(t,n,e,0,null,!1,!1,"",B1);return e._reactRootContainer=o,e[Ta]=o.current,au(e.nodeType===8?e.parentNode:e),Ho(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=nm(c);l.call(u)}}var c=Oj(e,0,!1,null,null,!1,!1,"",B1);return e._reactRootContainer=c,e[Ta]=c.current,au(e.nodeType===8?e.parentNode:e),Ho(function(){xp(t,c,r,n)}),c}function yp(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=nm(o);l.call(c)}}xp(t,o,e,a)}else o=yF(r,t,e,a,n);return nm(o)}V_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_d(t.pendingLanes);r!==0&&(Z0(t,r|1),fn(t,Ht()),!(Je&6)&&(pc=Ht()+500,Yi()))}break;case 13:Ho(function(){var n=Da(e,1);if(n!==null){var a=Gr();Ss(n,e,1,a)}}),Tj(e,1)}};ej=function(e){if(e.tag===13){var t=Da(e,134217728);if(t!==null){var r=Gr();Ss(t,e,134217728,r)}Tj(e,134217728)}};q_=function(e){if(e.tag===13){var t=Ci(e),r=Da(e,t);if(r!==null){var n=Gr();Ss(r,e,t,n)}Tj(e,t)}};Y_=function(){return st};G_=function(e,t){var r=st;try{return st=e,t()}finally{st=r}};Fv=function(e,t,r){switch(t){case"input":if(Tv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=cp(n);if(!a)throw Error(oe(90));C_(n),Tv(n,a)}}}break;case"textarea":__(e,r);break;case"select":t=r.value,t!=null&&Xl(e,!!r.multiple,t,!1)}};I_=Pj;R_=Ho;var jF={usingClientEntryPoint:!1,Events:[Ru,Fl,cp,D_,M_,Pj]},fd={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wF={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F_(e),e===null?null:e.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||vF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{ap=Mh.inject(wF),Vs=Mh}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jF;$n.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mj(t))throw Error(oe(200));return gF(e,t,null,r)};$n.createRoot=function(e,t){if(!Mj(e))throw Error(oe(299));var r=!1,n="",a=gE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Oj(e,1,!1,null,null,r,!1,n,a),e[Ta]=t.current,au(e.nodeType===8?e.parentNode:e),new Dj(t)};$n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=F_(t),e=e===null?null:e.stateNode,e};$n.flushSync=function(e){return Ho(e)};$n.hydrate=function(e,t,r){if(!vp(t))throw Error(oe(200));return yp(null,e,t,!0,r)};$n.hydrateRoot=function(e,t,r){if(!Mj(e))throw Error(oe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=gE;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=xE(t,null,e,1,r??null,a,!1,i,o),e[Ta]=t.current,au(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new gp(t)};$n.render=function(e,t,r){if(!vp(t))throw Error(oe(200));return yp(null,e,t,!1,r)};$n.unmountComponentAtNode=function(e){if(!vp(e))throw Error(oe(40));return e._reactRootContainer?(Ho(function(){yp(null,null,e,!1,function(){e._reactRootContainer=null,e[Ta]=null})}),!0):!1};$n.unstable_batchedUpdates=Pj;$n.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vp(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return yp(e,t,r,!1,n)};$n.version="18.3.1-next-f1338f8080-20240426";function vE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vE)}catch(e){console.error(e)}}vE(),v_.exports=$n;var Gi=v_.exports;const yE=aa(Gi);var jE,z1=Gi;jE=z1.createRoot,z1.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>p.createElement("svg",{ref:d,...bF,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${NF(e)}`,l].join(" "),...u},[...t.map(([h,f])=>p.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=he("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=he("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=he("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=he("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=he("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=he("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=he("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=he("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=he("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=he("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=he("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=he("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=he("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=he("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=he("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=he("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=he("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=he("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=he("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=he("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=he("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=he("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=he("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=he("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=he("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=he("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=he("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=he("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=he("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=he("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=he("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=he("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function H1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function PE(...e){return t=>{let r=!1;const n=e.map(a=>{const i=H1(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():H1(e[a],null)}}}}function Ge(...e){return p.useCallback(PE(...e),e)}function Go(e){const t=BF(e),r=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(WF);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var _E=Go("Slot");function BF(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const o=KF(a),l=UF(i,a.props);return a.type!==p.Fragment&&(l.ref=n?PE(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EE=Symbol("radix.slottable");function zF(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=EE,t}function WF(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EE}function UF(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function KF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function AE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=AE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=AE(e))&&(n&&(n+=" "),n+=t);return n}const V1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,q1=Xe,Fj=(e,t)=>r=>{var n;if(t?.variants==null)return q1(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r?.[u],h=i?.[u];if(d===null)return null;const f=V1(d)||V1(h);return a[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(j=>{let[g,x]=j;return Array.isArray(x)?x.includes({...i,...l}[g]):{...i,...l}[g]===x})?[...u,h,f]:u},[]);return q1(e,o,c,r?.class,r?.className)},Bj="-",HF=e=>{const t=qF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Bj);return l[0]===""&&l.length!==1&&l.shift(),OE(l,t)||VF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},OE=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?OE(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Bj);return t.validators.find(({validator:o})=>o(i))?.classGroupId},Y1=/^\[(.+)\]$/,VF=e=>{if(Y1.test(e)){const t=Y1.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qF=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)vy(r[a],n,a,t);return n},vy=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:G1(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(YF(a)){vy(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{vy(o,G1(t,i),r,n)})})},G1=(e,t)=>{let r=e;return t.split(Bj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},YF=e=>e.isThemeGetter,GF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},yy="!",jy=":",XF=jy.length,JF=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,u;for(let j=0;j<a.length;j++){let g=a[j];if(o===0&&l===0){if(g===jy){i.push(a.slice(c,j)),c=j+XF;continue}if(g==="/"){u=j;continue}}g==="["?o++:g==="]"?o--:g==="("?l++:g===")"&&l--}const d=i.length===0?a:a.substring(c),h=QF(d),f=h!==d,m=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(t){const a=t+jy,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},QF=e=>e.endsWith(yy)?e.substring(0,e.length-1):e.startsWith(yy)?e.substring(1):e,ZF=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},eB=e=>({cache:GF(e.cacheSize),parseClassName:JF(e),sortModifiers:ZF(e),...HF(e)}),tB=/\s+/,rB=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(tB);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:j,maybePostfixModifierPosition:g}=r(d);if(h){c=d+(c.length>0?" "+c:c);continue}let x=!!g,y=n(x?j.substring(0,g):j);if(!y){if(!x){c=d+(c.length>0?" "+c:c);continue}if(y=n(j),!y){c=d+(c.length>0?" "+c:c);continue}x=!1}const v=i(f).join(":"),w=m?v+yy:v,b=w+y;if(o.includes(b))continue;o.push(b);const N=a(y,x);for(let k=0;k<N.length;++k){const P=N[k];o.push(w+P)}c=d+(c.length>0?" "+c:c)}return c};function nB(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=TE(t))&&(n&&(n+=" "),n+=r);return n}const TE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=TE(e[n]))&&(r&&(r+=" "),r+=t);return r};function sB(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=eB(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=rB(c,r);return a(c,d),d}return function(){return i(nB.apply(null,arguments))}}const sr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},DE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ME=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aB=/^\d+\/\d+$/,iB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=e=>aB.test(e),We=e=>!!e&&!Number.isNaN(Number(e)),si=e=>!!e&&Number.isInteger(Number(e)),_g=e=>e.endsWith("%")&&We(e.slice(0,-1)),da=e=>iB.test(e),uB=()=>!0,hB=e=>oB.test(e)&&!lB.test(e),IE=()=>!1,fB=e=>cB.test(e),mB=e=>dB.test(e),pB=e=>!ve(e)&&!ye(e),xB=e=>Rc(e,LE,IE),ve=e=>DE.test(e),co=e=>Rc(e,FE,hB),Eg=e=>Rc(e,wB,We),X1=e=>Rc(e,RE,IE),gB=e=>Rc(e,$E,mB),Rh=e=>Rc(e,BE,fB),ye=e=>ME.test(e),md=e=>$c(e,FE),vB=e=>$c(e,bB),J1=e=>$c(e,RE),yB=e=>$c(e,LE),jB=e=>$c(e,$E),$h=e=>$c(e,BE,!0),Rc=(e,t,r)=>{const n=DE.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},$c=(e,t,r=!1)=>{const n=ME.exec(e);return n?n[1]?t(n[1]):r:!1},RE=e=>e==="position"||e==="percentage",$E=e=>e==="image"||e==="url",LE=e=>e==="length"||e==="size"||e==="bg-size",FE=e=>e==="length",wB=e=>e==="number",bB=e=>e==="family-name",BE=e=>e==="shadow",NB=()=>{const e=sr("color"),t=sr("font"),r=sr("text"),n=sr("font-weight"),a=sr("tracking"),i=sr("leading"),o=sr("breakpoint"),l=sr("container"),c=sr("spacing"),u=sr("radius"),d=sr("shadow"),h=sr("inset-shadow"),f=sr("text-shadow"),m=sr("drop-shadow"),j=sr("blur"),g=sr("perspective"),x=sr("aspect"),y=sr("ease"),v=sr("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...b(),ye,ve],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],C=()=>[ye,ve,c],A=()=>[vl,"full","auto",...C()],S=()=>[si,"none","subgrid",ye,ve],I=()=>["auto",{span:["full",si,ye,ve]},si,ye,ve],O=()=>[si,"auto",ye,ve],z=()=>["auto","min","max","fr",ye,ve],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...C()],W=()=>[vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],_=()=>[e,ye,ve],T=()=>[...b(),J1,X1,{position:[ye,ve]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",yB,xB,{size:[ye,ve]}],H=()=>[_g,md,co],te=()=>["","none","full",u,ye,ve],ne=()=>["",We,md,co],fe=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[We,_g,J1,X1],ce=()=>["","none",j,ye,ve],ie=()=>["none",We,ye,ve],le=()=>["none",We,ye,ve],me=()=>[We,ye,ve],E=()=>[vl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[da],breakpoint:[da],color:[uB],container:[da],"drop-shadow":[da],ease:["in","out","in-out"],font:[pB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[da],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[da],shadow:[da],spacing:["px",We],text:[da],"text-shadow":[da],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vl,ve,ye,x]}],container:["container"],columns:[{columns:[We,ve,ye,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[si,"auto",ye,ve]}],basis:[{basis:[vl,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,vl,"auto","initial","none",ve]}],grow:[{grow:["",We,ye,ve]}],shrink:[{shrink:["",We,ye,ve]}],order:[{order:[si,"first","last","none",ye,ve]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",r,md,co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ye,Eg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_g,ve]}],"font-family":[{font:[vB,ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ye,ve]}],"line-clamp":[{"line-clamp":[We,"none",ye,Eg]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",ye,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_()}],"text-color":[{text:_()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",ye,co]}],"text-decoration-color":[{decoration:_()}],"underline-offset":[{"underline-offset":[We,"auto",ye,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},si,ye,ve],radial:["",ye,ve],conic:[si,ye,ve]},jB,gB]}],"bg-color":[{bg:_()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:_()}],"gradient-via":[{via:_()}],"gradient-to":[{to:_()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:_()}],"border-color-x":[{"border-x":_()}],"border-color-y":[{"border-y":_()}],"border-color-s":[{"border-s":_()}],"border-color-e":[{"border-e":_()}],"border-color-t":[{"border-t":_()}],"border-color-r":[{"border-r":_()}],"border-color-b":[{"border-b":_()}],"border-color-l":[{"border-l":_()}],"divide-color":[{divide:_()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,ye,ve]}],"outline-w":[{outline:["",We,md,co]}],"outline-color":[{outline:_()}],shadow:[{shadow:["","none",d,$h,Rh]}],"shadow-color":[{shadow:_()}],"inset-shadow":[{"inset-shadow":["none",h,$h,Rh]}],"inset-shadow-color":[{"inset-shadow":_()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_()}],"ring-offset-w":[{"ring-offset":[We,co]}],"ring-offset-color":[{"ring-offset":_()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":_()}],"text-shadow":[{"text-shadow":["none",f,$h,Rh]}],"text-shadow-color":[{"text-shadow":_()}],opacity:[{opacity:[We,ye,ve]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":_()}],"mask-image-linear-to-color":[{"mask-linear-to":_()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":_()}],"mask-image-t-to-color":[{"mask-t-to":_()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":_()}],"mask-image-r-to-color":[{"mask-r-to":_()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":_()}],"mask-image-b-to-color":[{"mask-b-to":_()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":_()}],"mask-image-l-to-color":[{"mask-l-to":_()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":_()}],"mask-image-x-to-color":[{"mask-x-to":_()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":_()}],"mask-image-y-to-color":[{"mask-y-to":_()}],"mask-image-radial":[{"mask-radial":[ye,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":_()}],"mask-image-radial-to-color":[{"mask-radial-to":_()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":_()}],"mask-image-conic-to-color":[{"mask-conic-to":_()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ve]}],filter:[{filter:["","none",ye,ve]}],blur:[{blur:ce()}],brightness:[{brightness:[We,ye,ve]}],contrast:[{contrast:[We,ye,ve]}],"drop-shadow":[{"drop-shadow":["","none",m,$h,Rh]}],"drop-shadow-color":[{"drop-shadow":_()}],grayscale:[{grayscale:["",We,ye,ve]}],"hue-rotate":[{"hue-rotate":[We,ye,ve]}],invert:[{invert:["",We,ye,ve]}],saturate:[{saturate:[We,ye,ve]}],sepia:[{sepia:["",We,ye,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ve]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[We,ye,ve]}],"backdrop-contrast":[{"backdrop-contrast":[We,ye,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,ye,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,ye,ve]}],"backdrop-invert":[{"backdrop-invert":["",We,ye,ve]}],"backdrop-opacity":[{"backdrop-opacity":[We,ye,ve]}],"backdrop-saturate":[{"backdrop-saturate":[We,ye,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",We,ye,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",ye,ve]}],ease:[{ease:["linear","initial",y,ye,ve]}],delay:[{delay:[We,ye,ve]}],animate:[{animate:["none",v,ye,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ye,ve]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[ye,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:E()}],"translate-x":[{"translate-x":E()}],"translate-y":[{"translate-y":E()}],"translate-z":[{"translate-z":E()}],"translate-none":["translate-none"],accent:[{accent:_()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ve]}],fill:[{fill:["none",..._()]}],"stroke-w":[{stroke:[We,md,co,Eg]}],stroke:[{stroke:["none",..._()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SB=sB(NB);function pe(...e){return SB(Xe(e))}const pu=Fj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),B=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?_E:"button";return s.jsx(o,{"data-slot":"button",className:pe(pu({variant:t,size:r,className:e})),ref:i,...a})});B.displayName="Button";function Q({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:pe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var kB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=kB.reduce((e,t)=>{const r=Go(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function CB(e,t){e&&Gi.flushSync(()=>e.dispatchEvent(t))}var PB="Label",zE=p.forwardRef((e,t)=>s.jsx(Me.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));zE.displayName=PB;var _B=zE;function D({className:e,...t}){return s.jsx(_B,{"data-slot":"label",className:pe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function $({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:pe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function U({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:pe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function K({className:e,...t}){return s.jsx("h4",{"data-slot":"card-title",className:pe("leading-none",e),...t})}function Oe({className:e,...t}){return s.jsx("p",{"data-slot":"card-description",className:pe("text-muted-foreground",e),...t})}function L({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:pe("px-6 [&:last-child]:pb-6",e),...t})}function De(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function EB(e,t){const r=p.createContext(t),n=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ss(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const u=h=>{const{scope:f,children:m,...j}=h,g=f?.[e]?.[c]||l,x=p.useMemo(()=>j,Object.values(j));return s.jsx(g.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){const m=f?.[e]?.[c]||l,j=p.useContext(m);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=l?.[e]||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,AB(a,...t)]}function AB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function WE(e){const t=e+"CollectionProvider",[r,n]=ss(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:y}=g,v=G.useRef(null),w=G.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:w,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Go(l),u=G.forwardRef((g,x)=>{const{scope:y,children:v}=g,w=i(l,y),b=Ge(x,w.collectionRef);return s.jsx(c,{ref:b,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Go(d),m=G.forwardRef((g,x)=>{const{scope:y,children:v,...w}=g,b=G.useRef(null),N=Ge(x,b),k=i(d,y);return G.useEffect(()=>(k.itemMap.set(b,{ref:b,...w}),()=>void k.itemMap.delete(b))),s.jsx(f,{[h]:"",ref:N,children:v})});m.displayName=d;function j(g){const x=i(e+"CollectionConsumer",g);return G.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((k,P)=>w.indexOf(k.ref.current)-w.indexOf(P.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},j,n]}var Or=globalThis?.document?p.useLayoutEffect:()=>{},OB=K0[" useId ".trim().toString()]||(()=>{}),TB=0;function Pa(e){const[t,r]=p.useState(OB());return Or(()=>{e||r(n=>n??String(TB++))},[e]),e||(t?`radix-${t}`:"")}function qr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>t.current?.(...r),[])}var DB=K0[" useInsertionEffect ".trim().toString()]||Or;function Fi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=MB({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=p.useCallback(d=>{if(l){const h=IB(d)?d(e):d;h!==e&&o.current?.(h)}else i(d)},[l,e,i,o]);return[c,u]}function MB({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),i=p.useRef(t);return DB(()=>{i.current=t},[t]),p.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function IB(e){return typeof e=="function"}var RB=p.createContext(void 0);function Np(e){const t=p.useContext(RB);return e||t||"ltr"}var Ag="rovingFocusGroup.onEntryFocus",$B={bubbles:!1,cancelable:!0},Bu="RovingFocusGroup",[wy,UE,LB]=WE(Bu),[FB,KE]=ss(Bu,[LB]),[BB,zB]=FB(Bu),HE=p.forwardRef((e,t)=>s.jsx(wy.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(wy.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(WB,{...e,ref:t})})}));HE.displayName=Bu;var WB=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),m=Ge(t,f),j=Np(i),[g,x]=Fi({prop:o,defaultProp:l??null,onChange:c,caller:Bu}),[y,v]=p.useState(!1),w=qr(u),b=UE(r),N=p.useRef(!1),[k,P]=p.useState(0);return p.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(Ag,w),()=>C.removeEventListener(Ag,w)},[w]),s.jsx(BB,{scope:r,orientation:n,dir:j,loop:a,currentTabStopId:g,onItemFocus:p.useCallback(C=>x(C),[x]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>P(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>P(C=>C-1),[]),children:s.jsx(Me.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:De(e.onMouseDown,()=>{N.current=!0}),onFocus:De(e.onFocus,C=>{const A=!N.current;if(C.target===C.currentTarget&&A&&!y){const S=new CustomEvent(Ag,$B);if(C.currentTarget.dispatchEvent(S),!S.defaultPrevented){const I=b().filter(R=>R.focusable),O=I.find(R=>R.active),z=I.find(R=>R.id===g),Y=[O,z,...I].filter(Boolean).map(R=>R.ref.current);YE(Y,d)}}N.current=!1}),onBlur:De(e.onBlur,()=>v(!1))})})}),VE="RovingFocusGroupItem",qE=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Pa(),u=i||c,d=zB(VE,r),h=d.currentTabStopId===u,f=UE(r),{onFocusableItemAdd:m,onFocusableItemRemove:j,currentTabStopId:g}=d;return p.useEffect(()=>{if(n)return m(),()=>j()},[n,m,j]),s.jsx(wy.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Me.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:De(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:De(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:De(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=HB(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const b=w.indexOf(x.currentTarget);w=d.loop?VB(w,b+1):w.slice(b+1)}setTimeout(()=>YE(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});qE.displayName=VE;var UB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function HB(e,t,r){const n=KB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return UB[n]}function YE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function VB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var qB=HE,YB=qE;function GB(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var as=e=>{const{present:t,children:r}=e,n=XB(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=Ge(n.ref,JB(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:i}):null};as.displayName="Presence";function XB(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=GB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Lh(n.current);i.current=l==="mounted"?u:"none"},[l]),Or(()=>{const u=n.current,d=a.current;if(d!==e){const f=i.current,m=Lh(u);e?c("MOUNT"):m==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Or(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const g=Lh(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=Lh(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Lh(e){return e?.animationName||"none"}function JB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Sp="Tabs",[QB,$ue]=ss(Sp,[KE]),GE=KE(),[ZB,zj]=QB(Sp),XE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Np(l),[h,f]=Fi({prop:n,onChange:a,defaultProp:i??"",caller:Sp});return s.jsx(ZB,{scope:r,baseId:Pa(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});XE.displayName=Sp;var JE="TabsList",QE=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=zj(JE,r),o=GE(r);return s.jsx(qB,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});QE.displayName=JE;var ZE="TabsTrigger",eA=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=zj(ZE,r),l=GE(r),c=nA(o.baseId,n),u=sA(o.baseId,n),d=n===o.value;return s.jsx(YB,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:De(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:De(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:De(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(n)})})})});eA.displayName=ZE;var tA="TabsContent",rA=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=zj(tA,r),c=nA(l.baseId,n),u=sA(l.baseId,n),d=n===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(as,{present:a||d,children:({present:f})=>s.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});rA.displayName=tA;function nA(e,t){return`${e}-trigger-${t}`}function sA(e,t){return`${e}-content-${t}`}var e5=XE,t5=QE,r5=eA,n5=rA;function pn({className:e,...t}){return s.jsx(e5,{"data-slot":"tabs",className:pe("flex flex-col gap-2",e),...t})}function xn({className:e,...t}){return s.jsx(t5,{"data-slot":"tabs-list",className:pe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function _e({className:e,...t}){return s.jsx(r5,{"data-slot":"tabs-trigger",className:pe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Ee({className:e,...t}){return s.jsx(n5,{"data-slot":"tabs-content",className:pe("flex-1 outline-none",e),...t})}const s5=Fj("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function kp({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:pe(s5({variant:t}),e),...r})}function Cp({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:pe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function by(e,[t,r]){return Math.min(r,Math.max(t,e))}function a5(e,t=globalThis?.document){const r=qr(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var i5="DismissableLayer",Ny="dismissableLayer.update",o5="dismissableLayer.pointerDownOutside",l5="dismissableLayer.focusOutside",Q1,aA=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pp=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=p.useContext(aA),[d,h]=p.useState(null),f=d?.ownerDocument??globalThis?.document,[,m]=p.useState({}),j=Ge(t,P=>h(P)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(x),v=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=y,N=u5(P=>{const C=P.target,A=[...u.branches].some(S=>S.contains(C));!b||A||(a?.(P),o?.(P),P.defaultPrevented||l?.())},f),k=h5(P=>{const C=P.target;[...u.branches].some(S=>S.contains(C))||(i?.(P),o?.(P),P.defaultPrevented||l?.())},f);return a5(P=>{v===u.layers.size-1&&(n?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Q1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Z1(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Q1)}},[d,f,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Z1())},[d,u]),p.useEffect(()=>{const P=()=>m({});return document.addEventListener(Ny,P),()=>document.removeEventListener(Ny,P)},[]),s.jsx(Me.div,{...c,ref:j,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:De(e.onFocusCapture,k.onFocusCapture),onBlurCapture:De(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:De(e.onPointerDownCapture,N.onPointerDownCapture)})});Pp.displayName=i5;var c5="DismissableLayerBranch",d5=p.forwardRef((e,t)=>{const r=p.useContext(aA),n=p.useRef(null),a=Ge(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Me.div,{...e,ref:a})});d5.displayName=c5;function u5(e,t=globalThis?.document){const r=qr(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){iA(o5,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function h5(e,t=globalThis?.document){const r=qr(e),n=p.useRef(!1);return p.useEffect(()=>{const a=i=>{i.target&&!n.current&&iA(l5,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Z1(){const e=new CustomEvent(Ny);document.dispatchEvent(e)}function iA(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?CB(a,i):a.dispatchEvent(i)}var Og=0;function Wj(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??eS()),document.body.insertAdjacentElement("beforeend",e[1]??eS()),Og++,()=>{Og===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Og--}},[])}function eS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tg="focusScope.autoFocusOnMount",Dg="focusScope.autoFocusOnUnmount",tS={bubbles:!1,cancelable:!0},f5="FocusScope",_p=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=p.useState(null),u=qr(a),d=qr(i),h=p.useRef(null),f=Ge(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const b=w.target;l.contains(b)?h.current=b:oi(h.current,{select:!0})},x=function(w){if(m.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||oi(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&oi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),v.disconnect()}}},[n,l,m.paused]),p.useEffect(()=>{if(l){nS.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Tg,tS);l.addEventListener(Tg,u),l.dispatchEvent(y),y.defaultPrevented||(m5(y5(oA(l)),{select:!0}),document.activeElement===g&&oi(l))}return()=>{l.removeEventListener(Tg,u),setTimeout(()=>{const y=new CustomEvent(Dg,tS);l.addEventListener(Dg,d),l.dispatchEvent(y),y.defaultPrevented||oi(g??document.body,{select:!0}),l.removeEventListener(Dg,d),nS.remove(m)},0)}}},[l,u,d,m]);const j=p.useCallback(g=>{if(!r&&!n||m.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(x&&y){const v=g.currentTarget,[w,b]=p5(v);w&&b?!g.shiftKey&&y===b?(g.preventDefault(),r&&oi(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&oi(b,{select:!0})):y===v&&g.preventDefault()}},[r,n,m.paused]);return s.jsx(Me.div,{tabIndex:-1,...o,ref:f,onKeyDown:j})});_p.displayName=f5;function m5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(oi(n,{select:t}),document.activeElement!==r)return}function p5(e){const t=oA(e),r=rS(t,e),n=rS(t.reverse(),e);return[r,n]}function oA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rS(e,t){for(const r of e)if(!x5(r,{upTo:t}))return r}function x5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function g5(e){return e instanceof HTMLInputElement&&"select"in e}function oi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&g5(e)&&t&&e.select()}}var nS=v5();function v5(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=sS(e,t),e.unshift(t)},remove(t){e=sS(e,t),e[0]?.resume()}}}function sS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function y5(e){return e.filter(t=>t.tagName!=="A")}const j5=["top","right","bottom","left"],Bi=Math.min,kn=Math.max,am=Math.round,Fh=Math.floor,Gs=e=>({x:e,y:e}),w5={left:"right",right:"left",bottom:"top",top:"bottom"},b5={start:"end",end:"start"};function Sy(e,t,r){return kn(e,Bi(t,r))}function $a(e,t){return typeof e=="function"?e(t):e}function La(e){return e.split("-")[0]}function Lc(e){return e.split("-")[1]}function Uj(e){return e==="x"?"y":"x"}function Kj(e){return e==="y"?"height":"width"}const N5=new Set(["top","bottom"]);function Us(e){return N5.has(La(e))?"y":"x"}function Hj(e){return Uj(Us(e))}function S5(e,t,r){r===void 0&&(r=!1);const n=Lc(e),a=Hj(e),i=Kj(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=im(o)),[o,im(o)]}function k5(e){const t=im(e);return[ky(e),t,ky(t)]}function ky(e){return e.replace(/start|end/g,t=>b5[t])}const aS=["left","right"],iS=["right","left"],C5=["top","bottom"],P5=["bottom","top"];function _5(e,t,r){switch(e){case"top":case"bottom":return r?t?iS:aS:t?aS:iS;case"left":case"right":return t?C5:P5;default:return[]}}function E5(e,t,r,n){const a=Lc(e);let i=_5(La(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(ky)))),i}function im(e){return e.replace(/left|right|bottom|top/g,t=>w5[t])}function A5(e){return{top:0,right:0,bottom:0,left:0,...e}}function lA(e){return typeof e!="number"?A5(e):{top:e,right:e,bottom:e,left:e}}function om(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function oS(e,t,r){let{reference:n,floating:a}=e;const i=Us(t),o=Hj(t),l=Kj(o),c=La(t),u=i==="y",d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-a.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Lc(t)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const O5=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=oS(u,n,c),f=n,m={},j=0;for(let g=0;g<l.length;g++){const{name:x,fn:y}=l[g],{x:v,y:w,data:b,reset:N}=await y({x:d,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,h=w??h,m={...m,[x]:{...m[x],...b}},N&&j<=50&&(j++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:h}=oS(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function xu(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=$a(t,e),j=lA(m),x=l[f?h==="floating"?"reference":"floating":h],y=om(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=om(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-N.top+j.top)/b.y,bottom:(N.bottom-y.bottom+j.bottom)/b.y,left:(y.left-N.left+j.left)/b.x,right:(N.right-y.right+j.right)/b.x}}const T5=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=$a(e,t)||{};if(u==null)return{};const h=lA(d),f={x:r,y:n},m=Hj(a),j=Kj(m),g=await o.getDimensions(u),x=m==="y",y=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",b=i.reference[j]+i.reference[m]-f[m]-i.floating[j],N=f[m]-i.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=k?k[w]:0;(!P||!await(o.isElement==null?void 0:o.isElement(k)))&&(P=l.floating[w]||i.floating[j]);const C=b/2-N/2,A=P/2-g[j]/2-1,S=Bi(h[y],A),I=Bi(h[v],A),O=S,z=P-g[j]-I,V=P/2-g[j]/2+C,Y=Sy(O,V,z),R=!c.arrow&&Lc(a)!=null&&V!==Y&&i.reference[j]/2-(V<O?S:I)-g[j]/2<0,W=R?V<O?V-O:V-z:0;return{[m]:f[m]+W,data:{[m]:Y,centerOffset:V-Y-W,...R&&{alignmentOffset:W}},reset:R}}}),D5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:g=!0,...x}=$a(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=La(a),v=Us(l),w=La(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(w||!g?[im(l)]:k5(l)),k=j!=="none";!f&&k&&N.push(...E5(l,g,j,b));const P=[l,...N],C=await xu(t,x),A=[];let S=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(C[y]),h){const V=S5(a,o,b);A.push(C[V[0]],C[V[1]])}if(S=[...S,{placement:a,overflows:A}],!A.every(V=>V<=0)){var I,O;const V=(((I=i.flip)==null?void 0:I.index)||0)+1,Y=P[V];if(Y&&(!(h==="alignment"?v!==Us(Y):!1)||S.every(_=>Us(_.placement)===v?_.overflows[0]>0:!0)))return{data:{index:V,overflows:S},reset:{placement:Y}};let R=(O=S.filter(W=>W.overflows[0]<=0).sort((W,_)=>W.overflows[1]-_.overflows[1])[0])==null?void 0:O.placement;if(!R)switch(m){case"bestFit":{var z;const W=(z=S.filter(_=>{if(k){const T=Us(_.placement);return T===v||T==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(T=>T>0).reduce((T,re)=>T+re,0)]).sort((_,T)=>_[1]-T[1])[0])==null?void 0:z[0];W&&(R=W);break}case"initialPlacement":R=l;break}if(a!==R)return{reset:{placement:R}}}return{}}}};function lS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cS(e){return j5.some(t=>e[t]>=0)}const M5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=$a(e,t);switch(n){case"referenceHidden":{const i=await xu(t,{...a,elementContext:"reference"}),o=lS(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cS(o)}}}case"escaped":{const i=await xu(t,{...a,altBoundary:!0}),o=lS(i,r.floating);return{data:{escapedOffsets:o,escaped:cS(o)}}}default:return{}}}}},cA=new Set(["left","top"]);async function I5(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=La(r),l=Lc(r),c=Us(r)==="y",u=cA.has(o)?-1:1,d=i&&c?-1:1,h=$a(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof j=="number"&&(m=l==="end"?j*-1:j),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const R5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await I5(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},$5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=$a(e,t),u={x:r,y:n},d=await xu(t,c),h=Us(La(a)),f=Uj(h);let m=u[f],j=u[h];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+d[x],w=m-d[y];m=Sy(v,m,w)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=j+d[x],w=j-d[y];j=Sy(v,j,w)}const g=l.fn({...t,[f]:m,[h]:j});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:i,[h]:o}}}}}},L5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$a(e,t),d={x:r,y:n},h=Us(a),f=Uj(h);let m=d[f],j=d[h];const g=$a(l,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",b=i.reference[f]-i.floating[w]+x.mainAxis,N=i.reference[f]+i.reference[w]-x.mainAxis;m<b?m=b:m>N&&(m=N)}if(u){var y,v;const w=f==="y"?"width":"height",b=cA.has(La(a)),N=i.reference[h]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[h])||0)+(b?0:x.crossAxis),k=i.reference[h]+i.reference[w]+(b?0:((v=o.offset)==null?void 0:v[h])||0)-(b?x.crossAxis:0);j<N?j=N:j>k&&(j=k)}return{[f]:m,[h]:j}}}},F5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=$a(e,t),d=await xu(t,u),h=La(a),f=Lc(a),m=Us(a)==="y",{width:j,height:g}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,w=j-d.left-d.right,b=Bi(g-d[x],v),N=Bi(j-d[y],w),k=!t.middlewareData.shift;let P=b,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=v),k&&!f){const S=kn(d.left,0),I=kn(d.right,0),O=kn(d.top,0),z=kn(d.bottom,0);m?C=j-2*(S!==0||I!==0?S+I:kn(d.left,d.right)):P=g-2*(O!==0||z!==0?O+z:kn(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:P});const A=await o.getDimensions(l.floating);return j!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Ep(){return typeof window<"u"}function Fc(e){return dA(e)?(e.nodeName||"").toLowerCase():"#document"}function On(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ia(e){var t;return(t=(dA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dA(e){return Ep()?e instanceof Node||e instanceof On(e).Node:!1}function Ps(e){return Ep()?e instanceof Element||e instanceof On(e).Element:!1}function Zs(e){return Ep()?e instanceof HTMLElement||e instanceof On(e).HTMLElement:!1}function dS(e){return!Ep()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof On(e).ShadowRoot}const B5=new Set(["inline","contents"]);function zu(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=_s(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!B5.has(a)}const z5=new Set(["table","td","th"]);function W5(e){return z5.has(Fc(e))}const U5=[":popover-open",":modal"];function Ap(e){return U5.some(t=>{try{return e.matches(t)}catch{return!1}})}const K5=["transform","translate","scale","rotate","perspective"],H5=["transform","translate","scale","rotate","perspective","filter"],V5=["paint","layout","strict","content"];function Vj(e){const t=qj(),r=Ps(e)?_s(e):e;return K5.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||H5.some(n=>(r.willChange||"").includes(n))||V5.some(n=>(r.contain||"").includes(n))}function q5(e){let t=zi(e);for(;Zs(t)&&!vc(t);){if(Vj(t))return t;if(Ap(t))return null;t=zi(t)}return null}function qj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Y5=new Set(["html","body","#document"]);function vc(e){return Y5.has(Fc(e))}function _s(e){return On(e).getComputedStyle(e)}function Op(e){return Ps(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zi(e){if(Fc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dS(e)&&e.host||ia(e);return dS(t)?t.host:t}function uA(e){const t=zi(e);return vc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zs(t)&&zu(t)?t:uA(t)}function gu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=uA(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=On(a);if(i){const l=Cy(o);return t.concat(o,o.visualViewport||[],zu(a)?a:[],l&&r?gu(l):[])}return t.concat(a,gu(a,[],r))}function Cy(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hA(e){const t=_s(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Zs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=am(r)!==i||am(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Yj(e){return Ps(e)?e:e.contextElement}function rc(e){const t=Yj(e);if(!Zs(t))return Gs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=hA(t);let o=(i?am(r.width):r.width)/n,l=(i?am(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const G5=Gs(0);function fA(e){const t=On(e);return!qj()||!t.visualViewport?G5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function X5(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==On(e)?!1:t}function Xo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Yj(e);let o=Gs(1);t&&(n?Ps(n)&&(o=rc(n)):o=rc(e));const l=X5(i,r,n)?fA(i):Gs(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=On(i),m=n&&Ps(n)?On(n):n;let j=f,g=Cy(j);for(;g&&n&&m!==j;){const x=rc(g),y=g.getBoundingClientRect(),v=_s(g),w=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*x.x,b=y.top+(g.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=w,u+=b,j=On(g),g=Cy(j)}}return om({width:d,height:h,x:c,y:u})}function Tp(e,t){const r=Op(e).scrollLeft;return t?t.left+r:Xo(ia(e)).left+r}function mA(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Tp(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function J5(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=ia(n),l=t?Ap(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Gs(1);const d=Gs(0),h=Zs(n);if((h||!h&&!i)&&((Fc(n)!=="body"||zu(o))&&(c=Op(n)),Zs(n))){const m=Xo(n);u=rc(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const f=o&&!h&&!i?mA(o,c):Gs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-c.scrollTop*u.y+d.y+f.y}}function Q5(e){return Array.from(e.getClientRects())}function Z5(e){const t=ia(e),r=Op(e),n=e.ownerDocument.body,a=kn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=kn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Tp(e);const l=-r.scrollTop;return _s(n).direction==="rtl"&&(o+=kn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const uS=25;function e6(e,t){const r=On(e),n=ia(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=qj();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Tp(n);if(u<=0){const d=n.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,j=Math.abs(n.clientWidth-h.clientWidth-m);j<=uS&&(i-=j)}else u<=uS&&(i+=u);return{width:i,height:o,x:l,y:c}}const t6=new Set(["absolute","fixed"]);function r6(e,t){const r=Xo(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Zs(e)?rc(e):Gs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function hS(e,t,r){let n;if(t==="viewport")n=e6(e,r);else if(t==="document")n=Z5(ia(e));else if(Ps(t))n=r6(t,r);else{const a=fA(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return om(n)}function pA(e,t){const r=zi(e);return r===t||!Ps(r)||vc(r)?!1:_s(r).position==="fixed"||pA(r,t)}function n6(e,t){const r=t.get(e);if(r)return r;let n=gu(e,[],!1).filter(l=>Ps(l)&&Fc(l)!=="body"),a=null;const i=_s(e).position==="fixed";let o=i?zi(e):e;for(;Ps(o)&&!vc(o);){const l=_s(o),c=Vj(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&t6.has(a.position)||zu(o)&&!c&&pA(e,o))?n=n.filter(d=>d!==o):a=l,o=zi(o)}return t.set(e,n),n}function s6(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Ap(t)?[]:n6(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=hS(t,d,a);return u.top=kn(h.top,u.top),u.right=Bi(h.right,u.right),u.bottom=Bi(h.bottom,u.bottom),u.left=kn(h.left,u.left),u},hS(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function a6(e){const{width:t,height:r}=hA(e);return{width:t,height:r}}function i6(e,t,r){const n=Zs(t),a=ia(t),i=r==="fixed",o=Xo(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Gs(0);function u(){c.x=Tp(a)}if(n||!n&&!i)if((Fc(t)!=="body"||zu(a))&&(l=Op(t)),n){const m=Xo(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?mA(a,l):Gs(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function Mg(e){return _s(e).position==="static"}function fS(e,t){if(!Zs(e)||_s(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ia(e)===r&&(r=r.ownerDocument.body),r}function xA(e,t){const r=On(e);if(Ap(e))return r;if(!Zs(e)){let a=zi(e);for(;a&&!vc(a);){if(Ps(a)&&!Mg(a))return a;a=zi(a)}return r}let n=fS(e,t);for(;n&&W5(n)&&Mg(n);)n=fS(n,t);return n&&vc(n)&&Mg(n)&&!Vj(n)?r:n||q5(e)||r}const o6=async function(e){const t=this.getOffsetParent||xA,r=this.getDimensions,n=await r(e.floating);return{reference:i6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function l6(e){return _s(e).direction==="rtl"}const c6={convertOffsetParentRelativeRectToViewportRelativeRect:J5,getDocumentElement:ia,getClippingRect:s6,getOffsetParent:xA,getElementRects:o6,getClientRects:Q5,getDimensions:a6,getScale:rc,isElement:Ps,isRTL:l6};function gA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function d6(e,t){let r=null,n;const a=ia(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const j=Fh(h),g=Fh(a.clientWidth-(d+f)),x=Fh(a.clientHeight-(h+m)),y=Fh(d),w={rootMargin:-j+"px "+-g+"px "+-x+"px "+-y+"px",threshold:kn(0,Bi(1,c))||1};let b=!0;function N(k){const P=k[0].intersectionRatio;if(P!==c){if(!b)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!gA(u,e.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),i}function u6(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Yj(e),d=a||i?[...u?gu(u):[],...gu(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=u&&l?d6(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let j,g=c?Xo(e):null;c&&x();function x(){const y=Xo(e);g&&!gA(g,y)&&r(),g=y,j=requestAnimationFrame(x)}return r(),()=>{var y;d.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),h?.(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(j)}}const h6=R5,f6=$5,m6=D5,p6=F5,x6=M5,mS=T5,g6=L5,v6=(e,t,r)=>{const n=new Map,a={platform:c6,...r},i={...a.platform,_c:n};return O5(e,t,{...a,platform:i})};var y6=typeof document<"u",j6=function(){},kf=y6?p.useLayoutEffect:j6;function lm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!lm(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!lm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function vA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pS(e,t){const r=vA(e);return Math.round(t*r)/r}function Ig(e){const t=p.useRef(e);return kf(()=>{t.current=e}),t}function w6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(n);lm(f,n)||m(n);const[j,g]=p.useState(null),[x,y]=p.useState(null),v=p.useCallback(_=>{_!==k.current&&(k.current=_,g(_))},[]),w=p.useCallback(_=>{_!==P.current&&(P.current=_,y(_))},[]),b=i||j,N=o||x,k=p.useRef(null),P=p.useRef(null),C=p.useRef(d),A=c!=null,S=Ig(c),I=Ig(a),O=Ig(u),z=p.useCallback(()=>{if(!k.current||!P.current)return;const _={placement:t,strategy:r,middleware:f};I.current&&(_.platform=I.current),v6(k.current,P.current,_).then(T=>{const re={...T,isPositioned:O.current!==!1};V.current&&!lm(C.current,re)&&(C.current=re,Gi.flushSync(()=>{h(re)}))})},[f,t,r,I,O]);kf(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[u]);const V=p.useRef(!1);kf(()=>(V.current=!0,()=>{V.current=!1}),[]),kf(()=>{if(b&&(k.current=b),N&&(P.current=N),b&&N){if(S.current)return S.current(b,N,z);z()}},[b,N,z,S,A]);const Y=p.useMemo(()=>({reference:k,floating:P,setReference:v,setFloating:w}),[v,w]),R=p.useMemo(()=>({reference:b,floating:N}),[b,N]),W=p.useMemo(()=>{const _={position:r,left:0,top:0};if(!R.floating)return _;const T=pS(R.floating,d.x),re=pS(R.floating,d.y);return l?{..._,transform:"translate("+T+"px, "+re+"px)",...vA(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:re}},[r,l,R.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:z,refs:Y,elements:R,floatingStyles:W}),[d,z,Y,R,W])}const b6=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?mS({element:n.current,padding:a}).fn(r):{}:n?mS({element:n,padding:a}).fn(r):{}}}},N6=(e,t)=>({...h6(e),options:[e,t]}),S6=(e,t)=>({...f6(e),options:[e,t]}),k6=(e,t)=>({...g6(e),options:[e,t]}),C6=(e,t)=>({...m6(e),options:[e,t]}),P6=(e,t)=>({...p6(e),options:[e,t]}),_6=(e,t)=>({...x6(e),options:[e,t]}),E6=(e,t)=>({...b6(e),options:[e,t]});var A6="Arrow",yA=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Me.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});yA.displayName=A6;var O6=yA;function Gj(e){const[t,r]=p.useState(void 0);return Or(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Xj="Popper",[jA,Dp]=ss(Xj),[T6,wA]=jA(Xj),bA=e=>{const{__scopePopper:t,children:r}=e,[n,a]=p.useState(null);return s.jsx(T6,{scope:t,anchor:n,onAnchorChange:a,children:r})};bA.displayName=Xj;var NA="PopperAnchor",SA=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=wA(NA,r),o=p.useRef(null),l=Ge(t,o),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Me.div,{...a,ref:l})});SA.displayName=NA;var Jj="PopperContent",[D6,M6]=jA(Jj),kA=p.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:j,...g}=e,x=wA(Jj,r),[y,v]=p.useState(null),w=Ge(t,ee=>v(ee)),[b,N]=p.useState(null),k=Gj(b),P=k?.width??0,C=k?.height??0,A=n+(i!=="center"?"-"+i:""),S=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,z={padding:S,boundary:I.filter(R6),altBoundary:O},{refs:V,floatingStyles:Y,placement:R,isPositioned:W,middlewareData:_}=w6({strategy:"fixed",placement:A,whileElementsMounted:(...ee)=>u6(...ee,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[N6({mainAxis:a+C,alignmentAxis:o}),c&&S6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?k6():void 0,...z}),c&&C6({...z}),P6({...z,apply:({elements:ee,rects:ce,availableWidth:ie,availableHeight:le})=>{const{width:me,height:E}=ce.reference,ue=ee.floating.style;ue.setProperty("--radix-popper-available-width",`${ie}px`),ue.setProperty("--radix-popper-available-height",`${le}px`),ue.setProperty("--radix-popper-anchor-width",`${me}px`),ue.setProperty("--radix-popper-anchor-height",`${E}px`)}}),b&&E6({element:b,padding:l}),$6({arrowWidth:P,arrowHeight:C}),f&&_6({strategy:"referenceHidden",...z})]}),[T,re]=_A(R),M=qr(j);Or(()=>{W&&M?.()},[W,M]);const H=_.arrow?.x,te=_.arrow?.y,ne=_.arrow?.centerOffset!==0,[fe,ae]=p.useState();return Or(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:W?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[_.transformOrigin?.x,_.transformOrigin?.y].join(" "),..._.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(D6,{scope:r,placedSide:T,onArrowChange:N,arrowX:H,arrowY:te,shouldHideArrow:ne,children:s.jsx(Me.div,{"data-side":T,"data-align":re,...g,ref:w,style:{...g.style,animation:W?void 0:"none"}})})})});kA.displayName=Jj;var CA="PopperArrow",I6={top:"bottom",right:"left",bottom:"top",left:"right"},PA=p.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=M6(CA,n),o=I6[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(O6,{...a,ref:r,style:{...a.style,display:"block"}})})});PA.displayName=CA;function R6(e){return e!==null}var $6=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=_A(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(a.arrow?.x??0)+l/2,m=(a.arrow?.y??0)+c/2;let j="",g="";return u==="bottom"?(j=o?h:`${f}px`,g=`${-c}px`):u==="top"?(j=o?h:`${f}px`,g=`${n.floating.height+c}px`):u==="right"?(j=`${-c}px`,g=o?h:`${m}px`):u==="left"&&(j=`${n.floating.width+c}px`,g=o?h:`${m}px`),{data:{x:j,y:g}}}});function _A(e){const[t,r="center"]=e.split("-");return[t,r]}var EA=bA,Qj=SA,AA=kA,OA=PA,L6="Portal",Mp=p.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=p.useState(!1);Or(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?yE.createPortal(s.jsx(Me.div,{...n,ref:t}),o):null});Mp.displayName=L6;function Zj(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var TA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F6="VisuallyHidden",B6=p.forwardRef((e,t)=>s.jsx(Me.span,{...e,ref:t,style:{...TA,...e.style}}));B6.displayName=F6;var z6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},yl=new WeakMap,Bh=new WeakMap,zh={},Rg=0,DA=function(e){return e&&(e.host||DA(e.parentNode))},W6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=DA(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},U6=function(e,t,r,n){var a=W6(t,Array.isArray(e)?e:[e]);zh[r]||(zh[r]=new WeakMap);var i=zh[r],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(n),j=m!==null&&m!=="false",g=(yl.get(f)||0)+1,x=(i.get(f)||0)+1;yl.set(f,g),i.set(f,x),o.push(f),g===1&&j&&Bh.set(f,!0),x===1&&f.setAttribute(r,"true"),j||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),Rg++,function(){o.forEach(function(h){var f=yl.get(h)-1,m=i.get(h)-1;yl.set(h,f),i.set(h,m),f||(Bh.has(h)||h.removeAttribute(n),Bh.delete(h)),m||h.removeAttribute(r)}),Rg--,Rg||(yl=new WeakMap,yl=new WeakMap,Bh=new WeakMap,zh={})}},ew=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||z6(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),U6(n,a,r,"aria-hidden")):function(){return null}},zs=function(){return zs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zs.apply(this,arguments)};function MA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function K6(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Cf="right-scroll-bar-position",Pf="width-before-scroll-bar",H6="with-scroll-bars-hidden",V6="--removed-body-scroll-bar-size";function $g(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function q6(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Y6=typeof window<"u"?p.useLayoutEffect:p.useEffect,xS=new WeakMap;function G6(e,t){var r=q6(t||null,function(n){return e.forEach(function(a){return $g(a,n)})});return Y6(function(){var n=xS.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||$g(l,null)}),i.forEach(function(l){a.has(l)||$g(l,o)})}xS.set(r,e)},[e]),r}function X6(e){return e}function J6(e,t){t===void 0&&(t=X6);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Q6(e){e===void 0&&(e={});var t=J6(null);return t.options=zs({async:!0,ssr:!1},e),t}var IA=function(e){var t=e.sideCar,r=MA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,zs({},r))};IA.isSideCarExport=!0;function Z6(e,t){return e.useMedium(t),IA}var RA=Q6(),Lg=function(){},Ip=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Lg,onWheelCapture:Lg,onTouchMoveCapture:Lg}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,j=e.noIsolation,g=e.inert,x=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,w=e.gapMode,b=MA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,k=G6([r,t]),P=zs(zs({},b),a);return p.createElement(p.Fragment,null,d&&p.createElement(N,{sideCar:RA,removeScrollBar:u,shards:h,noRelative:m,noIsolation:j,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?p.cloneElement(p.Children.only(l),zs(zs({},P),{ref:k})):p.createElement(v,zs({},P,{className:c,ref:k}),l))});Ip.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ip.classNames={fullWidth:Pf,zeroRight:Cf};var gS,e8=function(){if(gS)return gS;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t8(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=e8();return t&&e.setAttribute("nonce",t),e}function r8(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function n8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var s8=function(){var e=0,t=null;return{add:function(r){e==0&&(t=t8())&&(r8(t,r),n8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},a8=function(){var e=s8();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},$A=function(){var e=a8(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},i8={left:0,top:0,right:0,gap:0},Fg=function(e){return parseInt(e||"",10)||0},o8=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Fg(r),Fg(n),Fg(a)]},l8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return i8;var t=o8(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},c8=$A(),nc="data-scroll-locked",d8=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(H6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(nc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Pf,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(nc,`] {
    `).concat(V6,": ").concat(l,`px;
  }
`)},vS=function(){var e=parseInt(document.body.getAttribute(nc)||"0",10);return isFinite(e)?e:0},u8=function(){p.useEffect(function(){return document.body.setAttribute(nc,(vS()+1).toString()),function(){var e=vS()-1;e<=0?document.body.removeAttribute(nc):document.body.setAttribute(nc,e.toString())}},[])},h8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;u8();var i=p.useMemo(function(){return l8(a)},[a]);return p.createElement(c8,{styles:d8(i,!t,a,r?"":"!important")})},Py=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return Py=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{Py=!1}var jl=Py?{passive:!1}:!1,f8=function(e){return e.tagName==="TEXTAREA"},LA=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!f8(e)&&r[t]==="visible")},m8=function(e){return LA(e,"overflowY")},p8=function(e){return LA(e,"overflowX")},yS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=FA(e,n);if(a){var i=BA(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},x8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},g8=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},FA=function(e,t){return e==="v"?m8(t):p8(t)},BA=function(e,t){return e==="v"?x8(t):g8(t)},v8=function(e,t){return e==="h"&&t==="rtl"?-1:1},y8=function(e,t,r,n,a){var i=v8(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var m=BA(e,l),j=m[0],g=m[1],x=m[2],y=g-x-i*j;(j||y)&&FA(e,l)&&(h+=y,f+=j);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(a&&Math.abs(h)<1||!a&&o>h)||!d&&(a&&Math.abs(f)<1||!a&&-o>f))&&(u=!0),u},Uh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jS=function(e){return[e.deltaX,e.deltaY]},wS=function(e){return e&&"current"in e?e.current:e},j8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},w8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},b8=0,wl=[];function N8(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(b8++)[0],i=p.useState($A)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=K6([e.lockRef.current],(e.shards||[]).map(wS),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Uh(g),v=r.current,w="deltaX"in g?g.deltaX:v[0]-y[0],b="deltaY"in g?g.deltaY:v[1]-y[1],N,k=g.target,P=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in g&&P==="h"&&k.type==="range")return!1;var C=yS(P,k);if(!C)return!0;if(C?N=P:(N=P==="v"?"h":"v",C=yS(P,k)),!C)return!1;if(!n.current&&"changedTouches"in g&&(w||b)&&(n.current=N),!N)return!0;var A=n.current||N;return y8(A,x,g,A==="h"?w:b,!0)},[]),c=p.useCallback(function(g){var x=g;if(!(!wl.length||wl[wl.length-1]!==i)){var y="deltaY"in x?jS(x):Uh(x),v=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&j8(N.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(wS).filter(Boolean).filter(function(N){return N.contains(x.target)}),b=w.length>0?l(x,w[0]):!o.current.noIsolation;b&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(g,x,y,v){var w={name:g,delta:x,target:y,should:v,shadowParent:S8(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=p.useCallback(function(g){r.current=Uh(g),n.current=void 0},[]),h=p.useCallback(function(g){u(g.type,jS(g),g.target,l(g,e.lockRef.current))},[]),f=p.useCallback(function(g){u(g.type,Uh(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return wl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,jl),document.addEventListener("touchmove",c,jl),document.addEventListener("touchstart",d,jl),function(){wl=wl.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,jl),document.removeEventListener("touchmove",c,jl),document.removeEventListener("touchstart",d,jl)}},[]);var m=e.removeScrollBar,j=e.inert;return p.createElement(p.Fragment,null,j?p.createElement(i,{styles:w8(a)}):null,m?p.createElement(h8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function S8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const k8=Z6(RA,N8);var zA=p.forwardRef(function(e,t){return p.createElement(Ip,zs({},e,{ref:t,sideCar:k8}))});zA.classNames=Ip.classNames;const tw=zA;var C8=[" ","Enter","ArrowUp","ArrowDown"],P8=[" ","Enter"],Jo="Select",[Rp,$p,_8]=WE(Jo),[Bc,Lue]=ss(Jo,[_8,Dp]),Lp=Dp(),[E8,Ji]=Bc(Jo),[A8,O8]=Bc(Jo),WA=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:j}=e,g=Lp(t),[x,y]=p.useState(null),[v,w]=p.useState(null),[b,N]=p.useState(!1),k=Np(u),[P,C]=Fi({prop:n,defaultProp:a??!1,onChange:i,caller:Jo}),[A,S]=Fi({prop:o,defaultProp:l,onChange:c,caller:Jo}),I=p.useRef(null),O=x?j||!!x.closest("form"):!0,[z,V]=p.useState(new Set),Y=Array.from(z).map(R=>R.props.value).join(";");return s.jsx(EA,{...g,children:s.jsxs(E8,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:Pa(),value:A,onValueChange:S,open:P,onOpenChange:C,dir:k,triggerPointerDownPosRef:I,disabled:f,children:[s.jsx(Rp.Provider,{scope:t,children:s.jsx(A8,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(R=>{V(W=>new Set(W).add(R))},[]),onNativeOptionRemove:p.useCallback(R=>{V(W=>{const _=new Set(W);return _.delete(R),_})},[]),children:r})}),O?s.jsxs(dO,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:R=>S(R.target.value),disabled:f,form:j,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(z)]},Y):null]})})};WA.displayName=Jo;var UA="SelectTrigger",KA=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Lp(r),o=Ji(UA,r),l=o.disabled||n,c=Ge(t,o.onTriggerChange),u=$p(r),d=p.useRef("touch"),[h,f,m]=hO(g=>{const x=u().filter(w=>!w.disabled),y=x.find(w=>w.value===o.value),v=fO(x,g,y);v!==void 0&&o.onValueChange(v.value)}),j=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Qj,{asChild:!0,...i,children:s.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uO(o.value)?"":void 0,...a,ref:c,onClick:De(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&j(g)}),onPointerDown:De(a.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:De(a.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(x&&g.key===" ")&&C8.includes(g.key)&&(j(),g.preventDefault())})})})});KA.displayName=UA;var HA="SelectValue",VA=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Ji(HA,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Ge(t,c.onValueNodeChange);return Or(()=>{u(d)},[u,d]),s.jsx(Me.span,{...l,ref:h,style:{pointerEvents:"none"},children:uO(c.value)?s.jsx(s.Fragment,{children:o}):i})});VA.displayName=HA;var T8="SelectIcon",qA=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});qA.displayName=T8;var D8="SelectPortal",YA=e=>s.jsx(Mp,{asChild:!0,...e});YA.displayName=D8;var Qo="SelectContent",GA=p.forwardRef((e,t)=>{const r=Ji(Qo,e.__scopeSelect),[n,a]=p.useState();if(Or(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Gi.createPortal(s.jsx(XA,{scope:e.__scopeSelect,children:s.jsx(Rp.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(JA,{...e,ref:t})});GA.displayName=Qo;var ps=10,[XA,Qi]=Bc(Qo),M8="SelectContentImpl",I8=Go("SelectContent.RemoveScroll"),JA=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:j,hideWhenDetached:g,avoidCollisions:x,...y}=e,v=Ji(Qo,r),[w,b]=p.useState(null),[N,k]=p.useState(null),P=Ge(t,ee=>b(ee)),[C,A]=p.useState(null),[S,I]=p.useState(null),O=$p(r),[z,V]=p.useState(!1),Y=p.useRef(!1);p.useEffect(()=>{if(w)return ew(w)},[w]),Wj();const R=p.useCallback(ee=>{const[ce,...ie]=O().map(E=>E.ref.current),[le]=ie.slice(-1),me=document.activeElement;for(const E of ee)if(E===me||(E?.scrollIntoView({block:"nearest"}),E===ce&&N&&(N.scrollTop=0),E===le&&N&&(N.scrollTop=N.scrollHeight),E?.focus(),document.activeElement!==me))return},[O,N]),W=p.useCallback(()=>R([C,w]),[R,C,w]);p.useEffect(()=>{z&&W()},[z,W]);const{onOpenChange:_,triggerPointerDownPosRef:T}=v;p.useEffect(()=>{if(w){let ee={x:0,y:0};const ce=le=>{ee={x:Math.abs(Math.round(le.pageX)-(T.current?.x??0)),y:Math.abs(Math.round(le.pageY)-(T.current?.y??0))}},ie=le=>{ee.x<=10&&ee.y<=10?le.preventDefault():w.contains(le.target)||_(!1),document.removeEventListener("pointermove",ce),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",ie,{capture:!0})}}},[w,_,T]),p.useEffect(()=>{const ee=()=>_(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[_]);const[re,M]=hO(ee=>{const ce=O().filter(me=>!me.disabled),ie=ce.find(me=>me.ref.current===document.activeElement),le=fO(ce,ee,ie);le&&setTimeout(()=>le.ref.current.focus())}),H=p.useCallback((ee,ce,ie)=>{const le=!Y.current&&!ie;(v.value!==void 0&&v.value===ce||le)&&(A(ee),le&&(Y.current=!0))},[v.value]),te=p.useCallback(()=>w?.focus(),[w]),ne=p.useCallback((ee,ce,ie)=>{const le=!Y.current&&!ie;(v.value!==void 0&&v.value===ce||le)&&I(ee)},[v.value]),fe=n==="popper"?_y:QA,ae=fe===_y?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:j,hideWhenDetached:g,avoidCollisions:x}:{};return s.jsx(XA,{scope:r,content:w,viewport:N,onViewportChange:k,itemRefCallback:H,selectedItem:C,onItemLeave:te,itemTextRefCallback:ne,focusSelectedItem:W,selectedItemText:S,position:n,isPositioned:z,searchRef:re,children:s.jsx(tw,{as:I8,allowPinchZoom:!0,children:s.jsx(_p,{asChild:!0,trapped:v.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:De(a,ee=>{v.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:s.jsx(Pp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(fe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ee=>ee.preventDefault(),...y,...ae,onPlaced:()=>V(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:De(y.onKeyDown,ee=>{const ce=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ce&&ee.key.length===1&&M(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let le=O().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const me=ee.target,E=le.indexOf(me);le=le.slice(E+1)}setTimeout(()=>R(le)),ee.preventDefault()}})})})})})})});JA.displayName=M8;var R8="SelectItemAlignedPosition",QA=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ji(Qo,r),o=Qi(Qo,r),[l,c]=p.useState(null),[u,d]=p.useState(null),h=Ge(t,P=>d(P)),f=$p(r),m=p.useRef(!1),j=p.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=o,w=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&x&&y){const P=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),S=y.getBoundingClientRect();if(i.dir!=="rtl"){const me=S.left-C.left,E=A.left-me,ue=P.left-E,Ce=P.width+ue,Be=Math.max(Ce,C.width),Qe=window.innerWidth-ps,Ft=by(E,[ps,Math.max(ps,Qe-Be)]);l.style.minWidth=Ce+"px",l.style.left=Ft+"px"}else{const me=C.right-S.right,E=window.innerWidth-A.right-me,ue=window.innerWidth-P.right-E,Ce=P.width+ue,Be=Math.max(Ce,C.width),Qe=window.innerWidth-ps,Ft=by(E,[ps,Math.max(ps,Qe-Be)]);l.style.minWidth=Ce+"px",l.style.right=Ft+"px"}const I=f(),O=window.innerHeight-ps*2,z=g.scrollHeight,V=window.getComputedStyle(u),Y=parseInt(V.borderTopWidth,10),R=parseInt(V.paddingTop,10),W=parseInt(V.borderBottomWidth,10),_=parseInt(V.paddingBottom,10),T=Y+R+z+_+W,re=Math.min(x.offsetHeight*5,T),M=window.getComputedStyle(g),H=parseInt(M.paddingTop,10),te=parseInt(M.paddingBottom,10),ne=P.top+P.height/2-ps,fe=O-ne,ae=x.offsetHeight/2,ee=x.offsetTop+ae,ce=Y+R+ee,ie=T-ce;if(ce<=ne){const me=I.length>0&&x===I[I.length-1].ref.current;l.style.bottom="0px";const E=u.clientHeight-g.offsetTop-g.offsetHeight,ue=Math.max(fe,ae+(me?te:0)+E+W),Ce=ce+ue;l.style.height=Ce+"px"}else{const me=I.length>0&&x===I[0].ref.current;l.style.top="0px";const ue=Math.max(ne,Y+g.offsetTop+(me?H:0)+ae)+ie;l.style.height=ue+"px",g.scrollTop=ce-ne+g.offsetTop}l.style.margin=`${ps}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=O+"px",n?.(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,g,x,y,i.dir,n]);Or(()=>w(),[w]);const[b,N]=p.useState();Or(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const k=p.useCallback(P=>{P&&j.current===!0&&(w(),v?.(),j.current=!1)},[w,v]);return s.jsx(L8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(Me.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});QA.displayName=R8;var $8="SelectPopperPosition",_y=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ps,...i}=e,o=Lp(r);return s.jsx(AA,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_y.displayName=$8;var[L8,rw]=Bc(Qo,{}),Ey="SelectViewport",ZA=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Qi(Ey,r),o=rw(Ey,r),l=Ge(t,i.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Rp.Slot,{scope:r,children:s.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:De(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f?.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const j=window.innerHeight-ps*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(g,x);if(y<j){const v=y+m,w=Math.min(j,v),b=v-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ZA.displayName=Ey;var eO="SelectGroup",[F8,B8]=Bc(eO),z8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Pa();return s.jsx(F8,{scope:r,id:a,children:s.jsx(Me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});z8.displayName=eO;var tO="SelectLabel",W8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=B8(tO,r);return s.jsx(Me.div,{id:a.id,...n,ref:t})});W8.displayName=tO;var cm="SelectItem",[U8,rO]=Bc(cm),nO=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Ji(cm,r),c=Qi(cm,r),u=l.value===n,[d,h]=p.useState(i??""),[f,m]=p.useState(!1),j=Ge(t,v=>c.itemRefCallback?.(v,n,a)),g=Pa(),x=p.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(U8,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:p.useCallback(v=>{h(w=>w||(v?.textContent??"").trim())},[]),children:s.jsx(Rp.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Me.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:De(o.onFocus,()=>m(!0)),onBlur:De(o.onBlur,()=>m(!1)),onClick:De(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:De(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:De(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:De(o.onPointerMove,v=>{x.current=v.pointerType,a?c.onItemLeave?.():x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(o.onPointerLeave,v=>{v.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:De(o.onKeyDown,v=>{c.searchRef?.current!==""&&v.key===" "||(P8.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});nO.displayName=cm;var Od="SelectItemText",sO=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ji(Od,r),l=Qi(Od,r),c=rO(Od,r),u=O8(Od,r),[d,h]=p.useState(null),f=Ge(t,y=>h(y),c.onItemTextChange,y=>l.itemTextRefCallback?.(y,c.value,c.disabled)),m=d?.textContent,j=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return Or(()=>(g(j),()=>x(j)),[g,x,j]),s.jsxs(s.Fragment,{children:[s.jsx(Me.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gi.createPortal(i.children,o.valueNode):null]})});sO.displayName=Od;var aO="SelectItemIndicator",iO=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return rO(aO,r).isSelected?s.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});iO.displayName=aO;var Ay="SelectScrollUpButton",oO=p.forwardRef((e,t)=>{const r=Qi(Ay,e.__scopeSelect),n=rw(Ay,e.__scopeSelect),[a,i]=p.useState(!1),o=Ge(t,n.onScrollButtonChange);return Or(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(cO,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oO.displayName=Ay;var Oy="SelectScrollDownButton",lO=p.forwardRef((e,t)=>{const r=Qi(Oy,e.__scopeSelect),n=rw(Oy,e.__scopeSelect),[a,i]=p.useState(!1),o=Ge(t,n.onScrollButtonChange);return Or(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(cO,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lO.displayName=Oy;var cO=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Qi("SelectScrollButton",r),o=p.useRef(null),l=$p(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Or(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:De(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:De(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:De(a.onPointerLeave,()=>{c()})})}),K8="SelectSeparator",H8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});H8.displayName=K8;var Ty="SelectArrow",V8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Lp(r),i=Ji(Ty,r),o=Qi(Ty,r);return i.open&&o.position==="popper"?s.jsx(OA,{...a,...n,ref:t}):null});V8.displayName=Ty;var q8="SelectBubbleInput",dO=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=p.useRef(null),i=Ge(n,a),o=Zj(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Me.select,{...r,style:{...TA,...r.style},ref:i,defaultValue:t})});dO.displayName=q8;function uO(e){return e===""||e===void 0}function hO(e){const t=qr(e),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function fO(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Y8(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Y8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var G8=WA,X8=KA,J8=VA,Q8=qA,Z8=YA,ez=GA,tz=ZA,rz=nO,nz=sO,sz=iO,az=oO,iz=lO;function je({...e}){return s.jsx(G8,{"data-slot":"select",...e})}function we({...e}){return s.jsx(J8,{"data-slot":"select-value",...e})}function be({className:e,size:t="default",children:r,...n}){return s.jsxs(X8,{"data-slot":"select-trigger","data-size":t,className:pe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(Q8,{asChild:!0,children:s.jsx(wE,{className:"size-4 opacity-50"})})]})}function Ne({className:e,children:t,position:r="popper",...n}){return s.jsx(Z8,{children:s.jsxs(ez,{"data-slot":"select-content",className:pe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(oz,{}),s.jsx(tz,{className:pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(lz,{})]})})}function F({className:e,children:t,...r}){return s.jsxs(rz,{"data-slot":"select-item",className:pe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(sz,{children:s.jsx(Vl,{className:"size-4"})})}),s.jsx(nz,{children:t})]})}function oz({className:e,...t}){return s.jsx(az,{"data-slot":"select-scroll-up-button",className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(OF,{className:"size-4"})})}function lz({className:e,...t}){return s.jsx(iz,{"data-slot":"select-scroll-down-button",className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(wE,{className:"size-4"})})}function vt({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:pe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function cz({onComplete:e,onBack:t}){const[r,n]=p.useState(1),[a,i]=p.useState({businessName:"",businessType:"",businessSize:"",ownerName:"",ownerPhone:"",businessEmail:"",businessPhone:"",businessAddress:"",city:"",region:"",registrationNumber:"",tinNumber:"",yearEstablished:"",numberOfEmployees:1,locationCount:1,description:"",productsCount:0,averageMonthlySales:"",accountEmail:"",accountPassword:"",confirmPassword:"",selectedFeatures:[],paymentMethod:""}),o=[{value:"retail",label:"Retail Store",icon:gc,description:"Sell products directly to customers"},{value:"wholesale",label:"Wholesale",icon:kE,description:"Bulk sales to retailers"},{value:"manufacturing",label:"Manufacturing",icon:At,description:"Produce and sell products"},{value:"restaurant",label:"Restaurant",icon:Nt,description:"Food service business"},{value:"pharmacy",label:"Pharmacy",icon:Vt,description:"Healthcare and medicine"},{value:"other",label:"Other",icon:At,description:"Custom business type"}],l=[{value:"startup",label:"Startup",description:"1-5 employees, just starting"},{value:"small",label:"Small Business",description:"6-20 employees"},{value:"medium",label:"Medium Business",description:"21-50 employees"},{value:"enterprise",label:"Enterprise",description:"50+ employees"}],c=["Greater Accra","Ashanti","Western","Eastern","Central","Northern","Upper East","Upper West","Volta","Bono","Bono East","Ahafo","Savannah","North East","Oti","Western North"],u=()=>({...a,businessSize:a.businessSize||"small",dashboardType:a.businessSize==="enterprise"?"enterprise":a.businessSize==="medium"?"advanced":"simple",accountEmail:a.accountEmail,accountPassword:a.accountPassword}),d=()=>{r<3?(r===1&&i(g=>({...g,accountEmail:g.businessEmail||g.accountEmail})),n(r+1)):e(u())},h=()=>{r>1?n(r-1):r===1&&t&&t()},f=()=>s.jsxs("div",{className:"space-y-4 pb-6 max-h-[65vh] overflow-y-auto pr-2",children:[s.jsxs("div",{className:"text-center sticky top-0 bg-white z-10 pb-2",children:[s.jsx("h2",{className:"text-xl font-bold mb-1",children:"Business Information"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Tell us about your business"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(At,{className:"h-3 w-3"}),"Basic Information"]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessName",className:"text-xs",children:"Business Name *"}),s.jsx(Q,{id:"businessName",placeholder:"e.g., Accra Business Center",value:a.businessName,onChange:g=>i({...a,businessName:g.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"description",className:"text-xs",children:"Business Description *"}),s.jsx(vt,{id:"description",placeholder:"Brief description...",value:a.description,onChange:g=>i({...a,description:g.target.value}),rows:2,required:!0,className:"text-sm"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessType",className:"text-xs",children:"Business Type *"}),s.jsxs(je,{value:a.businessType,onValueChange:g=>i({...a,businessType:g}),children:[s.jsx(be,{className:"h-8 text-xs",children:s.jsx(we,{placeholder:"Select type"})}),s.jsx(Ne,{children:o.map(g=>s.jsx(F,{value:g.value,className:"text-xs",children:g.label},g.value))})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessSize",className:"text-xs",children:"Business Size *"}),s.jsxs(je,{value:a.businessSize,onValueChange:g=>i({...a,businessSize:g}),children:[s.jsx(be,{className:"h-8 text-xs",children:s.jsx(we,{placeholder:"Select size"})}),s.jsx(Ne,{children:l.map(g=>s.jsx(F,{value:g.value,className:"text-xs",children:g.label},g.value))})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),"Contact Information"]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"ownerName",className:"text-xs",children:"Owner/Manager Name *"}),s.jsx(Q,{id:"ownerName",placeholder:"Full name",value:a.ownerName,onChange:g=>i({...a,ownerName:g.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"ownerPhone",className:"text-xs",children:"Owner Phone *"}),s.jsx(Q,{id:"ownerPhone",type:"tel",placeholder:"+233 XX XXX XXXX",value:a.ownerPhone,onChange:g=>i({...a,ownerPhone:g.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessPhone",className:"text-xs",children:"Business Phone"}),s.jsx(Q,{id:"businessPhone",type:"tel",placeholder:"+233 XX XXX XXXX",value:a.businessPhone,onChange:g=>i({...a,businessPhone:g.target.value}),className:"text-sm h-8"})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessEmail",className:"text-xs",children:"Business Email"}),s.jsx(Q,{id:"businessEmail",type:"email",placeholder:"business@example.com",value:a.businessEmail,onChange:g=>i({...a,businessEmail:g.target.value}),className:"text-sm h-8"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(Gn,{className:"h-3 w-3"}),"Location"]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessAddress",className:"text-xs",children:"Business Address *"}),s.jsx(Q,{id:"businessAddress",placeholder:"Street address",value:a.businessAddress,onChange:g=>i({...a,businessAddress:g.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"city",className:"text-xs",children:"City/Town *"}),s.jsx(Q,{id:"city",placeholder:"e.g., Accra",value:a.city,onChange:g=>i({...a,city:g.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"region",className:"text-xs",children:"Region *"}),s.jsxs(je,{value:a.region,onValueChange:g=>i({...a,region:g}),children:[s.jsx(be,{className:"h-8 text-xs",children:s.jsx(we,{placeholder:"Select region"})}),s.jsx(Ne,{children:c.map(g=>s.jsx(F,{value:g,className:"text-xs",children:g},g))})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(gc,{className:"h-3 w-3"}),"Business Details"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"registrationNumber",className:"text-xs",children:"Registration Number"}),s.jsx(Q,{id:"registrationNumber",placeholder:"Company reg. no.",value:a.registrationNumber,onChange:g=>i({...a,registrationNumber:g.target.value}),className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"tinNumber",className:"text-xs",children:"TIN Number"}),s.jsx(Q,{id:"tinNumber",placeholder:"Tax identification",value:a.tinNumber,onChange:g=>i({...a,tinNumber:g.target.value}),className:"text-sm h-8"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"yearEstablished",className:"text-xs",children:"Year Est."}),s.jsx(Q,{id:"yearEstablished",type:"number",placeholder:"2020",value:a.yearEstablished,onChange:g=>i({...a,yearEstablished:g.target.value}),min:"1900",max:new Date().getFullYear(),className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"numberOfEmployees",className:"text-xs",children:"Employees *"}),s.jsx(Q,{id:"numberOfEmployees",type:"number",placeholder:"10",value:a.numberOfEmployees,onChange:g=>i({...a,numberOfEmployees:parseInt(g.target.value)||1}),min:"1",required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"locationCount",className:"text-xs",children:"Locations"}),s.jsx(Q,{id:"locationCount",type:"number",placeholder:"1",value:a.locationCount,onChange:g=>i({...a,locationCount:parseInt(g.target.value)||1}),min:"1",className:"text-sm h-8"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(Vt,{className:"h-3 w-3"}),"Operations"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"productsCount",className:"text-xs",children:"Est. Product Count"}),s.jsx(Q,{id:"productsCount",type:"number",placeholder:"100",value:a.productsCount,onChange:g=>i({...a,productsCount:parseInt(g.target.value)||0}),min:"0",className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"averageMonthlySales",className:"text-xs",children:"Avg Monthly Sales"}),s.jsxs(je,{value:a.averageMonthlySales,onValueChange:g=>i({...a,averageMonthlySales:g}),children:[s.jsx(be,{className:"h-8 text-xs",children:s.jsx(we,{placeholder:"Select range"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"0-5000",className:"text-xs",children:"Below GHS 5K"}),s.jsx(F,{value:"5000-20000",className:"text-xs",children:"GHS 5K - 20K"}),s.jsx(F,{value:"20000-50000",className:"text-xs",children:"GHS 20K - 50K"}),s.jsx(F,{value:"50000-100000",className:"text-xs",children:"GHS 50K - 100K"}),s.jsx(F,{value:"100000+",className:"text-xs",children:"Above GHS 100K"})]})]})]})]})]})]})]}),m=()=>s.jsxs("div",{className:"space-y-6 pb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Setup Your Account"}),s.jsx("p",{className:"text-muted-foreground",children:"Create your admin login credentials"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Important:"})," These credentials will be used to log in to your admin dashboard after your account is activated by the Super Admin."]})}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"accountEmail",children:"Email Address *"}),s.jsx(Q,{id:"accountEmail",type:"email",placeholder:"your.email@example.com",value:a.accountEmail,onChange:g=>i({...a,accountEmail:g.target.value}),required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You'll use this email to log in"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"accountPhone",children:"Phone Number (Optional)"}),s.jsx(Q,{id:"accountPhone",type:"tel",placeholder:"+233 XX XXX XXXX",value:a.businessPhone,onChange:g=>i({...a,businessPhone:g.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For account recovery and notifications"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"accountPassword",children:"Password *"}),s.jsx(Q,{id:"accountPassword",type:"password",placeholder:"Create a strong password (min. 8 characters)",value:a.accountPassword,onChange:g=>i({...a,accountPassword:g.target.value}),required:!0,minLength:8}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum 8 characters, include letters and numbers"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"confirmPassword",children:"Confirm Password *"}),s.jsx(Q,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",value:a.confirmPassword,onChange:g=>i({...a,confirmPassword:g.target.value}),required:!0}),a.confirmPassword&&a.accountPassword!==a.confirmPassword&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Passwords do not match"})]}),s.jsxs("div",{className:"flex items-start space-x-2 pt-4",children:[s.jsx("input",{type:"checkbox",id:"terms",className:"mt-1",required:!0}),s.jsx(D,{htmlFor:"terms",className:"text-sm font-normal cursor-pointer",children:"I agree to the terms and conditions and privacy policy"})]})]})]}),j=()=>s.jsxs("div",{className:"space-y-6 pb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Business Setup Complete!"}),s.jsx("p",{className:"text-muted-foreground",children:"Your business profile has been created successfully"})]}),s.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Pending Activation"}),s.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Your business registration has been submitted successfully. Please contact the Super Admin to activate your account."})]})]})}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Available Plans:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Basic Plan:"}),s.jsx("span",{className:"font-semibold",children:"1,500 + 200 maintenance"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Pro Plan:"}),s.jsx("span",{className:"font-semibold",children:"3,000 + 400 maintenance"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Enterprise Plan:"}),s.jsx("span",{className:"font-semibold",children:"5,000 + 800 maintenance"})]})]})]})]});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs($,{className:"w-full max-w-sm",children:[s.jsx(U,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(K,{className:"text-xl",children:"Business Setup"}),s.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(g=>s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${g<=r?"bg-primary text-white":"bg-muted text-muted-foreground"}`,children:g},g))})]})}),s.jsxs(L,{children:[r===1&&f(),r===2&&m(),r===3&&j(),s.jsxs("div",{className:"flex justify-between mt-12",children:[s.jsx(B,{variant:r===1?"default":"outline",onClick:h,children:"Back"}),s.jsx(B,{onClick:d,disabled:r===1&&(!a.businessName||!a.description||!a.ownerName||!a.ownerPhone||!a.businessAddress||!a.city||!a.region||!a.businessType||!a.businessSize||!a.numberOfEmployees)||r===2&&(!a.accountEmail||!a.accountPassword||!a.confirmPassword||a.accountPassword!==a.confirmPassword||a.accountPassword.length<8),children:r===3?"Complete Setup":"Next"})]})]})]})})}const dz="modulepreload",uz=function(e){return"/"+e},bS={},Wu=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=uz(i),i in bS)return;bS[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const h=a[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":dz,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},hz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wu(()=>Promise.resolve().then(()=>zc),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class nw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class NS extends nw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class SS extends nw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kS extends nw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dy||(Dy={}));var fz=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class mz{constructor(t,{headers:r={},customFetch:n,region:a=Dy.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=hz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return fz(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)));const m=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new NS(y)}),j=m.headers.get("x-relay-error");if(j&&j==="true")throw new SS(m);if(!m.ok)throw new kS(m);let g=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield m.json():g==="application/octet-stream"?x=yield m.blob():g==="text/event-stream"?x=m:g==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new NS(i)}:{data:null,error:i,response:i instanceof kS||i instanceof SS?i.context:void 0}}})}}var an={},sw={},Fp={},Uu={},Bp={},zp={},pz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yc=pz();const xz=yc.fetch,mO=yc.fetch.bind(yc),pO=yc.Headers,gz=yc.Request,vz=yc.Response,zc=Object.freeze(Object.defineProperty({__proto__:null,Headers:pO,Request:gz,Response:vz,default:mO,fetch:xz},Symbol.toStringTag,{value:"Module"})),yz=X$(zc);var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});let jz=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Wp.default=jz;var xO=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zp,"__esModule",{value:!0});const wz=xO(yz),bz=xO(Wp);let Nz=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=wz.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,h=null,f=null,m=i.status,j=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=v:h=JSON.parse(v))}const x=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,j="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await i.text();try{d=JSON.parse(x),Array.isArray(d)&&i.status===404&&(h=[],d=null,m=200,j="OK")}catch{i.status===404&&x===""?(m=204,j="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((u=d?.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,j="OK"),d&&this.shouldThrowOnError)throw new bz.default(d)}return{error:d,data:h,count:f,status:m,statusText:j}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(l=i?.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};zp.default=Nz;var Sz=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bp,"__esModule",{value:!0});const kz=Sz(zp);let Cz=class extends kz.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Bp.default=Cz;var Pz=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uu,"__esModule",{value:!0});const _z=Pz(Bp);let Ez=class extends _z.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uu.default=Ez;var Az=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fp,"__esModule",{value:!0});const pd=Az(Uu);let Oz=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,r){const{head:n=!1,count:a}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new pd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new pd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new pd.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new pd.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new pd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Fp.default=Oz;var gO=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sw,"__esModule",{value:!0});const Tz=gO(Fp),Dz=gO(Uu);let Mz=class vO{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Tz.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Dz.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};sw.default=Mz;var Wc=Zn&&Zn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(an,"__esModule",{value:!0});an.PostgrestError=an.PostgrestBuilder=an.PostgrestTransformBuilder=an.PostgrestFilterBuilder=an.PostgrestQueryBuilder=an.PostgrestClient=void 0;const yO=Wc(sw);an.PostgrestClient=yO.default;const jO=Wc(Fp);an.PostgrestQueryBuilder=jO.default;const wO=Wc(Uu);an.PostgrestFilterBuilder=wO.default;const bO=Wc(Bp);an.PostgrestTransformBuilder=bO.default;const NO=Wc(zp);an.PostgrestBuilder=NO.default;const SO=Wc(Wp);an.PostgrestError=SO.default;var Iz=an.default={PostgrestClient:yO.default,PostgrestQueryBuilder:jO.default,PostgrestFilterBuilder:wO.default,PostgrestTransformBuilder:bO.default,PostgrestBuilder:NO.default,PostgrestError:SO.default};const{PostgrestClient:Rz,PostgrestQueryBuilder:Kue,PostgrestFilterBuilder:Hue,PostgrestTransformBuilder:Vue,PostgrestBuilder:que,PostgrestError:Yue}=Iz;class $z{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Lz="2.75.0",Fz=`realtime-js/${Lz}`,Bz="1.0.0",My=1e4,zz=1e3,Wz=100;var Hd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hd||(Hd={}));var ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ar||(ar={}));var vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vs||(vs={}));var Iy;(function(e){e.websocket="websocket"})(Iy||(Iy={}));var No;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(No||(No={}));class Uz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class kO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const CS=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Kz(o,e,t,a),i),{}):{}},Kz=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?CO(i,o):Ry(o)},CO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Yz(t,r)}switch(e){case ft.bool:return Hz(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return Vz(t);case ft.json:case ft.jsonb:return qz(t);case ft.timestamp:return Gz(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return Ry(t);default:return Ry(t)}},Ry=e=>e,Hz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Yz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>CO(t,l))}return e},Gz=e=>typeof e=="string"?e.replace(" ","T"):e,PO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Bg{constructor(t,r,n={},a=My){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var PS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(PS||(PS={}));class Vd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vd.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Vd.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vd.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),j=d.filter(x=>m.indexOf(x.presence_ref)<0),g=h.filter(x=>f.indexOf(x.presence_ref)<0);j.length>0&&(l[u]=j),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _S;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_S||(_S={}));var qd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qd||(qd={}));var ha;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ha||(ha={}));class aw{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bg(this,vs.join,this.params,this.timeout),this.rejoinTimer=new kO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ar.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Vd(this),this.broadcastEndpointURL=PO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ar.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[qd.PRESENCE]&&this.bindings[qd.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t?.(ha.CHANNEL_ERROR,m)),this._onClose(()=>t?.(ha.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var j;if(this.socket.setAuth(),m===void 0){t?.(ha.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(j=g?.length)!==null&&j!==void 0?j:0,y=[];for(let v=0;v<x;v++){const w=g[v],{filter:{event:b,schema:N,table:k,filter:P}}=w,C=m&&m[v];if(C&&C.event===b&&C.schema===N&&C.table===k&&C.filter===P)y.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=ar.errored,t?.(ha.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ha.SUBSCRIBED);return}}).receive("error",m=>{this.state=ar.errored,t?.(ha.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t?.(ha.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ar.joined&&t===qd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Bg(this,vs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ar.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Bg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Wz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=vs;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var j,g,x;return((j=m.filter)===null||j===void 0?void 0:j.event)==="*"||((x=(g=m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var j,g,x,y,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,N=(j=m.filter)===null||j===void 0?void 0:j.event;return b&&((g=r.ids)===null||g===void 0?void 0:g.includes(b))&&(N==="*"||N?.toLocaleLowerCase()===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(v=(y=m?.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const j=f.data,{schema:g,table:x,commit_timestamp:y,type:v,errors:w}=j;f=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(j))}m.callback(f,n)})}_isClosed(){return this.state===ar.closed}_isJoined(){return this.state===ar.joined}_isJoining(){return this.state===ar.joining}_isLeaving(){return this.state===ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&aw.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vs.close,{},t)}_onError(t){this._on(vs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=CS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=CS(t.columns,t.old_record)),r}}const zg=()=>{},Kh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xz=[1e3,2e3,5e3,1e4],Jz=1e4,Qz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=My,this.transport=null,this.heartbeatIntervalMs=Kh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zg,this.ref=0,this.reconnectTimer=null,this.logger=zg,this.conn=null,this.sendBuffer=[],this.serializer=new Uz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Wu(()=>Promise.resolve().then(()=>zc),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Iy.websocket}`,this.httpEndpoint=PO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$z.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bz}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hd.connecting:return No.Connecting;case Hd.open:return No.Open;case Hd.closing:return No.Closing;default:return No.Closed}}isConnected(){return this.connectionState()===No.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new aw(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Kh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(vs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Qz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Fz};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(vs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:My,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Kh.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:zg,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:h=>Xz[h-1]||Jz,this.encode=(u=t?.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class iw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class eW extends iw{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $y extends iw{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var tW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _O=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wu(()=>Promise.resolve().then(()=>zc),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rW=()=>tW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wu(()=>Promise.resolve().then(()=>zc),void 0)).Response:Response}),Ly=e=>{if(Array.isArray(e))return e.map(r=>Ly(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Ly(n)}),t},nW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var cl=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Wg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sW=(e,t,r)=>cl(void 0,void 0,void 0,function*(){const n=yield rW();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new eW(Wg(a),i,o))}).catch(a=>{t(new $y(Wg(a),a))}):t(new $y(Wg(e),e))}),aW=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(nW(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Ku(e,t,r,n,a,i){return cl(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,aW(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>sW(c,l,n))})})}function dm(e,t,r,n){return cl(this,void 0,void 0,function*(){return Ku(e,"GET",t,r,n)})}function $s(e,t,r,n,a){return cl(this,void 0,void 0,function*(){return Ku(e,"POST",t,n,a,r)})}function Fy(e,t,r,n,a){return cl(this,void 0,void 0,function*(){return Ku(e,"PUT",t,n,a,r)})}function iW(e,t,r,n){return cl(this,void 0,void 0,function*(){return Ku(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function EO(e,t,r,n,a){return cl(this,void 0,void 0,function*(){return Ku(e,"DELETE",t,n,a,r)})}var oW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class lW{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return oW(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}}var cW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class dW{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new lW(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return cW(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}}var tn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const uW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ES={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hW{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=_O(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return tn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ES),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Fy:$s)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return tn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ES.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Fy(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return tn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield $s(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new iw("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}update(t,r,n){return tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return tn(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return tn(this,void 0,void 0,function*(){try{return{data:{path:(yield $s(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return tn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield $s(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return tn(this,void 0,void 0,function*(){try{const a=yield $s(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>dm(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new dW(c,this.shouldThrowOnError)}info(t){return tn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield dm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ly(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}exists(t){return tn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iW(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n)&&n instanceof $y){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return tn(this,void 0,void 0,function*(){try{return{data:yield EO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}list(t,r,n){return tn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},uW),r),{prefix:t||""});return{data:yield $s(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}})}listV2(t,r){return tn(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield $s(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fW="2.75.0",mW={"X-Client-Info":`storage-js/${fW}`};var bl=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class pW{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mW),r),this.fetch=_O(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return bl(this,void 0,void 0,function*(){try{return{data:yield dm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}})}getBucket(t){return bl(this,void 0,void 0,function*(){try{return{data:yield dm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}createBucket(t){return bl(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield $s(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return bl(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return bl(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return bl(this,void 0,void 0,function*(){try{return{data:yield EO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}})}}class xW extends pW{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new hW(this.url,this.headers,t,this.fetch)}}const gW="2.75.0";let Td="";typeof Deno<"u"?Td="deno":typeof document<"u"?Td="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Td="react-native":Td="node";const vW={"X-Client-Info":`supabase-js-${Td}/${gW}`},yW={headers:vW},jW={schema:"public"},wW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bW={};var NW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const SW=e=>{let t;return e?t=e:typeof fetch>"u"?t=mO:t=fetch,(...r)=>t(...r)},kW=()=>typeof Headers>"u"?pO:Headers,CW=(e,t,r)=>{const n=SW(r),a=kW();return(i,o)=>NW(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var PW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function _W(e){return e.endsWith("/")?e:e+"/"}function EW(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>PW(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function AW(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_W(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const AO="2.75.0",Tl=30*1e3,By=3,Ug=By*Tl,OW="http://localhost:9999",TW="supabase.auth.token",DW={"X-Client-Info":`gotrue-js/${AO}`},zy="X-Supabase-Api-Version",OO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IW=10*60*1e3;class vu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class RW extends vu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $W(e){return Te(e)&&e.name==="AuthApiError"}class So extends vu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zi extends vu{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class li extends Zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LW(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Nl extends Zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hh extends Zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vh extends Zi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FW(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class AS extends Zi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wy extends Zi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Kg(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class OS extends Zi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Uy extends Zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TS=` 	
\r=`.split(""),BW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TS.length;t+=1)e[TS[t].charCodeAt(0)]=-2;for(let t=0;t<um.length;t+=1)e[um[t].charCodeAt(0)]=t;return e})();function DS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(um[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(um[n]),t.queuedBits-=6}}function TO(e,t,r){const n=BW[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function MS(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{UW(o,n,r)};for(let o=0;o<e.length;o+=1)TO(e.charCodeAt(o),a,i);return t.join("")}function zW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WW(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}zW(n,t)}}function UW(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function sc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)TO(e.charCodeAt(a),r,n);return new Uint8Array(t)}function KW(e){const t=[];return WW(e,r=>t.push(r)),new Uint8Array(t)}function _o(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>DS(a,r,n)),DS(null,r,n),t.join("")}function HW(e){return Math.round(Date.now()/1e3)+e}function VW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yn=()=>typeof window<"u"&&typeof document<"u",uo={tested:!1,writable:!1},DO=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(uo.tested)return uo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),uo.tested=!0,uo.writable=!0}catch{uo.tested=!0,uo.writable=!1}return uo.writable};function qW(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const MO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wu(()=>Promise.resolve().then(()=>zc),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},YW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ho=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ai=async(e,t)=>{await e.removeItem(t)};class Up{constructor(){this.promise=new Up.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Up.promiseConstructor=Promise;function Hg(e){const t=e.split(".");if(t.length!==3)throw new Uy("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!MW.test(t[n]))throw new Uy("JWT not in base64url format");return{header:JSON.parse(MS(t[0])),payload:JSON.parse(MS(t[1])),signature:sc(t[2]),raw:{header:t[0],payload:t[1]}}}async function GW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XW(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function JW(e){return("0"+e.toString(16)).substr(-2)}function QW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,JW).join("")}async function ZW(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function eU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ZW(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sl(e,t,r=!1){const n=QW();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Dl(e,`${t}-code-verifier`,a);const i=await eU(n);return[i,n===i?"plain":"s256"]}const tU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rU(e){const t=e.headers.get(zy);if(!t||!t.match(tU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kl(e){if(!aU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IS(e){return JSON.parse(JSON.stringify(e))}var iU=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const go=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oU=[502,503,504];async function RS(e){var t;if(!YW(e))throw new Wy(go(e),0);if(oU.includes(e.status))throw new Wy(go(e),e.status);let r;try{r=await e.json()}catch(i){throw new So(go(i),i)}let n;const a=rU(e);if(a&&a.getTime()>=OO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new OS(go(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new li}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new OS(go(r),e.status,r.weak_password.reasons);throw new RW(go(r),e.status||500,n)}const lU=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Le(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[zy]||(i[zy]=OO["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await cU(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function cU(e,t,r,n,a,i){const o=lU(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Wy(go(c),0)}if(l.ok||await RS(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await RS(c)}}function ms(e){var t;let r=null;hU(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=HW(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $S(e){const t=ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dU(e){return{data:e,error:null}}function uU(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=iU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function LS(e){return e}function hU(e){return e.access_token&&e.refresh_token&&e.expires_in}const qg=["global","local","others"];var fU=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class mU{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=qg[0]){if(qg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qg.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pi})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fU(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:uU,redirectTo:r?.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pi})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:LS});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(j=>{const g=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(j.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){kl(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pi})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){kl(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pi})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){kl(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pi})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){kl(t.userId);try{const{data:r,error:n}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){kl(t.userId),kl(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:LS});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(j=>{const g=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(j.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Te(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}}function FS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Cl={debug:!!(globalThis&&DO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pU extends IO{}async function xU(e,t,r){Cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function gU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vU(e){return parseInt(e,16)}function yU(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function jU(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=RO(e.address),j=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",x=`${j} wants you to sign in with your Ethereum account:
${m}

${g}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}y+=v}return`${x}
${y}`}class Jt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class hm extends Jt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function wU({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(LO(o)){if(i.rp.id!==o)return new Jt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function bU({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(LO(n)){if(r.rpId!==n)return new Jt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var $O=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class NU{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const SU=new NU;function kU(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=$O(e,["challenge","user","excludeCredentials"]),i=sc(t).buffer,o=Object.assign(Object.assign({},r),{id:sc(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:sc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function CU(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=$O(e,["challenge","allowCredentials"]),a=sc(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:sc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function PU(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_o(new Uint8Array(e.response.attestationObject)),clientDataJSON:_o(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _U(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_o(new Uint8Array(a.authenticatorData)),clientDataJSON:_o(new Uint8Array(a.clientDataJSON)),signature:_o(new Uint8Array(a.signature)),userHandle:a.userHandle?_o(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function BS(){var e,t;return!!(yn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function EU(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hm("Browser returned unexpected credential type",t)}:{data:null,error:new hm("Empty credential response",t)}}catch(t){return{data:null,error:wU({error:t,options:e})}}}async function AU(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hm("Browser returned unexpected credential type",t)}:{data:null,error:new hm("Empty credential response",t)}}catch(t){return{data:null,error:bU({error:t,options:e})}}}const OU={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},TU={userVerification:"preferred",hints:["security-key"]};function fm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=fm(l,o):n[i]=fm(o)}else n[i]=o}return n}function DU(e,t){return fm(OU,e,t||{})}function MU(e,t){return fm(TU,e,t||{})}class IU{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??SU.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=DU(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:h}=await EU({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=MU(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:h}=await AU(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return Te(o)?{data:null,error:o}:{data:null,error:new So("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new vu("rpId is required for WebAuthn authentication")};try{if(!BS())return{data:null,error:new So("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Te(o)?{data:null,error:o}:{data:null,error:new So("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new vu("rpId is required for WebAuthn registration")};try{if(!BS())return{data:null,error:new So("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Te(o)?{data:null,error:o}:{data:null,error:new So("Unexpected error in register",o)}}}}gU();const RU={url:OW,storageKey:TW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zS(e,t,r){return await r()}const Pl={};class yu{get jwks(){var t,r;return(r=(t=Pl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Pl[this.storageKey]=Object.assign(Object.assign({},Pl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Pl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pl[this.storageKey]=Object.assign(Object.assign({},Pl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yu.nextInstanceID,yu.nextInstanceID+=1,this.instanceID>0&&yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},RU),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new mU({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=MO(a.fetch),this.lock=a.lock||zS,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:yn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=xU:this.lock=zS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IU(this)},this.persistSession?(a.storage?this.storage=a.storage:DO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=FS(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=FS(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${AO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=qW(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),yn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),FW(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?{error:r}:{error:new So("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ms}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,j=null;this.flowType==="pkce"&&([m,j]=await Sl(this.storage,this.storageKey)),i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:j},xform:ms})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(a=f?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ms})}else throw new Hh("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$S})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$S})}else throw new Hh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Nl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,h,f;let m,j;if("message"in t)m=t.message,j=t.signature;else{const{chain:g,wallet:x,statement:y,options:v}=t;let w;if(yn())if(typeof x=="object")w=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const b=new URL((r=v?.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=RO(N[0]);let P=(n=v?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const A=await w.request({method:"eth_chainId"});P=vU(A)}const C={domain:b.host,address:k,statement:y,uri:b.href,version:"1",chainId:P,nonce:(a=v?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v?.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=jU(C),j=await w.request({method:"personal_sign",params:[yU(m),k]})}try{const{data:g,error:x}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:j},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ms});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Nl}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if(Te(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,h,f,m;let j,g;if("message"in t)j=t.message,g=t.signature;else{const{chain:x,wallet:y,statement:v,options:w}=t;let b;if(yn())if(typeof y=="object")b=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const N=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)j=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(j),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:x,error:y}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:_o(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ms});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Nl}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(Te(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await ho(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ms});if(await ai(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Te(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ms}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Nl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Sl(this.storage,this.storageKey));const{error:h}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Hh("You must provide either an email or phone number.")}catch(l){if(Te(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ms});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Sl(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:dU})}catch(i){if(Te(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new li;const{error:a}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Hh("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ho(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ug:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ho(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Vg()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pi}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new li}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:pi})})}catch(r){if(Te(r))return LW(r)&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new li;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Sl(this.storage,this.storageKey));const{data:u,error:d}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:pi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new li;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Hg(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Te(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new li;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Te(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!yn())throw new Vh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new AS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AS("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Vh("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=Tl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const j=f-h;d-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,f,d):d-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,f,d);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ho(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!($W(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=VW(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Sl(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Te(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return yn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Te(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:ms}),{data:f,error:m}=h;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Nl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:m})}catch(a){if(Te(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XW(async a=>(a>0&&await GW(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ms})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Kg(i)&&Date.now()+o-n<Tl})}catch(n){if(this._debug(r,"error",n),Te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),yn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ho(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ho(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Dl(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:Vg()}else if(a&&!a.user&&!a.user){const o=await ho(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await ai(this.storage,this.storageKey+"-user"),await Dl(this.storage,this.storageKey,a)):a.user=Vg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ug;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ug}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Kg(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new li;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Up;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new li;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Te(i)){const o={data:null,error:i};return Kg(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Dl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=IS(a);await Dl(this.storage,this.storageKey,i)}else{const a=IS(r);await Dl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ai(this.storage,this.storageKey),await ai(this.storage,this.storageKey+"-code-verifier"),await ai(this.storage,this.storageKey+"-user"),this.userStorage&&await ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Tl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Tl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Tl}ms, refresh threshold is ${By} ticks`),a<=By&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof IO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?PU(t.webauthn.credential_response):_U(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:kU(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:CU(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Te(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Hg(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+IW>a)return n;const{data:i,error:o}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:j}=await this.getSession();if(j||!m.session)return{data:null,error:j};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Hg(n);r?.allowExpired||nU(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=sU(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,KW(`${l}.${c}`)))throw new Uy("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}yu.nextInstanceID=0;const $U=yu;class LU extends $U{constructor(t){super(t)}}var FU=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class BU{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=AW(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:jW,realtime:bW,auth:Object.assign(Object.assign({},wW),{storageKey:c}),global:yW},d=EW(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=CW(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Rz(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new xW(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new mz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return FU(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Zz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FO=(e,t,r)=>new BU(e,t,r);function zU(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}zU()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zt="cddoboboxeangripcqrn",ks="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNkZG9ib2JveGVhbmdyaXBjcXJuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NTgyNTQsImV4cCI6MjA3NTMzNDI1NH0.JS5pdOsT8xocAIA9uPYnWsoE0FwChKJ1jfOIObJRpEo",WU=`https://${zt}.supabase.co`,UU=ks;let Yg=null;function tt(){return Yg||(Yg=FO(WU,UU)),Yg}const fa={async signIn(e,t){try{console.log(" Starting sign in process for:",e);const r=tt();console.log(" Supabase client created, attempting sign in...");const{data:n,error:a}=await r.auth.signInWithPassword({email:e,password:t});if(console.log(" Sign in response:",{data:!!n,error:a?.message}),a)return{user:null,error:a.message};if(!n.user)return{user:null,error:"No user found"};const i={id:n.user.id,email:n.user.email||"",role:n.user.user_metadata?.role||"cashier",name:n.user.user_metadata?.name||"",shopId:n.user.user_metadata?.shopId,shopName:n.user.user_metadata?.shopName,cashierId:n.user.user_metadata?.cashierId,active:n.user.user_metadata?.active!==!1};if(i.role==="cashier"&&i.cashierId){console.log(" Updating last login for cashier...");try{await this.updateLastLogin(i.cashierId)}catch(o){console.warn(" Failed to update last login (non-critical):",o)}}return console.log(" Sign in successful for:",i.email),{user:i,error:null,accessToken:n.session?.access_token}}catch(r){return console.error(" Sign in error:",r),console.error(" Error type:",typeof r),console.error(" Error message:",r.message),console.error(" Error stack:",r.stack),{user:null,error:r.message||"Sign in failed"}}},async getSession(){try{const e=tt(),{data:t,error:r}=await e.auth.getSession();return r||!t.session?{user:null,error:r?.message||"No active session"}:{user:{id:t.session.user.id,email:t.session.user.email||"",role:t.session.user.user_metadata?.role||"cashier",name:t.session.user.user_metadata?.name||"",shopId:t.session.user.user_metadata?.shopId,shopName:t.session.user.user_metadata?.shopName,cashierId:t.session.user.user_metadata?.cashierId,active:t.session.user.user_metadata?.active!==!1},error:null,accessToken:t.session.access_token}}catch(e){return{user:null,error:e.message}}},async signOut(){try{const e=tt(),{error:t}=await e.auth.signOut();return{error:t?.message||null}}catch(e){return{error:e.message}}},async updateLastLogin(e){try{console.log(" Updating last login for cashier:",e);const t=`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers/${e}/login`;console.log(" Fetching URL:",t);const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ks}`}});console.log(" Update login response:",r.status,r.statusText),r.ok?console.log(" Last login updated successfully"):console.error(" Failed to update last login:",r.status,r.statusText)}catch(t){console.error(" Error updating last login:",t)}},generatePassword(){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%";let r="";for(let n=0;n<10;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r},async signUp(e,t,r){try{const n=tt(),{data:a,error:i}=await n.auth.signUp({email:e,password:t,options:{email_confirm:!1}});if(i||!a.user)return{user:null,error:i?.message||"Failed to create user"};const l=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/auth/create-admin`,{method:"POST",headers:{Authorization:`Bearer ${ks}`,"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,businessConfig:r})})).json();return l.success?{user:{id:a.user.id,email:a.user.email||e,role:"admin",name:r.businessName},error:null,accessToken:a.session?.access_token}:{user:null,error:l.error||"Failed to create admin account"}}catch(n){return{user:null,error:n.message||"Signup failed"}}}};var KU=e=>{switch(e){case"success":return qU;case"info":return GU;case"warning":return YU;case"error":return XU;default:return null}},HU=Array(12).fill(0),VU=({visible:e,className:t})=>G.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},G.createElement("div",{className:"sonner-spinner"},HU.map((r,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),qU=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YU=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GU=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),XU=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JU=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QU=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ky=1,ZU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ky++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],G.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(tK(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||Ky++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rn=new ZU,eK=(e,t)=>{let r=t?.id||Ky++;return rn.addToast({title:e,...t,id:r}),r},tK=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",rK=eK,nK=()=>rn.toasts,sK=()=>rn.getActiveToasts(),q=Object.assign(rK,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:nK,getToasts:sK});function aK(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}aK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qh(e){return e.label!==void 0}var iK=3,oK="32px",lK="16px",WS=4e3,cK=356,dK=14,uK=20,hK=200;function fs(...e){return e.filter(Boolean).join(" ")}function fK(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var mK=e=>{var t,r,n,a,i,o,l,c,u,d,h;let{invert:f,toast:m,unstyled:j,interacting:g,setHeights:x,visibleToasts:y,heights:v,index:w,toasts:b,expanded:N,removeToast:k,defaultRichColors:P,closeButton:C,style:A,cancelButtonStyle:S,actionButtonStyle:I,className:O="",descriptionClassName:z="",duration:V,position:Y,gap:R,loadingIcon:W,expandByDefault:_,classNames:T,icons:re,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:H}=e,[te,ne]=G.useState(null),[fe,ae]=G.useState(null),[ee,ce]=G.useState(!1),[ie,le]=G.useState(!1),[me,E]=G.useState(!1),[ue,Ce]=G.useState(!1),[Be,Qe]=G.useState(!1),[Ft,Os]=G.useState(0),[rd,ml]=G.useState(0),Ts=G.useRef(m.duration||V||WS),ao=G.useRef(null),en=G.useRef(null),io=w===0,nd=w+1<=y,Dr=m.type,Ds=m.dismissible!==!1,sd=m.className||"",pl=m.descriptionClassName||"",Za=G.useMemo(()=>v.findIndex($e=>$e.toastId===m.id)||0,[v,m.id]),ad=G.useMemo(()=>{var $e;return($e=m.closeButton)!=null?$e:C},[m.closeButton,C]),xl=G.useMemo(()=>m.duration||V||WS,[m.duration,V]),oo=G.useRef(0),Ms=G.useRef(0),de=G.useRef(0),yt=G.useRef(null),[ei,Fe]=Y.split("-"),dt=G.useMemo(()=>v.reduce(($e,et,it)=>it>=Za?$e:$e+et.height,0),[v,Za]),Re=QU(),at=m.invert||f,br=Dr==="loading";Ms.current=G.useMemo(()=>Za*R+dt,[Za,dt]),G.useEffect(()=>{Ts.current=xl},[xl]),G.useEffect(()=>{ce(!0)},[]),G.useEffect(()=>{let $e=en.current;if($e){let et=$e.getBoundingClientRect().height;return ml(et),x(it=>[{toastId:m.id,height:et,position:m.position},...it]),()=>x(it=>it.filter(Kr=>Kr.toastId!==m.id))}},[x,m.id]),G.useLayoutEffect(()=>{if(!ee)return;let $e=en.current,et=$e.style.height;$e.style.height="auto";let it=$e.getBoundingClientRect().height;$e.style.height=et,ml(it),x(Kr=>Kr.find(ds=>ds.toastId===m.id)?Kr.map(ds=>ds.toastId===m.id?{...ds,height:it}:ds):[{toastId:m.id,height:it,position:m.position},...Kr])},[ee,m.title,m.description,x,m.id]);let ze=G.useCallback(()=>{le(!0),Os(Ms.current),x($e=>$e.filter(et=>et.toastId!==m.id)),setTimeout(()=>{k(m)},hK)},[m,k,x,Ms]);G.useEffect(()=>{if(m.promise&&Dr==="loading"||m.duration===1/0||m.type==="loading")return;let $e;return N||g||H&&Re?(()=>{if(de.current<oo.current){let et=new Date().getTime()-oo.current;Ts.current=Ts.current-et}de.current=new Date().getTime()})():Ts.current!==1/0&&(oo.current=new Date().getTime(),$e=setTimeout(()=>{var et;(et=m.onAutoClose)==null||et.call(m,m),ze()},Ts.current)),()=>clearTimeout($e)},[N,g,m,Dr,H,Re,ze]),G.useEffect(()=>{m.delete&&ze()},[ze,m.delete]);function Zx(){var $e,et,it;return re!=null&&re.loading?G.createElement("div",{className:fs(T?.loader,($e=m?.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":Dr==="loading"},re.loading):W?G.createElement("div",{className:fs(T?.loader,(et=m?.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":Dr==="loading"},W):G.createElement(VU,{className:fs(T?.loader,(it=m?.classNames)==null?void 0:it.loader),visible:Dr==="loading"})}return G.createElement("li",{tabIndex:0,ref:en,className:fs(O,sd,T?.toast,(t=m?.classNames)==null?void 0:t.toast,T?.default,T?.[Dr],(r=m?.classNames)==null?void 0:r[Dr]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:P,"data-styled":!(m.jsx||m.unstyled||j),"data-mounted":ee,"data-promise":!!m.promise,"data-swiped":Be,"data-removed":ie,"data-visible":nd,"data-y-position":ei,"data-x-position":Fe,"data-index":w,"data-front":io,"data-swiping":me,"data-dismissible":Ds,"data-type":Dr,"data-invert":at,"data-swipe-out":ue,"data-swipe-direction":fe,"data-expanded":!!(N||_&&ee),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${ie?Ft:Ms.current}px`,"--initial-height":_?"auto":`${rd}px`,...A,...m.style},onDragEnd:()=>{E(!1),ne(null),yt.current=null},onPointerDown:$e=>{br||!Ds||(ao.current=new Date,Os(Ms.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(E(!0),yt.current={x:$e.clientX,y:$e.clientY}))},onPointerUp:()=>{var $e,et,it,Kr;if(ue||!Ds)return;yt.current=null;let ds=Number((($e=en.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ti=Number(((et=en.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lo=new Date().getTime()-((it=ao.current)==null?void 0:it.getTime()),us=te==="x"?ds:ti,ri=Math.abs(us)/lo;if(Math.abs(us)>=uK||ri>.11){Os(Ms.current),(Kr=m.onDismiss)==null||Kr.call(m,m),ae(te==="x"?ds>0?"right":"left":ti>0?"down":"up"),ze(),Ce(!0),Qe(!1);return}E(!1),ne(null)},onPointerMove:$e=>{var et,it,Kr,ds;if(!yt.current||!Ds||((et=window.getSelection())==null?void 0:et.toString().length)>0)return;let ti=$e.clientY-yt.current.y,lo=$e.clientX-yt.current.x,us=(it=e.swipeDirections)!=null?it:fK(Y);!te&&(Math.abs(lo)>1||Math.abs(ti)>1)&&ne(Math.abs(lo)>Math.abs(ti)?"x":"y");let ri={x:0,y:0};te==="y"?(us.includes("top")||us.includes("bottom"))&&(us.includes("top")&&ti<0||us.includes("bottom")&&ti>0)&&(ri.y=ti):te==="x"&&(us.includes("left")||us.includes("right"))&&(us.includes("left")&&lo<0||us.includes("right")&&lo>0)&&(ri.x=lo),(Math.abs(ri.x)>0||Math.abs(ri.y)>0)&&Qe(!0),(Kr=en.current)==null||Kr.style.setProperty("--swipe-amount-x",`${ri.x}px`),(ds=en.current)==null||ds.style.setProperty("--swipe-amount-y",`${ri.y}px`)}},ad&&!m.jsx?G.createElement("button",{"aria-label":M,"data-disabled":br,"data-close-button":!0,onClick:br||!Ds?()=>{}:()=>{var $e;ze(),($e=m.onDismiss)==null||$e.call(m,m)},className:fs(T?.closeButton,(a=m?.classNames)==null?void 0:a.closeButton)},(i=re?.close)!=null?i:JU):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,Dr||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:fs(T?.icon,(o=m?.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Zx():null,m.type!=="loading"?m.icon||re?.[Dr]||KU(Dr):null):null,G.createElement("div",{"data-content":"",className:fs(T?.content,(l=m?.classNames)==null?void 0:l.content)},G.createElement("div",{"data-title":"",className:fs(T?.title,(c=m?.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:fs(z,pl,T?.description,(u=m?.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&qh(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||S,onClick:$e=>{var et,it;qh(m.cancel)&&Ds&&((it=(et=m.cancel).onClick)==null||it.call(et,$e),ze())},className:fs(T?.cancelButton,(d=m?.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&qh(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:$e=>{var et,it;qh(m.action)&&((it=(et=m.action).onClick)==null||it.call(et,$e),!$e.defaultPrevented&&ze())},className:fs(T?.actionButton,(h=m?.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function US(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function pK(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?lK:oK;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var xK=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:j=iK,toastOptions:g,dir:x=US(),gap:y=dK,loadingIcon:v,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:N}=e,[k,P]=G.useState([]),C=G.useMemo(()=>Array.from(new Set([n].concat(k.filter(H=>H.position).map(H=>H.position)))),[k,n]),[A,S]=G.useState([]),[I,O]=G.useState(!1),[z,V]=G.useState(!1),[Y,R]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=G.useRef(null),_=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=G.useRef(null),re=G.useRef(!1),M=G.useCallback(H=>{P(te=>{var ne;return(ne=te.find(fe=>fe.id===H.id))!=null&&ne.delete||rn.dismiss(H.id),te.filter(({id:fe})=>fe!==H.id)})},[]);return G.useEffect(()=>rn.subscribe(H=>{if(H.dismiss){P(te=>te.map(ne=>ne.id===H.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{yE.flushSync(()=>{P(te=>{let ne=te.findIndex(fe=>fe.id===H.id);return ne!==-1?[...te.slice(0,ne),{...te[ne],...H},...te.slice(ne+1)]:[H,...te]})})})}),[]),G.useEffect(()=>{if(d!=="system"){R(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:te})=>{R(te?"dark":"light")})}catch{H.addListener(({matches:ne})=>{try{R(ne?"dark":"light")}catch(fe){console.error(fe)}})}},[d]),G.useEffect(()=>{k.length<=1&&O(!1)},[k]),G.useEffect(()=>{let H=te=>{var ne,fe;a.every(ae=>te[ae]||te.code===ae)&&(O(!0),(ne=W.current)==null||ne.focus()),te.code==="Escape"&&(document.activeElement===W.current||(fe=W.current)!=null&&fe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[a]),G.useEffect(()=>{if(W.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,re.current=!1)}},[W.current]),G.createElement("section",{ref:t,"aria-label":`${b} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((H,te)=>{var ne;let[fe,ae]=H.split("-");return k.length?G.createElement("ol",{key:H,dir:x==="auto"?US():x,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":fe,"data-lifted":I&&k.length>1&&!i,"data-x-position":ae,style:{"--front-toast-height":`${((ne=A[0])==null?void 0:ne.height)||0}px`,"--width":`${cK}px`,"--gap":`${y}px`,...m,...pK(c,u)},onBlur:ee=>{re.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(re.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||re.current||(re.current=!0,T.current=ee.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{z||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},k.filter(ee=>!ee.position&&te===0||ee.position===H).map((ee,ce)=>{var ie,le;return G.createElement(mK,{key:ee.id,icons:w,index:ce,toast:ee,defaultRichColors:h,duration:(ie=g?.duration)!=null?ie:f,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:j,closeButton:(le=g?.closeButton)!=null?le:o,interacting:z,position:H,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:M,toasts:k.filter(me=>me.position==ee.position),heights:A.filter(me=>me.position==ee.position),setHeights:S,expandByDefault:i,gap:y,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});function gK({onLogin:e,onBusinessSetupComplete:t}){const[r,n]=p.useState(!1),[a,i]=p.useState({email:"",password:""}),[o,l]=p.useState({email:"",password:""}),[c,u]=p.useState({shopId:"",cashierId:"",password:""});p.useState({email:"",password:"",confirmPassword:"",name:""});const[d,h]=p.useState(!1),[f,m]=p.useState(null);p.useState(!1);const j=async w=>{n(!1),t?.(w),h(!0),m(null);try{console.log("Submitting signup request:",{email:w.accountEmail,businessConfig:w});const N=await(await fetch(`https://${zt}.supabase.co/functions/v1/business-signup-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ks}`},body:JSON.stringify({action:"submit-request",email:w.accountEmail,password:w.accountPassword,businessConfig:w})})).json();console.log("Signup response:",N),N.success?(q.success("Registration submitted! Please contact Super Admin for activation."),g()):m(N.error||"Signup request failed")}catch(b){console.error("Signup error:",b),m(b.message||"Signup request failed")}finally{h(!1)}},g=()=>{n(!1)},x=async w=>{w.preventDefault(),h(!0),m(null);try{const{user:b,error:N,accessToken:k}=await fa.signIn(a.email,a.password);if(N||!b){m(N||"Login failed"),h(!1);return}if(b.role!=="admin"){m("Access denied. Admin credentials required."),await fa.signOut(),h(!1);return}e("admin",b,k||"")}catch(b){m(b.message||"Login failed")}finally{h(!1)}},y=async w=>{w.preventDefault(),h(!0),m(null);try{const{user:b,error:N,accessToken:k}=await fa.signIn(o.email,o.password);if(N||!b){m(N||"Login failed"),h(!1);return}if(b.role!=="super_admin"){m("Access denied. Super Admin credentials required."),await fa.signOut(),h(!1);return}e("super_admin",b,k||"")}catch(b){m(b.message||"Login failed")}finally{h(!1)}},v=async w=>{w.preventDefault(),h(!0),m(null);try{const b=`${c.cashierId.toLowerCase()}@${c.shopId.toLowerCase().replace(/\s/g,"")}.local`;console.log("=== Attempting Cashier Login ==="),console.log("Shop ID (raw):",c.shopId),console.log("Cashier ID (raw):",c.cashierId),console.log("Constructed email:",b),console.log("Password length:",c.password.length);const{user:N,error:k,accessToken:P}=await fa.signIn(b,c.password);if(k||!N){console.error(" Login failed"),console.error("Error:",k),console.error("User object:",N);try{const A=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/auth/debug-cashier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ks}`},body:JSON.stringify({shopId:c.shopId,cashierId:c.cashierId})})).json();console.log("Debug info:",A),A.found?A.supabaseError?m(`Authentication system error: ${A.supabaseError}. Please contact admin.`):m("Invalid credentials. Please check your Shop ID, Cashier ID, and Password."):m(`Cashier ID "${c.cashierId}" not found. Available IDs: ${A.availableCashierIds?.join(", ")||"none"}`)}catch(C){console.error("Debug endpoint error:",C),m("Invalid credentials. Please check your Shop ID, Cashier ID, and Password.")}h(!1);return}if(console.log(" Login successful"),console.log("User role:",N.role),console.log("User active status:",N.active),N.role!=="cashier"){m("Access denied. Cashier credentials required."),await fa.signOut(),h(!1);return}if(!N.active){m("Your account has been deactivated. Please contact your administrator."),await fa.signOut(),h(!1);return}e("cashier",N,P||"")}catch(b){m(b.message||"Login failed")}finally{h(!1)}};return r?s.jsx(cz,{onComplete:j,onBack:g}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:s.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("h1",{className:"text-xl text-gray-900",children:"Business Manager"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Digital Sales & Management System"})]}),s.jsxs($,{className:"compact-card",children:[s.jsxs(U,{className:"compact-card-header",children:[s.jsx(K,{className:"text-lg",children:"Login to Dashboard"}),s.jsx(Oe,{className:"text-sm",children:"Select your role to continue"})]}),s.jsx(L,{className:"compact-card-content",children:s.jsxs(pn,{defaultValue:"cashier",className:"compact-spacing",children:[s.jsxs(xn,{className:"grid w-full grid-cols-3 h-8",children:[s.jsxs(_e,{value:"cashier",className:"flex items-center gap-1 text-sm h-6",children:[s.jsx(Cr,{className:"h-3 w-3"}),"Cashier"]}),s.jsxs(_e,{value:"admin",className:"flex items-center gap-1 text-sm h-6",children:[s.jsx(At,{className:"h-3 w-3"}),"Admin"]}),s.jsxs(_e,{value:"super-admin",className:"flex items-center gap-1 text-sm h-6",children:[s.jsx(mu,{className:"h-3 w-3"}),"Super Admin"]})]}),f&&s.jsxs(kp,{variant:"destructive",className:"mb-3",children:[s.jsx($i,{className:"h-4 w-4"}),s.jsx(Cp,{className:"text-sm",children:f})]}),s.jsx(Ee,{value:"cashier",children:s.jsxs("form",{onSubmit:v,className:"compact-form",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"shopId",className:"text-sm",children:"Shop ID"}),s.jsx(Q,{id:"shopId",placeholder:"e.g., SHOP001",value:c.shopId,onChange:w=>u(b=>({...b,shopId:w.target.value})),className:"compact-input",required:!0,disabled:d})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"cashierId",className:"text-sm",children:"Cashier ID"}),s.jsx(Q,{id:"cashierId",placeholder:"e.g., CSH123456",value:c.cashierId,onChange:w=>u(b=>({...b,cashierId:w.target.value})),className:"compact-input",required:!0,disabled:d}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Will login as: ",c.cashierId.toLowerCase(),"@",c.shopId.toLowerCase().replace(/\s/g,""),".local"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"cashierPassword",className:"text-sm",children:"Password"}),s.jsx(Q,{id:"cashierPassword",type:"password",placeholder:"Enter password",value:c.password,onChange:w=>u(b=>({...b,password:w.target.value})),className:"compact-input",required:!0,disabled:d})]}),s.jsx(B,{type:"submit",className:"w-full compact-button",disabled:d,children:d?"Logging in...":"Login as Cashier"})]})}),s.jsxs(Ee,{value:"admin",children:[s.jsxs("form",{onSubmit:x,className:"compact-form",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"adminEmail",className:"text-sm",children:"Email"}),s.jsx(Q,{id:"adminEmail",type:"email",placeholder:"admin@business.com",value:a.email,onChange:w=>i(b=>({...b,email:w.target.value})),className:"compact-input",required:!0,disabled:d})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"adminPassword",className:"text-sm",children:"Password"}),s.jsx(Q,{id:"adminPassword",type:"password",placeholder:"Enter password",value:a.password,onChange:w=>i(b=>({...b,password:w.target.value})),className:"compact-input",required:!0,disabled:d})]}),s.jsx(B,{type:"submit",className:"w-full compact-button",disabled:d,children:d?"Logging in...":"Login as Admin"})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-center text-gray-600 mb-3",children:"Don't have an account?"}),s.jsxs(B,{type:"button",variant:"outline",className:"w-full compact-button",onClick:()=>n(!0),children:[s.jsx(mu,{className:"h-4 w-4 mr-2"}),"Sign Up for New Business"]})]})]}),s.jsx(Ee,{value:"super-admin",children:s.jsxs("form",{onSubmit:y,className:"compact-form",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"superAdminEmail",className:"text-sm",children:"Email"}),s.jsx(Q,{id:"superAdminEmail",type:"email",placeholder:"admin@rekon360.com",value:o.email,onChange:w=>l(b=>({...b,email:w.target.value})),className:"compact-input",required:!0,disabled:d})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"superAdminPassword",className:"text-sm",children:"Password"}),s.jsx(Q,{id:"superAdminPassword",type:"password",placeholder:"Enter password",value:o.password,onChange:w=>l(b=>({...b,password:w.target.value})),className:"compact-input",required:!0,disabled:d})]}),s.jsx(B,{type:"submit",className:"w-full compact-button",disabled:d,children:d?"Logging in...":"Login as Super Admin"})]})})]})})]})]})})}const vK=[{id:"pos",label:"Point of Sale",icon:Lu,feature:"sales"},{id:"inventory",label:"Inventory",icon:gc,feature:"inventory"},{id:"customers",label:"Customers",icon:Nt,feature:"customers"},{id:"reports",label:"Reports",icon:gt,feature:"reports"}];function KS({activeSection:e,setActiveSection:t,user:r,onLogout:n,todayTotal:a,todaySalesCount:i,onNavigate:o,selectedFeatures:l=[]}){const c=d=>{t(d),o?.()},u=vK;return s.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b border-border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary rounded-lg",children:s.jsx(gc,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-foreground",children:"POS System"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.shopName})]})]})}),s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Today's Summary"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-2 rounded-lg",children:[s.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Sales"}),s.jsxs("div",{className:"font-semibold text-green-700 dark:text-green-300",children:["$",a]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-2 rounded-lg",children:[s.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Orders"}),s.jsx("div",{className:"font-semibold text-blue-700 dark:text-blue-300",children:i})]})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("ul",{className:"space-y-2",children:u.map(d=>{const h=d.icon;return s.jsx("li",{children:s.jsxs("button",{onClick:()=>c(d.id),className:pe("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left",e===d.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[s.jsx(h,{className:"h-5 w-5"}),d.label]})},d.id)})})}),s.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:r.name?.charAt(0)||"C"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:r.name}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["Cashier  ",r.shopId]})]})]}),s.jsxs(B,{onClick:n,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Rj,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const yK=Fj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function se({className:e,variant:t,asChild:r=!1,...n}){const a=r?_E:"span";return s.jsx(a,{"data-slot":"badge",className:pe(yK({variant:t}),e),...n})}var jK="Separator",HS="horizontal",wK=["horizontal","vertical"],BO=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=HS,...a}=e,i=bK(n)?n:HS,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Me.div,{"data-orientation":i,...l,...a,ref:t})});BO.displayName=jK;function bK(e){return wK.includes(e)}var NK=BO;function Fs({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return s.jsx(NK,{"data-slot":"separator-root",decorative:r,orientation:t,className:pe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}var Kp="Dialog",[zO,WO]=ss(Kp),[SK,Es]=zO(Kp),UO=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Fi({prop:n,defaultProp:a??!1,onChange:i,caller:Kp});return s.jsx(SK,{scope:t,triggerRef:l,contentRef:c,contentId:Pa(),titleId:Pa(),descriptionId:Pa(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};UO.displayName=Kp;var KO="DialogTrigger",HO=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(KO,r),i=Ge(t,a.triggerRef);return s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cw(a.open),...n,ref:i,onClick:De(e.onClick,a.onOpenToggle)})});HO.displayName=KO;var ow="DialogPortal",[kK,VO]=zO(ow,{forceMount:void 0}),qO=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Es(ow,t);return s.jsx(kK,{scope:t,forceMount:r,children:p.Children.map(n,o=>s.jsx(as,{present:r||i.open,children:s.jsx(Mp,{asChild:!0,container:a,children:o})}))})};qO.displayName=ow;var mm="DialogOverlay",YO=p.forwardRef((e,t)=>{const r=VO(mm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Es(mm,e.__scopeDialog);return i.modal?s.jsx(as,{present:n||i.open,children:s.jsx(PK,{...a,ref:t})}):null});YO.displayName=mm;var CK=Go("DialogOverlay.RemoveScroll"),PK=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(mm,r);return s.jsx(tw,{as:CK,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Me.div,{"data-state":cw(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Zo="DialogContent",GO=p.forwardRef((e,t)=>{const r=VO(Zo,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Es(Zo,e.__scopeDialog);return s.jsx(as,{present:n||i.open,children:i.modal?s.jsx(_K,{...a,ref:t}):s.jsx(EK,{...a,ref:t})})});GO.displayName=Zo;var _K=p.forwardRef((e,t)=>{const r=Es(Zo,e.__scopeDialog),n=p.useRef(null),a=Ge(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return ew(i)},[]),s.jsx(XO,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:De(e.onFocusOutside,i=>i.preventDefault())})}),EK=p.forwardRef((e,t)=>{const r=Es(Zo,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return s.jsx(XO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),XO=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Es(Zo,r),c=p.useRef(null),u=Ge(t,c);return Wj(),s.jsxs(s.Fragment,{children:[s.jsx(_p,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Pp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cw(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(OK,{titleId:l.titleId}),s.jsx(DK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),lw="DialogTitle",JO=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(lw,r);return s.jsx(Me.h2,{id:a.titleId,...n,ref:t})});JO.displayName=lw;var QO="DialogDescription",ZO=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(QO,r);return s.jsx(Me.p,{id:a.descriptionId,...n,ref:t})});ZO.displayName=QO;var eT="DialogClose",tT=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(eT,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:De(e.onClick,()=>a.onOpenChange(!1))})});tT.displayName=eT;function cw(e){return e?"open":"closed"}var rT="DialogTitleWarning",[AK,nT]=EB(rT,{contentName:Zo,titleName:lw,docsSlug:"dialog"}),OK=({titleId:e})=>{const t=nT(rT),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},TK="DialogDescriptionWarning",DK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nT(TK).contentName}}.`;return p.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},dw=UO,sT=HO,uw=qO,Hu=YO,Hp=GO,hw=JO,fw=ZO,Vp=tT;const Ye=dw,ea=sT,MK=uw,aT=p.forwardRef(({className:e,...t},r)=>s.jsx(Hu,{ref:r,className:pe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));aT.displayName=Hu.displayName;const Ue=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(MK,{children:[s.jsx(aT,{}),s.jsxs(Hp,{ref:n,className:pe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s.jsxs(Vp,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(CE,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ue.displayName=Hp.displayName;const Ke=({className:e,...t})=>s.jsx("div",{className:pe("flex flex-col gap-2 text-center sm:text-left",e),...t});Ke.displayName="DialogHeader";const on=({className:e,...t})=>s.jsx("div",{className:pe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t});on.displayName="DialogFooter";const He=p.forwardRef(({className:e,...t},r)=>s.jsx(hw,{ref:r,className:pe("text-lg leading-none font-semibold",e),...t}));He.displayName=hw.displayName;const xt=p.forwardRef(({className:e,...t},r)=>s.jsx(fw,{ref:r,className:pe("text-muted-foreground text-sm",e),...t}));xt.displayName=fw.displayName;const IK=`https://${zt}.supabase.co/functions/v1/make-server-86b98184`;class RK{async makeRequest(t,r={}){const n=tt(),{data:{session:a}}=await n.auth.getSession(),i=a?.access_token||ks,o=await fetch(`${IK}${t}`,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`,...r.headers}});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o}async saveSale(t){try{const n=await(await this.makeRequest("/sales",{method:"POST",body:JSON.stringify(t)})).json();if(n.success)return n.saleId;throw new Error(n.error)}catch(r){throw console.error("Error saving sale:",r),r}}async getDailySales(t){try{const n=await(await this.makeRequest(`/sales/${t}`)).json();if(n.success)return n.data;throw new Error(n.error)}catch(r){return console.error("Error fetching daily sales:",r),{date:t,totalAmount:0,totalTransactions:0,lastUpdated:new Date().toISOString(),sales:[]}}}async getSalesRange(t,r){try{const a=await(await this.makeRequest(`/sales-range/${t}/${r}`)).json();if(a.success)return a.data;throw new Error(a.error)}catch(n){return console.error("Error fetching sales range:",n),[]}}async downloadDailyReport(t){try{const r=await this.makeRequest(`/daily-report/${t}`,{headers:{Authorization:`Bearer ${ks}`}});if(r.ok)return await r.blob();{const n=await r.json();throw new Error(n.error)}}catch(r){throw console.error("Error downloading report:",r),r}}async generateAutoReport(t,r){try{const a=await(await this.makeRequest("/generate-auto-report",{method:"POST",body:JSON.stringify({date:t||new Date().toISOString().split("T")[0],shopInfo:r})})).json();if(a.success)return a.report;throw new Error(a.error)}catch(n){return console.error("Error generating auto report:",n),{date:t||new Date().toISOString().split("T")[0],generated:new Date().toISOString(),status:"Generated offline",totalSales:0,totalTransactions:0,csvUrl:null}}}async getAllReports(){try{const r=await(await this.makeRequest("/all-reports")).json();if(r.success)return r.reports;throw new Error(r.error)}catch(t){return console.error("Error fetching all reports:",t),[]}}formatDateForFilename(t){return t.replace(/-/g,"")}generateExcelCSV(t,r){const n=["Time","Receipt ID","Customer Name","Customer Phone","Items Purchased","Payment Method","Total Amount"].join(",")+`
`,a=t.map(l=>{const c=new Date(l.timestamp).toLocaleTimeString(),u=l.items.map(d=>`${d.name} x${d.quantity} @${d.price}`).join("; ");return[c,l.receiptId||l.id,l.customer?.name||"Walk-in Customer",l.customer?.phone||"N/A",`"${u}"`,l.paymentMethod,`$${l.total.toFixed(2)}`].join(",")}).join(`
`),o=["","","","","","DAILY TOTAL:",`$${t.reduce((l,c)=>l+c.total,0).toFixed(2)}`].join(",");return n+a+`
`+o}}const _f=new RK,VS=`https://${zt}.supabase.co/functions/v1/make-server-86b98184`;class $K{async getAuthToken(){const t=tt(),{data:{session:r}}=await t.auth.getSession();if(console.log("DataService auth check:",{hasSession:!!r,hasToken:!!r?.access_token,tokenPreview:r?.access_token?`${r.access_token.substring(0,20)}...`:"null"}),!r)throw new Error("You must be logged in to perform this action. Please log in and try again.");return r.access_token}async request(t,r={}){const n=`${VS}${t}`,a=await this.getAuthToken();console.log("DataService request:",{url:n,endpoint:t,authToken:a?`${a.substring(0,20)}...`:"null",method:r.method||"GET"});const i=await fetch(n,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...r.headers}});if(!i.ok){const o=await i.text();let l=`HTTP error! status: ${i.status}`;try{const c=JSON.parse(o);c.error&&(l=c.error)}catch{l=o||l}throw new Error(l)}return i.json()}async getProducts(){return this.request("/products")}async saveProduct(t){return this.request("/products",{method:"POST",body:JSON.stringify(t)})}async deleteProduct(t){return this.request(`/products/${t}`,{method:"DELETE"})}async getBusinessFeatures(){try{const t=tt(),{data:{user:r}}=await t.auth.getUser();if(!r?.user_metadata?.business_id)throw new Error("No business ID found in user metadata");const{data:n,error:a}=await t.from("businesses").select("features, plan").eq("id",r.user_metadata.business_id).single();if(a)throw new Error(`Failed to load business features: ${a.message}`);return{features:n?.features||[],plan:n?.plan||"basic"}}catch(t){return console.error("Error loading business features:",t),{features:["dashboard","products","orders","workers","reports","settings"],plan:"basic"}}}async getWorkers(){return this.request("/workers")}async saveWorker(t){console.log(" Saving worker:",t);try{const r=await this.request("/workers",{method:"POST",body:JSON.stringify(t)});return console.log(" Worker saved successfully:",r),r}catch(r){throw console.error(" Failed to save worker:",r),r}}async updateWorker(t,r){return this.request(`/workers/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteWorker(t){return this.request(`/workers/${t}`,{method:"DELETE"})}async getCorrections(){return this.request("/corrections")}async submitCorrection(t){return this.request("/corrections",{method:"POST",body:JSON.stringify(t)})}async updateCorrectionStatus(t,r){return this.request(`/corrections/${t}`,{method:"PUT",body:JSON.stringify(r)})}async getCustomers(){return this.request("/customers")}async saveCustomer(t){return this.request("/customers",{method:"POST",body:JSON.stringify(t)})}async saveSale(t){return this.request("/sales",{method:"POST",body:JSON.stringify(t)})}async getSales(t){return this.request(`/sales/${t}`)}async getSalesRange(t,r){return this.request(`/sales-range/${t}/${r}`)}async getDashboardSummary(){return this.request("/dashboard-summary")}async getAllReports(){return this.request("/all-reports")}async generateDailyReport(t,r){return this.request("/generate-auto-report",{method:"POST",body:JSON.stringify({date:t,shopInfo:r})})}async getDailyReportCSV(t){const r=`${VS}/daily-report/${t}`,n=await fetch(r,{headers:{Authorization:`Bearer ${ks}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.blob()}async getShopSettings(){return this.request("/shop-settings")}async updateShopSettings(t){return this.request("/shop-settings",{method:"POST",body:JSON.stringify(t)})}async getPayroll(){return this.request("/payroll")}async savePayroll(t){return this.request("/payroll",{method:"POST",body:JSON.stringify(t)})}async updatePayroll(t,r){return this.request(`/payroll/${t}`,{method:"PUT",body:JSON.stringify(r)})}async updateInventory(t,r){return this.request("/update-inventory",{method:"POST",body:JSON.stringify({productId:t,quantityChange:r})})}async getProfitAnalysis(t){return this.request(`/profit-analysis/${t}`)}async deleteCustomer(t){return this.request(`/customers/${t}`,{method:"DELETE"})}async deletePayroll(t){return this.request(`/payroll/${t}`,{method:"DELETE"})}async deleteSale(t){return this.request(`/sales/${t}`,{method:"DELETE"})}async getCustomFeatures(){return this.request("/make-server-86b98184/custom-features",{method:"GET"})}async submitCustomFeature(t){return this.request("/make-server-86b98184/custom-features",{method:"POST",body:JSON.stringify(t)})}async updateCustomFeature(t,r){return this.request(`/custom-features/${t}`,{method:"PUT",body:JSON.stringify(r)})}async getAllCustomFeatures(){return this.request("/make-server-86b98184/super-admin/custom-features",{method:"GET"})}}const er=new $K;function qS({onSaleComplete:e,onPrintReceipt:t,recentSales:r=[]}){const[n,a]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState([]),[u,d]=p.useState(void 0),[h,f]=p.useState("cash"),[m,j]=p.useState(!1),[g,x]=p.useState({name:"",phone:"",address:""}),[y,v]=p.useState(""),[w,b]=p.useState(!1),[N,k]=p.useState(""),[P,C]=p.useState(null);p.useState(!1),p.useState(null),p.useState(""),p.useState([]),p.useState("");const[A,S]=p.useState(!1),[I,O]=p.useState(""),[z,V]=p.useState(!1);p.useEffect(()=>{Y()},[]);const Y=async()=>{try{o(!0);const ae=await er.getProducts();ae.success?a(ae.products.filter(ee=>ee.status!=="Out of Stock")):q.error("Failed to load products")}catch(ae){console.error("Error loading products:",ae),q.error("Failed to load products")}finally{o(!1)}},R=n.find(ae=>ae.id===u),W=()=>{if(!(!u||!R)){if(R.bargainingEnabled){b(!0);return}_(R.price)}},_=ae=>{if(!u||!R)return;if(l.find(ce=>ce.id===u))c(l.map(ce=>ce.id===u?{...ce,quantity:ce.quantity+1}:ce));else{const ce={id:u,name:R.name,price:ae,quantity:1,originalPrice:R.price,isBargained:ae!==R.price};c([...l,ce])}d(void 0)},T=()=>{if(!u||!R)return;const ae=parseFloat(y),ee=R.minBargainPrice||0,ce=R.maxBargainPrice||R.price;if(ae<ee||ae>ce){q.error(`Price must be between ${ee} and ${ce}`);return}_(ae),b(!1),v("")},re=(ae,ee)=>{c(l.map(ce=>{if(ce.id===ae){const ie=Math.max(0,ce.quantity+ee);return ie===0?null:{...ce,quantity:ie}}return ce}).filter(Boolean))},M=ae=>{c(l.filter(ee=>ee.id!==ae))},H=()=>l.reduce((ae,ee)=>ae+ee.price*ee.quantity,0),te=async()=>{if(l.length!==0)try{const ae=`RCP${Date.now()}`,ee={id:ae,time:new Date().toLocaleTimeString(),items:[...l],total:H(),paymentMethod:h,customer:g.name?{...g}:void 0};await _f.saveSale({receiptId:ae,customer:g.name?{name:g.name,phone:g.phone,email:g.address}:void 0,items:l.map(ce=>({id:ce.id,name:ce.name,price:ce.price,quantity:ce.quantity})),paymentMethod:h,total:H()}),e(ee),k(ae),C(ee),c([]),f("cash"),x({name:"",phone:"",address:""})}catch(ae){console.error("Error saving sale to backend:",ae);const ee=`RCP${Date.now()}`,ce={id:ee,time:new Date().toLocaleTimeString(),items:[...l],total:H(),paymentMethod:h,customer:g.name?{...g}:void 0};e(ce),k(ee),C(ce),c([]),f("cash"),x({name:"",phone:"",address:""})}},ne=()=>{x({name:"",phone:"",address:""})},fe=async()=>{if(!I||!P){q.error("Please enter a valid phone number");return}try{V(!0);const ae=`${P.items.map(ie=>`${ie.name} ${ie.quantity}x GHS${ie.price}=GHS${(ie.quantity*ie.price).toFixed(2)}`).join(", ")}. Total: GHS${P.total.toFixed(2)}. Payment: ${P.paymentMethod.toUpperCase()}. Receipt#: ${P.id}. Powered by Rekon360`;console.log(" Sending SMS to:",I),console.log(" Message:",ae);const ce=await(await fetch("https://cddoboboxeangripcqrn.supabase.co/functions/v1/make-server-86b98184/send-sms",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:I,message:ae})})).json();ce.success?(q.success(` Receipt sent to ${I} via SMS!`),S(!1),O("")):(console.error("SMS send failed:",ce.error),q.error(`Failed to send SMS: ${ce.error||"Unknown error"}`))}catch(ae){console.error("Error sending SMS:",ae),q.error("Failed to send SMS receipt. Check your internet connection.")}finally{V(!1)}};return s.jsxs("div",{className:"p-4 compact-spacing h-full overflow-auto",children:[s.jsxs($,{className:"compact-card",children:[s.jsx(U,{className:"compact-card-header",children:s.jsxs(K,{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ws,{className:"h-4 w-4"}),"Add Products"]})}),s.jsx(L,{className:"compact-card-content compact-spacing",children:i?s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx(Ra,{className:"h-4 w-4 animate-spin mr-2"}),"Loading products..."]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-sm",children:"Product"}),s.jsxs(je,{value:u,onValueChange:d,children:[s.jsx(be,{className:"compact-input",children:s.jsx(we,{placeholder:"Select product"})}),s.jsx(Ne,{children:n.filter(ae=>ae.status!=="Out of Stock").map(ae=>s.jsxs(F,{value:ae.id,children:[ae.name," - $",ae.price]},ae.id))})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs(B,{onClick:W,disabled:!u,className:"w-full",children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-5 w-5"}),"Customer Information"]}),s.jsxs(Ye,{open:m,onOpenChange:j,children:[s.jsx(ea,{asChild:!0,children:s.jsx(B,{variant:"outline",size:"sm",children:g.name?"Edit Customer":"Add Customer"})}),s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Customer Details"}),s.jsx(xt,{children:"Add customer information for this sale (optional)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"name",children:"Customer Name"}),s.jsx(Q,{id:"name",value:g.name,onChange:ae=>x({...g,name:ae.target.value}),placeholder:"Enter customer name"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Q,{id:"phone",value:g.phone,onChange:ae=>x({...g,phone:ae.target.value}),placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"address",children:"Address"}),s.jsx(Q,{id:"address",value:g.address,onChange:ae=>x({...g,address:ae.target.value}),placeholder:"Enter address"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{onClick:()=>j(!1),className:"flex-1",children:"Save Customer"}),s.jsx(B,{onClick:ne,variant:"outline",children:"Clear"})]})]})]})]})]})}),g.name&&s.jsx(L,{children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:[s.jsx("div",{className:"font-medium",children:g.name}),g.phone&&s.jsx("div",{className:"text-sm text-muted-foreground",children:g.phone}),g.address&&s.jsx("div",{className:"text-sm text-muted-foreground",children:g.address})]})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Shopping Cart"}),s.jsxs(Oe,{children:[l.length," items in cart"]})]}),s.jsx(L,{children:l.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"Cart is empty"}):s.jsxs("div",{className:"space-y-4",children:[l.map((ae,ee)=>s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between p-3 border rounded-lg gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:ae.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["",ae.price," each"]}),ae.isBargained&&ae.originalPrice&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(se,{variant:"secondary",className:"text-xs bg-green-100 text-green-700",children:"Bargained"}),s.jsxs("span",{className:"text-xs text-muted-foreground line-through",children:["",ae.originalPrice]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>re(ae.id,-1),children:s.jsx(MF,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:ae.quantity}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>re(ae.id,1),children:s.jsx(cr,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"destructive",onClick:()=>M(ae.id),children:s.jsx(Ka,{className:"h-3 w-3"})})]})]},`${ae.id}-${ee}`)),s.jsx(Fs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{className:"font-bold",children:["$",H()]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Payment Method"}),s.jsxs(je,{value:h,onValueChange:f,children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"cash",children:"Cash"}),s.jsx(F,{value:"card",children:"Card"}),s.jsx(F,{value:"mtn-momo",children:"MTN Mobile Money"}),s.jsx(F,{value:"vodafone-cash",children:"Vodafone Cash"}),s.jsx(F,{value:"airteltigo-money",children:"AirtelTigo Money"}),s.jsx(F,{value:"mobile",children:"Other Mobile Payment"})]})]})]}),s.jsxs(B,{onClick:te,className:"w-full",size:"lg",children:[s.jsx(gt,{className:"h-4 w-4 mr-2"}),"Process Sale"]})]})]})})]}),N&&P&&s.jsxs(kp,{children:[s.jsx(Oi,{className:"h-4 w-4"}),s.jsx(Cp,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[s.jsxs("span",{children:["Sale completed! Receipt #",N," has been generated."]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>t(P),children:[s.jsx(Oi,{className:"h-3 w-3 mr-1"}),"Print"]}),s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>{O(g.phone||""),S(!0)},children:[s.jsx(bo,{className:"h-3 w-3 mr-1"}),"SMS Receipt"]})]})]})})]}),s.jsx(Ye,{open:A,onOpenChange:S,children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Send Receipt via SMS"}),s.jsx(xt,{children:"Enter customer's phone number to send receipt via SMS"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"sms-phone",children:"Phone Number *"}),s.jsx(Q,{id:"sms-phone",type:"tel",value:I,onChange:ae=>O(ae.target.value),placeholder:"0241234567"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Include watermark: "Powered by Rekon360"'})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>S(!1),className:"flex-1",children:"Cancel"}),s.jsx(B,{onClick:fe,disabled:!I||z,className:"flex-1",children:z?s.jsxs(s.Fragment,{children:[s.jsx(Ra,{className:"h-3 w-3 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bo,{className:"h-3 w-3 mr-2"}),"Send SMS"]})})]})]})]})}),s.jsx(Ye,{open:w,onOpenChange:b,children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Set Bargain Price"}),s.jsx(xt,{children:"This product allows bargaining. Enter the final selling price within the allowed range."})]}),s.jsxs("div",{className:"space-y-4",children:[R&&s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-medium",children:R.name}),s.jsx("span",{className:"text-sm text-muted-foreground",children:R.category})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{children:["Original Price: ",R.price]}),s.jsxs("p",{children:["Allowed Range: ",R.minBargainPrice," - ",R.maxBargainPrice]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"bargain-price",children:"Final Selling Price ()"}),s.jsx(Q,{id:"bargain-price",type:"number",placeholder:"Enter final price",value:y,onChange:ae=>v(ae.target.value),min:R?.minBargainPrice||0,max:R?.maxBargainPrice||R?.price||0}),R&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Must be between ",R.minBargainPrice," and ",R.maxBargainPrice]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:T,disabled:!y||parseFloat(y)<=0,className:"flex-1",children:[s.jsx(gt,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),s.jsx(B,{variant:"outline",onClick:()=>{b(!1),v("")},className:"flex-1",children:"Cancel"})]})]})]})})]})}function qt({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:pe("w-full caption-bottom text-sm",e),...t})})}function Yt({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:pe("[&_tr]:border-b",e),...t})}function Gt({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:pe("[&_tr:last-child]:border-0",e),...t})}function Ie({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:pe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Z({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:pe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function J({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:pe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function LK(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("");p.useEffect(()=>{o();const d=setInterval(o,3e4);return()=>clearInterval(d)},[]);const o=async()=>{try{n(!0);const d=await er.getProducts();d.success?t(d.products):q.error("Failed to load inventory")}catch(d){console.error("Error loading inventory:",d),q.error("Error loading inventory")}finally{n(!1)}},l=e.filter(d=>d.name.toLowerCase().includes(a.toLowerCase())||d.sku.toLowerCase().includes(a.toLowerCase())||d.category.toLowerCase().includes(a.toLowerCase())),c=d=>{switch(d){case"In Stock":return s.jsx(se,{variant:"default",children:"In Stock"});case"Low Stock":return s.jsx(se,{variant:"secondary",children:"Low Stock"});case"Out of Stock":return s.jsx(se,{variant:"destructive",children:"Out of Stock"});default:return s.jsx(se,{variant:"outline",children:d})}},u=d=>d===0?"text-red-600":d<10?"text-yellow-600":"text-green-600";return r?s.jsx("div",{className:"p-4 compact-spacing h-full overflow-auto",children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading inventory..."})]})})}):s.jsxs("div",{className:"p-4 compact-spacing h-full overflow-auto",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl",children:"Inventory"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Available products for sale"})]}),s.jsxs($,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-sm",children:"Search Products"})}),s.jsx(L,{className:"compact-card-content",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search by name, SKU, or category...",className:"pl-10 compact-input",value:a,onChange:d=>i(d.target.value)})]})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs($,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-xs",children:"Total Products"})}),s.jsx(L,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold",children:e.length})})]}),s.jsxs($,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-xs",children:"In Stock"})}),s.jsx(L,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.filter(d=>d.status==="In Stock").length})})]}),s.jsxs($,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-xs",children:"Low/Out Stock"})}),s.jsx(L,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold text-red-600",children:e.filter(d=>d.status==="Low Stock"||d.status==="Out of Stock").length})})]})]}),s.jsxs($,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsxs(K,{className:"flex items-center gap-2 text-sm",children:[s.jsx(Qn,{className:"h-4 w-4"}),"Products (",l.length,")"]})}),s.jsx(L,{className:"compact-card-content",children:l.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Qn,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"No products found"})]}):s.jsxs(qt,{className:"compact-table",children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{className:"compact-table",children:"Product"}),s.jsx(Z,{className:"compact-table",children:"Price"}),s.jsx(Z,{className:"compact-table",children:"Stock"}),s.jsx(Z,{className:"compact-table",children:"Status"})]})}),s.jsx(Gt,{children:l.map(d=>s.jsxs(Ie,{children:[s.jsx(J,{className:"compact-table",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:d.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d.sku}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d.category})]})}),s.jsx(J,{className:"compact-table",children:s.jsxs("span",{className:"font-medium",children:["$",d.price]})}),s.jsx(J,{className:"compact-table",children:s.jsx("span",{className:`font-medium ${u(d.stock)}`,children:d.stock})}),s.jsx(J,{className:"compact-table",children:c(d.status)})]},d.id))})]})})]}),e.filter(d=>d.status==="Low Stock"||d.status==="Out of Stock").length>0&&s.jsxs($,{className:"border-yellow-200",children:[s.jsx(U,{className:"compact-card-header",children:s.jsxs(K,{className:"flex items-center gap-2 text-sm text-yellow-700",children:[s.jsx($i,{className:"h-4 w-4"}),"Stock Alerts"]})}),s.jsx(L,{className:"compact-card-content",children:s.jsx("div",{className:"space-y-2",children:e.filter(d=>d.status==="Low Stock"||d.status==="Out of Stock").slice(0,5).map(d=>s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:d.name}),s.jsxs(se,{variant:d.status==="Out of Stock"?"destructive":"secondary",className:"text-xs",children:[d.stock," left"]})]},d.id))})})]})]})}function FK({sales:e,onPrintReceipt:t}){const r=e.reduce((n,a)=>n+a.total,0);return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sales"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",r]})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"With Customer Info"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.filter(n=>n.customer?.name).length})]})]})})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Today's Sales History"})}),s.jsx(L,{children:e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oi,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No sales recorded today"})]}):s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Receipt #"}),s.jsx(Z,{children:"Time"}),s.jsx(Z,{children:"Customer"}),s.jsx(Z,{children:"Items"}),s.jsx(Z,{children:"Payment"}),s.jsx(Z,{children:"Total"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:e.map(n=>s.jsxs(Ie,{children:[s.jsx(J,{className:"font-mono text-sm",children:n.id}),s.jsx(J,{children:n.time}),s.jsx(J,{children:n.customer?.name?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:n.customer.name}),n.customer.phone&&s.jsx("div",{className:"text-sm text-muted-foreground",children:n.customer.phone})]}):s.jsx("span",{className:"text-muted-foreground",children:"Walk-in"})}),s.jsx(J,{children:s.jsx("div",{className:"space-y-1",children:n.items.map((a,i)=>s.jsxs("div",{className:"text-sm",children:[a.quantity,"x ",a.name]},i))})}),s.jsx(J,{children:s.jsx(se,{variant:"secondary",children:n.paymentMethod.toUpperCase()})}),s.jsxs(J,{className:"font-bold",children:["$",n.total]}),s.jsx(J,{children:s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>t(n),children:[s.jsx(Oi,{className:"h-3 w-3 mr-1"}),"Print"]})})]},n.id))})]})})]})]})}function BK({sales:e}){const[t,r]=p.useState(""),n=e.reduce((i,o)=>{if(o.customer?.name){const l=i.find(c=>c.name===o.customer.name);l?(l.totalSpent+=o.total,l.visits+=1,l.lastVisit=o.time):i.push({name:o.customer.name,phone:o.customer.phone||"",address:o.customer.address||"",totalSpent:o.total,visits:1,lastVisit:o.time})}return i},[]),a=n.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.phone.includes(t));return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Customers"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.length})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"With Phone Numbers"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(i=>i.phone).length})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"With Addresses"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.filter(i=>i.address).length})]})]})})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Customer Search"})}),s.jsx(L,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search by name or phone number...",value:t,onChange:i=>r(i.target.value),className:"pl-10"})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Customer Database"})}),s.jsx(L,{children:a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:n.length===0?"No customers recorded yet":"No customers match your search"})]}):s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Customer Name"}),s.jsx(Z,{children:"Phone"}),s.jsx(Z,{children:"Address"}),s.jsx(Z,{children:"Visits"}),s.jsx(Z,{children:"Total Spent"}),s.jsx(Z,{children:"Last Visit"})]})}),s.jsx(Gt,{children:a.map((i,o)=>s.jsxs(Ie,{children:[s.jsx(J,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:i.name.charAt(0)})}),i.name]})}),s.jsx(J,{children:i.phone?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qo,{className:"h-3 w-3 text-muted-foreground"}),i.phone]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(J,{children:i.address?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Gn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"max-w-xs truncate",children:i.address})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(J,{children:s.jsxs(se,{variant:"secondary",children:[i.visits," visit",i.visits>1?"s":""]})}),s.jsxs(J,{className:"font-bold text-green-600",children:["$",i.totalSpent]}),s.jsx(J,{className:"text-sm text-muted-foreground",children:i.lastVisit})]},o))})]})})]})]})}var mw="Progress",pw=100,[zK,Gue]=ss(mw),[WK,UK]=zK(mw),iT=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=KK,...o}=e;(a||a===0)&&!YS(a)&&console.error(HK(`${a}`,"Progress"));const l=YS(a)?a:pw;n!==null&&!GS(n,l)&&console.error(VK(`${n}`,"Progress"));const c=GS(n,l)?n:null,u=pm(c)?i(c,l):void 0;return s.jsx(WK,{scope:r,value:c,max:l,children:s.jsx(Me.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":pm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":cT(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});iT.displayName=mw;var oT="ProgressIndicator",lT=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=UK(oT,r);return s.jsx(Me.div,{"data-state":cT(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});lT.displayName=oT;function KK(e,t){return`${Math.round(e/t*100)}%`}function cT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function pm(e){return typeof e=="number"}function YS(e){return pm(e)&&!isNaN(e)&&e>0}function GS(e,t){return pm(e)&&!isNaN(e)&&e<=t&&e>=0}function HK(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pw}\`.`}function VK(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dT=iT,qK=lT;const xw=p.forwardRef(({className:e,value:t,...r},n)=>s.jsx(dT,{ref:n,className:pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(qK,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));xw.displayName=dT.displayName;var qp={},uT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(uT);var gw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(gw);var Yp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Yp);var Gp={},hT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(hT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT,r=Yp;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const h=a[l];u?h==="\\"&&l+1<o?(l++,c+=a[l]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,i.push(c),c=""):c+=h:h==="["?(d=!0,c&&(i.push(c),c="")):h==="."?c&&(i.push(c),c=""):c+=h,l++}return c&&i.push(c),i}e.toPath=n})(Gp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT,r=gw,n=Yp,a=Gp;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function o(l,c,u){if(c.length===0)return u;let d=l;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=i})(qp);var YK=qp.get;const el=aa(YK);var fT={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw=Symbol.for("react.transitional.element"),yw=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),Zp=Symbol.for("react.consumer"),ex=Symbol.for("react.context"),tx=Symbol.for("react.forward_ref"),rx=Symbol.for("react.suspense"),nx=Symbol.for("react.suspense_list"),sx=Symbol.for("react.memo"),ax=Symbol.for("react.lazy"),GK=Symbol.for("react.view_transition"),XK=Symbol.for("react.client.reference");function is(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vw:switch(e=e.type,e){case Xp:case Qp:case Jp:case rx:case nx:case GK:return e;default:switch(e=e&&e.$$typeof,e){case ex:case tx:case ax:case sx:return e;case Zp:return e;default:return t}}case yw:return t}}}ht.ContextConsumer=Zp;ht.ContextProvider=ex;ht.Element=vw;ht.ForwardRef=tx;ht.Fragment=Xp;ht.Lazy=ax;ht.Memo=sx;ht.Portal=yw;ht.Profiler=Qp;ht.StrictMode=Jp;ht.Suspense=rx;ht.SuspenseList=nx;ht.isContextConsumer=function(e){return is(e)===Zp};ht.isContextProvider=function(e){return is(e)===ex};ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vw};ht.isForwardRef=function(e){return is(e)===tx};ht.isFragment=function(e){return is(e)===Xp};ht.isLazy=function(e){return is(e)===ax};ht.isMemo=function(e){return is(e)===sx};ht.isPortal=function(e){return is(e)===yw};ht.isProfiler=function(e){return is(e)===Qp};ht.isStrictMode=function(e){return is(e)===Jp};ht.isSuspense=function(e){return is(e)===rx};ht.isSuspenseList=function(e){return is(e)===nx};ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xp||e===Qp||e===Jp||e===rx||e===nx||typeof e=="object"&&e!==null&&(e.$$typeof===ax||e.$$typeof===sx||e.$$typeof===ex||e.$$typeof===Zp||e.$$typeof===tx||e.$$typeof===XK||e.getModuleId!==void 0)};ht.typeOf=is;fT.exports=ht;var JK=fT.exports,vr=e=>e===0?0:e>0?1:-1,mn=e=>typeof e=="number"&&e!=+e,Eo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ke=e=>(typeof e=="number"||e instanceof Number)&&!mn(e),ta=e=>ke(e)||typeof e=="string",QK=0,ju=e=>{var t=++QK;return"".concat(e||"").concat(t)},Br=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(t)&&typeof t!="string")return n;var i;if(Eo(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return mn(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},mT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ot(e,t,r){return ke(e)&&ke(t)?e+r*(t-e):t}function pT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):el(n,t))===r)}var St=e=>e===null||typeof e>"u",Vu=e=>St(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),ZK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function jw(e){if(typeof e!="string")return!1;var t=ZK;return t.includes(e)}var eH=["viewBox","children"],XS=["points","pathLength"],Gg={svg:eH,polygon:XS,polyline:XS},ww=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{jw(a)&&(n[a]=t||(i=>r[a](r,i)))}),n},tH=(e,t,r)=>n=>(e(t,r,n),null),qu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];jw(a)&&typeof i=="function"&&(n||(n={}),n[a]=tH(i,t,r))}),n},rH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function xT(e){if(typeof e!="string")return!1;var t=rH;return t.includes(e)}function os(e){var t=Object.entries(e).filter(r=>{var[n]=r;return xT(n)});return Object.fromEntries(t)}var JS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QS=null,Xg=null,gT=e=>{if(e===QS&&Array.isArray(Xg))return Xg;var t=[];return p.Children.forEach(e,r=>{St(r)||(JK.isFragment(r)?t=t.concat(gT(r.props.children)):t.push(r))}),Xg=t,QS=e,t};function bw(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>JS(a)):n=[JS(t)],gT(e).forEach(a=>{var i=el(a,"type.displayName")||el(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var ix=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,nH=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&Gg?.[n])!==null&&a!==void 0?a:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||xT(t)),c=!!r&&jw(t);return o||l||c},kt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;nH((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},sH=["children","width","height","viewBox","className","style","title","desc"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function aH(e,t){if(e==null)return{};var r,n,a=iH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nw=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:u}=e,d=aH(e,sH),h=i||{width:n,height:a,x:0,y:0},f=Xe("recharts-surface",o);return p.createElement("svg",Hy({},kt(d,!0,"svg"),{className:f,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),oH=["children","className"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}function lH(e,t){if(e==null)return{};var r,n,a=cH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wt=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=lH(e,oH),i=Xe("recharts-layer",n);return p.createElement("g",Vy({className:i},kt(a,!0),{ref:t}),r)}),vT=p.createContext(null),dH=()=>p.useContext(vT);function mt(e){return function(){return e}}const yT=Math.cos,xm=Math.sin,As=Math.sqrt,gm=Math.PI,ox=2*gm,qy=Math.PI,Yy=2*qy,vo=1e-6,uH=Yy-vo;function jT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function hH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jT;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class fH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jT:hH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>vo)if(!(Math.abs(h*c-u*d)>vo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,j=a-l,g=c*c+u*u,x=m*m+j*j,y=Math.sqrt(g),v=Math.sqrt(f),w=i*Math.tan((qy-Math.acos((g+f-x)/(2*y*v)))/2),b=w/v,N=w/y;Math.abs(b-1)>vo&&this._append`L${t+b*d},${r+b*h}`,this._append`A${i},${i},0,0,${+(h*m>d*j)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>vo||Math.abs(this._y1-d)>vo)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%Yy+Yy),f>uH?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>vo&&this._append`A${n},${n},0,${+(f>=qy)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Sw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new fH(t)}function kw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wT(e){this._context=e}wT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lx(e){return new wT(e)}function bT(e){return e[0]}function NT(e){return e[1]}function ST(e,t){var r=mt(!0),n=null,a=lx,i=null,o=Sw(l);e=typeof e=="function"?e:e===void 0?bT:mt(e),t=typeof t=="function"?t:t===void 0?NT:mt(t);function l(c){var u,d=(c=kw(c)).length,h,f=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,u,c),+t(h,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:mt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:mt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:mt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Yh(e,t,r){var n=null,a=mt(!0),i=null,o=lx,l=null,c=Sw(u);e=typeof e=="function"?e:e===void 0?bT:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?NT:mt(+r);function u(h){var f,m,j,g=(h=kw(h)).length,x,y=!1,v,w=new Array(g),b=new Array(g);for(i==null&&(l=o(v=c())),f=0;f<=g;++f){if(!(f<g&&a(x=h[f],f,h))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),j=f-1;j>=m;--j)l.point(w[j],b[j]);l.lineEnd(),l.areaEnd()}y&&(w[f]=+e(x,f,h),b[f]=+t(x,f,h),l.point(n?+n(x,f,h):w[f],r?+r(x,f,h):b[f]))}if(v)return l=null,v+""||null}function d(){return ST().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:mt(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:mt(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:mt(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:mt(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:mt(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:mt(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:mt(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class kT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mH(e){return new kT(e,!0)}function pH(e){return new kT(e,!1)}const Cw={draw(e,t){const r=As(t/gm);e.moveTo(r,0),e.arc(0,0,r,0,ox)}},xH={draw(e,t){const r=As(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CT=As(1/3),gH=CT*2,vH={draw(e,t){const r=As(t/gH),n=r*CT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},yH={draw(e,t){const r=As(t),n=-r/2;e.rect(n,n,r,r)}},jH=.8908130915292852,PT=xm(gm/10)/xm(7*gm/10),wH=xm(ox/10)*PT,bH=-yT(ox/10)*PT,NH={draw(e,t){const r=As(t*jH),n=wH*r,a=bH*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=ox*i/5,l=yT(o),c=xm(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Jg=As(3),SH={draw(e,t){const r=-As(t/(Jg*3));e.moveTo(0,r*2),e.lineTo(-Jg*r,-r),e.lineTo(Jg*r,-r),e.closePath()}},Bn=-.5,zn=As(3)/2,Gy=1/As(12),kH=(Gy/2+1)*3,CH={draw(e,t){const r=As(t/kH),n=r/2,a=r*Gy,i=n,o=r*Gy+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Bn*n-zn*a,zn*n+Bn*a),e.lineTo(Bn*i-zn*o,zn*i+Bn*o),e.lineTo(Bn*l-zn*c,zn*l+Bn*c),e.lineTo(Bn*n+zn*a,Bn*a-zn*n),e.lineTo(Bn*i+zn*o,Bn*o-zn*i),e.lineTo(Bn*l+zn*c,Bn*c-zn*l),e.closePath()}};function PH(e,t){let r=null,n=Sw(a);e=typeof e=="function"?e:mt(e||Cw),t=typeof t=="function"?t:mt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:mt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:mt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function vm(){}function ym(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _T(e){this._context=e}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ym(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ym(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _H(e){return new _T(e)}function ET(e){this._context=e}ET.prototype={areaStart:vm,areaEnd:vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ym(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EH(e){return new ET(e)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ym(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AH(e){return new AT(e)}function OT(e){this._context=e}OT.prototype={areaStart:vm,areaEnd:vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function OH(e){return new OT(e)}function ZS(e){return e<0?-1:1}function ek(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(ZS(i)+ZS(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function tk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Qg(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function jm(e){this._context=e}jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qg(this,this._t0,tk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qg(this,tk(this,r=ek(this,e,t)),r);break;default:Qg(this,this._t0,r=ek(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function TT(e){this._context=new DT(e)}(TT.prototype=Object.create(jm.prototype)).point=function(e,t){jm.prototype.point.call(this,t,e)};function DT(e){this._context=e}DT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function TH(e){return new jm(e)}function DH(e){return new TT(e)}function MT(e){this._context=e}MT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rk(e),a=rk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function MH(e){return new MT(e)}function cx(e,t){this._context=e,this._t=t}cx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function IH(e){return new cx(e,.5)}function RH(e){return new cx(e,0)}function $H(e){return new cx(e,1)}function jc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Xy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function LH(e,t){return e[t]}function FH(e){const t=[];return t.key=e,t}function BH(){var e=mt([]),t=Xy,r=jc,n=LH;function a(i){var o=Array.from(e.apply(this,arguments),FH),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,i)]).data=h;for(l=0,d=kw(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:mt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:mt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Xy:typeof i=="function"?i:mt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??jc,a):r},a}function zH(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}jc(e,t)}}function WH(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}jc(e,t)}}function UH(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[n][1]||0,f=d[n-1][1]||0,m=(h-f)/2,j=0;j<l;++j){var g=e[t[j]],x=g[n][1]||0,y=g[n-1][1]||0;m+=x-y}c+=h,u+=m*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,jc(e,t)}}var KH=["type","size","sizeType"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(null,arguments)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){HH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t,r){return(t=VH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=qH(e,"string");return typeof t=="symbol"?t:t+""}function qH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e,t){if(e==null)return{};var r,n,a=GH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IT={symbolCircle:Cw,symbolCross:xH,symbolDiamond:vH,symbolSquare:yH,symbolStar:NH,symbolTriangle:SH,symbolWye:CH},XH=Math.PI/180,JH=e=>{var t="symbol".concat(Vu(e));return IT[t]||Cw},QH=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*XH;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ZH=(e,t)=>{IT["symbol".concat(Vu(e))]=t},Pw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=YH(e,KH),i=sk(sk({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var f=JH(o),m=PH().type(f).size(QH(r,n,o));return m()},{className:c,cx:u,cy:d}=i,h=kt(i,!0);return u===+u&&d===+d&&r===+r?p.createElement("path",Jy({},h,{className:Xe("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};Pw.registerSymbol=ZH;function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(r),!0).forEach(function(n){_w(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _w(e,t,r){return(t=t7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wn=32;class Ew extends p.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Wn/2,i=Wn/6,o=Wn/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Wn,y2:a,className:"recharts-legend-icon"});if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Wn,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Wn/8,"h").concat(Wn,"v").concat(Wn*3/4,"h").concat(-Wn,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var u=e7({},t);return delete u.legendIcon,p.cloneElement(t.legendIcon,u)}return p.createElement(Pw,{fill:l,cx:a,cy:a,size:Wn,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:Wn,height:Wn},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,h)=>{var f=d.formatter||a,m=Xe({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var j=d.inactive?i:d.color,g=f?f(d.value,d,h):d.value;return p.createElement("li",Qy({className:m,style:c,key:"legend-item-".concat(h)},qu(this.props,d,h)),p.createElement(Nw,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(g," legend icon")},this.renderIcon(d,o)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},g))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}_w(Ew,"displayName","Legend");_w(Ew,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var RT={},$T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})($T);var Aw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Aw);var LT={},dx={},FT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(FT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(dx);var BT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(BT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dx,r=BT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(LT);var zT={},WT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qp;function r(n){return function(a){return t.get(a,n)}}e.property=r})(WT);var UT={},Zg={},ev={},Ow={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Ow);var Tw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Tw);var Dw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Dw);var ik;function n7(){return ik||(ik=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mw(),r=Ow,n=Tw,a=Dw;function i(h,f,m){return typeof m!="function"?t.isMatch(h,f):o(h,f,function j(g,x,y,v,w,b){const N=m(g,x,y,v,w,b);return N!==void 0?!!N:o(g,x,j,b)},new Map)}function o(h,f,m,j){if(f===h)return!0;switch(typeof f){case"object":return l(h,f,m,j);case"function":return Object.keys(f).length>0?o(h,{...f},m,j):a.eq(h,f);default:return r.isObject(h)?typeof f=="string"?f==="":!0:a.eq(h,f)}}function l(h,f,m,j){if(f==null)return!0;if(Array.isArray(f))return u(h,f,m,j);if(f instanceof Map)return c(h,f,m,j);if(f instanceof Set)return d(h,f,m,j);const g=Object.keys(f);if(h==null)return g.length===0;if(g.length===0)return!0;if(j&&j.has(f))return j.get(f)===h;j&&j.set(f,h);try{for(let x=0;x<g.length;x++){const y=g[x];if(!n.isPrimitive(h)&&!(y in h)||f[y]===void 0&&h[y]!==void 0||f[y]===null&&h[y]!==null||!m(h[y],f[y],y,h,f,j))return!1}return!0}finally{j&&j.delete(f)}}function c(h,f,m,j){if(f.size===0)return!0;if(!(h instanceof Map))return!1;for(const[g,x]of f.entries()){const y=h.get(g);if(m(y,x,g,h,f,j)===!1)return!1}return!0}function u(h,f,m,j){if(f.length===0)return!0;if(!Array.isArray(h))return!1;const g=new Set;for(let x=0;x<f.length;x++){const y=f[x];let v=!1;for(let w=0;w<h.length;w++){if(g.has(w))continue;const b=h[w];let N=!1;if(m(b,y,x,h,f,j)&&(N=!0),N){g.add(w),v=!0;break}}if(!v)return!1}return!0}function d(h,f,m,j){return f.size===0?!0:h instanceof Set?u([...h],[...f],m,j):!1}e.isMatchWith=i,e.isSetMatch=d}(ev)),ev}var ok;function Mw(){return ok||(ok=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n7();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Zg)),Zg}var KT={},Iw={},HT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(HT);var Rw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Rw);var $w={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",m="[object Object]",j="[object Error]",g="[object DataView]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",v="[object Uint16Array]",w="[object Uint32Array]",b="[object BigUint64Array]",N="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",A="[object Float32Array]",S="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=b,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=j,e.float32ArrayTag=A,e.float64ArrayTag=S,e.functionTag=h,e.int16ArrayTag=k,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=v,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=y})($w);var VT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(VT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT,r=Rw,n=$w,a=Tw,i=VT;function o(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,f,m=new Map,j=void 0){const g=j?.(d,h,f,m);if(g!==void 0)return g;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let y=0;y<d.length;y++)x[y]=l(d[y],y,f,m,j);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[y,v]of d)x.set(y,l(v,y,f,m,j));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const y of d)x.add(l(y,void 0,f,m,j));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let y=0;y<d.length;y++)x[y]=l(d[y],y,f,m,j);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),c(x,d,f,m,j),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),c(x,d,f,m,j),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),c(x,d,f,m,j),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,f,m,j),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),c(x,d,f,m,j),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),c(x,d,f,m,j),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),c(x,d,f,m,j),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),c(x,d,f,m,j),x}return d}function c(d,h,f=d,m,j){const g=[...Object.keys(h),...t.getSymbols(h)];for(let x=0;x<g.length;x++){const y=g[x],v=Object.getOwnPropertyDescriptor(d,y);(v==null||v.writable)&&(d[y]=l(h[y],y,f,m,j))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Iw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iw;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(KT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mw(),r=KT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(UT);var qT={},YT={},GT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iw,r=$w;function n(a,i){return t.cloneDeepWith(a,(o,l,c,u)=>{const d=i?.(o,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a?.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(GT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(YT);var XT={},Lw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Lw);var JT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rw;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(JT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gw,r=Lw,n=JT,a=Gp;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=i})(XT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mw(),r=Yp,n=YT,a=qp,i=XT;function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(qT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aw,r=WT,n=UT,a=qT;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(zT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T,r=Aw,n=LT,a=zT;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(RT);var s7=RT.uniqBy;const lk=aa(s7);function QT(e,t,r){return t===!0?lk(e,r):typeof t=="function"?lk(e,t):e}var ZT={exports:{}},eD={},tD={exports:{}},rD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=p;function a7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i7=typeof Object.is=="function"?Object.is:a7,o7=wc.useState,l7=wc.useEffect,c7=wc.useLayoutEffect,d7=wc.useDebugValue;function u7(e,t){var r=t(),n=o7({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return c7(function(){a.value=r,a.getSnapshot=t,tv(a)&&i({inst:a})},[e,r,t]),l7(function(){return tv(a)&&i({inst:a}),e(function(){tv(a)&&i({inst:a})})},[e]),d7(r),r}function tv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i7(e,r)}catch{return!0}}function h7(e,t){return t()}var f7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h7:u7;rD.useSyncExternalStore=wc.useSyncExternalStore!==void 0?wc.useSyncExternalStore:f7;tD.exports=rD;var m7=tD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=p,p7=m7;function x7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g7=typeof Object.is=="function"?Object.is:x7,v7=p7.useSyncExternalStore,y7=ux.useRef,j7=ux.useEffect,w7=ux.useMemo,b7=ux.useDebugValue;eD.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=y7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=w7(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var j=o.value;if(a(j,m))return h=j}return h=m}if(j=h,g7(d,m))return j;var g=n(m);return a!==void 0&&a(j,g)?(d=m,j):(d=m,h=g)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,a]);var l=v7(e,i[0],i[1]);return j7(function(){o.hasValue=!0,o.value=l},[l]),b7(l),l};ZT.exports=eD;var N7=ZT.exports,Fw=p.createContext(null),S7=e=>e,Lt=()=>{var e=p.useContext(Fw);return e?e.store.dispatch:S7},Ef=()=>{},k7=()=>Ef,C7=(e,t)=>e===t;function Se(e){var t=p.useContext(Fw);return N7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:k7,t?t.store.getState:Ef,t?t.store.getState:Ef,t?e:Ef,C7)}function P7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function E7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var ck=e=>Array.isArray(e)?e:[e];function A7(e){const t=Array.isArray(e[0])?e[0]:e;return E7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function O7(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var T7=class{constructor(e){this.value=e}deref(){return this.value}},D7=typeof WeakRef<"u"?WeakRef:T7,M7=0,dk=1;function Gh(){return{s:M7,v:void 0,o:null,p:null}}function nD(e,t={}){let r=Gh();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let l=r;const{length:c}=arguments;for(let h=0,f=c;h<f;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let j=l.o;j===null&&(l.o=j=new WeakMap);const g=j.get(m);g===void 0?(l=Gh(),j.set(m,l)):l=g}else{let j=l.p;j===null&&(l.p=j=new Map);const g=j.get(m);g===void 0?(l=Gh(),j.set(m,l)):l=g}}const u=l;let d;if(l.s===dk)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=a?.deref?.()??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new D7(d):d}return u.s=dk,u.v=d,d}return o.clearCache=()=>{r=Gh(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function I7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),P7(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:h,memoizeOptions:f=[],argsMemoize:m=nD,argsMemoizeOptions:j=[],devModeChecks:g={}}=d,x=ck(f),y=ck(j),v=A7(a),w=h(function(){return i++,u.apply(null,arguments)},...x),b=m(function(){o++;const k=O7(v,arguments);return l=w.apply(null,k),l},...y);return Object.assign(b,{resultFunc:u,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var X=I7(nD),R7=Object.assign((e,t=X)=>{_7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>R7}),sD={},aD={},iD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(iD);var oD={},Bw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(oD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iD,r=oD,n=Gp;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,j)=>{let g=m;for(let x=0;x<j.length&&g!=null;++x)g=g[j[x]];return g},d=(m,j)=>j==null||m==null?j:typeof m=="object"&&"key"in m?Object.hasOwn(j,m.key)?j[m.key]:u(j,m.path):typeof m=="function"?m(j):Array.isArray(m)?u(j,m):typeof j=="object"?j[m]:j,h=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:h.map(j=>d(j,m))})).slice().sort((m,j)=>{for(let g=0;g<h.length;g++){const x=t.compareValues(m.criteria[g],j.criteria[g],l[g]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=a})(aD);var lD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(lD);var zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lw,r=dx,n=Ow,a=Dw;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(zw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aD,r=lD,n=zw;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(sD);var $7=sD.sortBy;const hx=aa($7);var cD=e=>e.legend.settings,L7=e=>e.legend.size,F7=e=>e.legend.payload,B7=X([F7,cD],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?hx(n,r):n});function z7(){return Se(B7)}var Xh=1;function dD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Xh||Math.abs(o.left-t.left)>Xh||Math.abs(o.top-t.top)>Xh||Math.abs(o.width-t.width)>Xh)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Nr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var W7=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),uk=W7,rv=()=>Math.random().toString(36).substring(7).split("").join("."),U7={INIT:`@@redux/INIT${rv()}`,REPLACE:`@@redux/REPLACE${rv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rv()}`},wm=U7;function Ww(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uD(e,t,r){if(typeof e!="function")throw new Error(Nr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Nr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Nr(1));return r(uD)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((x,y)=>{o.set(y,x)}))}function d(){if(c)throw new Error(Nr(3));return a}function h(x){if(typeof x!="function")throw new Error(Nr(4));if(c)throw new Error(Nr(5));let y=!0;u();const v=l++;return o.set(v,x),function(){if(y){if(c)throw new Error(Nr(6));y=!1,u(),o.delete(v),i=null}}}function f(x){if(!Ww(x))throw new Error(Nr(7));if(typeof x.type>"u")throw new Error(Nr(8));if(typeof x.type!="string")throw new Error(Nr(17));if(c)throw new Error(Nr(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=o).forEach(v=>{v()}),x}function m(x){if(typeof x!="function")throw new Error(Nr(10));n=x,f({type:wm.REPLACE})}function j(){const x=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Nr(11));function v(){const b=y;b.next&&b.next(d())}return v(),{unsubscribe:x(v)}},[uk](){return this}}}return f({type:wm.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[uk]:j}}function K7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:wm.INIT})>"u")throw new Error(Nr(12));if(typeof r(void 0,{type:wm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nr(13))})}function hD(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{K7(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const h=n[d],f=r[h],m=o[h],j=f(m,l);if(typeof j>"u")throw l&&l.type,new Error(Nr(14));u[h]=j,c=c||j!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function bm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function H7(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Nr(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(o));return i=bm(...l)(a.dispatch),{...a,dispatch:i}}}function fD(e){return Ww(e)&&"type"in e&&typeof e.type=="string"}var mD=Symbol.for("immer-nothing"),hk=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function js(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bc=Object.getPrototypeOf;function tl(e){return!!e&&!!e[In]}function Fa(e){return e?pD(e)||Array.isArray(e)||!!e[hk]||!!e.constructor?.[hk]||Yu(e)||mx(e):!1}var V7=Object.prototype.constructor.toString();function pD(e){if(!e||typeof e!="object")return!1;const t=bc(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===V7}function Nm(e,t){fx(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function fx(e){const t=e[In];return t?t.type_:Array.isArray(e)?1:Yu(e)?2:mx(e)?3:0}function Zy(e,t){return fx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xD(e,t,r){const n=fx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function q7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Yu(e){return e instanceof Map}function mx(e){return e instanceof Set}function yo(e){return e.copy_||e.base_}function e0(e,t){if(Yu(e))return new Map(e);if(mx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=pD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[In];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(bc(e),n)}else{const n=bc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Uw(e,t=!1){return px(e)||tl(e)||!Fa(e)||(fx(e)>1&&Object.defineProperties(e,{set:{value:Jh},add:{value:Jh},clear:{value:Jh},delete:{value:Jh}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Uw(r,!0))),e}function Jh(){js(2)}function px(e){return Object.isFrozen(e)}var Y7={};function rl(e){const t=Y7[e];return t||js(0,e),t}var wu;function gD(){return wu}function G7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fk(e,t){t&&(rl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function t0(e){r0(e),e.drafts_.forEach(X7),e.drafts_=null}function r0(e){e===wu&&(wu=e.parent_)}function mk(e){return wu=G7(wu,e)}function X7(e){const t=e[In];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[In].modified_&&(t0(t),js(4)),Fa(e)&&(e=Sm(t,e),t.parent_||km(t,e)),t.patches_&&rl("Patches").generateReplacementPatches_(r[In].base_,e,t.patches_,t.inversePatches_)):e=Sm(t,r,[]),t0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mD?e:void 0}function Sm(e,t,r){if(px(t))return t;const n=t[In];if(!n)return Nm(t,(a,i)=>xk(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return km(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),Nm(i,(l,c)=>xk(e,n,a,l,c,r,o)),km(e,a,!1),r&&e.patches_&&rl("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function xk(e,t,r,n,a,i,o){if(tl(a)){const l=i&&t&&t.type_!==3&&!Zy(t.assigned_,n)?i.concat(n):void 0,c=Sm(e,a,l);if(xD(r,n,c),tl(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Fa(a)&&!px(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Sm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Yu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&km(e,a)}}function km(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Uw(t,r)}function J7(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:gD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Kw;r&&(a=[n],i=bu);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var Kw={get(e,t){if(t===In)return e;const r=yo(e);if(!Zy(r,t))return Q7(e,r,t);const n=r[t];return e.finalized_||!Fa(n)?n:n===nv(e.base_,t)?(sv(e),e.copy_[t]=s0(n,e)):n},has(e,t){return t in yo(e)},ownKeys(e){return Reflect.ownKeys(yo(e))},set(e,t,r){const n=vD(yo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=nv(yo(e),t),i=a?.[In];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(q7(r,a)&&(r!==void 0||Zy(e.base_,t)))return!0;sv(e),n0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sv(e),n0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=yo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){js(11)},getPrototypeOf(e){return bc(e.base_)},setPrototypeOf(){js(12)}},bu={};Nm(Kw,(e,t)=>{bu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bu.deleteProperty=function(e,t){return bu.set.call(this,e,t,void 0)};bu.set=function(e,t,r){return Kw.set.call(this,e[0],t,r,e[0])};function nv(e,t){const r=e[In];return(r?yo(r):e)[t]}function Q7(e,t,r){const n=vD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function vD(e,t){if(!(t in e))return;let r=bc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=bc(r)}}function n0(e){e.modified_||(e.modified_=!0,e.parent_&&n0(e.parent_))}function sv(e){e.copy_||(e.copy_=e0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Z7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&js(6),n!==void 0&&typeof n!="function"&&js(7);let a;if(Fa(t)){const i=mk(this),o=s0(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?t0(i):r0(i)}return fk(i,n),pk(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===mD&&(a=void 0),this.autoFreeze_&&Uw(a,!0),n){const i=[],o=[];rl("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else js(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Fa(e)||js(8),tl(e)&&(e=_a(e));const t=mk(this),r=s0(e,void 0);return r[In].isManual_=!0,r0(t),r}finishDraft(e,t){const r=e&&e[In];(!r||!r.isManual_)&&js(9);const{scope_:n}=r;return fk(n,t),pk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=rl("Patches").applyPatches_;return tl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function s0(e,t){const r=Yu(e)?rl("MapSet").proxyMap_(e,t):mx(e)?rl("MapSet").proxySet_(e,t):J7(e,t);return(t?t.scope_:gD()).drafts_.push(r),r}function _a(e){return tl(e)||js(10,e),yD(e)}function yD(e){if(!Fa(e)||px(e))return e;const t=e[In];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=e0(e,t.scope_.immer_.useStrictShallowCopy_)}else r=e0(e,!0);return Nm(r,(n,a)=>{xD(r,n,yD(a))}),t&&(t.finalized_=!1),r}var eV=new Z7,jD=eV.produce;function wD(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var tV=wD(),rV=wD,nV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bm:bm.apply(null,arguments)};function rs(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Tn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>fD(n)&&n.type===e,r}var bD=class Dd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Dd.prototype)}static get[Symbol.species](){return Dd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Dd(...t[0].concat(this)):new Dd(...t.concat(this))}};function gk(e){return Fa(e)?jD(e,()=>{}):e}function Qh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function sV(e){return typeof e=="boolean"}var aV=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new bD;return r&&(sV(r)?o.push(tV):o.push(rV(r.extraArgument))),o},iV="RTK_autoBatch",vk=e=>t=>{setTimeout(t,e)},oV=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vk(10):e.type==="callback"?e.queueNotification:vk(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>a&&d(),f=n.subscribe(h);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){try{return a=!d?.meta?.[iV],i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},lV=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new bD(e);return n&&a.push(oV(typeof n=="object"?n:void 0)),a};function cV(e){const t=aV(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Ww(r))c=hD(r);else throw new Error(Tn(1));let u;typeof n=="function"?u=n(t):u=t();let d=bm;a&&(d=nV({trace:!1,...typeof a=="object"&&a}));const h=H7(...u),f=lV(h);let m=typeof l=="function"?l(f):f();const j=d(...m);return uD(c,o,j)}function ND(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Tn(28));if(l in t)throw new Error(Tn(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function dV(e){return typeof e=="function"}function uV(e,t){let[r,n,a]=ND(t),i;if(dV(e))i=()=>gk(e());else{const l=gk(e);i=()=>l}function o(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,h)=>{if(h)if(tl(d)){const m=h(d,c);return m===void 0?d:m}else{if(Fa(d))return jD(d,f=>h(f,c));{const f=h(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return o.getInitialState=i,o}var hV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fV=(e=21)=>{let t="",r=e;for(;r--;)t+=hV[Math.random()*64|0];return t},mV=Symbol.for("rtk-slice-createasyncthunk");function pV(e,t){return`${e}/${t}`}function xV({creators:e}={}){const t=e?.asyncThunk?.[mV];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Tn(11));typeof process<"u";const o=(typeof n.reducers=="function"?n.reducers(vV()):n.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,b){const N=typeof w=="string"?w:w.type;if(!N)throw new Error(Tn(12));if(N in c.sliceCaseReducersByType)throw new Error(Tn(13));return c.sliceCaseReducersByType[N]=b,u},addMatcher(w,b){return c.sliceMatchers.push({matcher:w,reducer:b}),u},exposeAction(w,b){return c.actionCreators[w]=b,u},exposeCaseReducer(w,b){return c.sliceCaseReducersByName[w]=b,u}};l.forEach(w=>{const b=o[w],N={reducerName:w,type:pV(a,w),createNotation:typeof n.reducers=="function"};jV(b)?bV(N,b,u,t):yV(N,b,u)});function d(){const[w={},b=[],N=void 0]=typeof n.extraReducers=="function"?ND(n.extraReducers):[n.extraReducers],k={...w,...c.sliceCaseReducersByType};return uV(n.initialState,P=>{for(let C in k)P.addCase(C,k[C]);for(let C of c.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of b)P.addMatcher(C.matcher,C.reducer);N&&P.addDefaultCase(N)})}const h=w=>w,f=new Map,m=new WeakMap;let j;function g(w,b){return j||(j=d()),j(w,b)}function x(){return j||(j=d()),j.getInitialState()}function y(w,b=!1){function N(P){let C=P[w];return typeof C>"u"&&b&&(C=Qh(m,N,x)),C}function k(P=h){const C=Qh(f,b,()=>new WeakMap);return Qh(C,P,()=>{const A={};for(const[S,I]of Object.entries(n.selectors??{}))A[S]=gV(I,P,()=>Qh(m,P,x),b);return A})}return{reducerPath:w,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const v={name:a,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...y(i),injectInto(w,{reducerPath:b,...N}={}){const k=b??i;return w.inject({reducerPath:k,reducer:g},N),{...v,...y(k,!0)}}};return v}}function gV(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Fn=xV();function vV(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function yV({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!wV(n))throw new Error(Tn(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?rs(e,o):rs(e))}function jV(e){return e._reducerDefinitionType==="asyncThunk"}function wV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bV({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Tn(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=r,h=a(e,i,d);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Zh,pending:l||Zh,rejected:c||Zh,settled:u||Zh})}function Zh(){}var NV="task",SD="listener",kD="completed",Hw="cancelled",SV=`task-${Hw}`,kV=`task-${kD}`,a0=`${SD}-${Hw}`,CV=`${SD}-${kD}`,xx=class{constructor(e){this.code=e,this.message=`${NV} ${Hw} (reason: ${e})`}name="TaskAbortError";message},Vw=(e,t)=>{if(typeof e!="function")throw new TypeError(Tn(32))},Cm=()=>{},CD=(e,t=Cm)=>(e.catch(t),e),PD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$o=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Lo=e=>{if(e.aborted){const{reason:t}=e;throw new xx(t)}};function _D(e,t){let r=Cm;return new Promise((n,a)=>{const i=()=>a(new xx(e.reason));if(e.aborted){i();return}r=PD(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Cm})}var PV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof xx?"cancelled":"rejected",error:r}}finally{t?.()}},Pm=e=>t=>CD(_D(e,t).then(r=>(Lo(e),r))),ED=e=>{const t=Pm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ac}=Object,yk={},gx="listenerMiddleware",_V=(e,t)=>{const r=n=>PD(e,()=>$o(n,e.reason));return(n,a)=>{Vw(n);const i=new AbortController;r(i);const o=PV(async()=>{Lo(e),Lo(i.signal);const l=await n({pause:Pm(i.signal),delay:ED(i.signal),signal:i.signal});return Lo(i.signal),l},()=>$o(i,kV));return a?.autoJoin&&t.push(o.catch(Cm)),{result:Pm(e)(o),cancel(){$o(i,SV)}}}},EV=(e,t)=>{const r=async(n,a)=>{Lo(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(h,f)=>{f.unsubscribe(),c([h,f.getState(),f.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await _D(t,Promise.race(l));return Lo(t),c}finally{i()}};return(n,a)=>CD(r(n,a))},AD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=rs(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Tn(21));return Vw(i),{predicate:a,type:t,effect:i}},OD=ac(e=>{const{type:t,predicate:r,effect:n}=AD(e);return{id:fV(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Tn(22))}}},{withTypes:()=>OD}),jk=(e,t)=>{const{type:r,effect:n,predicate:a}=AD(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},i0=e=>{e.pending.forEach(t=>{$o(t,a0)})},AV=e=>()=>{e.forEach(i0),e.clear()},wk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},TD=ac(rs(`${gx}/add`),{withTypes:()=>TD}),OV=rs(`${gx}/removeAll`),DD=ac(rs(`${gx}/remove`),{withTypes:()=>DD}),TV=(...e)=>{console.error(`${gx}/error`,...e)},Gu=(e={})=>{const t=new Map,{extra:r,onError:n=TV}=e;Vw(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),h=>{d.unsubscribe(),h?.cancelActive&&i0(d)}),i=d=>{const h=jk(t,d)??OD(d);return a(h)};ac(i,{withTypes:()=>i});const o=d=>{const h=jk(t,d);return h&&(h.unsubscribe(),d.cancelActive&&i0(h)),!!h};ac(o,{withTypes:()=>o});const l=async(d,h,f,m)=>{const j=new AbortController,g=EV(i,j.signal),x=[];try{d.pending.add(j),await Promise.resolve(d.effect(h,ac({},f,{getOriginalState:m,condition:(y,v)=>g(y,v).then(Boolean),take:g,delay:ED(j.signal),pause:Pm(j.signal),extra:r,signal:j.signal,fork:_V(j.signal,x),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,v,w)=>{y!==j&&($o(y,a0),w.delete(y))})},cancel:()=>{$o(j,a0),d.pending.delete(j)},throwIfCancelled:()=>{Lo(j.signal)}})))}catch(y){y instanceof xx||wk(n,y,{raisedBy:"effect"})}finally{await Promise.all(x),$o(j,CV),d.pending.delete(j)}},c=AV(t);return{middleware:d=>h=>f=>{if(!fD(f))return h(f);if(TD.match(f))return i(f.payload);if(OV.match(f)){c();return}if(DD.match(f))return o(f.payload);let m=d.getState();const j=()=>{if(m===yk)throw new Error(Tn(23));return m};let g;try{if(g=h(f),t.size>0){const x=d.getState(),y=Array.from(t.values());for(const v of y){let w=!1;try{w=v.predicate(f,x,m)}catch(b){w=!1,wk(n,b,{raisedBy:"predicate"})}w&&l(v,f,d,j)}}}finally{m=yk}return g},startListening:i,stopListening:o,clearListeners:c}};function Tn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var DV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},MD=Fn({name:"chartLayout",initialState:DV,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:MV,setLayout:IV,setChartSize:RV,setScale:$V}=MD.actions,LV=MD.reducer;function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){FV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FV(e,t,r){return(t=BV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=zV(e,"string");return typeof t=="symbol"?t:t+""}function zV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _m=Math.PI/180,WV=e=>e*180/Math.PI,tr=(e,t,r,n)=>({x:e+Math.cos(-_m*n)*r,y:t+Math.sin(-_m*n)*r}),ID=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},UV=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},KV=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=UV({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:WV(c),angleInRadian:c}},HV=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},VV=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},qV=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=KV({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:u}=HV(t),d=i,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?Nk(Nk({},t),{},{radius:a,angle:VV(d,t)}):null};function RD(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(n){YV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YV(e,t,r){return(t=GV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=XV(e,"string");return typeof t=="symbol"?t:t+""}function XV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lt(e,t,r){return St(e)||St(t)?r:ta(t)?el(e,t,r):typeof t=="function"?t(e):r}var JV=(e,t,r,n,a)=>{var i,o=-1,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,h=c>=l-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(vr(d-u)!==vr(h-d)){var m=[];if(vr(h-d)===vr(a[1]-a[0])){f=h;var j=d+a[1]-a[0];m[0]=Math.min(j,(j+u)/2),m[1]=Math.max(j,(j+u)/2)}else{f=u;var g=h+a[1]-a[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var x=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){({index:o}=r[c]);break}}else{var y=Math.min(u,h),v=Math.max(u,h);if(e>(y+d)/2&&e<=(v+d)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},QV=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ke(e[i]))return Vn(Vn({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ke(e[o]))return Vn(Vn({},e),{},{[o]:e[o]+(a||0)})}return e},oa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",$D=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},LD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:f,axisType:m}=e;if(!o)return null;var j=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=(t||r)&&a==="category"&&o.bandwidth?o.bandwidth()/j:0;if(g=m==="angleAxis"&&i&&i.length>=2?vr(i[0]-i[1])*2*g:g,t&&(h||f)){var x=(h||f||[]).map((y,v)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+g,value:y,offset:g,index:v}});return x.filter(y=>!mn(y.coordinate))}return c&&u?u.map((y,v)=>({coordinate:o(y)+g,value:y,index:v,offset:g})):o.ticks&&!r&&d!=null?o.ticks(d).map((y,v)=>({coordinate:o(y)+g,value:y,offset:g,index:v})):o.domain().map((y,v)=>({coordinate:o(y)+g,value:n?n[y]:y,index:v,offset:g}))},kk=1e-4,ZV=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-kk,i=Math.max(n[0],n[1])+kk,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},eq=(e,t)=>{if(!t||t.length!==2||!ke(t[0])||!ke(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(a[0]=r),(!ke(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},tq=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=mn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},rq=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=mn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},nq={sign:tq,expand:zH,none:jc,silhouette:WH,wiggle:UH,positive:rq},sq=(e,t,r)=>{var n=nq[r],a=BH().keys(t).value((i,o)=>+lt(i,o,0)).order(Xy).offset(n);return a(e)};function FD(e){return e==null?void 0:String(e)}function Em(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!St(a[t.dataKey])){var l=pT(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=lt(a,St(o)?t.dataKey:o);return St(c)?null:t.scale(c)}var Ck=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=lt(i,t.dataKey,t.scale.domain()[o]);return St(l)?null:t.scale(l)-a/2+n},aq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},iq=e=>{var t=e.flat(2).filter(ke);return[Math.min(...t),Math.max(...t)]},oq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],lq=(e,t,r)=>{if(e!=null)return oq(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,u)=>{var d=RD(u,t,r),h=iq(d);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Pk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_k=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=hx(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function Ek(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Vn(Vn({},t),{},{dataKey:r,payload:n,value:a,name:i})}function eo(e,t){if(e)return String(e);if(typeof t=="string")return t}function cq(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?qV({x:e,y:t},n):null}var dq=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Vn(Vn(Vn({},n),tr(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return Vn(Vn(Vn({},n),tr(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},uq=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ha=e=>e.layout.width,Va=e=>e.layout.height,hq=e=>e.layout.scale,BD=e=>e.layout.margin,vx=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yx=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zD="data-recharts-item-index",WD="data-recharts-item-data-key",Xu=60;function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=pq(e,"string");return typeof t=="symbol"?t:t+""}function pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xq=e=>e.brush.height;function gq(e){var t=yx(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Xu;return r+a}return r},0)}function vq(e){var t=yx(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Xu;return r+a}return r},0)}function yq(e){var t=vx(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function jq(e){var t=vx(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var dr=X([Ha,Va,BD,xq,gq,vq,yq,jq,cD,L7],(e,t,r,n,a,i,o,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+l},f=ef(ef({},h),d),m=f.bottom;f.bottom+=n,f=QV(f,c,u);var j=e-f.left-f.right,g=t-f.top-f.bottom;return ef(ef({brushBottom:m},f),{},{width:Math.max(j,0),height:Math.max(g,0)})}),wq=X(dr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),qw=X(Ha,Va,(e,t)=>({x:0,y:0,width:e,height:t})),bq=p.createContext(null),Ur=()=>p.useContext(bq)!=null,jx=e=>e.brush,wx=X([jx,dr,BD],(e,t,r)=>({height:e.height,x:ke(e.x)?e.x:t.left,y:ke(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ke(e.width)?e.width:t.width})),Yw=()=>{var e,t=Ur(),r=Se(wq),n=Se(wx),a=(e=Se(jx))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Nq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},UD=()=>{var e;return(e=Se(dr))!==null&&e!==void 0?e:Nq},Gw=()=>Se(Ha),Xw=()=>Se(Va),Sq=()=>Se(e=>e.layout.margin),qe=e=>e.layout.layoutType,Ju=()=>Se(qe),kq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},KD=Fn({name:"legend",initialState:kq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=_a(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Ok,setLegendSettings:Cq,addLegendPayload:HD,removeLegendPayload:VD}=KD.actions,Pq=KD.reducer,_q=["contextPayload"];function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(null,arguments)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){Jw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jw(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oq(e,t){if(e==null)return{};var r,n,a=Tq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dq(e){return e.value}function Mq(e){var{contextPayload:t}=e,r=Oq(e,_q),n=QT(t,e.payloadUniqBy,Dq),a=Nc(Nc({},r),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(Ew,a)}function Iq(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Nc(Nc({},u),d)}function Rq(e){var t=Lt();return p.useEffect(()=>{t(Cq(e))},[t,e]),null}function $q(e){var t=Lt();return p.useEffect(()=>(t(Ok(e)),()=>{t(Ok({width:0,height:0}))}),[t,e]),null}function Lq(e){var t=z7(),r=dH(),n=Sq(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[c,u]=dD([t]),d=Gw(),h=Xw();if(d==null||h==null)return null;var f=d-(n.left||0)-(n.right||0),m=dl.getWidthOrHeight(e.layout,i,a,f),j=l?o:Nc(Nc({position:"absolute",width:m?.width||a||"auto",height:m?.height||i||"auto"},Iq(o,e,n,d,h,c)),o),g=l??r;if(g==null)return null;var x=p.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:u},p.createElement(Rq,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement($q,{width:c.width,height:c.height}),p.createElement(Mq,o0({},e,m,{margin:n,chartWidth:d,chartHeight:h,contextPayload:t})));return Gi.createPortal(x,g)}class dl extends p.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&ke(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return p.createElement(Lq,this.props)}}Jw(dl,"displayName","Legend");Jw(dl,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fq(e,t,r){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wq(e){return Array.isArray(e)&&ta(e[0])&&ta(e[1])?e.join(" ~ "):e}var Uq=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=!1}=e,m=()=>{if(i&&i.length){var N={padding:0,margin:0},k=(l?hx(i,l):i).map((P,C)=>{if(P.type==="none")return null;var A=P.formatter||o||Wq,{value:S,name:I}=P,O=S,z=I;if(A){var V=A(S,I,P,C,i);if(Array.isArray(V))[O,z]=V;else if(V!=null)O=V;else return null}var Y=av({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:Y},ta(z)?p.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ta(z)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},O),p.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},j=av({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=av({margin:0},a),x=!St(d),y=x?d:"",v=Xe("recharts-default-tooltip",c),w=Xe("recharts-tooltip-label",u);x&&h&&i!==void 0&&i!==null&&(y=h(d,i));var b=f?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",l0({className:v,style:j},b),p.createElement("p",{className:w,style:g},p.isValidElement(y)?y:"".concat(y)),m())},xd="recharts-tooltip-wrapper",Kq={visibility:"hidden"};function Hq(e){var{coordinate:t,translateX:r,translateY:n}=e;return Xe(xd,{["".concat(xd,"-right")]:ke(r)&&t&&ke(t.x)&&r>=t.x,["".concat(xd,"-left")]:ke(r)&&t&&ke(t.x)&&r<t.x,["".concat(xd,"-bottom")]:ke(n)&&t&&ke(t.y)&&n>=t.y,["".concat(xd,"-top")]:ke(n)&&t&&ke(t.y)&&n<t.y})}function Mk(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ke(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),h=r[n]+a;if(t[n])return o[n]?d:h;var f=c[n];if(f==null)return 0;if(o[n]){var m=d,j=f;return m<j?Math.max(h,f):Math.max(d,f)}if(u==null)return 0;var g=h+l,x=f+u;return g>x?Math.max(d,f):Math.max(h,f)}function Vq(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qq(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,u,d,h;return o.height>0&&o.width>0&&r?(d=Mk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=Mk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Vq({translateX:d,translateY:h,useTranslate3d:l})):u=Kq,{cssProperties:u,cssClasses:Hq({translateX:d,translateY:h,coordinate:r})}}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){c0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c0(e,t,r){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Gq(e,"string");return typeof t=="symbol"?t:t+""}function Gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xq extends p.PureComponent{constructor(){super(...arguments),c0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),c0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:f,viewBox:m,wrapperStyle:j,lastBoundingBox:g,innerRef:x,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:w}=qq({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:g.height,width:g.width},useTranslate3d:f,viewBox:m}),b=y?{}:tf(tf({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=tf(tf({},b),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},j);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:N,ref:x},i)}}var Jq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qa={devToolsEnabled:!1,isSsr:Jq()},qD=()=>Se(e=>e.rootProps.accessibilityLayer);function Tr(e){return Number.isFinite(e)}function Sc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d0.apply(null,arguments)}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lk={curveBasisClosed:EH,curveBasisOpen:AH,curveBasis:_H,curveBumpX:mH,curveBumpY:pH,curveLinearClosed:OH,curveLinear:lx,curveMonotoneX:TH,curveMonotoneY:DH,curveNatural:MH,curveStep:IH,curveStepAfter:$H,curveStepBefore:RH},rf=e=>Tr(e.x)&&Tr(e.y),gd=e=>e.x,vd=e=>e.y,t9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Vu(e));return(r==="curveMonotone"||r==="curveBump")&&t?Lk["".concat(r).concat(t==="vertical"?"Y":"X")]:Lk[r]||lx},r9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=t9(t,a),l=i?r.filter(rf):r,c;if(Array.isArray(n)){var u=i?n.filter(h=>rf(h)):n,d=l.map((h,f)=>$k($k({},h),{},{base:u[f]}));return a==="vertical"?c=Yh().y(vd).x1(gd).x0(h=>h.base.x):c=Yh().x(gd).y1(vd).y0(h=>h.base.y),c.defined(rf).curve(o),c(d)}return a==="vertical"&&ke(n)?c=Yh().y(vd).x1(gd).x0(n):ke(n)?c=Yh().x(gd).y1(vd).y0(n):c=ST().x(gd).y(vd),c.defined(rf).curve(o),c(l)},ic=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?r9(e):n;return p.createElement("path",d0({},os(e),ww(e),{className:Xe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},n9=["x","y","top","left","width","height","className"];function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){a9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9(e,t,r){return(t=i9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=o9(e,"string");return typeof t=="symbol"?t:t+""}function o9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l9(e,t){if(e==null)return{};var r,n,a=c9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function c9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d9=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),u9=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=l9(e,n9),u=s9({x:t,y:r,top:n,left:a,width:i,height:o},c);return!ke(t)||!ke(r)||!ke(i)||!ke(o)||!ke(n)||!ke(a)?null:p.createElement("path",u0({},kt(u,!0),{className:Xe("recharts-cross",l),d:d9(t,r,i,o,n,a)}))};function h9(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){m9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m9(e,t,r){return(t=p9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(e,t){var r=f9({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function g9(){}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){v9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v9(e,t,r){return(t=y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y9(e){var t=j9(e,"string");return typeof t=="symbol"?t:t+""}function j9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),YD=(e,t,r)=>e.map(n=>"".concat(w9(n)," ").concat(t,"ms ").concat(r)).join(","),b9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Nu=(e,t)=>Object.keys(t).reduce((r,n)=>Wk(Wk({},r),{},{[n]:e(n,t[n])}),{});function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){N9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N9(e,t,r){return(t=S9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Am=(e,t,r)=>e+(t-e)*r,h0=e=>{var{from:t,to:r}=e;return t!==r},GD=(e,t,r)=>{var n=Nu((a,i)=>{if(h0(i)){var[o,l]=e(i.from,i.to,i.velocity);return kr(kr({},i),{},{from:o,velocity:l})}return i},t);return r<1?Nu((a,i)=>h0(i)?kr(kr({},i),{},{velocity:Am(i.velocity,n[a].velocity,r),from:Am(i.from,n[a].from,r)}):i,t):GD(e,n,r-1)};function C9(e,t,r,n,a,i){var o,l=n.reduce((f,m)=>kr(kr({},f),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Nu((f,m)=>m.from,l),u=()=>!Object.values(l).filter(h0).length,d=null,h=f=>{o||(o=f);var m=f-o,j=m/r.dt;l=GD(r,l,j),a(kr(kr(kr({},e),t),c())),o=f,u()||(d=i.setTimeout(h))};return()=>(d=i.setTimeout(h),()=>{d()})}function P9(e,t,r,n,a,i,o){var l=null,c=a.reduce((h,f)=>kr(kr({},h),{},{[f]:[e[f],t[f]]}),{}),u,d=h=>{u||(u=h);var f=(h-u)/n,m=Nu((g,x)=>Am(...x,r(f)),c);if(i(kr(kr(kr({},e),t),m)),f<1)l=o.setTimeout(d);else{var j=Nu((g,x)=>Am(...x,r(1)),c);i(kr(kr(kr({},e),t),j))}};return()=>(l=o.setTimeout(d),()=>{l()})}const _9=(e,t,r,n,a,i)=>{var o=b9(e,t);return r.isStepper===!0?C9(e,t,r,o,a,i):P9(e,t,r,n,o,a,i)};var Om=1e-4,XD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],JD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Kk=(e,t)=>r=>{var n=XD(e,t);return JD(n,r)},E9=(e,t)=>r=>{var n=XD(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return JD(a,r)},Hk=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else o.length===4&&([t,n,r,a]=o);var u=Kk(t,r),d=Kk(n,a),h=E9(t,r),f=j=>j>1?1:j<0?0:j,m=j=>{for(var g=j>1?1:j,x=g,y=0;y<8;++y){var v=u(x)-g,w=h(x);if(Math.abs(v-g)<Om||w<Om)return d(x);x=f(x-v/w)}return d(x)};return m.isStepper=!1,m},A9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var u=-(o-l)*r,d=c*n,h=c+(u-d)*a/1e3,f=c*a/1e3+o;return Math.abs(f-l)<Om&&Math.abs(h)<Om?[l,0]:[f,h]};return i.isStepper=!0,i.dt=a,i},O9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Hk(e);case"spring":return A9();default:if(e.split("(")[0]==="cubic-bezier")return Hk(e)}return typeof e=="function"?e:null};function T9(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class D9{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function M9(){return T9(new D9)}var I9=p.createContext(M9);function R9(e,t){var r=p.useContext(I9);return p.useMemo(()=>t??r(e),[e,t,r])}var $9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vk={t:0},iv={t:1};function Uc(e){var t=ur(e,$9),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=R9(t.animationId,t.animationManager),[h,f]=p.useState(r?Vk:iv),m=p.useRef(null);return p.useEffect(()=>{r||f(iv)},[r]),p.useEffect(()=>{if(!r||!n)return g9;var j=_9(Vk,iv,O9(i),a,f,d.getTimeoutController()),g=()=>{m.current=j()};return d.start([c,o,g,a,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,a,i,o,c,l,d]),u(h.t)}function Kc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(ju(t)),n=p.useRef(e);return n.current!==e&&(r.current=ju(t),n.current=e),r.current}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return(t=F9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=B9(e,"string");return typeof t=="symbol"?t:t+""}function B9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tm.apply(null,arguments)}var Gk=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=a[h]>i?i:a[h];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},z9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QD=e=>{var t=ur(e,z9),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:f,animationBegin:m,isAnimationActive:j,isUpdateAnimationActive:g}=t,x=p.useRef(l),y=p.useRef(c),v=p.useRef(i),w=p.useRef(o),b=p.useMemo(()=>({x:i,y:o,width:l,height:c,radius:u}),[i,o,l,c,u]),N=Kc(b,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var k=Xe("recharts-rectangle",d);if(!g)return p.createElement("path",Tm({},kt(t,!0),{className:k,d:Gk(i,o,l,c,u)}));var P=x.current,C=y.current,A=v.current,S=w.current,I="0px ".concat(n===-1?1:n,"px"),O="".concat(n,"px 0px"),z=YD(["strokeDasharray"],f,typeof h=="string"?h:void 0);return p.createElement(Uc,{animationId:N,key:N,canBegin:n>0,duration:f,easing:h,isActive:g,begin:m},V=>{var Y=ot(P,l,V),R=ot(C,c,V),W=ot(A,i,V),_=ot(S,o,V);r.current&&(x.current=Y,y.current=R,v.current=W,w.current=_);var T;return j?V>0?T={transition:z,strokeDasharray:O}:T={strokeDasharray:I}:T={strokeDasharray:O},p.createElement("path",Tm({},kt(t,!0),{className:k,d:Gk(W,_,Y,R,u),ref:r,style:Yk(Yk({},T),t.style)}))})};function ZD(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=tr(t,r,n,a),l=tr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(null,arguments)}var W9=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},nf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/_m,h=c?a:a+i*d,f=tr(t,r,u,h),m=tr(t,r,n,h),j=c?a-i*d:a,g=tr(t,r,u*Math.cos(d*_m),j);return{center:f,circleTangency:m,lineTangency:g,theta:d}},eM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=W9(i,o),c=i+l,u=tr(t,r,a,i),d=tr(t,r,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var f=tr(t,r,n,i),m=tr(t,r,n,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},U9=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=vr(u-c),{circleTangency:h,lineTangency:f,theta:m}=nf({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:j,lineTangency:g,theta:x}=nf({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-m-x;if(y<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):eM({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var v="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:b,theta:N}=nf({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:k,lineTangency:P,theta:C}=nf({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-N-C;if(A<0&&i===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},K9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tM=e=>{var t=ur(e,K9),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(i<a||u===d)return null;var f=Xe("recharts-sector",h),m=i-a,j=Br(o,m,0,!0),g;return j>0&&Math.abs(u-d)<360?g=U9({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(j,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=eM({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",f0({},kt(t,!0),{className:f,d:g}))};function H9(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:h}=t,f=tr(l,c,u,h),m=tr(l,c,d,h);n=f.x,a=f.y,i=m.x,o=m.y}else return ZD(t);return[{x:n,y:a},{x:i,y:o}]}var rM={},nM={},sM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(sM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(nM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zw,r=nM;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=o;return c}e.range=n})(rM);var V9=rM.range;const aM=aa(V9);function Di(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qw(e){let t,r,n;e.length!==2?(t=Di,r=(l,c)=>Di(e(l),c),n=(l,c)=>e(l)-c):(t=e===Di||e===q9?e:Y9,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function Y9(){return 0}function iM(e){return e===null?NaN:+e}function*G9(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const X9=Qw(Di),J9=X9.right;Qw(iM).center;const Qu=J9;class Xk extends Map{constructor(t,r=eY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Jk(this,t))}has(t){return super.has(Jk(this,t))}set(t,r){return super.set(Q9(this,t),r)}delete(t){return super.delete(Z9(this,t))}}function Jk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Q9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Z9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function eY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tY(e=Di){if(e===Di)return oM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function oM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rY=Math.sqrt(50),nY=Math.sqrt(10),sY=Math.sqrt(2);function Dm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=rY?10:i>=nY?5:i>=sY?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Dm(e,t,r*2):[l,c,u]}function m0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Dm(t,e,r):Dm(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function p0(e,t,r){return t=+t,e=+e,r=+r,Dm(e,t,r)[2]}function x0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?p0(t,e,r):p0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Qk(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function Zk(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function lM(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?oM:tY(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*h/c+f)),j=Math.min(n,Math.floor(t+(c-u)*h/c+f));lM(e,t,m,j,a)}const i=e[t];let o=r,l=n;for(yd(e,r,t),a(e[n],i)>0&&yd(e,r,n);o<l;){for(yd(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?yd(e,r,l):(++l,yd(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function yd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function aY(e,t,r){if(e=Float64Array.from(G9(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Zk(e);if(t>=1)return Qk(e);var n,a=(n-1)*t,i=Math.floor(a),o=Qk(lM(e,i).subarray(0,i+1)),l=Zk(e.subarray(i+1));return o+(l-o)*(a-i)}}function iY(e,t,r=iM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function oY(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ya(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const g0=Symbol("implicit");function Zw(){var e=new Xk,t=[],r=[],n=g0;function a(i){let o=e.get(i);if(o===void 0){if(n!==g0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Xk;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Zw(t,r).unknown(n)},ls.apply(a,arguments),a}function eb(){var e=Zw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,m=a<n,j=m?a:n,g=m?n:a;i=(g-j)/Math.max(1,f-c+u*2),l&&(i=Math.floor(i)),j+=(g-j-i*(f-c))*d,o=i*(1-c),l&&(j=Math.round(j),o=Math.round(o));var x=oY(f).map(function(y){return j+i*y});return r(m?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return eb(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ls.apply(h(),arguments)}function cM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cM(t())},e}function lY(){return cM(eb.apply(null,arguments).paddingInner(1))}function tb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function dM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zu(){}var Su=.7,Mm=1/Su,oc="\\s*([+-]?\\d+)\\s*",ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cY=/^#([0-9a-f]{3,8})$/,dY=new RegExp(`^rgb\\(${oc},${oc},${oc}\\)$`),uY=new RegExp(`^rgb\\(${Xs},${Xs},${Xs}\\)$`),hY=new RegExp(`^rgba\\(${oc},${oc},${oc},${ku}\\)$`),fY=new RegExp(`^rgba\\(${Xs},${Xs},${Xs},${ku}\\)$`),mY=new RegExp(`^hsl\\(${ku},${Xs},${Xs}\\)$`),pY=new RegExp(`^hsla\\(${ku},${Xs},${Xs},${ku}\\)$`),eC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tb(Zu,Cu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tC,formatHex:tC,formatHex8:xY,formatHsl:gY,formatRgb:rC,toString:rC});function tC(){return this.rgb().formatHex()}function xY(){return this.rgb().formatHex8()}function gY(){return uM(this).formatHsl()}function rC(){return this.rgb().formatRgb()}function Cu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=cY.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?nC(t):r===3?new cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dY.exec(e))?new cn(t[1],t[2],t[3],1):(t=uY.exec(e))?new cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=hY.exec(e))?sf(t[1],t[2],t[3],t[4]):(t=fY.exec(e))?sf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mY.exec(e))?iC(t[1],t[2]/100,t[3]/100,1):(t=pY.exec(e))?iC(t[1],t[2]/100,t[3]/100,t[4]):eC.hasOwnProperty(e)?nC(eC[e]):e==="transparent"?new cn(NaN,NaN,NaN,0):null}function nC(e){return new cn(e>>16&255,e>>8&255,e&255,1)}function sf(e,t,r,n){return n<=0&&(e=t=r=NaN),new cn(e,t,r,n)}function vY(e){return e instanceof Zu||(e=Cu(e)),e?(e=e.rgb(),new cn(e.r,e.g,e.b,e.opacity)):new cn}function v0(e,t,r,n){return arguments.length===1?vY(e):new cn(e,t,r,n??1)}function cn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tb(cn,v0,dM(Zu,{brighter(e){return e=e==null?Mm:Math.pow(Mm,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Su:Math.pow(Su,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(Fo(this.r),Fo(this.g),Fo(this.b),Im(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sC,formatHex:sC,formatHex8:yY,formatRgb:aC,toString:aC}));function sC(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}`}function yY(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}${Ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function aC(){const e=Im(this.opacity);return`${e===1?"rgb(":"rgba("}${Fo(this.r)}, ${Fo(this.g)}, ${Fo(this.b)}${e===1?")":`, ${e})`}`}function Im(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ao(e){return e=Fo(e),(e<16?"0":"")+e.toString(16)}function iC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ws(e,t,r,n)}function uM(e){if(e instanceof ws)return new ws(e.h,e.s,e.l,e.opacity);if(e instanceof Zu||(e=Cu(e)),!e)return new ws;if(e instanceof ws)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new ws(o,l,c,e.opacity)}function jY(e,t,r,n){return arguments.length===1?uM(e):new ws(e,t,r,n??1)}function ws(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tb(ws,jY,dM(Zu,{brighter(e){return e=e==null?Mm:Math.pow(Mm,e),new ws(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Su:Math.pow(Su,e),new ws(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new cn(ov(e>=240?e-240:e+120,a,n),ov(e,a,n),ov(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ws(oC(this.h),af(this.s),af(this.l),Im(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Im(this.opacity);return`${e===1?"hsl(":"hsla("}${oC(this.h)}, ${af(this.s)*100}%, ${af(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oC(e){return e=(e||0)%360,e<0?e+360:e}function af(e){return Math.max(0,Math.min(1,e||0))}function ov(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rb=e=>()=>e;function wY(e,t){return function(r){return e+r*t}}function bY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function NY(e){return(e=+e)==1?hM:function(t,r){return r-t?bY(t,r,e):rb(isNaN(t)?r:t)}}function hM(e,t){var r=t-e;return r?wY(e,r):rb(isNaN(e)?t:e)}const lC=function e(t){var r=NY(t);function n(a,i){var o=r((a=v0(a)).r,(i=v0(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=hM(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function SY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function kY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Hc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function PY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Rm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _Y(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var y0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lv=new RegExp(y0.source,"g");function EY(e){return function(){return e}}function AY(e){return function(t){return e(t)+""}}function OY(e,t){var r=y0.lastIndex=lv.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=y0.exec(e))&&(a=lv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Rm(n,a)})),r=lv.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?AY(c[0].x):EY(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Hc(e,t){var r=typeof t,n;return t==null||r==="boolean"?rb(t):(r==="number"?Rm:r==="string"?(n=Cu(t))?(t=n,lC):OY:t instanceof Cu?lC:t instanceof Date?PY:kY(t)?SY:Array.isArray(t)?CY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_Y:Rm)(e,t)}function nb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function TY(e,t){t===void 0&&(t=e,e=Hc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function DY(e){return function(){return e}}function $m(e){return+e}var cC=[0,1];function Yr(e){return e}function j0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:DY(isNaN(t)?NaN:.5)}function MY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function IY(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=j0(a,n),i=r(o,i)):(n=j0(n,a),i=r(i,o)),function(l){return i(n(l))}}function RY(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=j0(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Qu(e,l,1,n)-1;return i[c](a[c](l))}}function eh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bx(){var e=cC,t=cC,r=Hc,n,a,i,o=Yr,l,c,u;function d(){var f=Math.min(e.length,t.length);return o!==Yr&&(o=MY(e[0],e[f-1])),l=f>2?RY:IY,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return h.invert=function(f){return o(a((u||(u=l(t,e.map(n),Rm)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,$m),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=nb,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Yr,d()):o!==Yr},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,m){return n=f,a=m,d()}}function sb(){return bx()(Yr,Yr)}function $Y(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function kc(e){return e=Lm(Math.abs(e)),e?e[1]:NaN}function LY(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function FY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var BY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pu(e){if(!(t=BY.exec(e)))throw new Error("invalid format: "+e);var t;return new ab({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pu.prototype=ab.prototype;function ab(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zY(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var fM;function WY(e,t){var r=Lm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(fM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Lm(e,Math.max(0,t+i-1))[0]}function dC(e,t){var r=Lm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const uC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$Y,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dC(e*100,t),r:dC,s:WY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hC(e){return e}var fC=Array.prototype.map,mC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UY(e){var t=e.grouping===void 0||e.thousands===void 0?hC:LY(fC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?hC:FY(fC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Pu(h);var f=h.fill,m=h.align,j=h.sign,g=h.symbol,x=h.zero,y=h.width,v=h.comma,w=h.precision,b=h.trim,N=h.type;N==="n"?(v=!0,N="g"):uC[N]||(w===void 0&&(w=12),b=!0,N="g"),(x||f==="0"&&m==="=")&&(x=!0,f="0",m="=");var k=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=g==="$"?n:/[%p]/.test(N)?o:"",C=uC[N],A=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function S(I){var O=k,z=P,V,Y,R;if(N==="c")z=C(I)+z,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?c:C(Math.abs(I),w),b&&(I=zY(I)),W&&+I==0&&j!=="+"&&(W=!1),O=(W?j==="("?j:l:j==="-"||j==="("?"":j)+O,z=(N==="s"?mC[8+fM/3]:"")+z+(W&&j==="("?")":""),A){for(V=-1,Y=I.length;++V<Y;)if(R=I.charCodeAt(V),48>R||R>57){z=(R===46?a+I.slice(V+1):I.slice(V))+z,I=I.slice(0,V);break}}}v&&!x&&(I=t(I,1/0));var _=O.length+I.length+z.length,T=_<y?new Array(y-_+1).join(f):"";switch(v&&x&&(I=t(T+I,T.length?y-z.length:1/0),T=""),m){case"<":I=O+I+z+T;break;case"=":I=O+T+I+z;break;case"^":I=T.slice(0,_=T.length>>1)+O+I+z+T.slice(_);break;default:I=T+O+I+z;break}return i(I)}return S.toString=function(){return h+""},S}function d(h,f){var m=u((h=Pu(h),h.type="f",h)),j=Math.max(-8,Math.min(8,Math.floor(kc(f)/3)))*3,g=Math.pow(10,-j),x=mC[8+j/3];return function(y){return m(g*y)+x}}return{format:u,formatPrefix:d}}var of,ib,mM;KY({thousands:",",grouping:[3],currency:["$",""]});function KY(e){return of=UY(e),ib=of.format,mM=of.formatPrefix,of}function HY(e){return Math.max(0,-kc(Math.abs(e)))}function VY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kc(t)/3)))*3-kc(Math.abs(e)))}function qY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kc(t)-kc(e))+1}function pM(e,t,r,n){var a=x0(e,t,r),i;switch(n=Pu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=VY(a,o))&&(n.precision=i),mM(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=qY(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=HY(a))&&(n.precision=i-(n.type==="%")*2);break}}return ib(n)}function to(e){var t=e.domain;return e.ticks=function(r){var n=t();return m0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return pM(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=p0(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function xM(){var e=sb();return e.copy=function(){return eh(e,xM())},ls.apply(e,arguments),to(e)}function gM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,$m),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return gM(e).unknown(t)},e=arguments.length?Array.from(e,$m):[0,1],to(r)}function vM(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function pC(e){return Math.log(e)}function xC(e){return Math.exp(e)}function YY(e){return-Math.log(-e)}function GY(e){return-Math.exp(-e)}function XY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function JY(e){return e===10?XY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function QY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gC(e){return(t,r)=>-e(-t,r)}function ob(e){const t=e(pC,xC),r=t.domain;let n=10,a,i;function o(){return a=QY(n),i=JY(n),r()[0]<0?(a=gC(a),i=gC(i),e(YY,GY)):e(pC,xC),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=a(u),m=a(d),j,g;const x=l==null?10:+l;let y=[];if(!(n%1)&&m-f<x){if(f=Math.floor(f),m=Math.ceil(m),u>0){for(;f<=m;++f)for(j=1;j<n;++j)if(g=f<0?j/i(-f):j*i(f),!(g<u)){if(g>d)break;y.push(g)}}else for(;f<=m;++f)for(j=n-1;j>=1;--j)if(g=f>0?j/i(-f):j*i(f),!(g<u)){if(g>d)break;y.push(g)}y.length*2<x&&(y=m0(u,d,x))}else y=m0(f,m,Math.min(m-f,x)).map(i);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Pu(c)).precision==null&&(c.trim=!0),c=ib(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(vM(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function yM(){const e=ob(bx()).domain([1,10]);return e.copy=()=>eh(e,yM()).base(e.base()),ls.apply(e,arguments),e}function vC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lb(e){var t=1,r=e(vC(t),yC(t));return r.constant=function(n){return arguments.length?e(vC(t=+n),yC(t)):t},to(r)}function jM(){var e=lb(bx());return e.copy=function(){return eh(e,jM()).constant(e.constant())},ls.apply(e,arguments)}function jC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ZY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eG(e){return e<0?-e*e:e*e}function cb(e){var t=e(Yr,Yr),r=1;function n(){return r===1?e(Yr,Yr):r===.5?e(ZY,eG):e(jC(r),jC(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},to(t)}function db(){var e=cb(bx());return e.copy=function(){return eh(e,db()).exponent(e.exponent())},ls.apply(e,arguments),e}function tG(){return db.apply(null,arguments).exponent(.5)}function wC(e){return Math.sign(e)*e*e}function rG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wM(){var e=sb(),t=[0,1],r=!1,n;function a(i){var o=rG(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(wC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,$m)).map(wC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return wM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ls.apply(a,arguments),to(a)}function bM(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=iY(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Qu(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Di),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return bM().domain(e).range(t).unknown(n)},ls.apply(i,arguments)}function NM(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Qu(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return NM().domain([e,t]).range(a).unknown(i)},ls.apply(to(o),arguments)}function SM(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Qu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return SM().domain(e).range(t).unknown(r)},ls.apply(a,arguments)}const cv=new Date,dv=new Date;function hr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>hr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(cv.setTime(+i),dv.setTime(+o),e(cv),e(dv),Math.floor(r(cv,dv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Fm=hr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?hr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Fm);Fm.range;const wa=1e3,Xn=wa*60,ba=Xn*60,Ba=ba*24,ub=Ba*7,bC=Ba*30,uv=Ba*365,Oo=hr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCSeconds());Oo.range;const hb=hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wa)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getMinutes());hb.range;const fb=hr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getUTCMinutes());fb.range;const mb=hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wa-e.getMinutes()*Xn)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getHours());mb.range;const pb=hr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ba)},(e,t)=>(t-e)/ba,e=>e.getUTCHours());pb.range;const th=hr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/Ba,e=>e.getDate()-1);th.range;const Nx=hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ba,e=>e.getUTCDate()-1);Nx.range;const kM=hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ba,e=>Math.floor(e/Ba));kM.range;function ul(e){return hr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Xn)/ub)}const Sx=ul(0),Bm=ul(1),nG=ul(2),sG=ul(3),Cc=ul(4),aG=ul(5),iG=ul(6);Sx.range;Bm.range;nG.range;sG.range;Cc.range;aG.range;iG.range;function hl(e){return hr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ub)}const kx=hl(0),zm=hl(1),oG=hl(2),lG=hl(3),Pc=hl(4),cG=hl(5),dG=hl(6);kx.range;zm.range;oG.range;lG.range;Pc.range;cG.range;dG.range;const xb=hr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xb.range;const gb=hr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gb.range;const za=hr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});za.range;const Wa=hr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:hr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wa.range;function CM(e,t,r,n,a,i){const o=[[Oo,1,wa],[Oo,5,5*wa],[Oo,15,15*wa],[Oo,30,30*wa],[i,1,Xn],[i,5,5*Xn],[i,15,15*Xn],[i,30,30*Xn],[a,1,ba],[a,3,3*ba],[a,6,6*ba],[a,12,12*ba],[n,1,Ba],[n,2,2*Ba],[r,1,ub],[t,1,bC],[t,3,3*bC],[e,1,uv]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const m=h&&typeof h.range=="function"?h:c(u,d,h),j=m?m.range(u,+d+1):[];return f?j.reverse():j}function c(u,d,h){const f=Math.abs(d-u)/h,m=Qw(([,,x])=>x).right(o,f);if(m===o.length)return e.every(x0(u/uv,d/uv,h));if(m===0)return Fm.every(Math.max(x0(u,d,h),1));const[j,g]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return j.every(g)}return[l,c]}const[uG,hG]=CM(Wa,gb,kx,kM,pb,fb),[fG,mG]=CM(za,xb,Sx,th,mb,hb);function hv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function pG(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=wd(a),d=bd(a),h=wd(i),f=bd(i),m=wd(o),j=bd(o),g=wd(l),x=bd(l),y=wd(c),v=bd(c),w={a:W,A:_,b:T,B:re,c:null,d:_C,e:_C,f:LG,g:YG,G:XG,H:IG,I:RG,j:$G,L:PM,m:FG,M:BG,p:M,q:H,Q:OC,s:TC,S:zG,u:WG,U:UG,V:KG,w:HG,W:VG,x:null,X:null,y:qG,Y:GG,Z:JG,"%":AC},b={a:te,A:ne,b:fe,B:ae,c:null,d:EC,e:EC,f:tX,g:uX,G:fX,H:QG,I:ZG,j:eX,L:EM,m:rX,M:nX,p:ee,q:ce,Q:OC,s:TC,S:sX,u:aX,U:iX,V:oX,w:lX,W:cX,x:null,X:null,y:dX,Y:hX,Z:mX,"%":AC},N={a:S,A:I,b:O,B:z,c:V,d:CC,e:CC,f:OG,g:kC,G:SC,H:PC,I:PC,j:PG,L:AG,m:CG,M:_G,p:A,q:kG,Q:DG,s:MG,S:EG,u:jG,U:wG,V:bG,w:yG,W:NG,x:Y,X:R,y:kC,Y:SC,Z:SG,"%":TG};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),b.x=k(r,b),b.X=k(n,b),b.c=k(t,b);function k(ie,le){return function(me){var E=[],ue=-1,Ce=0,Be=ie.length,Qe,Ft,Os;for(me instanceof Date||(me=new Date(+me));++ue<Be;)ie.charCodeAt(ue)===37&&(E.push(ie.slice(Ce,ue)),(Ft=NC[Qe=ie.charAt(++ue)])!=null?Qe=ie.charAt(++ue):Ft=Qe==="e"?" ":"0",(Os=le[Qe])&&(Qe=Os(me,Ft)),E.push(Qe),Ce=ue+1);return E.push(ie.slice(Ce,ue)),E.join("")}}function P(ie,le){return function(me){var E=jd(1900,void 0,1),ue=C(E,ie,me+="",0),Ce,Be;if(ue!=me.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(le&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(Ce=fv(jd(E.y,0,1)),Be=Ce.getUTCDay(),Ce=Be>4||Be===0?zm.ceil(Ce):zm(Ce),Ce=Nx.offset(Ce,(E.V-1)*7),E.y=Ce.getUTCFullYear(),E.m=Ce.getUTCMonth(),E.d=Ce.getUTCDate()+(E.w+6)%7):(Ce=hv(jd(E.y,0,1)),Be=Ce.getDay(),Ce=Be>4||Be===0?Bm.ceil(Ce):Bm(Ce),Ce=th.offset(Ce,(E.V-1)*7),E.y=Ce.getFullYear(),E.m=Ce.getMonth(),E.d=Ce.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),Be="Z"in E?fv(jd(E.y,0,1)).getUTCDay():hv(jd(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(Be+5)%7:E.w+E.U*7-(Be+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,fv(E)):hv(E)}}function C(ie,le,me,E){for(var ue=0,Ce=le.length,Be=me.length,Qe,Ft;ue<Ce;){if(E>=Be)return-1;if(Qe=le.charCodeAt(ue++),Qe===37){if(Qe=le.charAt(ue++),Ft=N[Qe in NC?le.charAt(ue++):Qe],!Ft||(E=Ft(ie,me,E))<0)return-1}else if(Qe!=me.charCodeAt(E++))return-1}return E}function A(ie,le,me){var E=u.exec(le.slice(me));return E?(ie.p=d.get(E[0].toLowerCase()),me+E[0].length):-1}function S(ie,le,me){var E=m.exec(le.slice(me));return E?(ie.w=j.get(E[0].toLowerCase()),me+E[0].length):-1}function I(ie,le,me){var E=h.exec(le.slice(me));return E?(ie.w=f.get(E[0].toLowerCase()),me+E[0].length):-1}function O(ie,le,me){var E=y.exec(le.slice(me));return E?(ie.m=v.get(E[0].toLowerCase()),me+E[0].length):-1}function z(ie,le,me){var E=g.exec(le.slice(me));return E?(ie.m=x.get(E[0].toLowerCase()),me+E[0].length):-1}function V(ie,le,me){return C(ie,t,le,me)}function Y(ie,le,me){return C(ie,r,le,me)}function R(ie,le,me){return C(ie,n,le,me)}function W(ie){return o[ie.getDay()]}function _(ie){return i[ie.getDay()]}function T(ie){return c[ie.getMonth()]}function re(ie){return l[ie.getMonth()]}function M(ie){return a[+(ie.getHours()>=12)]}function H(ie){return 1+~~(ie.getMonth()/3)}function te(ie){return o[ie.getUTCDay()]}function ne(ie){return i[ie.getUTCDay()]}function fe(ie){return c[ie.getUTCMonth()]}function ae(ie){return l[ie.getUTCMonth()]}function ee(ie){return a[+(ie.getUTCHours()>=12)]}function ce(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var le=k(ie+="",w);return le.toString=function(){return ie},le},parse:function(ie){var le=P(ie+="",!1);return le.toString=function(){return ie},le},utcFormat:function(ie){var le=k(ie+="",b);return le.toString=function(){return ie},le},utcParse:function(ie){var le=P(ie+="",!0);return le.toString=function(){return ie},le}}}var NC={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,xG=/^%/,gG=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function vG(e){return e.replace(gG,"\\$&")}function wd(e){return new RegExp("^(?:"+e.map(vG).join("|")+")","i")}function bd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yG(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function jG(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function bG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function NG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function SC(e,t,r){var n=jr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function kC(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function SG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function kG(e,t,r){var n=jr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function CG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function CC(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function PG(e,t,r){var n=jr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function PC(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _G(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function EG(e,t,r){var n=jr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function AG(e,t,r){var n=jr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function OG(e,t,r){var n=jr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TG(e,t,r){var n=xG.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function DG(e,t,r){var n=jr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function MG(e,t,r){var n=jr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _C(e,t){return Ze(e.getDate(),t,2)}function IG(e,t){return Ze(e.getHours(),t,2)}function RG(e,t){return Ze(e.getHours()%12||12,t,2)}function $G(e,t){return Ze(1+th.count(za(e),e),t,3)}function PM(e,t){return Ze(e.getMilliseconds(),t,3)}function LG(e,t){return PM(e,t)+"000"}function FG(e,t){return Ze(e.getMonth()+1,t,2)}function BG(e,t){return Ze(e.getMinutes(),t,2)}function zG(e,t){return Ze(e.getSeconds(),t,2)}function WG(e){var t=e.getDay();return t===0?7:t}function UG(e,t){return Ze(Sx.count(za(e)-1,e),t,2)}function _M(e){var t=e.getDay();return t>=4||t===0?Cc(e):Cc.ceil(e)}function KG(e,t){return e=_M(e),Ze(Cc.count(za(e),e)+(za(e).getDay()===4),t,2)}function HG(e){return e.getDay()}function VG(e,t){return Ze(Bm.count(za(e)-1,e),t,2)}function qG(e,t){return Ze(e.getFullYear()%100,t,2)}function YG(e,t){return e=_M(e),Ze(e.getFullYear()%100,t,2)}function GG(e,t){return Ze(e.getFullYear()%1e4,t,4)}function XG(e,t){var r=e.getDay();return e=r>=4||r===0?Cc(e):Cc.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function JG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function EC(e,t){return Ze(e.getUTCDate(),t,2)}function QG(e,t){return Ze(e.getUTCHours(),t,2)}function ZG(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function eX(e,t){return Ze(1+Nx.count(Wa(e),e),t,3)}function EM(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function tX(e,t){return EM(e,t)+"000"}function rX(e,t){return Ze(e.getUTCMonth()+1,t,2)}function nX(e,t){return Ze(e.getUTCMinutes(),t,2)}function sX(e,t){return Ze(e.getUTCSeconds(),t,2)}function aX(e){var t=e.getUTCDay();return t===0?7:t}function iX(e,t){return Ze(kx.count(Wa(e)-1,e),t,2)}function AM(e){var t=e.getUTCDay();return t>=4||t===0?Pc(e):Pc.ceil(e)}function oX(e,t){return e=AM(e),Ze(Pc.count(Wa(e),e)+(Wa(e).getUTCDay()===4),t,2)}function lX(e){return e.getUTCDay()}function cX(e,t){return Ze(zm.count(Wa(e)-1,e),t,2)}function dX(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function uX(e,t){return e=AM(e),Ze(e.getUTCFullYear()%100,t,2)}function hX(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function fX(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pc(e):Pc.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function mX(){return"+0000"}function AC(){return"%"}function OC(e){return+e}function TC(e){return Math.floor(+e/1e3)}var _l,OM,TM;pX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pX(e){return _l=pG(e),OM=_l.format,_l.parse,TM=_l.utcFormat,_l.utcParse,_l}function xX(e){return new Date(e)}function gX(e){return e instanceof Date?+e:+new Date(+e)}function vb(e,t,r,n,a,i,o,l,c,u){var d=sb(),h=d.invert,f=d.domain,m=u(".%L"),j=u(":%S"),g=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),v=u("%b %d"),w=u("%B"),b=u("%Y");function N(k){return(c(k)<k?m:l(k)<k?j:o(k)<k?g:i(k)<k?x:n(k)<k?a(k)<k?y:v:r(k)<k?w:b)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?f(Array.from(k,gX)):f().map(xX)},d.ticks=function(k){var P=f();return e(P[0],P[P.length-1],k??10)},d.tickFormat=function(k,P){return P==null?N:u(P)},d.nice=function(k){var P=f();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?f(vM(P,k)):d},d.copy=function(){return eh(d,vb(e,t,r,n,a,i,o,l,c,u))},d}function vX(){return ls.apply(vb(fG,mG,za,xb,Sx,th,mb,hb,Oo,OM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yX(){return ls.apply(vb(uG,hG,Wa,gb,kx,Nx,pb,fb,Oo,TM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cx(){var e=0,t=1,r,n,a,i,o=Yr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var m,j;return arguments.length?([m,j]=f,o=h(m,j),u):[o(0),o(1)]}}return u.range=d(Hc),u.rangeRound=d(nb),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),u}}function ro(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function DM(){var e=to(Cx()(Yr));return e.copy=function(){return ro(e,DM())},Ya.apply(e,arguments)}function MM(){var e=ob(Cx()).domain([1,10]);return e.copy=function(){return ro(e,MM()).base(e.base())},Ya.apply(e,arguments)}function IM(){var e=lb(Cx());return e.copy=function(){return ro(e,IM()).constant(e.constant())},Ya.apply(e,arguments)}function yb(){var e=cb(Cx());return e.copy=function(){return ro(e,yb()).exponent(e.exponent())},Ya.apply(e,arguments)}function jX(){return yb.apply(null,arguments).exponent(.5)}function RM(){var e=[],t=Yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Di),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>aY(e,i/n))},r.copy=function(){return RM(t).domain(e)},Ya.apply(r,arguments)}function Px(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Yr,d,h=!1,f;function m(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(h?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(h=!!g,m):h},m.interpolator=function(g){return arguments.length?(u=g,m):u};function j(g){return function(x){var y,v,w;return arguments.length?([y,v,w]=x,u=TY(g,[y,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=j(Hc),m.rangeRound=j(nb),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function $M(){var e=to(Px()(Yr));return e.copy=function(){return ro(e,$M())},Ya.apply(e,arguments)}function LM(){var e=ob(Px()).domain([.1,1,10]);return e.copy=function(){return ro(e,LM()).base(e.base())},Ya.apply(e,arguments)}function FM(){var e=lb(Px());return e.copy=function(){return ro(e,FM()).constant(e.constant())},Ya.apply(e,arguments)}function jb(){var e=cb(Px());return e.copy=function(){return ro(e,jb()).exponent(e.exponent())},Ya.apply(e,arguments)}function wX(){return jb.apply(null,arguments).exponent(.5)}const Md=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eb,scaleDiverging:$M,scaleDivergingLog:LM,scaleDivergingPow:jb,scaleDivergingSqrt:wX,scaleDivergingSymlog:FM,scaleIdentity:gM,scaleImplicit:g0,scaleLinear:xM,scaleLog:yM,scaleOrdinal:Zw,scalePoint:lY,scalePow:db,scaleQuantile:bM,scaleQuantize:NM,scaleRadial:wM,scaleSequential:DM,scaleSequentialLog:MM,scaleSequentialPow:yb,scaleSequentialQuantile:RM,scaleSequentialSqrt:jX,scaleSequentialSymlog:IM,scaleSqrt:tG,scaleSymlog:jM,scaleThreshold:SM,scaleTime:vX,scaleUtc:yX,tickFormat:pM},Symbol.toStringTag,{value:"Module"}));var no=e=>e.chartData,wb=X([no],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rh=(e,t,r,n)=>n?wb(e):no(e);function _c(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Tr(t)&&Tr(r))return!0}return!1}function DC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function bX(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Tr(r))a=r;else if(typeof r=="function")return;if(Tr(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(_c(o))return o}}function NX(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(_c(n))return DC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ke(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&Pk.test(a)){var c=Pk.exec(a);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ke(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&_k.test(i)){var d=_k.exec(i);if(d==null||t==null)l=void 0;else{var h=+d[1];l=t[1]+h}}else l=t?.[1];var f=[o,l];if(_c(f))return t==null?f:DC(f,t,r)}}}var Vc=1e9,SX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nb,Ot=!0,ns="[DecimalError] ",Bo=ns+"Invalid argument: ",bb=ns+"Exponent out of range: ",qc=Math.floor,jo=Math.pow,kX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,mr=1e7,wt=7,BM=9007199254740991,Wm=qc(BM/wt),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(e){return Ea(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,r=t.constructor;return ut(Ea(t,new r(e),0,1),r.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return rr(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pn))throw Error(ns+"NaN");if(r.s<1)throw Error(ns+(r.s?"NaN":"-Infinity"));return r.eq(Pn)?new n(0):(Ot=!1,t=Ea(_u(r,i),_u(e,i),i),Ot=!0,ut(t,a))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UM(t,e):zM(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ns+"NaN");return r.s?(Ot=!1,t=Ea(r,e,0,1).times(e),Ot=!0,r.minus(t)):ut(new n(r),a)};ge.naturalExponential=ge.exp=function(){return WM(this)};ge.naturalLogarithm=ge.ln=function(){return _u(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zM(t,e):UM(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bo+e);if(t=rr(a)+1,n=a.d.length-1,r=n*wt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ge.squareRoot=ge.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ns+"NaN")}for(e=rr(l),Ot=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ks(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=qc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ea(l,i,o+2)).times(.5),Ks(i.d).slice(0,o)===(t=Ks(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ut(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ot=!0,ut(n,r)};ge.times=ge.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=m.length,c<u&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*f[a-n-1]+t,i[a--]=l%mr|0,t=l/mr|0;i[a]=(i[a]+t)%mr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ot?ut(e,h.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ra(e,0,Vc),t===void 0?t=n.rounding:ra(t,0,8),ut(r,e+rr(r)+1,t))};ge.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=sl(n,!0):(ra(e,0,Vc),t===void 0?t=a.rounding:ra(t,0,8),n=ut(new a(n),e+1,t),r=sl(n,!0,e+1)),r};ge.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?sl(a):(ra(e,0,Vc),t===void 0?t=i.rounding:ra(t,0,8),n=ut(new i(a),e+rr(a)+1,t),r=sl(n.abs(),!1,e+rr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return ut(new t(e),rr(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Pn);if(l=new c(l),!l.s){if(e.s<1)throw Error(ns+"Infinity");return l}if(l.eq(Pn))return l;if(n=c.precision,e.eq(Pn))return ut(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=BM){for(a=new c(Pn),t=Math.ceil(n/wt+4),Ot=!1;r%2&&(a=a.times(l),IC(a.d,t)),r=qc(r/2),r!==0;)l=l.times(l),IC(l.d,t);return Ot=!0,e.s<0?new c(Pn).div(a):ut(a,n)}}else if(i<0)throw Error(ns+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ot=!1,a=e.times(_u(l,n+u)),Ot=!0,a=WM(a),a.s=i,a};ge.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=rr(a),n=sl(a,r<=i.toExpNeg||r>=i.toExpPos)):(ra(e,1,Vc),t===void 0?t=i.rounding:ra(t,0,8),a=ut(new i(a),e,t),r=rr(a),n=sl(a,e<=r||r<=i.toExpNeg,e)),n};ge.toSignificantDigits=ge.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ra(e,1,Vc),t===void 0?t=n.rounding:ra(t,0,8)),ut(new n(r),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),r=e.constructor;return sl(e,t<=r.toExpNeg||t>=r.toExpPos)};function zM(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ot?ut(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(h/wt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/mr|0,c[i]%=mr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ot?ut(t,h):t}function ra(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bo+e)}function Ks(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=wt-n.length,r&&(i+=ui(r)),i+=n;o=e[t],n=o+"",r=wt-n.length,r&&(i+=ui(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ea=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%mr|0,o=i/mr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*mr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,h,f,m,j,g,x,y,v,w,b,N,k,P,C,A=n.constructor,S=n.s==a.s?1:-1,I=n.d,O=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(ns+"Division by zero");for(c=n.e-a.e,P=O.length,N=I.length,m=new A(S),j=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,i==null?v=i=A.precision:o?v=i+(rr(n)-rr(a))+1:v=i,v<0)return new A(0);if(v=v/wt+2|0,u=0,P==1)for(d=0,O=O[0],v++;(u<N||d)&&v--;u++)w=d*mr+(I[u]||0),j[u]=w/O|0,d=w%O|0;else{for(d=mr/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),P=O.length,N=I.length),b=P,g=I.slice(0,P),x=g.length;x<P;)g[x++]=0;C=O.slice(),C.unshift(0),k=O[0],O[1]>=mr/2&&++k;do d=0,l=t(O,g,P,x),l<0?(y=g[0],P!=x&&(y=y*mr+(g[1]||0)),d=y/k|0,d>1?(d>=mr&&(d=mr-1),h=e(O,d),f=h.length,x=g.length,l=t(h,g,f,x),l==1&&(d--,r(h,P<f?C:O,f))):(d==0&&(l=d=1),h=O.slice()),f=h.length,f<x&&h.unshift(0),r(g,h,x),l==-1&&(x=g.length,l=t(O,g,P,x),l<1&&(d++,r(g,P<x?C:O,x))),x=g.length):l===0&&(d++,g=[0]),j[u++]=d,l&&g[0]?g[x++]=I[b]||0:(g=[I[b]],x=1);while((b++<N||g[0]!==void 0)&&v--)}return j[0]||j.shift(),m.e=c,ut(m,o?i+rr(m)+1:i)}}();function WM(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(rr(e)>16)throw Error(bb+rr(e));if(!e.s)return new d(Pn);for(t==null?(Ot=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(jo(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Pn),d.precision=l;;){if(a=ut(a.times(e),l),r=r.times(++c),o=i.plus(Ea(a,r,l)),Ks(o.d).slice(0,l)===Ks(i.d).slice(0,l)){for(;u--;)i=ut(i.times(i),l);return d.precision=h,t==null?(Ot=!0,ut(i,h)):i}i=o}}function rr(e){for(var t=e.e*wt,r=e.d[0];r>=10;r/=10)t++;return t}function mv(e,t,r){if(t>e.LN10.sd())throw Ot=!0,r&&(e.precision=r),Error(ns+"LN10 precision limit exceeded");return ut(new e(e.LN10),t)}function ui(e){for(var t="";e--;)t+="0";return t}function _u(e,t){var r,n,a,i,o,l,c,u,d,h=1,f=10,m=e,j=m.d,g=m.constructor,x=g.precision;if(m.s<1)throw Error(ns+(m.s?"NaN":"-Infinity"));if(m.eq(Pn))return new g(0);if(t==null?(Ot=!1,u=x):u=t,m.eq(10))return t==null&&(Ot=!0),mv(g,u);if(u+=f,g.precision=u,r=Ks(j),n=r.charAt(0),i=rr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ks(m.d),n=r.charAt(0),h++;i=rr(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=mv(g,u+2,x).times(i+""),m=_u(new g(n+"."+r.slice(1)),u-f).plus(c),g.precision=x,t==null?(Ot=!0,ut(m,x)):m;for(l=o=m=Ea(m.minus(Pn),m.plus(Pn),u),d=ut(m.times(m),u),a=3;;){if(o=ut(o.times(d),u),c=l.plus(Ea(o,new g(a),u)),Ks(c.d).slice(0,u)===Ks(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(mv(g,u+2,x).times(i+""))),l=Ea(l,new g(h),u),g.precision=x,t==null?(Ot=!0,ut(l,x)):l;l=c,a+=2}}function MC(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=qc(r/wt),e.d=[],n=(r+1)%wt,r<0&&(n+=wt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=wt;n<a;)e.d.push(+t.slice(n,n+=wt));t=t.slice(n),n=wt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ot&&(e.e>Wm||e.e<-Wm))throw Error(bb+r)}else e.s=0,e.e=0,e.d=[0];return e}function ut(e,t,r){var n,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=wt,a=t,u=h[d=0];else{if(d=Math.ceil((n+1)/wt),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;n%=wt,a=n-wt+o}if(r!==void 0&&(i=jo(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/jo(10,o-a):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=rr(e),h.length=1,t=t-i-1,h[0]=jo(10,(wt-t%wt)%wt),e.e=qc(-t/wt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,i=1,d--):(h.length=d+1,i=jo(10,wt-n),h[d]=a>0?(u/jo(10,o-a)%jo(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==mr&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=mr)break;h[d--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Ot&&(e.e>Wm||e.e<-Wm))throw Error(bb+rr(e));return e}function UM(e,t){var r,n,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Ot?ut(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),a=Math.max(Math.ceil(m/wt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=mr-1;--c[i],c[a]+=mr}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ot?ut(t,m):t):new f(0)}function sl(e,t,r){var n,a=rr(e),i=Ks(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ui(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ui(-a-1)+i,r&&(n=r-o)>0&&(i+=ui(n))):a>=o?(i+=ui(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ui(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ui(n))),e.s<0?"-"+i:i}function IC(e,t){if(e.length>t)return e.length=t,!0}function KM(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bo+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return MC(o,i.toString())}else if(typeof i!="string")throw Error(Bo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,kX.test(i))MC(o,i);else throw Error(Bo+i)}if(a.prototype=ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=KM,a.config=a.set=CX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function CX(e){if(!e||typeof e!="object")throw Error(ns+"Object expected");var t,r,n,a=["precision",1,Vc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(qc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Bo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bo+r+": "+n);return this}var Nb=KM(SX);Pn=new Nb(1);const nt=Nb;var PX=e=>e,HM={"@@functional/placeholder":!0},VM=e=>e===HM,RC=e=>function t(){return arguments.length===0||arguments.length===1&&VM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qM=(e,t)=>e===1?t:RC(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==HM).length;return i>=e?t(...n):qM(e-i,RC(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=n.map(d=>VM(d)?l.shift():d);return t(...u,...l)}))}),_x=e=>qM(e.length,e),w0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},_X=_x((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),EX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PX;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},b0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),YM=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function GM(e){var t;return e===0?t=1:t=Math.floor(new nt(e).abs().log(10).toNumber())+1,t}function XM(e,t,r){for(var n=new nt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}_x((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});_x((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});_x((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var JM=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},QM=(e,t,r)=>{if(e.lte(0))return new nt(0);var n=GM(e.toNumber()),a=new nt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new nt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new nt(c.toNumber()):new nt(Math.ceil(c.toNumber()))},AX=(e,t,r)=>{var n=new nt(1),a=new nt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new nt(10).pow(GM(e)-1),a=new nt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new nt(Math.floor(e)))}else e===0?a=new nt(Math.floor((t-1)/2)):r||(a=new nt(Math.floor(e)));var o=Math.floor((t-1)/2),l=EX(_X(c=>a.add(new nt(c-o).mul(n)).toNumber()),w0);return l(0,t)},ZM=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new nt(0),tickMin:new nt(0),tickMax:new nt(0)};var o=QM(new nt(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new nt(0):(l=new nt(t).add(r).div(2),l=l.sub(new nt(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new nt(r).sub(l).div(o).toNumber()),d=c+u+1;return d>n?ZM(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:l.sub(new nt(c).mul(o)),tickMax:l.add(new nt(u).mul(o))})};function OX(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=JM([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...w0(0,n-1).map(()=>1/0)]:[...w0(0,n-1).map(()=>-1/0),l];return t>r?b0(c):c}if(o===l)return AX(o,n,a);var{step:u,tickMin:d,tickMax:h}=ZM(o,l,i,a,0),f=XM(d,h.add(new nt(.1).mul(u)),u);return t>r?b0(f):f}function TX(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=JM([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=QM(new nt(o).sub(i).div(l-1),a,0),u=[...XM(new nt(i),new nt(o),c),o];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?b0(u):u}var DX=YM(OX),MX=YM(TX),eI=e=>e.rootProps.maxBarSize,IX=e=>e.rootProps.barGap,tI=e=>e.rootProps.barCategoryGap,RX=e=>e.rootProps.barSize,nh=e=>e.rootProps.stackOffset,Sb=e=>e.options.chartName,kb=e=>e.rootProps.syncId,rI=e=>e.rootProps.syncMethod,Cb=e=>e.options.eventEmitter,xa={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Sn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Ex=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},$X={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xa.angleAxisId,includeHidden:!1,name:void 0,reversed:xa.reversed,scale:xa.scale,tick:xa.tick,tickCount:void 0,ticks:void 0,type:xa.type,unit:void 0},LX={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,ticks:void 0,type:Sn.type,unit:void 0},FX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xa.scale,tick:xa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},BX={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,ticks:void 0,type:"category",unit:void 0},Pb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?FX:$X,_b=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?BX:LX,Ax=e=>e.polarOptions,Eb=X([Ha,Va,dr],ID),nI=X([Ax,Eb],(e,t)=>{if(e!=null)return Br(e.innerRadius,t,0)}),sI=X([Ax,Eb],(e,t)=>{if(e!=null)return Br(e.outerRadius,t,t*.8)}),zX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},aI=X([Ax],zX);X([Pb,aI],Ex);var iI=X([Eb,nI,sI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});X([_b,iI],Ex);var oI=X([qe,Ax,nI,sI,Ha,Va],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=t;return{cx:Br(o,a,a/2),cy:Br(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Tt=(e,t)=>t,sh=(e,t,r)=>r;function Ox(e){return e?.id}var fr=e=>{var t=qe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Yc=e=>e.tooltip.settings.axisId,wr=e=>{var t=fr(e),r=Yc(e);return ah(e,t,r)},lI=X([wr],e=>e?.dataKey);function cI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Ox(l);u.forEach((h,f)=>{var m=i==null||a?f:String(lt(h,i,null)),j=lt(h,l.dataKey,0),g;o.has(m)?g=o.get(m):g={},Object.assign(g,{[d]:j}),o.set(m,g)})}}),Array.from(o.values())}function Tx(e){return e.stackId!=null&&e.dataKey!=null}function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){WX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WX(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dI=(e,t)=>e.cartesianAxis.xAxis[t],Ga=(e,t)=>{var r=dI(e,t);return r??jn},wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:N0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xu},uI=(e,t)=>e.cartesianAxis.yAxis[t],Xa=(e,t)=>{var r=uI(e,t);return r??wn},HX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ab=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??HX},Xt=(e,t,r)=>{switch(t){case"xAxis":return Ga(e,r);case"yAxis":return Xa(e,r);case"zAxis":return Ab(e,r);case"angleAxis":return Pb(e,r);case"radiusAxis":return _b(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VX=(e,t,r)=>{switch(t){case"xAxis":return Ga(e,r);case"yAxis":return Xa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ah=(e,t,r)=>{switch(t){case"xAxis":return Ga(e,r);case"yAxis":return Xa(e,r);case"angleAxis":return Pb(e,r);case"radiusAxis":return _b(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ob(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ih=e=>e.graphicalItems.cartesianItems,qX=X([Tt,sh],Ob),Tb=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),oh=X([ih,Xt,qX],Tb),fI=X([oh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Tx)),mI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),pI=X([oh],mI),Db=e=>e.map(t=>t.data).filter(Boolean).flat(1),YX=X([oh],Db),Mb=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Ib=X([YX,rh],Mb),Rb=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:lt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:lt(a,n)}))):e.map(n=>({value:n})),Dx=X([Ib,Xt,oh],Rb);function xI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function fl(e){return e.filter(t=>ta(t)||t instanceof Date).map(Number).filter(t=>mn(t)===!1)}function GX(e,t,r){return!r||typeof t!="number"||mn(t)?[]:r.length?fl(r.flatMap(n=>{var a=lt(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Tr(i)||!Tr(o)))return[t-i,t+o]})):[]}var XX=X([fI,rh,wr],cI),gI=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(Ox);return[o,{stackedData:sq(e,c,r),graphicalItems:l}]}))},Eu=X([XX,fI,nh],gI),vI=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=lq(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},JX=X([Eu,no,Tt],vI),yI=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,u=(l=n[o.id])===null||l===void 0?void 0:l.filter(h=>xI(a,h)),d=lt(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:GX(i,d,u)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:lt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Mx=e=>e.errorBars,jI=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>xI(r,n));X([pI,Mx,Tt],jI);var QX=X([Ib,Xt,pI,Mx,Tt],yI);function ZX(e){var{value:t}=e;if(ta(t)||t instanceof Date)return t}var LC=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=fl(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eJ=(e,t,r)=>{var n=e.map(ZX).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&mT(n))?aM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},$b=e=>{var t;if(e==null||!("domain"in e))return N0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=fl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:N0},Km=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},wI=e=>e.referenceElements.dots,Gc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tJ=X([wI,Tt,sh],Gc),bI=e=>e.referenceElements.areas,rJ=X([bI,Tt,sh],Gc),NI=e=>e.referenceElements.lines,nJ=X([NI,Tt,sh],Gc),SI=(e,t)=>{var r=fl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sJ=X(tJ,Tt,SI),kI=(e,t)=>{var r=fl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},aJ=X([rJ,Tt],kI),CI=(e,t)=>{var r=fl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iJ=X(nJ,Tt,CI),oJ=X(sJ,iJ,aJ,(e,t,r)=>Km(e,r,t)),PI=X([Xt],$b),Lb=(e,t,r,n,a,i,o)=>{var l=bX(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",u=c?Km(r,a,LC(n)):Km(a,LC(n));return NX(t,u,e.allowDataOverflow)},lJ=X([Xt,PI,JX,QX,oJ,qe,Tt],Lb),cJ=[0,1],Fb=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,u=oa(t,i);return u&&l==null?aM(0,r.length):c==="category"?eJ(n,e,u):a==="expand"?cJ:o}},Bb=X([Xt,qe,Ib,Dx,nh,Tt,lJ],Fb),_I=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Vu(i));return l in Md?l:"point"}}},Xc=X([Xt,qe,hI,Sb,Tt],_I);function dJ(e){if(e!=null){if(e in Md)return Md[e]();var t="scale".concat(Vu(e));if(t in Md)return Md[t]()}}function zb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=dJ(t);if(a!=null){var i=a.domain(r).range(n);return ZV(i),i}}}var Wb=(e,t,r)=>{var n=$b(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_c(e))return DX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_c(e))return MX(e,t.tickCount,t.allowDecimals)}},Ub=X([Bb,ah,Xc],Wb),Kb=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&_c(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},uJ=X([Xt,Bb,Ub,Tt],Kb),hJ=X(Dx,Xt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(fl(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),EI=X(hJ,qe,tI,dr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Tr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Br(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),fJ=(e,t)=>{var r=Ga(e,t);return r==null||typeof r.padding!="string"?0:EI(e,"xAxis",t,r.padding)},mJ=(e,t)=>{var r=Xa(e,t);return r==null||typeof r.padding!="string"?0:EI(e,"yAxis",t,r.padding)},pJ=X(Ga,fJ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),xJ=X(Xa,mJ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),gJ=X([dr,pJ,wx,jx,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),vJ=X([dr,qe,xJ,wx,jx,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lh=(e,t,r,n)=>{var a;switch(t){case"xAxis":return gJ(e,r,n);case"yAxis":return vJ(e,r,n);case"zAxis":return(a=Ab(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return aI(e);case"radiusAxis":return iI(e,r);default:return}},AI=X([Xt,lh],Ex),Jc=X([Xt,Xc,uJ,AI],zb);X([oh,Mx,Tt],jI);function OI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ix=(e,t)=>t,Rx=(e,t,r)=>r,yJ=X(vx,Ix,Rx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(OI)),jJ=X(yx,Ix,Rx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(OI)),TI=(e,t)=>({width:e.width,height:t.height}),wJ=(e,t)=>{var r=typeof t.width=="number"?t.width:Xu;return{width:r,height:e.height}},DI=X(dr,Ga,TI),bJ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},NJ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},SJ=X(Va,dr,yJ,Ix,Rx,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=TI(t,l);o==null&&(o=bJ(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),kJ=X(Ha,dr,jJ,Ix,Rx,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=wJ(t,l);o==null&&(o=NJ(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),CJ=(e,t)=>{var r=Ga(e,t);if(r!=null)return SJ(e,r.orientation,r.mirror)},PJ=X([dr,Ga,CJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),_J=(e,t)=>{var r=Xa(e,t);if(r!=null)return kJ(e,r.orientation,r.mirror)},EJ=X([dr,Xa,_J,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),MI=X(dr,Xa,(e,t)=>{var r=typeof t.width=="number"?t.width:Xu;return{width:r,height:e.height}}),FC=(e,t,r)=>{switch(t){case"xAxis":return DI(e,r).width;case"yAxis":return MI(e,r).height;default:return}},II=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=oa(e,n),c=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&mT(c))return c}},Hb=X([qe,Dx,Xt,Tt],II),RI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=oa(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Vb=X([qe,Dx,ah,Tt],RI),BC=X([qe,VX,Xc,Jc,Hb,Vb,lh,Ub,Tt],(e,t,r,n,a,i,o,l,c)=>{if(t==null)return null;var u=oa(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}),AJ=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var u=oa(e,c),{type:d,ticks:h,tickCount:f}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=d==="category"&&n.bandwidth?n.bandwidth()/m:0;j=c==="angleAxis"&&i!=null&&i.length>=2?vr(i[0]-i[1])*2*j:j;var g=h||a;if(g){var x=g.map((y,v)=>{var w=o?o.indexOf(y):y;return{index:v,coordinate:n(w)+j,value:y,offset:j}});return x.filter(y=>!mn(y.coordinate))}return u&&l?l.map((y,v)=>({coordinate:n(y)+j,value:y,index:v,offset:j})):n.ticks?n.ticks(f).map(y=>({coordinate:n(y)+j,value:y,offset:j})):n.domain().map((y,v)=>({coordinate:n(y)+j,value:o?o[y]:y,index:v,offset:j}))}},$I=X([qe,ah,Xc,Jc,Ub,lh,Hb,Vb,Tt],AJ),OJ=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=oa(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&n?.length>=2?vr(n[0]-n[1])*2*u:u,l&&i?i.map((d,h)=>({coordinate:r(d)+u,value:d,index:h,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,h)=>({coordinate:r(d)+u,value:a?a[d]:d,index:h,offset:u}))}},na=X([qe,ah,Jc,lh,Hb,Vb,Tt],OJ),sa=X(Xt,Jc,(e,t)=>{if(!(e==null||t==null))return Um(Um({},e),{},{scale:t})}),TJ=X([Xt,Xc,Bb,AI],zb);X((e,t,r)=>Ab(e,r),TJ,(e,t)=>{if(!(e==null||t==null))return Um(Um({},e),{},{scale:t})});var DJ=X([qe,vx,yx],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LI=e=>e.options.defaultTooltipEventType,FI=e=>e.options.validateTooltipEventTypes;function BI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function qb(e,t){var r=LI(e),n=FI(e);return BI(t,r,n)}function MJ(e){return Se(t=>qb(t,e))}var zI=(e,t)=>{var r,n=Number(t);if(!(mn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},IJ=e=>e.tooltip.settings,xi={active:!1,index:null,dataKey:void 0,coordinate:void 0},RJ={itemInteraction:{click:xi,hover:xi},axisInteraction:{click:xi,hover:xi},keyboardInteraction:xi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},WI=Fn({name:"tooltip",initialState:RJ,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=_a(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:$J,removeTooltipEntrySettings:LJ,setTooltipSettingsState:FJ,setActiveMouseOverItemIndex:UI,mouseLeaveItem:BJ,mouseLeaveChart:KI,setActiveClickItemIndex:zJ,setMouseOverAxisIndex:HI,setMouseClickAxisIndex:WJ,setSyncInteraction:S0,setKeyboardInteraction:k0}=WI.actions,UJ=WI.reducer;function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){KJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KJ(e,t,r){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qJ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YJ(e){return e.index!=null}var VI=(e,t,r,n)=>{if(t==null)return xi;var a=qJ(e,t,r);if(a==null)return xi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(YJ(a)){if(i)return lf(lf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return lf(lf({},xi),{},{coordinate:a.coordinate})},Yb=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Tr(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},qI=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a?.[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},YI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},ch=e=>e.options.tooltipPayloadSearcher,Qc=e=>e.tooltip;function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){GJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GJ(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=JJ(e,"string");return typeof t=="symbol"?t:t+""}function JJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QJ(e,t){return e??t}var GI=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,h=[];return e.reduce((f,m)=>{var j,{dataDefinedOnItem:g,settings:x}=m,y=QJ(g,l),v=Array.isArray(y)?RD(y,u,d):y,w=(j=x?.dataKey)!==null&&j!==void 0?j:n,b=x?.nameKey,N;if(n&&Array.isArray(v)&&!Array.isArray(v[0])&&o==="axis"?N=pT(v,n,a):N=i(v,t,c,b),Array.isArray(N))N.forEach(P=>{var C=UC(UC({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});f.push(Ek({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:lt(P.payload,P.dataKey),name:P.name}))});else{var k;f.push(Ek({tooltipEntrySettings:x,dataKey:w,payload:N,value:lt(N,w),name:(k=lt(N,b))!==null&&k!==void 0?k:x?.name}))}return f},h)}},Gb=X([wr,qe,hI,Sb,fr],_I),ZJ=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eQ=X([fr,Yc],Ob),dh=X([ZJ,wr,eQ],Tb),tQ=X([dh],e=>e.filter(Tx)),rQ=X([dh],Db),Zc=X([rQ,no],Mb),nQ=X([tQ,no,wr],cI),Xb=X([Zc,wr,dh],Rb),sQ=X([wr],$b),aQ=X([dh],e=>e.filter(Tx)),iQ=X([nQ,aQ,nh],gI),oQ=X([iQ,no,fr],vI),lQ=X([dh],mI),cQ=X([Zc,wr,lQ,Mx,fr],yI),dQ=X([wI,fr,Yc],Gc),uQ=X([dQ,fr],SI),hQ=X([bI,fr,Yc],Gc),fQ=X([hQ,fr],kI),mQ=X([NI,fr,Yc],Gc),pQ=X([mQ,fr],CI),xQ=X([uQ,pQ,fQ],Km),gQ=X([wr,sQ,oQ,cQ,xQ,qe,fr],Lb),XI=X([wr,qe,Zc,Xb,nh,fr,gQ],Fb),vQ=X([XI,wr,Gb],Wb),yQ=X([wr,XI,vQ,fr],Kb),JI=e=>{var t=fr(e),r=Yc(e),n=!1;return lh(e,t,r,n)},QI=X([wr,JI],Ex),ZI=X([wr,Gb,yQ,QI],zb),jQ=X([qe,Xb,wr,fr],II),wQ=X([qe,Xb,wr,fr],RI),bQ=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,u=oa(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=l==="angleAxis"&&a!=null&&a?.length>=2?vr(a[0]-a[1])*2*h:h,u&&o?o.map((f,m)=>({coordinate:n(f)+h,value:f,index:m,offset:h})):n.domain().map((f,m)=>({coordinate:n(f)+h,value:i?i[f]:f,index:m,offset:h}))}}},Ja=X([qe,wr,Gb,ZI,JI,jQ,wQ,fr],bQ),Jb=X([LI,FI,IJ],(e,t,r)=>BI(r.shared,e,t)),e4=e=>e.tooltip.settings.trigger,Qb=e=>e.tooltip.settings.defaultIndex,$x=X([Qc,Jb,e4,Qb],VI),Wi=X([$x,Zc],Yb),t4=X([Ja,Wi],zI),r4=X([$x],e=>{if(e)return e.dataKey}),n4=X([Qc,Jb,e4,Qb],YI),NQ=X([Ha,Va,qe,dr,Ja,Qb,n4,ch],qI),SQ=X([$x,NQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),kQ=X([$x],e=>e.active),CQ=X([n4,Wi,no,lI,t4,ch,Jb],GI),PQ=X([CQ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){_Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t,r){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OQ=()=>Se(wr),TQ=()=>{var e=OQ(),t=Se(Ja),r=Se(ZI);return nl(HC(HC({},e),{},{scale:r}),t)},s4=()=>Se(Sb),Zb=(e,t)=>t,a4=(e,t,r)=>r,eN=(e,t,r,n)=>n,DQ=X(Ja,e=>hx(e,t=>t.coordinate)),tN=X([Qc,Zb,a4,eN],VI),i4=X([tN,Zc],Yb),MQ=(e,t,r)=>{if(t!=null){var n=Qc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},o4=X([Qc,Zb,a4,eN],YI),Hm=X([Ha,Va,qe,dr,Ja,eN,o4,ch],qI),IQ=X([tN,Hm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),l4=X(Ja,i4,zI),RQ=X([o4,i4,no,lI,l4,ch,Zb],GI),$Q=X([tN],e=>({isActive:e.active,activeIndex:e.index})),LQ=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var c=cq(e.chartX,e.chartY,t,r,l);if(c){var u=uq(c,t),d=JV(u,o,i,n,a),h=dq(t,i,d,c);return{activeIndex:String(d),activeCoordinate:h}}}};function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(null,arguments)}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){FQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WQ(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,h=r,f=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,j;if(u==="ScatterChart")m=d,j=u9;else if(u==="BarChart")m=h9(o,d,a,i),j=QD;else if(o==="radial"){var{cx:g,cy:x,radius:y,startAngle:v,endAngle:w}=ZD(d);m={cx:g,cy:x,startAngle:v,endAngle:w,innerRadius:y,outerRadius:y},j=tM}else m={points:H9(o,d,a)},j=ic;var b=typeof l=="object"&&"className"in l?l.className:void 0,N=cf(cf(cf(cf({stroke:"#ccc",pointerEvents:"none"},a),m),kt(l,!1)),{},{payload:h,payloadIndex:f,className:Xe("recharts-tooltip-cursor",b)});return p.isValidElement(l)?p.cloneElement(l,N):p.createElement(j,N)}function UQ(e){var t=TQ(),r=UD(),n=Ju(),a=s4();return p.createElement(WQ,C0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var c4=p.createContext(null),KQ=()=>p.useContext(c4),d4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,h||c,f),j=r?r+u:u;return c._events[j]?c._events[j].fn?c._events[j]=[c._events[j],m]:c._events[j].push(m):(c._events[j]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,j=new Array(m);f<m;f++)j[f]=h[f].fn;return j},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,m,j){var g=r?r+u:u;if(!this._events[g])return!1;var x=this._events[g],y=arguments.length,v,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,m),!0;case 6:return x.fn.call(x.context,d,h,f,m,j),!0}for(w=1,v=new Array(y-1);w<y;w++)v[w-1]=arguments[w];x.fn.apply(x.context,v)}else{var b=x.length,N;for(w=0;w<b;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,h);break;case 4:x[w].fn.call(x[w].context,d,h,f);break;default:if(!v)for(N=1,v=new Array(y-1);N<y;N++)v[N-1]=arguments[N];x[w].fn.apply(x[w].context,v)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var j=this._events[m];if(j.fn)j.fn===d&&(!f||j.once)&&(!h||j.context===h)&&o(this,m);else{for(var g=0,x=[],y=j.length;g<y;g++)(j[g].fn!==d||f&&!j[g].once||h&&j[g].context!==h)&&x.push(j[g]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(d4);var HQ=d4.exports;const VQ=aa(HQ);var Au=new VQ,P0="recharts.syncEvent.tooltip",qC="recharts.syncEvent.brush";function uh(e,t){if(t){var r=Number.parseInt(t,10);if(!mn(r))return e?.[r]}}var qQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},u4=Fn({name:"options",initialState:qQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),YQ=u4.reducer,{createEventEmitter:GQ}=u4.actions;function XQ(e){return e.tooltip.syncInteraction}var JQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},h4=Fn({name:"chartData",initialState:JQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:YC,setDataStartEndIndexes:QQ,setComputedData:Xue}=h4.actions,ZQ=h4.reducer,eZ=["x","y"];function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){tZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tZ(e,t,r){return(t=rZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rZ(e){var t=nZ(e,"string");return typeof t=="symbol"?t:t+""}function nZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e,t){if(e==null)return{};var r,n,a=aZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f4=()=>{};function iZ(){var e=Se(kb),t=Se(Cb),r=Lt(),n=Se(rI),a=Se(Ja),i=Ju(),o=Yw(),l=Se(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return f4;var c=(u,d,h)=>{if(t!==h&&e===u){if(n==="index"){var f;if(o&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate){var m=d.payload.coordinate,{x:j,y:g}=m,x=sZ(m,eZ),y=fo(fo(fo({},x),typeof j=="number"&&{x:Math.max(o.x,Math.min(j,o.x+o.width))}),typeof g=="number"&&{y:Math.max(o.y,Math.min(g,o.y+o.height))}),v=fo(fo({},d),{},{payload:fo(fo({},d.payload),{},{coordinate:y})});r(v)}else r(d);return}if(a!=null){var w;if(typeof n=="function"){var b={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=n(a,b);w=a[N]}else n==="value"&&(w=a.find(z=>String(z.value)===d.payload.label));var{coordinate:k}=d.payload;if(w==null||d.payload.active===!1||k==null||o==null){r(S0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:P,y:C}=k,A=Math.min(P,o.x+o.width),S=Math.min(C,o.y+o.height),I={x:i==="horizontal"?w.coordinate:A,y:i==="horizontal"?S:w.coordinate},O=S0({active:d.payload.active,coordinate:I,dataKey:d.payload.dataKey,index:String(w.index),label:d.payload.label});r(O)}}};return Au.on(P0,c),()=>{Au.off(P0,c)}},[l,r,t,e,n,a,i,o])}function oZ(){var e=Se(kb),t=Se(Cb),r=Lt();p.useEffect(()=>{if(e==null)return f4;var n=(a,i,o)=>{t!==o&&e===a&&r(QQ(i))};return Au.on(qC,n),()=>{Au.off(qC,n)}},[r,t,e])}function lZ(){var e=Lt();p.useEffect(()=>{e(GQ())},[e]),iZ(),oZ()}function cZ(e,t,r,n,a,i){var o=Se(f=>MQ(f,e,t)),l=Se(Cb),c=Se(kb),u=Se(rI),d=Se(XQ),h=d?.active;p.useEffect(()=>{if(!h&&c!=null&&l!=null){var f=S0({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});Au.emit(P0,c,f,l)}},[h,r,o,a,n,l,c,u,i])}function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){dZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t,r){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fZ(e){return e.dataKey}function mZ(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(Uq,t)}var QC=[],pZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!qa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function dn(e){var t=ur(e,pZ),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:m,wrapperStyle:j,cursor:g,shared:x,trigger:y,defaultIndex:v,portal:w,axisId:b}=t,N=Lt(),k=typeof v=="number"?String(v):v;p.useEffect(()=>{N(FJ({shared:x,trigger:y,axisId:b,active:r,defaultIndex:k}))},[N,x,y,b,r,k]);var P=Yw(),C=qD(),A=MJ(x),{activeIndex:S,isActive:I}=Se(fe=>$Q(fe,A,y,k)),O=Se(fe=>RQ(fe,A,y,k)),z=Se(fe=>l4(fe,A,y,k)),V=Se(fe=>IQ(fe,A,y,k)),Y=O,R=KQ(),W=r??I,[_,T]=dD([Y,W]),re=A==="axis"?z:void 0;cZ(A,y,V,re,S,W);var M=w??R;if(M==null)return null;var H=Y??QC;W||(H=QC),l&&H.length&&(H=QT(Y.filter(fe=>fe.value!=null&&(fe.hide!==!0||t.includeHidden)),d,fZ));var te=H.length>0,ne=p.createElement(Xq,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:W,coordinate:V,hasPayload:te,offset:u,position:h,reverseDirection:f,useTranslate3d:m,viewBox:P,wrapperStyle:j,lastBoundingBox:_,innerRef:T,hasPortalFromProps:!!w},mZ(o,JC(JC({},t),{},{payload:H,label:re,active:W,coordinate:V,accessibilityLayer:C})));return p.createElement(p.Fragment,null,Gi.createPortal(ne,M),W&&p.createElement(UQ,{cursor:g,tooltipEventType:A,coordinate:V,payload:Y,index:S}))}var m4={},p4={},x4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},h=()=>{u&&d(),g()};let f=null;const m=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},n)},j=()=>{f!==null&&(clearTimeout(f),f=null)},g=()=>{j(),o=void 0,l=null},x=()=>{d()},y=function(...v){if(a?.aborted)return;o=this,l=v;const w=f==null;m(),c&&w&&d()};return y.schedule=m,y.cancel=g,y.flush=x,a?.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(x4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x4;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,h=null;const f=t.debounce(function(...g){d=n.apply(this,g),h=null},a,{edges:u}),m=function(...g){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=n.apply(this,g),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,g),d)},j=()=>(f.flush(),d);return m.cancel=f.cancel,m.flush=j,m}e.debounce=r})(p4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p4;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(m4);var xZ=m4.throttle;const gZ=aa(xZ);var Yd=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){vZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vZ(e,t,r){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var En=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:f,onResize:m,style:j={}}=e,g=p.useRef(null),x=p.useRef();x.current=m,p.useImperativeHandle(t,()=>g.current);var[y,v]=p.useState({containerWidth:n.width,containerHeight:n.height}),w=p.useCallback((N,k)=>{v(P=>{var C=Math.round(N),A=Math.round(k);return P.containerWidth===C&&P.containerHeight===A?P:{containerWidth:C,containerHeight:A}})},[]);p.useEffect(()=>{var N=A=>{var S,{width:I,height:O}=A[0].contentRect;w(I,O),(S=x.current)===null||S===void 0||S.call(x,I,O)};d>0&&(N=gZ(N,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(N),{width:P,height:C}=g.current.getBoundingClientRect();return w(P,C),k.observe(g.current),()=>{k.disconnect()}},[w,d]);var b=p.useMemo(()=>{var{containerWidth:N,containerHeight:k}=y;if(N<0||k<0)return null;Yd(Eo(a)||Eo(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Yd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Eo(a)?N:a,C=Eo(i)?k:i;return r&&r>0&&(P?C=P/r:C&&(P=C*r),c&&C>c&&(C=c)),Yd(P>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,C,a,i,o,l,r),p.Children.map(u,A=>p.cloneElement(A,{width:P,height:C,style:pv({width:P,height:C},A.props.style)}))},[r,u,i,c,l,o,y,a]);return p.createElement("div",{id:h?"".concat(h):void 0,className:Xe("recharts-responsive-container",f),style:pv(pv({},j),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:g},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},b))}),ed=e=>null;ed.displayName="Cell";function wZ(e,t,r){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SZ{constructor(t){wZ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){CZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CZ(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EZ={cacheSize:2e3,enableCache:!0},g4=kZ({},EZ),tP=new SZ(g4.cacheSize),AZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rP="recharts_measurement_span";function OZ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var nP=(e,t)=>{try{var r=document.getElementById(rP);r||(r=document.createElement("span"),r.setAttribute("id",rP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,AZ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Gd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qa.isSsr)return{width:0,height:0};if(!g4.enableCache)return nP(t,r);var n=OZ(t,r),a=tP.get(n);if(a)return a;var i=nP(t,r);return tP.set(n,i),i},sP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MZ=Object.keys(v4),ql="NaN";function IZ(e,t){return e*v4[t]}class nn{static parse(t){var r,[,n,a]=(r=DZ.exec(t))!==null&&r!==void 0?r:[];return new nn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,mn(t)&&(this.unit=""),r!==""&&!TZ.test(r)&&(this.num=NaN,this.unit=""),MZ.includes(r)&&(this.num=IZ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new nn(NaN,""):new nn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new nn(NaN,""):new nn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new nn(NaN,""):new nn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new nn(NaN,""):new nn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mn(this.num)}}function y4(e){if(e.includes(ql))return ql;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=sP.exec(t))!==null&&r!==void 0?r:[],o=nn.parse(n??""),l=nn.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return ql;t=t.replace(sP,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,f]=(u=aP.exec(t))!==null&&u!==void 0?u:[],m=nn.parse(d??""),j=nn.parse(f??""),g=h==="+"?m.add(j):m.subtract(j);if(g.isNaN())return ql;t=t.replace(aP,g.toString())}return t}var iP=/\(([^()]*)\)/;function RZ(e){for(var t=e,r;(r=iP.exec(t))!=null;){var[,n]=r;t=t.replace(iP,y4(n))}return t}function $Z(e){var t=e.replace(/\s+/g,"");return t=RZ(t),t=y4(t),t}function LZ(e){try{return $Z(e)}catch{return ql}}function xv(e){var t=LZ(e.slice(5,-1));return t===ql?"":t}var FZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],BZ=["dx","dy","angle","className","breakAll"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(null,arguments)}function oP(e,t){if(e==null)return{};var r,n,a=zZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j4=/[ \f\n\r\t\v\u2028\u2029]+/,w4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];St(t)||(r?a=t.toString().split(""):a=t.toString().split(j4));var i=a.map(l=>({word:l,width:Gd(l,n).width})),o=r?0:Gd("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},WZ=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,u=ke(i),d=o,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((O,z)=>{var{word:V,width:Y}=z,R=O[O.length-1];if(R&&(n==null||a||R.width+Y+r<Number(n)))R.words.push(V),R.width+=Y+r;else{var W={words:[V],width:Y};O.push(W)}return O},[])},f=h(t),m=S=>S.reduce((I,O)=>I.width>O.width?I:O);if(!u||a)return f;var j=f.length>i||m(f).width>Number(n);if(!j)return f;for(var g="",x=S=>{var I=d.slice(0,S),O=w4({breakAll:c,style:l,children:I+g}).wordsWithComputedWidth,z=h(O),V=z.length>i||m(z).width>Number(n);return[V,z]},y=0,v=d.length-1,w=0,b;y<=v&&w<=d.length-1;){var N=Math.floor((y+v)/2),k=N-1,[P,C]=x(k),[A]=x(N);if(!P&&!A&&(y=N+1),P&&A&&(v=N-1),!P&&A){b=C;break}w++}return b||f},lP=e=>{var t=St(e)?[]:e.toString().split(j4);return[{words:t}]},UZ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!qa.isSsr){var l,c,u=w4({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;l=d,c=h}else return lP(n);return WZ({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return lP(n)},cP="#808080",Lx=p.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=cP}=e,d=oP(e,FZ),h=p.useMemo(()=>UZ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:f,dy:m,angle:j,className:g,breakAll:x}=d,y=oP(d,BZ);if(!ta(r)||!ta(n)||h.length===0)return null;var v=r+(ke(f)?f:0),w=n+(ke(m)?m:0),b;switch(c){case"start":b=xv("calc(".concat(i,")"));break;case"middle":b=xv("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:b=xv("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(o){var k=h[0].width,{width:P}=d;N.push("scale(".concat(ke(P)?P/k:1,")"))}return j&&N.push("rotate(".concat(j,", ").concat(v,", ").concat(w,")")),N.length&&(y.transform=N.join(" ")),p.createElement("text",_0({},kt(y,!0),{ref:t,x:v,y:w,className:Xe("recharts-text",g),textAnchor:l,fill:u.includes("url")?cP:u}),h.map((C,A)=>{var S=C.words.join(x?"":" ");return p.createElement("tspan",{x:v,dy:A===0?b:a,key:"".concat(S,"-").concat(A)},S)}))});Lx.displayName="Text";var KZ=["labelRef"];function HZ(e,t){if(e==null)return{};var r,n,a=VZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}var b4=p.createContext(null),XZ=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,o=p.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return p.createElement(b4.Provider,{value:o},i)},N4=()=>{var e=p.useContext(b4),t=Yw();return e||t},JZ=p.createContext(null),QZ=()=>{var e=p.useContext(JZ),t=Se(oI);return e||t},ZZ=e=>{var{value:t,formatter:r}=e,n=St(e.children)?t:e.children;return typeof r=="function"?r(n):n},rN=e=>e!=null&&typeof e=="function",eee=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},tee=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:f,clockWise:m}=a,j=(u+d)/2,g=eee(h,f),x=g>=0?1:-1,y,v;switch(t){case"insideStart":y=h+x*i,v=m;break;case"insideEnd":y=f-x*i,v=!m;break;case"end":y=f+x*i,v=m;break;default:throw new Error("Unsupported position ".concat(t))}v=g<=0?v:!v;var w=tr(l,c,j,y),b=tr(l,c,j,y+(v?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(v?0:1,`,
    `).concat(b.x,",").concat(b.y),k=St(e.id)?ju("recharts-radial-line-"):e.id;return p.createElement("text",ga({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:k,d:N})),p.createElement("textPath",{xlinkHref:"#".concat(k)},r))},ree=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:h}=tr(n,a,o+t,u);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(i+o)/2,{x:m,y:j}=tr(n,a,f,u);return{x:m,y:j,textAnchor:"middle",verticalAnchor:"middle"}},S4=e=>"cx"in e&&ke(e.cx),nee=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!S4(r)&&(i=r);var{x:o,y:l,width:c,height:u}=t,d=u>=0?1:-1,h=d*n,f=d>0?"end":"start",m=d>0?"start":"end",j=c>=0?1:-1,g=j*n,x=j>0?"end":"start",y=j>0?"start":"end";if(a==="top"){var v={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:f};return Kt(Kt({},v),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return Kt(Kt({},w),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var b={x:o-g,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Kt(Kt({},b),i?{width:Math.max(b.x-i.x,0),height:u}:{})}if(a==="right"){var N={x:o+c+g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Kt(Kt({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:u}:{})}var k=i?{width:c,height:u}:{};return a==="insideLeft"?Kt({x:o+g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},k):a==="insideRight"?Kt({x:o+c-g,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?Kt({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},k):a==="insideBottom"?Kt({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:f},k):a==="insideTopLeft"?Kt({x:o+g,y:l+h,textAnchor:y,verticalAnchor:m},k):a==="insideTopRight"?Kt({x:o+c-g,y:l+h,textAnchor:x,verticalAnchor:m},k):a==="insideBottomLeft"?Kt({x:o+g,y:l+u-h,textAnchor:y,verticalAnchor:f},k):a==="insideBottomRight"?Kt({x:o+c-g,y:l+u-h,textAnchor:x,verticalAnchor:f},k):a&&typeof a=="object"&&(ke(a.x)||Eo(a.x))&&(ke(a.y)||Eo(a.y))?Kt({x:o+Br(a.x,c),y:l+Br(a.y,u),textAnchor:"end",verticalAnchor:"end"},k):Kt({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},see={offset:5};function hi(e){var t=ur(e,see),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:u}=t,d=QZ(),h=N4(),f=n==="center"?h:d??h,m=r||f;if(!m||St(a)&&St(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var j=Kt(Kt({},t),{},{viewBox:m});if(p.isValidElement(o)){var g=HZ(j,KZ);return p.cloneElement(o,g)}var x;if(typeof o=="function"){if(x=p.createElement(o,j),p.isValidElement(x))return x}else x=ZZ(t);var y=S4(m),v=kt(t,!0);if(y&&(n==="insideStart"||n==="insideEnd"||n==="end"))return tee(t,n,x,v,m);var w=y?ree(m,t.offset,t.position):nee(t,m);return p.createElement(Lx,ga({ref:u,className:Xe("recharts-label",l)},v,w,{breakAll:c}),x)}hi.displayName="Label";var aee=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(hi,ga({key:"label-implicit"},n)):ta(e)?p.createElement(hi,ga({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===hi?p.cloneElement(e,Kt({key:"label-implicit"},n)):p.createElement(hi,ga({key:"label-implicit",content:e},n)):rN(e)?p.createElement(hi,ga({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(hi,ga({},e,{key:"label-implicit"},n)):null};function iee(e){var{label:t}=e,r=N4();return aee(t,r)||null}var k4={},C4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(C4);var P4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(P4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4,r=P4,n=dx;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(k4);var oee=k4.last;const lee=aa(oee);var cee=["valueAccessor"],dee=["dataKey","clockWise","id","textBreakAll"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(null,arguments)}function uP(e,t){if(e==null)return{};var r,n,a=uee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hee=e=>Array.isArray(e.value)?lee(e.value):e.value,_4=p.createContext(void 0),nN=_4.Provider,E4=p.createContext(void 0),fee=E4.Provider;function mee(){return p.useContext(_4)}function pee(){return p.useContext(E4)}function Af(e){var{valueAccessor:t=hee}=e,r=uP(e,cee),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,l=uP(r,dee),c=mee(),u=pee(),d=c||u;return!d||!d.length?null:p.createElement(Wt,{className:"recharts-label-list"},d.map((h,f)=>{var m,j=St(n)?t(h,f):lt(h&&h.payload,n),g=St(i)?{}:{id:"".concat(i,"-").concat(f)};return p.createElement(hi,Vm({},kt(h,!0),l,g,{fill:(m=r.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:j,textBreakAll:o,viewBox:h.viewBox,key:"label-".concat(f),index:f}))}))}Af.displayName="LabelList";function Fx(e){var{label:t}=e;return t?t===!0?p.createElement(Af,{key:"labelList-implicit"}):p.isValidElement(t)||rN(t)?p.createElement(Af,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Af,Vm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(null,arguments)}var sN=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Xe("recharts-dot",a);return t===+t&&r===+r&&n===+n?p.createElement("circle",E0({},os(e),ww(e),{className:i,cx:t,cy:r,r:n})):null},A4=e=>e.graphicalItems.polarItems,xee=X([Tt,sh],Ob),aN=X([A4,Xt,xee],Tb),gee=X([aN],Db),iN=X([gee,wb],Mb),vee=X([iN,Xt,aN],Rb),yee=X([iN,Xt,aN],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=lt(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:lt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),hP=()=>{},jee=X([Xt,PI,hP,yee,hP,qe,Tt],Lb),O4=X([Xt,qe,iN,vee,nh,Tt,jee],Fb),wee=X([O4,Xt,Xc],Wb);X([Xt,O4,wee,Tt],Kb);var bee={radiusAxis:{},angleAxis:{}},T4=Fn({name:"polarAxis",initialState:bee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}});T4.actions;var Nee=T4.reducer;function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){See(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function See(e,t,r){return(t=kee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kee(e){var t=Cee(e,"string");return typeof t=="symbol"?t:t+""}function Cee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pee=(e,t)=>t,oN=X([A4,Pee],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),_ee=[],lN=(e,t,r)=>r?.length===0?_ee:r,D4=X([wb,oN,lN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>mP(mP({},t.presentationProps),i.props))),a!=null)return a}}),Eee=X([D4,oN,lN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=lt(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:eo(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),Aee=X([D4,oN,lN,dr],(e,t,r,n)=>{if(!(t==null||e==null))return kte({offset:n,pieSettings:t,displayedData:e,cells:r})}),M4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(M4);var Oee=M4.isPlainObject;const Tee=aa(Oee);function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){Dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Iee(e,"string");return typeof t=="symbol"?t:t+""}function Iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(null,arguments)}var gP=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Ree={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$ee=e=>{var t=ur(e,Ree),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,f=p.useRef(),[m,j]=p.useState(-1),g=p.useRef(a),x=p.useRef(i),y=p.useRef(o),v=p.useRef(r),w=p.useRef(n),b=Kc(e,"trapezoid-");if(p.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var V=f.current.getTotalLength();V&&j(V)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var N=Xe("recharts-trapezoid",l);if(!h)return p.createElement("g",null,p.createElement("path",qm({},kt(t,!0),{className:N,d:gP(r,n,a,i,o)})));var k=g.current,P=x.current,C=y.current,A=v.current,S=w.current,I="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),z=YD(["strokeDasharray"],u,c);return p.createElement(Uc,{animationId:b,key:b,canBegin:m>0,duration:u,easing:c,isActive:h,begin:d},V=>{var Y=ot(k,a,V),R=ot(P,i,V),W=ot(C,o,V),_=ot(A,r,V),T=ot(S,n,V);f.current&&(g.current=Y,x.current=R,y.current=W,v.current=_,w.current=T);var re=V>0?{transition:z,strokeDasharray:O}:{strokeDasharray:I};return p.createElement("path",qm({},kt(t,!0),{className:N,d:gP(_,T,Y,R,W),ref:f,style:xP(xP({},re),t.style)}))})},Lee=["option","shapeType","propTransformer","activeClassName","isActive"];function Fee(e,t){if(e==null)return{};var r,n,a=Bee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ym(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kee(e,t){return Ym(Ym({},t),e)}function Hee(e,t){return e==="symbols"}function yP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(QD,r);case"trapezoid":return p.createElement($ee,r);case"sector":return p.createElement(tM,r);case"symbols":if(Hee(t))return p.createElement(Pw,r);break;default:return null}}function Vee(e){return p.isValidElement(e)?e.props:e}function I4(e){var{option:t,shapeType:r,propTransformer:n=Kee,activeClassName:a="recharts-active-shape",isActive:i}=e,o=Fee(e,Lee),l;if(p.isValidElement(t))l=p.cloneElement(t,Ym(Ym({},o),Vee(t)));else if(typeof t=="function")l=t(o);else if(Tee(t)&&typeof t!="boolean"){var c=n(t,o);l=p.createElement(yP,{shapeType:r,elementProps:c})}else{var u=o;l=p.createElement(yP,{shapeType:r,elementProps:u})}return i?p.createElement(Wt,{className:a},l):l}var cN=(e,t)=>{var r=Lt();return(n,a)=>i=>{e?.(n,a,i),r(UI({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},dN=e=>{var t=Lt();return(r,n)=>a=>{e?.(r,n,a),t(BJ())}},uN=(e,t)=>{var r=Lt();return(n,a)=>i=>{e?.(n,a,i),r(zJ({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Bx(e){var{fn:t,args:r}=e,n=Lt(),a=Ur();return p.useEffect(()=>{if(!a){var i=t(r);return n($J(i)),()=>{n(LJ(i))}}},[t,r,n,a]),null}var R4=()=>{};function hN(e){var{legendPayload:t}=e,r=Lt(),n=Ur();return p.useEffect(()=>n?R4:(r(HD(t)),()=>{r(VD(t))}),[r,n,t]),null}function qee(e){var{legendPayload:t}=e,r=Lt(),n=Se(qe);return p.useEffect(()=>n!=="centric"&&n!=="radial"?R4:(r(HD(t)),()=>{r(VD(t))}),[r,n,t]),null}var gv,Yee=()=>{var[e]=p.useState(()=>ju("uid-"));return e},Gee=(gv=K0["useId".toString()])!==null&&gv!==void 0?gv:Yee;function Xee(e,t){var r=Gee();return t||(e?"".concat(e,"-").concat(r):r)}var Jee=p.createContext(void 0),zx=e=>{var{id:t,type:r,children:n}=e,a=Xee("recharts-".concat(r),t);return p.createElement(Jee.Provider,{value:a},n(a))},Qee={cartesianItems:[],polarItems:[]},$4=Fn({name:"graphicalItems",initialState:Qee,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=_a(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=_a(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=_a(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Zee,replaceCartesianGraphicalItem:ete,removeCartesianGraphicalItem:tte,addPolarGraphicalItem:rte,removePolarGraphicalItem:nte}=$4.actions,ste=$4.reducer;function fN(e){var t=Lt(),r=p.useRef(null);return p.useEffect(()=>{r.current===null?t(Zee(e)):r.current!==e&&t(ete({prev:r.current,next:e})),r.current=e},[t,e]),p.useEffect(()=>()=>{r.current&&(t(tte(r.current)),r.current=null)},[t]),null}function ate(e){var t=Lt();return p.useEffect(()=>(t(rte(e)),()=>{t(nte(e))}),[t,e]),null}var ite=["onMouseEnter","onClick","onMouseLeave"],ote=["id"],lte=["id"];function mN(e,t){if(e==null)return{};var r,n,a=cte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t,r){return(t=ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(null,arguments)}function fte(e){var t=p.useMemo(()=>bw(e.children,ed),[e.children]),r=Se(n=>Eee(n,e.id,t));return r==null?null:p.createElement(qee,{legendPayload:r})}function mte(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:eo(l,t),hide:c,type:u,color:o,unit:""}}}var pte=(e,t)=>e>t?"start":e<t?"end":"middle",xte=(e,t,r)=>Br(typeof t=="function"?t(e):t,r,r*.8),gte=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=ID(i,o),c=a+Br(e.cx,i,i/2),u=n+Br(e.cy,o,o/2),d=Br(e.innerRadius,l,0),h=xte(r,e.outerRadius,l),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:f}},vte=(e,t)=>{var r=vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function yte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var jte=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Xe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(ic,Ui({},t,{type:"linear",className:r}))},wte=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var a=Xe("recharts-pie-label-text",yte(e));return p.createElement(Lx,Ui({},t,{alignmentBaseline:"middle",className:a}),n)};function bte(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=os(r),c=kt(a,!1),u=kt(i,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,h=t.map((f,m)=>{var j=(f.startAngle+f.endAngle)/2,g=tr(f.cx,f.cy,f.outerRadius+d,j),x=Pt(Pt(Pt(Pt({},l),f),{},{stroke:"none"},c),{},{index:m,textAnchor:pte(g.x,f.cx)},g),y=Pt(Pt(Pt(Pt({},l),f),{},{fill:"none",stroke:f.fill},u),{},{index:m,points:[tr(f.cx,f.cy,f.outerRadius,j),g],key:"line"});return p.createElement(Wt,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(m)},i&&jte(i,y),wte(a,x,lt(f,o)))});return p.createElement(Wt,{className:"recharts-pie-labels"},h)}function Nte(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?p.createElement(Fx,{label:a}):p.createElement(bte,{sectors:t,props:r,showLabels:n})}function Ste(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=Se(Wi),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=mN(a,ite),d=cN(o,a.dataKey),h=dN(c),f=uN(l,a.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((m,j)=>{if(m?.startAngle===0&&m?.endAngle===0&&t.length!==1)return null;var g=r&&String(j)===i,x=i?n:null,y=g?r:x,v=Pt(Pt({},m),{},{stroke:m.stroke,tabIndex:-1,[zD]:j,[WD]:a.dataKey});return p.createElement(Wt,Ui({tabIndex:-1,className:"recharts-pie-sector"},qu(u,m,j),{onMouseEnter:d(m,j),onMouseLeave:h(m,j),onClick:f(m,j),key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(j)}),p.createElement(I4,Ui({option:y,isActive:g,shapeType:"sector"},v)))}))}function kte(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=r,f=Math.abs(r.minAngle),m=vte(l,c),j=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(k=>lt(k,u,0)!==0).length,y=(j>=360?x:x-1)*g,v=j-x*f-y,w=n.reduce((k,P)=>{var C=lt(P,u,0);return k+(ke(C)?C:0)},0),b;if(w>0){var N;b=n.map((k,P)=>{var C=lt(k,u,0),A=lt(k,d,P),S=gte(r,i,k),I=(ke(C)?C:0)/w,O,z=Pt(Pt({},k),a&&a[P]&&a[P].props);P?O=N.endAngle+vr(m)*g*(C!==0?1:0):O=l;var V=O+vr(m)*((C!==0?f:0)+I*v),Y=(O+V)/2,R=(S.innerRadius+S.outerRadius)/2,W=[{name:A,value:C,payload:z,dataKey:u,type:h}],_=tr(S.cx,S.cy,R,Y);return N=Pt(Pt(Pt(Pt({},r.presentationProps),{},{percent:I,cornerRadius:o,name:A,tooltipPayload:W,midAngle:Y,middleRadius:R,tooltipPosition:_},z),S),{},{value:C,startAngle:O,endAngle:V,payload:z,paddingAngle:vr(m)*g}),N})}return b}function Cte(e){var{showLabels:t,sectors:r,children:n}=e,a=p.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return p.createElement(fee,{value:t?a:void 0},n)}function Pte(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=t,f=Kc(t,"recharts-pie-"),m=r.current,[j,g]=p.useState(!1),x=p.useCallback(()=>{typeof h=="function"&&h(),g(!1)},[h]),y=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(Cte,{showLabels:!j,sectors:n},p.createElement(Uc,{animationId:f,begin:i,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:x,key:f},v=>{var w=[],b=n&&n[0],N=b?.startAngle;return n?.forEach((k,P)=>{var C=m&&m[P],A=P>0?el(k,"paddingAngle",0):0;if(C){var S=ot(C.endAngle-C.startAngle,k.endAngle-k.startAngle,v),I=Pt(Pt({},k),{},{startAngle:N+A,endAngle:N+S+A});w.push(I),N=I.endAngle}else{var{endAngle:O,startAngle:z}=k,V=ot(0,O-z,v),Y=Pt(Pt({},k),{},{startAngle:N+A,endAngle:N+V+A});w.push(Y),N=Y.endAngle}}),r.current=w,p.createElement(Wt,null,p.createElement(Ste,{sectors:w,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),p.createElement(Nte,{showLabels:!j,sectors:n,props:t}),t.children)}var _te={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!qa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ete(e){var{id:t}=e,r=mN(e,ote),{hide:n,className:a,rootTabIndex:i}=e,o=p.useMemo(()=>bw(e.children,ed),[e.children]),l=Se(d=>Aee(d,t,o)),c=p.useRef(null),u=Xe("recharts-pie",a);return n||l==null?(c.current=null,p.createElement(Wt,{tabIndex:i,className:u})):p.createElement(p.Fragment,null,p.createElement(Bx,{fn:mte,args:Pt(Pt({},e),{},{sectors:l})}),p.createElement(Wt,{tabIndex:i,className:u},p.createElement(Pte,{props:Pt(Pt({},r),{},{sectors:l}),previousSectorsRef:c})))}function Wx(e){var t=ur(e,_te),{id:r}=t,n=mN(t,lte),a=os(n);return p.createElement(zx,{id:r,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(ate,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(fte,Ui({},n,{id:i})),p.createElement(Ete,Ui({},n,{id:i}))))}Wx.displayName="Pie";function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){Ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ate(e,t,r){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ote(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dte={xAxis:{},yAxis:{},zAxis:{}},L4=Fn({name:"cartesianAxis",initialState:Dte,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=bP(bP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Mte,removeXAxis:Ite,addYAxis:Rte,removeYAxis:$te,addZAxis:Jue,removeZAxis:Que,updateYAxisWidth:Lte}=L4.actions,Fte=L4.reducer,Bte=X([dr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),zte=X([Bte,Ha,Va],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ux=()=>Se(zte),Wte=()=>Se(PQ);function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){Ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t,r){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kte(e){var t=Hte(e,"string");return typeof t=="symbol"?t:t+""}function Hte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vte=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=SP(SP({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},kt(a,!1)),ww(a)),l;return p.isValidElement(a)?l=p.cloneElement(a,o):typeof a=="function"?l=a(o):l=p.createElement(sN,o),p.createElement(Wt,{className:"recharts-active-dot"},l)};function A0(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Se(Wi),o=Wte();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return St(l)?null:Vte({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var qte=!0,vv="Invariant failed";function Yte(e,t){if(!e){if(qte)throw new Error(vv);var r=typeof t=="function"?t():t,n=r?"".concat(vv,": ").concat(r):vv;throw new Error(n)}}var Gte=["x","y"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(null,arguments)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){Xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xte(e,t,r){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=Qte(e,"string");return typeof t=="symbol"?t:t+""}function Qte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zte(e,t){if(e==null)return{};var r,n,a=ere(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ere(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tre(e,t){var{x:r,y:n}=e,a=Zte(e,Gte),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),f=parseInt(h,10);return Nd(Nd(Nd(Nd(Nd({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function pN(e){return p.createElement(I4,O0({shapeType:"rectangle",propTransformer:tre,activeClassName:"recharts-active-bar"},e))}var rre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ke(t))return t;var i=ke(n)||St(n);return i?t(n,a):(i||Yte(!1),r)}},nre={},F4=Fn({name:"errorBars",initialState:nre,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}});F4.actions;var sre=F4.reducer,are=["children"];function ire(e,t){if(e==null)return{};var r,n,a=ore(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ore(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cre=p.createContext(lre);function B4(e){var{children:t}=e,r=ire(e,are);return p.createElement(cre.Provider,{value:r},t)}function Kx(e,t){var r,n,a=Se(u=>Ga(u,e)),i=Se(u=>Xa(u,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:jn.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:wn.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function xN(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Ux(),{needClipX:i,needClipY:o,needClip:l}=Kx(t,r);if(!l)return null;var{x:c,y:u,width:d,height:h}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-d/2,y:o?u:u-h/2,width:i?d:d*2,height:o?h:h*2}))}var dre=["onMouseEnter","onMouseLeave","onClick"],ure=["value","background","tooltipPosition"],hre=["id"],fre=["onMouseEnter","onClick","onMouseLeave"];function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(null,arguments)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gm(e,t){if(e==null)return{};var r,n,a=gre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vre=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:eo(r,t),payload:e}]};function yre(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:eo(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function jre(e){var t=Se(Wi),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,u=Gm(i,dre),d=cN(o,n),h=dN(l),f=uN(c,n);if(!a||r==null)return null;var m=kt(a,!1);return p.createElement(p.Fragment,null,r.map((j,g)=>{var{value:x,background:y,tooltipPosition:v}=j,w=Gm(j,ure);if(!y)return null;var b=d(j,g),N=h(j,g),k=f(j,g),P=Vr(Vr(Vr(Vr(Vr({option:a,isActive:String(g)===t},w),{},{fill:"#eee"},y),m),qu(u,j,g)),{},{onMouseEnter:b,onMouseLeave:N,onClick:k,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return p.createElement(pN,Ki({key:"background-bar-".concat(P.index)},P))}))}function wre(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Vr(Vr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(nN,{value:t?a:void 0},r)}function bre(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=Se(Wi),c=Se(r4),u=r&&String(i)===l&&(c==null||o===c),d=u?r:t;return p.createElement(pN,Ki({},n,a,{isActive:u,option:d,index:i,dataKey:o}))}function Nre(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return p.createElement(pN,Ki({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function Sre(e){var{data:t,props:r}=e,n=os(r),a=Gm(n,hre),{shape:i,dataKey:o,activeBar:l}=r,{onMouseEnter:c,onClick:u,onMouseLeave:d}=r,h=Gm(r,fre),f=cN(c,o),m=dN(d),j=uN(u,o);return t?p.createElement(p.Fragment,null,t.map((g,x)=>p.createElement(Wt,Ki({className:"recharts-bar-rectangle"},qu(h,g,x),{onMouseEnter:f(g,x),onMouseLeave:m(g,x),onClick:j(g,x),key:"rectangle-".concat(g?.x,"-").concat(g?.y,"-").concat(g?.value,"-").concat(x)}),l?p.createElement(bre,{shape:i,activeBar:l,baseProps:a,entry:g,index:x,dataKey:o}):p.createElement(Nre,{shape:i,baseProps:a,entry:g,index:x,dataKey:o})))):null}function kre(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=r.current,f=Kc(t,"recharts-bar-"),[m,j]=p.useState(!1),g=!m,x=p.useCallback(()=>{typeof u=="function"&&u(),j(!1)},[u]),y=p.useCallback(()=>{typeof d=="function"&&d(),j(!0)},[d]);return p.createElement(wre,{showLabels:g,rects:n},p.createElement(Uc,{animationId:f,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:y,key:f},v=>{var w=v===1?n:n?.map((b,N)=>{var k=h&&h[N];if(k)return Vr(Vr({},b),{},{x:ot(k.x,b.x,v),y:ot(k.y,b.y,v),width:ot(k.width,b.width,v),height:ot(k.height,b.height,v)});if(a==="horizontal"){var P=ot(0,b.height,v);return Vr(Vr({},b),{},{y:b.y+b.height-P,height:P})}var C=ot(0,b.width,v);return Vr(Vr({},b),{},{width:C})});return v>0&&(r.current=w??null),w==null?null:p.createElement(Wt,null,p.createElement(Sre,{props:t,data:w}))}),p.createElement(Fx,{label:t.label}),t.children)}function Cre(e){var t=p.useRef(null);return p.createElement(kre,{previousRectanglesRef:t,props:e})}var z4=0,Pre=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:lt(e,t)}};class _re extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Xe("recharts-bar",a),h=u;return p.createElement(Wt,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(xN,{clipPathId:h,xAxisId:i,yAxisId:o})),p.createElement(Wt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},p.createElement(jre,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(Cre,this.props)))}}var Ere={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!qa.isSsr,legendType:"rect",minPointSize:z4,xAxisId:0,yAxisId:0};function Are(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=Kx(t,r),f=Ju(),m=Ur(),j=bw(e.children,ed),g=Se(v=>sne(v,t,r,m,e.id,j));if(f!=="vertical"&&f!=="horizontal")return null;var x,y=g?.[0];return y==null||y.height==null||y.width==null?x=0:x=f==="vertical"?y.height/2:y.width/2,p.createElement(B4,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Pre,errorBarOffset:x},p.createElement(_re,Ki({},e,{layout:f,needClip:h,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Ore(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:f,cells:m,parentViewBox:j}=e,g=t==="horizontal"?l:o,x=d?g.scale.domain():null,y=aq({numericAxis:g});return h.map((v,w)=>{var b,N,k,P,C,A;d?b=eq(d[w],x):(b=lt(v,r),Array.isArray(b)||(b=[y,b]));var S=rre(n,z4)(b[1],w);if(t==="horizontal"){var I,[O,z]=[l.scale(b[0]),l.scale(b[1])];N=Ck({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:v,index:w}),k=(I=z??O)!==null&&I!==void 0?I:void 0,P=a.size;var V=O-z;if(C=mn(V)?0:V,A={x:N,y:f.top,width:P,height:f.height},Math.abs(S)>0&&Math.abs(C)<Math.abs(S)){var Y=vr(C||S)*(Math.abs(S)-Math.abs(C));k-=Y,C+=Y}}else{var[R,W]=[o.scale(b[0]),o.scale(b[1])];if(N=R,k=Ck({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:v,index:w}),P=W-R,C=a.size,A={x:f.left,y:k,width:f.width,height:C},Math.abs(S)>0&&Math.abs(P)<Math.abs(S)){var _=vr(P||S)*(Math.abs(S)-Math.abs(P));P+=_}}if(N==null||k==null||P==null||C==null)return null;var T=Vr(Vr({},v),{},{x:N,y:k,width:P,height:C,value:d?b:b[1],payload:v,background:A,tooltipPosition:{x:N+P/2,y:k+C/2},parentViewBox:j},m&&m[w]&&m[w].props);return T}).filter(Boolean)}function Tre(e){var t=ur(e,Ere),r=Ur();return p.createElement(zx,{id:t.id,type:"bar"},n=>p.createElement(p.Fragment,null,p.createElement(hN,{legendPayload:vre(t)}),p.createElement(Bx,{fn:yre,args:t}),p.createElement(fN,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:FD(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(Are,Ki({},t,{id:n}))))}var xr=p.memo(Tre);xr.displayName="Bar";function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){Dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dre(e,t,r){return(t=Mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mre(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rre=(e,t)=>t,$re=(e,t,r)=>r,Lre=(e,t,r,n)=>n,Fre=(e,t,r,n,a)=>a,hh=X([ih,Fre],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Bre=X([hh],e=>e?.maxBarSize),zre=(e,t,r,n,a,i)=>i,_P=(e,t,r)=>{var n=r??e;if(!St(n))return Br(n,t,0)},Wre=X([qe,ih,Rre,$re,Lre],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Ure=(e,t,r,n)=>{var a=qe(e);return a==="horizontal"?Eu(e,"yAxis",r,n):Eu(e,"xAxis",t,n)},Kre=(e,t,r)=>{var n=qe(e);return n==="horizontal"?FC(e,"xAxis",t):FC(e,"yAxis",r)},Hre=(e,t,r)=>{var n={},a=e.filter(Tx),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,h]=u,f=h.map(j=>j.dataKey),m=_P(t,r,h[0].barSize);return{stackId:d,dataKeys:f,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(f=>f!=null),h=_P(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...c]},Vre=X([Wre,RX,Kre],Hre),qre=(e,t,r,n,a)=>{var i,o,l=hh(e,t,r,n,a);if(l!=null){var c=qe(e),u=eI(e),{maxBarSize:d}=l,h=St(d)?u:d,f,m;return c==="horizontal"?(f=sa(e,"xAxis",t,n),m=na(e,"xAxis",t,n)):(f=sa(e,"yAxis",r,n),m=na(e,"yAxis",r,n)),(i=(o=nl(f,m,!0))!==null&&o!==void 0?o:h)!==null&&i!==void 0?i:0}},W4=(e,t,r,n)=>{var a=qe(e),i,o;return a==="horizontal"?(i=sa(e,"xAxis",t,n),o=na(e,"xAxis",t,n)):(i=sa(e,"yAxis",r,n),o=na(e,"yAxis",r,n)),nl(i,o)};function Yre(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Br(e,r,0,!0),l,c=[];if(Tr(n[0].barSize)){var u=!1,d=r/i,h=n.reduce((y,v)=>y+(v.barSize||0),0);h+=(i-1)*o,h>=r&&(h-=(i-1)*o,o=0),h>=r&&d>0&&(u=!0,d*=.9,h=i*d);var f=(r-h)/2>>0,m={offset:f-o,size:0};l=n.reduce((y,v)=>{var w,b={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(w=v.barSize)!==null&&w!==void 0?w:0}},N=[...y,b];return m=N[N.length-1].position,N},c)}else{var j=Br(t,r,0,!0);r-2*j-(i-1)*o<=0&&(o=0);var g=(r-2*j-(i-1)*o)/i;g>1&&(g>>=0);var x=Tr(a)?Math.min(g,a):g;l=n.reduce((y,v,w)=>[...y,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:j+(g+o)*w+(g-x)/2,size:x}}],c)}return l}}var Gre=(e,t,r,n,a,i,o)=>{var l=St(o)?t:o,c=Yre(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(u=>df(df({},u),{},{position:df(df({},u.position),{},{offset:u.position.offset-a/2})}))),c},Xre=X([Vre,eI,IX,tI,qre,W4,Bre],Gre),Jre=(e,t,r,n)=>sa(e,"xAxis",t,n),Qre=(e,t,r,n)=>sa(e,"yAxis",r,n),Zre=(e,t,r,n)=>na(e,"xAxis",t,n),ene=(e,t,r,n)=>na(e,"yAxis",r,n),tne=X([Xre,hh],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),rne=(e,t)=>{var r=Ox(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},nne=X([Ure,hh],rne),sne=X([dr,qw,Jre,Qre,Zre,ene,tne,qe,rh,W4,nne,hh,zre],(e,t,r,n,a,i,o,l,c,u,d,h,f)=>{var{chartData:m,dataStartIndex:j,dataEndIndex:g}=c;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:x}=h,y;if(x!=null&&x.length>0?y=x:y=m?.slice(j,g+1),y!=null)return Ore({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:f})}}),U4=e=>{var{chartData:t}=e,r=Lt(),n=Ur();return p.useEffect(()=>n?()=>{}:(r(YC(t)),()=>{r(YC(void 0))}),[t,r,n]),null},EP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},K4=Fn({name:"brush",initialState:EP,reducers:{setBrushSettings(e,t){return t.payload==null?EP:t.payload}}});K4.actions;var ane=K4.reducer;function ine(e,t,r){return(t=one(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function one(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gN{static create(t){return new gN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}ine(gN,"EPS",1e-4);function cne(e){return(e%180+180)%180}var dne=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=cne(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},une={dots:[],areas:[],lines:[]},H4=Fn({name:"referenceElements",initialState:une,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=_a(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=_a(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=_a(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}});H4.actions;var hne=H4.reducer,fne=p.createContext(void 0),mne=e=>{var{children:t}=e,[r]=p.useState("".concat(ju("recharts"),"-clip")),n=Ux();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return p.createElement(fne.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function Ec(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function V4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function pne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return dne(n,r)}function xne(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Xm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function gne(e,t){return V4(e,t+1)}function vne(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var j=n?.[c];if(j===void 0)return{v:V4(n,u)};var g=c,x,y=()=>(x===void 0&&(x=r(j,g)),x),v=j.coordinate,w=c===0||Xm(e,v,y,d,l);w||(c=0,d=o,u+=1),w&&(d=v+e*(y()/2+a),c+=u)},f;u<=i.length;)if(f=h(),f)return f.v;return[]}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){yne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yne(e,t,r){return(t=jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bne(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,u=function(f){var m=i[f],j,g=()=>(j===void 0&&(j=r(m,f)),j);if(f===o-1){var x=e*(m.coordinate+e*g()/2-c);i[f]=m=Rr(Rr({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[f]=m=Rr(Rr({},m),{},{tickCoord:m.coordinate});var y=Xm(e,m.tickCoord,g,l,c);y&&(c=m.tickCoord-e*(g()/2+a),i[f]=Rr(Rr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Nne(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:u}=t;if(i){var d=n[l-1],h=r(d,l-1),f=e*(d.coordinate+e*h/2-u);o[l-1]=d=Rr(Rr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var m=Xm(e,d.tickCoord,()=>h,c,u);m&&(u=d.tickCoord-e*(h/2+a),o[l-1]=Rr(Rr({},d),{},{isShow:!0}))}for(var j=i?l-1:l,g=function(v){var w=o[v],b,N=()=>(b===void 0&&(b=r(w,v)),b);if(v===0){var k=e*(w.coordinate-e*N()/2-c);o[v]=w=Rr(Rr({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[v]=w=Rr(Rr({},w),{},{tickCoord:w.coordinate});var P=Xm(e,w.tickCoord,N,c,u);P&&(c=w.tickCoord+e*(N()/2+a),o[v]=Rr(Rr({},w),{},{isShow:!0}))},x=0;x<j;x++)g(x);return o}function vN(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!n)return[];if(ke(c)||qa.isSsr){var f;return(f=gne(a,ke(c)?c:0))!==null&&f!==void 0?f:[]}var m=[],j=l==="top"||l==="bottom"?"width":"height",g=d&&j==="width"?Gd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(w,b)=>{var N=typeof u=="function"?u(w.value,b):w.value;return j==="width"?pne(Gd(N,{fontSize:t,letterSpacing:r}),g,h):Gd(N,{fontSize:t,letterSpacing:r})[j]},y=a.length>=2?vr(a[1].coordinate-a[0].coordinate):1,v=xne(i,y,j);return c==="equidistantPreserveStart"?vne(y,v,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Nne(y,v,x,a,o,c==="preserveStartEnd"):m=bne(y,v,x,a,o),m.filter(w=>w.isShow))}var Sne=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+l+(r?n:0);return Math.round(u)}return 0},kne=["axisLine","width","height","className","hide","ticks"],Cne=["viewBox"],Pne=["viewBox"];function T0(e,t){if(e==null)return{};var r,n,a=_ne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _ne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},al.apply(null,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){Ene(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ene(e,t,r){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ane(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Tne(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=or(or(or({},c),kt(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=or(or({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var h=+(i==="left"&&!o||i==="right"&&o);u=or(or({},u),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+a})}return p.createElement("line",al({},u,{className:Xe("recharts-cartesian-axis-line",el(l,"className"))}))}function Dne(e,t,r,n,a,i,o,l,c){var u,d,h,f,m,j,g=l?-1:1,x=e.tickSize||o,y=ke(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,f=r+ +!l*a,h=f-g*x,j=h-g*c,m=y;break;case"left":h=f=e.coordinate,d=t+ +!l*n,u=d-g*x,m=u-g*c,j=y;break;case"right":h=f=e.coordinate,d=t+ +l*n,u=d+g*x,m=u+g*c,j=y;break;default:u=d=e.coordinate,f=r+ +l*a,h=f+g*x,j=h+g*c,m=y;break}return{line:{x1:u,y1:h,x2:d,y2:f},tick:{x:m,y:j}}}function Mne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ine(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rne(e){var{option:t,tickProps:r,value:n}=e,a,i=Xe(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,or(or({},r),{},{className:i}));else if(typeof t=="function")a=t(or(or({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Xe(o,t?.className)),a=p.createElement(Lx,al({},r,{className:o}),n)}return a}function $ne(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:h,y:f,width:m,height:j,tickSize:g,tickMargin:x,fontSize:y,letterSpacing:v,getTicksConfig:w,events:b}=e,N=vN(or(or({},w),{},{ticks:t}),y,v),k=Mne(u,d),P=Ine(u,d),C=os(w),A=kt(r,!1),S=or(or({},C),{},{fill:"none"},kt(n,!1)),I=N.map((O,z)=>{var{line:V,tick:Y}=Dne(O,h,f,m,j,u,g,d,x),R=or(or(or(or({textAnchor:k,verticalAnchor:P},C),{},{stroke:"none",fill:a},A),Y),{},{index:z,payload:O,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return p.createElement(Wt,al({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},qu(b,O,z)),n&&p.createElement("line",al({},S,V,{className:Xe("recharts-cartesian-axis-tick-line",el(n,"className"))})),r&&p.createElement(Rne,{option:r,tickProps:R,value:"".concat(typeof i=="function"?i(O.value,z):O.value).concat(o||"")}))});return I.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}var Lne=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l}=e,c=T0(e,kne),[u,d]=p.useState(""),[h,f]=p.useState(""),m=p.useRef([]);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Sne({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=p.useCallback(g=>{if(g){var x=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(x);var y=x[0];if(y){var v=window.getComputedStyle(y),w=v.fontSize,b=v.letterSpacing;(w!==u||b!==h)&&(d(w),f(b))}}},[u,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(Wt,{className:Xe("recharts-cartesian-axis",i),ref:j},p.createElement(Tne,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:os(e)}),p.createElement($ne,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:h,getTicksConfig:e,events:c}),p.createElement(XZ,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(iee,{label:e.label}),e.children))}),Fne=p.memo(Lne,(e,t)=>{var{viewBox:r}=e,n=T0(e,Cne),{viewBox:a}=t,i=T0(t,Pne);return Ec(r,a)&&Ec(n,i)}),jN=p.forwardRef((e,t)=>{var r=ur(e,yN);return p.createElement(Fne,al({},r,{ref:t}))});jN.displayName="CartesianAxis";var Bne=["x1","y1","x2","y2","key"],zne=["offset"],Wne=["xAxisId","yAxisId"],Une=["xAxisId","yAxisId"];function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Kne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kne(e,t,r){return(t=Hne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},To.apply(null,arguments)}function Jm(e,t){if(e==null)return{};var r,n,a=qne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function q4(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=Jm(t,Bne),u=os(c),d=Jm(u,zne);r=p.createElement("line",To({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Gne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Jm(e,Wne),o=a.map((l,c)=>{var u=Fr(Fr({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return q4(n,u)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Xne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Jm(e,Une),o=a.map((l,c)=>{var u=Fr(Fr({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return q4(n,u)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Jne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(h=>Math.round(h+a-a)).sort((h,f)=>h-f);a!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],j=m?a+o-h:u[f+1]-h;if(j<=0)return null;var g=f%t.length;return p.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:j,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Qne(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(h=>Math.round(h+a-a)).sort((h,f)=>h-f);a!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var m=!u[f+1],j=m?a+o-h:u[f+1]-h;if(j<=0)return null;var g=f%r.length;return p.createElement("rect",{key:"react-".concat(f),x:h,y:i,width:j,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Zne=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return $D(vN(Fr(Fr(Fr({},yN),r),{},{ticks:LD(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},ese=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return $D(vN(Fr(Fr(Fr({},yN),r),{},{ticks:LD(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},tse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Pr(e){var t=Gw(),r=Xw(),n=UD(),a=Fr(Fr({},ur(e,tse)),{},{x:ke(e.x)?e.x:n.left,y:ke(e.y)?e.y:n.top,width:ke(e.width)?e.width:n.width,height:ke(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:m}=a,j=Ur(),g=Se(A=>BC(A,"xAxis",i,j)),x=Se(A=>BC(A,"yAxis",o,j));if(!ke(u)||u<=0||!ke(d)||d<=0||!ke(l)||l!==+l||!ke(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||Zne,v=a.horizontalCoordinatesGenerator||ese,{horizontalPoints:w,verticalPoints:b}=a;if((!w||!w.length)&&typeof v=="function"){var N=f&&f.length,k=v({yAxis:x?Fr(Fr({},x),{},{ticks:N?f:x.ticks}):void 0,width:t,height:r,offset:n},N?!0:h);Yd(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!b||!b.length)&&typeof y=="function"){var P=m&&m.length,C=y({xAxis:g?Fr(Fr({},g),{},{ticks:P?m:g.ticks}):void 0,width:t,height:r,offset:n},P?!0:h);Yd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Yne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(Jne,To({},a,{horizontalPoints:w})),p.createElement(Qne,To({},a,{verticalPoints:b})),p.createElement(Gne,To({},a,{offset:n,horizontalPoints:w,xAxis:g,yAxis:x})),p.createElement(Xne,To({},a,{offset:n,verticalPoints:b,xAxis:g,yAxis:x})))}Pr.displayName="CartesianGrid";var Y4=(e,t,r,n)=>sa(e,"xAxis",t,n),G4=(e,t,r,n)=>na(e,"xAxis",t,n),X4=(e,t,r,n)=>sa(e,"yAxis",r,n),J4=(e,t,r,n)=>na(e,"yAxis",r,n),rse=X([qe,Y4,X4,G4,J4],(e,t,r,n,a)=>oa(e,"xAxis")?nl(t,n,!1):nl(r,a,!1)),nse=(e,t,r,n,a)=>a;function sse(e){return e.type==="line"}var ase=X([ih,nse],(e,t)=>e.filter(sse).find(r=>r.id===t)),ise=X([qe,Y4,X4,G4,J4,ase,rse,rh],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:h,data:f}=i,m;if(f!=null&&f.length>0?m=f:m=c?.slice(u,d+1),m!=null)return _se({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:m})}}),ose=["id"],lse=["type","layout","connectNulls","needClip"],cse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dse(e,t,r){return(t=use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function use(e){var t=hse(e,"string");return typeof t=="symbol"?t:t+""}function hse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wN(e,t){if(e==null)return{};var r,n,a=fse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(null,arguments)}var mse=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:eo(r,t),payload:e}]};function pse(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:eo(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var Q4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function xse(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var gse=(e,t,r)=>{var n=r.reduce((h,f)=>h+f);if(!n)return Q4(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,o]:[o];return[...xse(r,a),...l,...d].map(h=>"".concat(h,"px")).join(", ")};function vse(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Xe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=p.createElement(sN,il({},t,{className:n}))}return r}function yse(e,t){return e==null?!1:t?!0:e.length===1}function jse(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!yse(r,a))return null;var l=wN(n,ose),c=ix(a),u=os(l),d=kt(a,!0),h=r.map((m,j)=>{var g=Cn(Cn(Cn({key:"dot-".concat(j),r:3},u),d),{},{index:j,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return vse(a,g)}),f={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return p.createElement(Wt,il({className:"recharts-line-dots",key:"dots"},f),h)}function wse(e){var{showLabels:t,children:r,points:n}=e,a=p.useMemo(()=>n?.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Cn(Cn({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return p.createElement(nN,{value:t?a:null},r)}function MP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:u}=i,d=wN(i,lse),h=Cn(Cn({},kt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return p.createElement(p.Fragment,null,n?.length>1&&p.createElement(ic,il({},h,{pathRef:r})),p.createElement(jse,{points:n,clipPathId:t,props:i}))}function bse(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Nse(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:m,height:j,onAnimationEnd:g,onAnimationStart:x}=r,y=a.current,v=Kc(r,"recharts-line-"),[w,b]=p.useState(!1),N=!w,k=p.useCallback(()=>{typeof g=="function"&&g(),b(!1)},[g]),P=p.useCallback(()=>{typeof x=="function"&&x(),b(!0)},[x]),C=bse(n.current),A=i.current;return p.createElement(wse,{points:o,showLabels:N},r.children,p.createElement(Uc,{animationId:v,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:k,onAnimationStart:P,key:v},S=>{var I=ot(A,C+A,S),O=Math.min(I,C),z;if(c)if(l){var V="".concat(l).split(/[,\s]+/gim).map(W=>parseFloat(W));z=gse(O,C,V)}else z=Q4(C,O);else z=l==null?void 0:String(l);if(y){var Y=y.length/o.length,R=S===1?o:o.map((W,_)=>{var T=Math.floor(_*Y);if(y[T]){var re=y[T];return Cn(Cn({},W),{},{x:ot(re.x,W.x,S),y:ot(re.y,W.y,S)})}return f?Cn(Cn({},W),{},{x:ot(m*2,W.x,S),y:ot(j/2,W.y,S)}):Cn(Cn({},W),{},{x:W.x,y:W.y})});return a.current=R,p.createElement(MP,{props:r,points:R,clipPathId:t,pathRef:n,strokeDasharray:z})}return S>0&&C>0&&(a.current=o,i.current=O),p.createElement(MP,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:z})}),p.createElement(Fx,{label:r.label}))}function Sse(e){var{clipPathId:t,props:r}=e,n=p.useRef(null),a=p.useRef(0),i=p.useRef(null);return p.createElement(Nse,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var kse=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:lt(e.payload,t)});class Cse extends p.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:l,top:c,left:u,width:d,height:h,id:f,needClip:m}=this.props;if(r)return null;var j=Xe("recharts-line",i),g=f,{r:x=3,strokeWidth:y=2}=(t=kt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},v=ix(n),w=x*2+y;return p.createElement(p.Fragment,null,p.createElement(Wt,{className:j},m&&p.createElement("defs",null,p.createElement(xN,{clipPathId:g,xAxisId:o,yAxisId:l}),!v&&p.createElement("clipPath",{id:"clipPath-dots-".concat(g)},p.createElement("rect",{x:u-w/2,y:c-w/2,width:d+w,height:h+w}))),p.createElement(B4,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:kse,errorBarOffset:0},p.createElement(Sse,{props:this.props,clipPathId:g}))),p.createElement(A0,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Z4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!qa.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Pse(e){var t=ur(e,Z4),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:m,yAxisId:j,id:g}=t,x=wN(t,cse),{needClip:y}=Kx(m,j),v=Ux(),w=Ju(),b=Ur(),N=Se(S=>ise(S,m,j,b,g));if(w!=="horizontal"&&w!=="vertical"||N==null||v==null)return null;var{height:k,width:P,x:C,y:A}=v;return p.createElement(Cse,il({},x,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:m,yAxisId:j,points:N,layout:w,height:k,width:P,left:C,top:A,needClip:y}))}function _se(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var h=lt(u,o);if(t==="horizontal"){var f=Em({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=St(h)?null:n.scale(h);return{x:f,y:m,value:h,payload:u}}var j=St(h)?null:r.scale(h),g=Em({axis:n,ticks:i,bandSize:l,entry:u,index:d});return j==null||g==null?null:{x:j,y:g,value:h,payload:u}}).filter(Boolean)}function Ese(e){var t=ur(e,Z4),r=Ur();return p.createElement(zx,{id:t.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(hN,{legendPayload:mse(t)}),p.createElement(Bx,{fn:pse,args:t}),p.createElement(fN,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(Pse,il({},t,{id:n}))))}var Hi=p.memo(Ese);Hi.displayName="Line";var eR=(e,t,r,n)=>sa(e,"xAxis",t,n),tR=(e,t,r,n)=>na(e,"xAxis",t,n),rR=(e,t,r,n)=>sa(e,"yAxis",r,n),nR=(e,t,r,n)=>na(e,"yAxis",r,n),Ase=X([qe,eR,rR,tR,nR],(e,t,r,n,a)=>oa(e,"xAxis")?nl(t,n,!1):nl(r,a,!1)),Ose=(e,t,r,n,a)=>a,sR=X([ih,Ose],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Tse=(e,t,r,n,a)=>{var i,o=sR(e,t,r,n,a);if(o!=null){var l=qe(e),c=oa(l,"xAxis"),u;if(c?u=Eu(e,"yAxis",r,n):u=Eu(e,"xAxis",t,n),u!=null){var{stackId:d}=o,h=Ox(o);if(!(d==null||h==null)){var f=(i=u[d])===null||i===void 0?void 0:i.stackedData;return f?.find(m=>m.key===h)}}}},Dse=X([qe,eR,rR,tR,nR,Tse,rh,Ase,sR],(e,t,r,n,a,i,o,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:f}=c,m;if(f&&f.length>0?m=f:m=u?.slice(d,h+1),m!=null){var j=void 0;return eae({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:m,chartBaseValue:j,bandSize:l})}}}),Mse=["id"],Ise=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function aR(e,t){if(e==null)return{};var r,n,a=Rse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){$se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $se(e,t,r){return(t=Lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lse(e){var t=Fse(e,"string");return typeof t=="symbol"?t:t+""}function Fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aa.apply(null,arguments)}function Qm(e,t){return e&&e!=="none"?e:t}var Bse=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Qm(n,a),value:eo(r,t),payload:e}]};function zse(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:eo(o,t),hide:l,type:e.tooltipType,color:Qm(n,i),unit:c}}}var Wse=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Xe("recharts-area-dot",typeof e!="boolean"?e.className:"");r=p.createElement(sN,Aa({},t,{className:n}))}return r};function Use(e,t){return e==null?!1:t?!0:e.length===1}function Kse(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!Use(r,i))return null;var l=ix(i),c=os(n),u=kt(i,!0),d=r.map((f,m)=>{var j=Na(Na(Na({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:f.x,cy:f.y,dataKey:o,value:f.value,payload:f.payload,points:r});return Wse(i,j)}),h={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return p.createElement(Wt,Aa({className:"recharts-area-dots"},h),d)}function Hse(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Na(Na({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return p.createElement(nN,{value:t?a:null},r)}function RP(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:u,isRange:d}=i,{id:h}=i,f=aR(i,Mse),m=os(f);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(Wt,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},p.createElement(ic,Aa({},m,{id:h,points:t,connectNulls:u,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&p.createElement(ic,Aa({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&p.createElement(ic,Aa({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:r}))),p.createElement(Kse,{points:t,props:f,clipPathId:a}))}function Vse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!Tr(i)||!Tr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.x||0));return ke(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),ke(c)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function qse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!Tr(i)||!Tr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(u=>u.y||0));return ke(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),ke(c)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function Yse(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?p.createElement(Vse,{alpha:t,points:n,baseLine:a,strokeWidth:i}):p.createElement(qse,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function Gse(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:m}=n,j=Kc(n,"recharts-area-"),[g,x]=p.useState(!1),y=!g,v=p.useCallback(()=>{typeof m=="function"&&m(),x(!1)},[m]),w=p.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]),b=a.current,N=i.current;return p.createElement(Hse,{showLabels:y,points:o},n.children,p.createElement(Uc,{animationId:j,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:v,onAnimationStart:w,key:j},k=>{if(b){var P=b.length/o.length,C=k===1?o:o.map((S,I)=>{var O=Math.floor(I*P);if(b[O]){var z=b[O];return Na(Na({},S),{},{x:ot(z.x,S.x,k),y:ot(z.y,S.y,k)})}return S}),A;return ke(l)?A=ot(N,l,k):St(l)||mn(l)?A=ot(N,0,k):A=l.map((S,I)=>{var O=Math.floor(I*P);if(Array.isArray(N)&&N[O]){var z=N[O];return Na(Na({},S),{},{x:ot(z.x,S.x,k),y:ot(z.y,S.y,k)})}return S}),k>0&&(a.current=C,i.current=A),p.createElement(RP,{points:C,baseLine:A,needClip:t,clipPathId:r,props:n})}return k>0&&(a.current=o,i.current=l),p.createElement(Wt,null,c&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(Yse,{alpha:k,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),p.createElement(Wt,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(RP,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),p.createElement(Fx,{label:n.label}))}function Xse(e){var{needClip:t,clipPathId:r,props:n}=e,a=p.useRef(null),i=p.useRef();return p.createElement(Gse,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class Jse extends p.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:o,left:l,needClip:c,xAxisId:u,yAxisId:d,width:h,height:f,id:m,baseLine:j}=this.props;if(r)return null;var g=Xe("recharts-area",i),x=m,{r:y=3,strokeWidth:v=2}=(t=kt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=ix(n),b=y*2+v;return p.createElement(p.Fragment,null,p.createElement(Wt,{className:g},c&&p.createElement("defs",null,p.createElement(xN,{clipPathId:x,xAxisId:u,yAxisId:d}),!w&&p.createElement("clipPath",{id:"clipPath-dots-".concat(x)},p.createElement("rect",{x:l-b/2,y:o-b/2,width:h+b,height:f+b}))),p.createElement(Xse,{needClip:c,clipPathId:x,props:this.props})),p.createElement(A0,{points:a,mainColor:Qm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(j)&&p.createElement(A0,{points:j,mainColor:Qm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var iR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!qa.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Qse(e){var t,r=ur(e,iR),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:m,stroke:j,xAxisId:g,yAxisId:x}=r,y=aR(r,Ise),v=Ju(),w=s4(),{needClip:b}=Kx(g,x),N=Ur(),{points:k,isRange:P,baseLine:C}=(t=Se(V=>Dse(V,g,x,N,e.id)))!==null&&t!==void 0?t:{},A=Ux();if(v!=="horizontal"&&v!=="vertical"||A==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:S,width:I,x:O,y:z}=A;return!k||!k.length?null:p.createElement(Jse,Aa({},y,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:C,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:S,hide:h,layout:v,isAnimationActive:f,isRange:P,legendType:m,needClip:b,points:k,stroke:j,width:I,left:O,top:z,xAxisId:g,yAxisId:x}))}var Zse=(e,t,r,n,a)=>{var i=r??t;if(ke(i))return i;var o=e==="horizontal"?a:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function eae(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:m}=e,j=a&&a.length,g=Zse(i,o,r,l,c),x=i==="horizontal",y=!1,v=u.map((b,N)=>{var k;j?k=a[d+N]:(k=lt(b,n),Array.isArray(k)?y=!0:k=[g,k]);var P=k[1]==null||j&&!t&&lt(b,n)==null;return x?{x:Em({axis:l,ticks:h,bandSize:m,entry:b,index:N}),y:P?null:c.scale(k[1]),value:k,payload:b}:{x:P?null:l.scale(k[1]),y:Em({axis:c,ticks:f,bandSize:m,entry:b,index:N}),value:k,payload:b}}),w;return j||y?w=v.map(b=>{var N=Array.isArray(b.value)?b.value[0]:null;return x?{x:b.x,y:N!=null&&b.y!=null?c.scale(N):null,payload:b.payload}:{x:N!=null?l.scale(N):null,y:b.y,payload:b.payload}}):w=x?c.scale(g):l.scale(g),{points:v,baseLine:w,isRange:y}}function tae(e){var t=ur(e,iR),r=Ur();return p.createElement(zx,{id:t.id,type:"area"},n=>p.createElement(p.Fragment,null,p.createElement(hN,{legendPayload:Bse(t)}),p.createElement(Bx,{fn:zse,args:t}),p.createElement(fN,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:FD(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(Qse,Aa({},t,{id:n}))))}var oR=p.memo(tae);oR.displayName="Area";var rae=["dangerouslySetInnerHTML","ticks"],nae=["id"],sae=["domain"],aae=["domain"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(null,arguments)}function Zm(e,t){if(e==null)return{};var r,n,a=iae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oae(e){var t=Lt();return p.useEffect(()=>(t(Mte(e)),()=>{t(Ite(e))}),[e,t]),null}var lae=e=>{var{xAxisId:t,className:r}=e,n=Se(qw),a=Ur(),i="xAxis",o=Se(m=>Jc(m,i,t,a)),l=Se(m=>$I(m,i,t,a)),c=Se(m=>DI(m,t)),u=Se(m=>PJ(m,t)),d=Se(m=>dI(m,t));if(c==null||u==null||d==null)return null;var h=Zm(e,rae),f=Zm(d,nae);return p.createElement(jN,D0({},h,f,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Xe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},cae={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,height:jn.height,hide:!1,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tickCount:jn.tickCount,type:jn.type,xAxisId:0},dae=e=>{var t,r,n,a,i,o=ur(e,cae);return p.createElement(p.Fragment,null,p.createElement(oae,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(lae,o))},uae=(e,t)=>{var{domain:r}=e,n=Zm(e,sae),{domain:a}=t,i=Zm(t,aae);return Ec(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Ec({domain:r},{domain:a}):!1},_r=p.memo(dae,uae);_r.displayName="XAxis";var hae=["dangerouslySetInnerHTML","ticks"],fae=["id"],mae=["domain"],pae=["domain"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(null,arguments)}function ep(e,t){if(e==null)return{};var r,n,a=xae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gae(e){var t=Lt();return p.useEffect(()=>(t(Rte(e)),()=>{t($te(e))}),[e,t]),null}var vae=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=p.useRef(null),o=p.useRef(null),l=Se(qw),c=Ur(),u=Lt(),d="yAxis",h=Se(v=>Jc(v,d,t,c)),f=Se(v=>MI(v,t)),m=Se(v=>EJ(v,t)),j=Se(v=>$I(v,d,t,c)),g=Se(v=>uI(v,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||rN(a)||p.isValidElement(a)||g==null)){var v=i.current;if(v){var w=v.getCalculatedWidth();Math.round(f.width)!==Math.round(w)&&u(Lte({id:t,width:w}))}}},[j,f,u,a,t,n,g]),f==null||m==null||g==null)return null;var x=ep(e,hae),y=ep(g,fae);return p.createElement(jN,M0({},x,y,{ref:i,labelRef:o,scale:h,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Xe("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:j}))},yae={allowDataOverflow:wn.allowDataOverflow,allowDecimals:wn.allowDecimals,allowDuplicatedCategory:wn.allowDuplicatedCategory,hide:!1,mirror:wn.mirror,orientation:wn.orientation,padding:wn.padding,reversed:wn.reversed,scale:wn.scale,tickCount:wn.tickCount,type:wn.type,width:wn.width,yAxisId:0},jae=e=>{var t,r,n,a,i,o=ur(e,yae);return p.createElement(p.Fragment,null,p.createElement(gae,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(vae,o))},wae=(e,t)=>{var{domain:r}=e,n=ep(e,mae),{domain:a}=t,i=ep(t,pae);return Ec(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Ec({domain:r},{domain:a}):!1},gr=p.memo(jae,wae);gr.displayName="YAxis";var bae={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=p;function Nae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sae=typeof Object.is=="function"?Object.is:Nae,kae=fh.useSyncExternalStore,Cae=fh.useRef,Pae=fh.useEffect,_ae=fh.useMemo,Eae=fh.useDebugValue;bae.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Cae(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=_ae(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var j=o.value;if(a(j,m))return h=j}return h=m}if(j=h,Sae(d,m))return j;var g=n(m);return a!==void 0&&a(j,g)?(d=m,j):(d=m,h=g)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,a]);var l=kae(e,i[0],i[1]);return Pae(function(){o.hasValue=!0,o.value=l},[l]),Eae(l),l};function Aae(e){e()}function Oae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Aae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var $P={notify(){},get:()=>[]};function Tae(e,t){let r,n=$P,a=0,i=!1;function o(g){d();const x=n.subscribe(g);let y=!1;return()=>{y||(y=!0,x(),h())}}function l(){n.notify()}function c(){j.onStateChange&&j.onStateChange()}function u(){return i}function d(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=Oae())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=$P)}function f(){i||(i=!0,d())}function m(){i&&(i=!1,h())}const j={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>n};return j}var Dae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mae=Dae(),Iae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rae=Iae(),$ae=()=>Mae||Rae?p.useLayoutEffect:p.useEffect,Lae=$ae(),Fae=Symbol.for("react-redux-context"),Bae=typeof globalThis<"u"?globalThis:{};function zae(){if(!p.createContext)return{};const e=Bae[Fae]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var Wae=zae();function Uae(e){const{children:t,context:r,serverState:n,store:a}=e,i=p.useMemo(()=>{const c=Tae(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);Lae(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||Wae;return p.createElement(l.Provider,{value:i},t)}var Kae=Uae,Hae=(e,t)=>t,bN=X([Hae,qe,oI,fr,QI,Ja,DQ,dr],LQ),NN=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},lR=rs("mouseClick"),cR=Gu();cR.startListening({actionCreator:lR,effect:(e,t)=>{var r=e.payload,n=bN(t.getState(),NN(r));n?.activeIndex!=null&&t.dispatch(WJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var I0=rs("mouseMove"),dR=Gu();dR.startListening({actionCreator:I0,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=qb(n,n.tooltip.settings.shared),i=bN(n,NN(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(HI({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(KI()))}});var LP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},uR=Fn({name:"rootProps",initialState:LP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:LP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Vae=uR.reducer,{updateOptions:qae}=uR.actions,hR=Fn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Yae}=hR.actions,Gae=hR.reducer,fR=rs("keyDown"),mR=rs("focus"),SN=Gu();SN.startListening({actionCreator:fR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(Yb(a,Zc(r))),l=Ja(r);if(i==="Enter"){var c=Hm(r,"axis","hover",String(a.index));t.dispatch(k0({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=DJ(r),d=u==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,f=o+h*d;if(!(l==null||f>=l.length||f<0)){var m=Hm(r,"axis","hover",String(f));t.dispatch(k0({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});SN.startListening({actionCreator:mR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Hm(r,"axis","hover",String(i));t.dispatch(k0({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Un=rs("externalEvent"),pR=Gu();pR.startListening({actionCreator:Un,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:SQ(r),activeDataKey:r4(r),activeIndex:Wi(r),activeLabel:t4(r),activeTooltipIndex:Wi(r),isTooltipActive:kQ(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Xae=X([Qc],e=>e.tooltipItemPayloads),Jae=X([Xae,ch,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),xR=rs("touchMove"),gR=Gu();gR.startListening({actionCreator:xR,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=qb(n,n.tooltip.settings.shared);if(a==="axis"){var i=bN(n,NN({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(HI({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(zD),d=(o=c.getAttribute(WD))!==null&&o!==void 0?o:void 0,h=Jae(t.getState(),u,d);t.dispatch(UI({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}});var Qae=hD({brush:ane,cartesianAxis:Fte,chartData:ZQ,errorBars:sre,graphicalItems:ste,layout:LV,legend:Pq,options:YQ,polarAxis:Nee,polarOptions:Gae,referenceElements:hne,rootProps:Vae,tooltip:UJ}),Zae=function(t){return cV({reducer:Qae,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([cR.middleware,dR.middleware,SN.middleware,pR.middleware,gR.middleware]),devTools:qa.devToolsEnabled})};function vR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ur(),i=p.useRef(null);if(a)return r;i.current==null&&(i.current=Zae(t));var o=Fw;return p.createElement(Kae,{context:o,store:i.current},r)}function yR(e){var{layout:t,width:r,height:n,margin:a}=e,i=Lt(),o=Ur();return p.useEffect(()=>{o||(i(IV(t)),i(RV({width:r,height:n})),i(MV(a)))},[i,o,t,r,n,a]),null}function jR(e){var t=Lt();return p.useEffect(()=>{t(qae(e))},[t,e]),null}var eie=["children"];function tie(e,t){if(e==null)return{};var r,n,a=rie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(null,arguments)}var nie={width:"100%",height:"100%"},sie=p.forwardRef((e,t)=>{var r=Gw(),n=Xw(),a=qD();if(!Sc(r)||!Sc(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0,p.createElement(Nw,tp({},o,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:nie,ref:t}),i)}),aie=e=>{var{children:t}=e,r=Se(wx);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return p.createElement(Nw,{width:n,height:a,x:o,y:i},t)},FP=p.forwardRef((e,t)=>{var{children:r}=e,n=tie(e,eie),a=Ur();return a?p.createElement(aie,null,r):p.createElement(sie,tp({ref:t},n),r)});function iie(){var e=Lt(),[t,r]=p.useState(null),n=Se(hq);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Tr(i)&&i!==n&&e($V(i))}},[t,e,n]),r}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lie(e,t,r){return(t=cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uie=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:m,onTouchMove:j,onTouchStart:g,style:x,width:y}=e,v=Lt(),[w,b]=p.useState(null),[N,k]=p.useState(null);lZ();var P=iie(),C=p.useCallback(H=>{P(H),typeof t=="function"&&t(H),b(H),k(H)},[P,t,b,k]),A=p.useCallback(H=>{v(lR(H)),v(Un({handler:i,reactEvent:H}))},[v,i]),S=p.useCallback(H=>{v(I0(H)),v(Un({handler:u,reactEvent:H}))},[v,u]),I=p.useCallback(H=>{v(KI()),v(Un({handler:d,reactEvent:H}))},[v,d]),O=p.useCallback(H=>{v(I0(H)),v(Un({handler:h,reactEvent:H}))},[v,h]),z=p.useCallback(()=>{v(mR())},[v]),V=p.useCallback(H=>{v(fR(H.key))},[v]),Y=p.useCallback(H=>{v(Un({handler:o,reactEvent:H}))},[v,o]),R=p.useCallback(H=>{v(Un({handler:l,reactEvent:H}))},[v,l]),W=p.useCallback(H=>{v(Un({handler:c,reactEvent:H}))},[v,c]),_=p.useCallback(H=>{v(Un({handler:f,reactEvent:H}))},[v,f]),T=p.useCallback(H=>{v(Un({handler:g,reactEvent:H}))},[v,g]),re=p.useCallback(H=>{v(xR(H)),v(Un({handler:j,reactEvent:H}))},[v,j]),M=p.useCallback(H=>{v(Un({handler:m,reactEvent:H}))},[v,m]);return p.createElement(c4.Provider,{value:w},p.createElement(vT.Provider,{value:N},p.createElement("div",{className:Xe("recharts-wrapper",n),style:oie({position:"relative",cursor:"default",width:y,height:a},x),onClick:A,onContextMenu:Y,onDoubleClick:R,onFocus:z,onKeyDown:V,onMouseDown:W,onMouseEnter:S,onMouseLeave:I,onMouseMove:O,onMouseUp:_,onTouchEnd:M,onTouchMove:re,onTouchStart:T,ref:C},r)))}),hie=["children","className","width","height","style","compact","title","desc"];function fie(e,t){if(e==null)return{};var r,n,a=mie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wR=p.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:o,compact:l,title:c,desc:u}=e,d=fie(e,hie),h=os(d);return l?p.createElement(FP,{otherAttributes:h,title:c,desc:u},r):p.createElement(uie,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(FP,{otherAttributes:h,title:c,desc:u,ref:t},p.createElement(mne,null,r)))}),pie=["width","height"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(null,arguments)}function xie(e,t){if(e==null)return{};var r,n,a=gie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vie={top:5,right:5,bottom:5,left:5},yie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vie,reverseStackOrder:!1,syncMethod:"index"},Hx=p.forwardRef(function(t,r){var n,a=ur(t.categoricalChartProps,yie),{width:i,height:o}=a,l=xie(a,pie);if(!Sc(i)||!Sc(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:f}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(vR,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:c},p.createElement(U4,{chartData:f.data}),p.createElement(yR,{width:i,height:o,layout:a.layout,margin:a.margin}),p.createElement(jR,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(wR,R0({},l,{width:i,height:o,ref:r})))}),jie=["axis"],Vx=p.forwardRef((e,t)=>p.createElement(Hx,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jie,tooltipPayloadSearcher:uh,categoricalChartProps:e,ref:t})),wie=["axis","item"],Js=p.forwardRef((e,t)=>p.createElement(Hx,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wie,tooltipPayloadSearcher:uh,categoricalChartProps:e,ref:t}));function bie(e){var t=Lt();return p.useEffect(()=>{t(Yae(e))},[t,e]),null}var Nie=["width","height","layout"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function Sie(e,t){if(e==null)return{};var r,n,a=kie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cie={top:5,right:5,bottom:5,left:5},Pie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cie,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},_ie=p.forwardRef(function(t,r){var n,a=ur(t.categoricalChartProps,Pie),{width:i,height:o,layout:l}=a,c=Sie(a,Nie);if(!Sc(i)||!Sc(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(vR,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},p.createElement(U4,{chartData:a.data}),p.createElement(yR,{width:i,height:o,layout:l,margin:a.margin}),p.createElement(jR,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(bie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(wR,$0({width:i,height:o},c,{ref:r})))}),Eie=["item"],Aie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},kN=p.forwardRef((e,t)=>{var r=ur(e,Aie);return p.createElement(_ie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Eie,tooltipPayloadSearcher:uh,categoricalChartProps:r,ref:t})}),Oie=["axis"],Tie=p.forwardRef((e,t)=>p.createElement(Hx,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oie,tooltipPayloadSearcher:uh,categoricalChartProps:e,ref:t})),Die=["axis"],Mie=p.forwardRef((e,t)=>p.createElement(Hx,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Die,tooltipPayloadSearcher:uh,categoricalChartProps:e,ref:t}));const zP=["#0088FE","#00C49F","#FFBB28","#FF8042"];function Iie({sales:e}){const[t,r]=p.useState("daily"),a=(()=>{const g=new Date,x=new Date(g.getFullYear(),g.getMonth(),g.getDate());switch(t){case"daily":return e.filter(w=>{const b=new Date;return b.setHours(0,0,0,0),b.getTime()===x.getTime()});case"weekly":const y=new Date(x);return y.setDate(x.getDate()-x.getDay()),e.filter(w=>new Date>=y);case"monthly":const v=new Date(x.getFullYear(),x.getMonth(),1);return e.filter(w=>new Date>=v);default:return e}})(),i=a.reduce((g,x)=>g+x.total,0),o=a.length>0?i/a.length:0,l=a.reduce((g,x)=>(g[x.paymentMethod]=(g[x.paymentMethod]||0)+1,g),{}),c=Object.entries(l).map(([g,x])=>({name:g.charAt(0).toUpperCase()+g.slice(1),value:x,percentage:a.length>0?Math.round(x/a.length*100):0})),u=a.reduce((g,x)=>(x.items.forEach(y=>{const v=`${y.name}`;g[v]||(g[v]={name:v,quantity:0,revenue:0}),g[v].quantity+=y.quantity,g[v].revenue+=y.price*y.quantity}),g),{}),d=Object.values(u).sort((g,x)=>x.revenue-g.revenue).slice(0,5),f=(()=>{if(t==="daily"){const g=a.reduce((x,y)=>{const w=`${new Date(`2024-01-01 ${y.time}`).getHours()}:00`;return x[w]=(x[w]||0)+y.total,x},{});return Object.entries(g).map(([x,y])=>({period:x,amount:y})).sort((x,y)=>parseInt(x.period)-parseInt(y.period))}else if(t==="weekly"){const g=a.reduce((x,y)=>{const v=new Date().toLocaleDateString("en-US",{weekday:"short"});return x[v]=(x[v]||0)+y.total,x},{});return Object.entries(g).map(([x,y])=>({period:x,amount:y}))}else{const g=a.reduce((x,y)=>{const w=`Week ${Math.ceil(new Date().getDate()/7)}`;return x[w]=(x[w]||0)+y.total,x},{});return Object.entries(g).map(([x,y])=>({period:x,amount:y}))}})(),m=()=>{switch(t){case"daily":return"Hourly Sales";case"weekly":return"Daily Sales";case"monthly":return"Weekly Sales";default:return"Sales"}},j=g=>{switch(g.toLowerCase()){case"cash":return s.jsx(CF,{className:"h-4 w-4"});case"card":return s.jsx(Cr,{className:"h-4 w-4"});case"mobile":return s.jsx(SE,{className:"h-4 w-4"});default:return s.jsx(gt,{className:"h-4 w-4"})}};return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qn,{className:"h-5 w-5 text-blue-600"}),s.jsx(D,{className:"text-sm font-medium",children:"Report Period:"}),s.jsxs(je,{value:t,onValueChange:r,children:[s.jsx(be,{className:"w-32",children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"daily",children:"Daily"}),s.jsx(F,{value:"weekly",children:"Weekly"}),s.jsx(F,{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t," data (",a.length," sales)"]})]})})}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sales"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",i]})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.length})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Sale"}),s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",o.toFixed(0)]})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Time"}),s.jsx("div",{className:"text-lg font-bold text-orange-600",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:m()})}),s.jsx(L,{children:f.length>0?s.jsx(En,{width:"100%",height:300,children:s.jsxs(Js,{data:f,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"period"}),s.jsx(gr,{}),s.jsx(dn,{formatter:g=>[`${g}`,"Sales"]}),s.jsx(xr,{dataKey:"amount",fill:"#8884d8"})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No sales data available for this period"})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Payment Methods"})}),s.jsx(L,{children:c.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx(En,{width:"100%",height:200,children:s.jsxs(kN,{children:[s.jsx(Wx,{data:c,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:g,percentage:x})=>`${g} ${x}%`,children:c.map((g,x)=>s.jsx(ed,{fill:zP[x%zP.length]},`cell-${x}`))}),s.jsx(dn,{})]})}),s.jsx("div",{className:"space-y-2",children:c.map((g,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[j(g.name),s.jsx("span",{children:g.name})]}),s.jsxs(se,{variant:"secondary",children:[g.value," orders (",g.percentage,"%)"]})]},g.name))})]}):s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Top Selling Products"})}),s.jsx(L,{children:d.length>0?s.jsx("div",{className:"space-y-4",children:d.map((g,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:x+1})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.quantity," units sold"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold text-green-600",children:["$",g.revenue]}),s.jsx(xw,{value:g.revenue/d[0].revenue*100,className:"w-24 h-2 mt-1"})]})]},g.name))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No product sales data available"})})]})]})}function bR({...e}){return s.jsx(dw,{"data-slot":"sheet",...e})}function Rie({...e}){return s.jsx(uw,{"data-slot":"sheet-portal",...e})}const NR=p.forwardRef(({className:e,...t},r)=>s.jsx(Hu,{ref:r,"data-slot":"sheet-overlay",className:pe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));NR.displayName=Hu.displayName;function SR({className:e,children:t,side:r="right",...n}){return s.jsxs(Rie,{children:[s.jsx(NR,{}),s.jsxs(Hp,{"data-slot":"sheet-content",className:pe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,s.jsxs(Vp,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(CE,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function $ie({user:e,accessToken:t,onLogout:r,selectedFeatures:n=[]}){const[a,i]=p.useState("pos"),[o,l]=p.useState([]),[c,u]=p.useState(!1),[d,h]=p.useState(window.innerWidth>=768);p.useEffect(()=>{const x=()=>{h(window.innerWidth>=768)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const f=x=>{l([x,...o])},m=x=>{const y=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Receipt ${x.id}</title>
        <style>
          @media print {
            @page { margin: 0; }
            body { margin: 1cm; }
          }
          body {
            font-family: 'Courier New', monospace;
            width: 80mm;
            margin: 0 auto;
            padding: 10px;
            font-size: 12px;
          }
          .receipt-header {
            text-align: center;
            border-bottom: 2px dashed #000;
            padding-bottom: 10px;
            margin-bottom: 10px;
          }
          .shop-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
          }
          .receipt-info {
            font-size: 11px;
            line-height: 1.4;
          }
          .items {
            border-bottom: 2px dashed #000;
            padding: 10px 0;
            margin-bottom: 10px;
          }
          .item {
            margin-bottom: 8px;
          }
          .item-name {
            font-weight: bold;
          }
          .item-details {
            margin-left: 10px;
          }
          .totals {
            border-bottom: 2px dashed #000;
            padding-bottom: 10px;
            margin-bottom: 10px;
          }
          .total-line {
            display: flex;
            justify-content: space-between;
            margin: 3px 0;
          }
          .grand-total {
            font-size: 14px;
            font-weight: bold;
          }
          .footer {
            text-align: center;
            font-size: 11px;
            line-height: 1.6;
          }
          .watermark {
            text-align: center;
            margin-top: 15px;
            font-size: 10px;
            color: #666;
            border-top: 1px solid #ccc;
            padding-top: 8px;
          }
          .watermark-brand {
            font-weight: bold;
            color: #000;
          }
        </style>
      </head>
      <body>
        <div class="receipt-header">
          <div class="shop-name">${e.shopName}</div>
          <div class="receipt-info">
            Receipt #: ${x.id}<br/>
            Date: ${new Date().toLocaleDateString()}<br/>
            Time: ${x.time}<br/>
            Cashier: ${e.name}
          </div>
        </div>

        <div class="items">
          ${x.items.map(w=>`
            <div class="item">
              <div class="item-name">${w.name}</div>
              <div class="item-details">
                ${w.quantity} x GHS ${w.price.toFixed(2)} = GHS ${(w.quantity*w.price).toFixed(2)}
              </div>
            </div>
          `).join("")}
        </div>

        ${x.customer?`
          <div style="margin-bottom: 10px; font-size: 11px;">
            <strong>Customer:</strong><br/>
            ${x.customer.name}<br/>
            ${x.customer.phone?`Phone: ${x.customer.phone}<br/>`:""}
            ${x.customer.address?`Address: ${x.customer.address}<br/>`:""}
          </div>
        `:""}

        <div class="totals">
          <div class="total-line grand-total">
            <span>TOTAL:</span>
            <span>GHS ${x.total.toFixed(2)}</span>
          </div>
          <div class="total-line">
            <span>Payment Method:</span>
            <span>${x.paymentMethod.toUpperCase()}</span>
          </div>
        </div>

        <div class="footer">
          Thank you for your business!<br/>
          Please come again
        </div>

        <div class="watermark">
          Powered by <span class="watermark-brand">Rekon360</span><br/>
          www.rekon360.com
        </div>
      </body>
      </html>
    `,v=window.open("","","width=300,height=600");v&&(v.document.write(y),v.document.close(),v.focus(),setTimeout(()=>{v.print(),v.close()},250))},j=o.reduce((x,y)=>x+y.total,0),g=()=>{switch(a){case"pos":return s.jsx(qS,{onSaleComplete:f,onPrintReceipt:m});case"inventory":return s.jsx(LK,{});case"sales":return s.jsx(FK,{sales:o,onPrintReceipt:m});case"customers":return s.jsx(BK,{sales:o});case"reports":return s.jsx(Iie,{sales:o});default:return s.jsx(qS,{onSaleComplete:f,onPrintReceipt:m})}};return s.jsxs("div",{className:"flex h-screen bg-background",children:[d&&s.jsx("div",{className:"w-64 flex-shrink-0",children:s.jsx(KS,{activeSection:a,setActiveSection:i,user:e,onLogout:r,todayTotal:j,todaySalesCount:o.length,selectedFeatures:n})}),s.jsx(bR,{open:c,onOpenChange:u,children:s.jsx(SR,{side:"left",className:"p-0 w-64","aria-describedby":void 0,children:s.jsx(KS,{activeSection:a,setActiveSection:i,user:e,onLogout:r,todayTotal:j,todaySalesCount:o.length,onNavigate:()=>u(!1),selectedFeatures:n})})}),s.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[!d&&s.jsx("div",{className:"p-4 border-b border-border bg-card",children:s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>u(!0),className:"gap-2",children:[s.jsx(NE,{className:"h-5 w-5"}),s.jsx("span",{children:"Menu"})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:g()})]})]})}var qx="Popover",[kR,Zue]=ss(qx,[Dp]),mh=Dp(),[Lie,so]=kR(qx),CR=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=mh(t),c=p.useRef(null),[u,d]=p.useState(!1),[h,f]=Fi({prop:n,defaultProp:a??!1,onChange:i,caller:qx});return s.jsx(EA,{...l,children:s.jsx(Lie,{scope:t,contentId:Pa(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:r})})};CR.displayName=qx;var PR="PopoverAnchor",Fie=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=so(PR,r),i=mh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Qj,{...i,...n,ref:t})});Fie.displayName=PR;var _R="PopoverTrigger",ER=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=so(_R,r),i=mh(r),o=Ge(t,a.triggerRef),l=s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":MR(a.open),...n,ref:o,onClick:De(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Qj,{asChild:!0,...i,children:l})});ER.displayName=_R;var CN="PopoverPortal",[Bie,zie]=kR(CN,{forceMount:void 0}),AR=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=so(CN,t);return s.jsx(Bie,{scope:t,forceMount:r,children:s.jsx(as,{present:r||i.open,children:s.jsx(Mp,{asChild:!0,container:a,children:n})})})};AR.displayName=CN;var Ac="PopoverContent",OR=p.forwardRef((e,t)=>{const r=zie(Ac,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=so(Ac,e.__scopePopover);return s.jsx(as,{present:n||i.open,children:i.modal?s.jsx(Uie,{...a,ref:t}):s.jsx(Kie,{...a,ref:t})})});OR.displayName=Ac;var Wie=Go("PopoverContent.RemoveScroll"),Uie=p.forwardRef((e,t)=>{const r=so(Ac,e.__scopePopover),n=p.useRef(null),a=Ge(t,n),i=p.useRef(!1);return p.useEffect(()=>{const o=n.current;if(o)return ew(o)},[]),s.jsx(tw,{as:Wie,allowPinchZoom:!0,children:s.jsx(TR,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:De(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Kie=p.forwardRef((e,t)=>{const r=so(Ac,e.__scopePopover),n=p.useRef(!1),a=p.useRef(!1);return s.jsx(TR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),TR=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=so(Ac,r),m=mh(r);return Wj(),s.jsx(_p,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Pp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(AA,{"data-state":MR(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DR="PopoverClose",Hie=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=so(DR,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:De(e.onClick,()=>a.onOpenChange(!1))})});Hie.displayName=DR;var Vie="PopoverArrow",qie=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mh(r);return s.jsx(OA,{...a,...n,ref:t})});qie.displayName=Vie;function MR(e){return e?"open":"closed"}var Yie=CR,Gie=ER,Xie=AR,Jie=OR;function Of({...e}){return s.jsx(Yie,{"data-slot":"popover",...e})}function Tf({...e}){return s.jsx(Gie,{"data-slot":"popover-trigger",...e})}function Df({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(Xie,{children:s.jsx(Jie,{"data-slot":"popover-content",align:t,sideOffset:r,className:pe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function Qie(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var PN="ScrollArea",[IR,ehe]=ss(PN),[Zie,cs]=IR(PN),RR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,j]=p.useState(null),[g,x]=p.useState(null),[y,v]=p.useState(0),[w,b]=p.useState(0),[N,k]=p.useState(!1),[P,C]=p.useState(!1),A=Ge(t,I=>c(I)),S=Np(a);return s.jsx(Zie,{scope:r,type:n,dir:S,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:j,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:P,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:b,children:s.jsx(Me.div,{dir:S,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});RR.displayName=PN;var $R="ScrollAreaViewport",LR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=cs($R,r),l=p.useRef(null),c=Ge(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});LR.displayName=$R;var la="ScrollAreaScrollbar",FR=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=cs(la,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(eoe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(toe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(BR,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(_N,{...n,ref:t}):null});FR.displayName=la;var eoe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=cs(la,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(as,{present:r||i,children:s.jsx(BR,{"data-state":i?"visible":"hidden",...n,ref:t})})}),toe=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=cs(la,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Gx(()=>c("SCROLL_END"),100),[l,c]=Qie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(as,{present:r||l!=="hidden",children:s.jsx(_N,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:De(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:De(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),BR=p.forwardRef((e,t)=>{const r=cs(la,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",c=Gx(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Oc(r.viewport,c),Oc(r.content,c),s.jsx(as,{present:n||i,children:s.jsx(_N,{"data-state":i?"visible":"hidden",...a,ref:t})})}),_N=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=cs(la,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=HR(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return ooe(f,o.current,l,m)}return r==="horizontal"?s.jsx(roe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,m=WP(f,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?s.jsx(noe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,m=WP(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),roe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=cs(la,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Ge(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(WR,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Yx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),qR(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:np(o.paddingLeft),paddingEnd:np(o.paddingRight)}})}})}),noe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=cs(la,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=Ge(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(WR,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Yx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),qR(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:np(o.paddingTop),paddingEnd:np(o.paddingBottom)}})}})}),[soe,zR]=IR(la),WR=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=cs(la,r),[j,g]=p.useState(null),x=Ge(t,A=>g(A)),y=p.useRef(null),v=p.useRef(""),w=m.viewport,b=n.content-n.viewport,N=qr(d),k=qr(c),P=Gx(h,10);function C(A){if(y.current){const S=A.clientX-y.current.left,I=A.clientY-y.current.top;u({x:S,y:I})}}return p.useEffect(()=>{const A=S=>{const I=S.target;j?.contains(I)&&N(S,b)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,j,b,N]),p.useEffect(k,[n,k]),Oc(j,P),Oc(m.content,P),s.jsx(soe,{scope:r,scrollbar:j,hasThumb:a,onThumbChange:qr(i),onThumbPointerUp:qr(o),onThumbPositionChange:k,onThumbPointerDown:qr(l),children:s.jsx(Me.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:De(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),y.current=j.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:De(e.onPointerMove,C),onPointerUp:De(e.onPointerUp,A=>{const S=A.target;S.hasPointerCapture(A.pointerId)&&S.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),rp="ScrollAreaThumb",UR=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=zR(rp,e.__scopeScrollArea);return s.jsx(as,{present:r||a.hasThumb,children:s.jsx(aoe,{ref:t,...n})})}),aoe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=cs(rp,r),o=zR(rp,r),{onThumbPositionChange:l}=o,c=Ge(t,h=>o.onThumbChange(h)),u=p.useRef(void 0),d=Gx(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=loe(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),s.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:De(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),j=h.clientX-m.left,g=h.clientY-m.top;o.onThumbPointerDown({x:j,y:g})}),onPointerUp:De(e.onPointerUp,o.onThumbPointerUp)})});UR.displayName=rp;var EN="ScrollAreaCorner",KR=p.forwardRef((e,t)=>{const r=cs(EN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(ioe,{...e,ref:t}):null});KR.displayName=EN;var ioe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=cs(EN,r),[i,o]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return Oc(a.scrollbarX,()=>{const d=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(d),c(d)}),Oc(a.scrollbarY,()=>{const d=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function np(e){return e?parseInt(e,10):0}function HR(e,t){const r=e/t;return isNaN(r)?0:r}function Yx(e){const t=HR(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function ooe(e,t,r,n="ltr"){const a=Yx(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return VR([c,u],h)(e)}function WP(e,t,r="ltr"){const n=Yx(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=by(e,c);return VR([0,o],[0,l])(u)}function VR(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function qR(e,t){return e>0&&e<t}var loe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Gx(e,t){const r=qr(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Oc(e,t){const r=qr(t);Or(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var coe=RR,doe=LR,uoe=KR;function hoe({className:e,children:t,...r}){return s.jsxs(coe,{"data-slot":"scroll-area",className:pe("relative",e),...r,children:[s.jsx(doe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),s.jsx(foe,{}),s.jsx(uoe,{})]})}function foe({className:e,orientation:t="vertical",...r}){return s.jsx(FR,{"data-slot":"scroll-area-scrollbar",orientation:t,className:pe("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:s.jsx(UR,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function moe(){const[e,t]=p.useState([]),[r,n]=p.useState(0),[a,i]=p.useState(new Date().toISOString());p.useEffect(()=>{},[a]);const o=c=>{c&&(n(0),i(new Date().toISOString()))},l=c=>{const u=new Date(c),h=new Date().getTime()-u.getTime(),f=Math.floor(h/6e4);if(f<1)return"Just now";if(f<60)return`${f}m ago`;const m=Math.floor(f/60);return m<24?`${m}h ago`:u.toLocaleDateString()};return s.jsxs(Of,{onOpenChange:o,children:[s.jsx(Tf,{asChild:!0,children:s.jsxs(B,{variant:"outline",size:"icon",className:"relative",children:[s.jsx(jp,{className:"h-4 w-4"}),r>0&&s.jsx(se,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r>9?"9+":r})]})}),s.jsxs(Df,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsx("h3",{className:"font-semibold",children:"Recent Sales"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Real-time notifications from all shops"})]}),s.jsx(hoe,{className:"h-[300px]",children:e.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No new notifications"}):s.jsx("div",{className:"divide-y",children:e.map(c=>s.jsxs("div",{className:"p-4 hover:bg-accent cursor-pointer",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:c.shopName}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l(c.timestamp)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.message})]},c.id))})})]})]})}const yv=[{id:"dashboard",label:"Dashboard",icon:Lu,show:!0,feature:"dashboard"},{id:"products",label:"Products",icon:Qn,show:!1,feature:"products"},{id:"orders",label:"Orders",icon:Ws,show:!1,feature:"orders"},{id:"workers",label:"Workers",icon:mu,show:!1,feature:"workers"},{id:"reports",label:"Reports",icon:Ia,show:!1,feature:"reports"},{id:"settings",label:"Settings",icon:Jr,show:!1,feature:"settings"},{id:"customers",label:"Customers",icon:Nt,show:!1,feature:"customers",addon:!0},{id:"workers-management",label:"Workers Management",icon:mu,show:!1,feature:"workers-management",addon:!0},{id:"payroll",label:"Payroll",icon:gt,show:!1,feature:"payroll",addon:!0},{id:"suppliers",label:"Suppliers",icon:_F,show:!1,feature:"suppliers",addon:!0},{id:"location-management",label:"Location Management",icon:Gn,show:!1,feature:"location-management",addon:!0},{id:"credit-management",label:"Credit Management",icon:Cr,show:!1,feature:"credit-management",addon:!0},{id:"api-access",label:"API Access",icon:Fu,show:!1,feature:"api-access",addon:!0},{id:"white-label",label:"White Label",icon:ja,show:!1,feature:"white-label",addon:!0},{id:"priority-support",label:"Priority Support",icon:Ys,show:!1,feature:"priority-support",addon:!0},{id:"custom-features",label:"Custom Features",icon:Li,show:!1,feature:"custom-features",addon:!0},{id:"enterprise-analytics",label:"Enterprise Analytics",icon:Vt,show:!1,feature:"enterprise-analytics",addon:!0}];function UP({activeSection:e,setActiveSection:t,user:r,onLogout:n,onNavigate:a,businessConfig:i}){const[o,l]=p.useState("Loading..."),[c,u]=p.useState([]),[d,h]=p.useState("basic"),f=async x=>{try{const y=tt(),{data:{user:v}}=await y.auth.getUser();if(v?.user_metadata?.business_id){const{error:w}=await y.from("businesses").update({features:x}).eq("id",v.user_metadata.business_id);w?console.error(" Failed to update business features:",w):console.log(" Business features updated in database:",x)}}catch(y){console.error(" Error updating business features:",y)}};p.useEffect(()=>{(async()=>{try{const y=tt(),{data:{user:v}}=await y.auth.getUser();if(console.log("Current user:",v),console.log("Business ID from metadata:",v?.user_metadata?.business_id),v?.user_metadata?.business_id){const{data:w,error:b}=await y.from("businesses").select("business_name, features, plan").eq("id",v.user_metadata.business_id).single();if(console.log("Business data:",w),console.log("Business error:",b),!b&&w)if(l(w.business_name||"My Business"),h(w.plan||"basic"),console.log(" Business features loaded from DB:",w.features),console.log(" Business plan:",w.plan),!w.features||w.features.length===0)console.log(" No features found in database, setting default basic plan features"),u(["dashboard","products","orders","workers","reports","settings"]);else{console.log(" Using database features:",w.features),console.log(" Business plan:",w.plan),u(w.features);const N=["dashboard","products","orders","workers","reports","settings"],k=N.filter(P=>!w.features.includes(P));if(k.length>0){console.log(" Missing core features in database, updating...",k);const P=[...new Set([...N,...w.features])];f(P),u(P)}}else console.log(" Error loading business data, using fallback features"),l("My Business"),u(["dashboard","products","orders","workers","reports","settings"]),h("basic")}else l("My Business"),u(["dashboard","products","orders","workers","reports","settings"]),h("basic")}catch(y){console.error("Error loading business data:",y),l("My Business"),u(["dashboard","products","orders","workers","reports","settings"]),h("basic")}})()},[r]),p.useEffect(()=>{i?.businessName&&l(i.businessName)},[i]),p.useEffect(()=>{const y=setInterval(async()=>{try{const v=tt(),{data:{user:w}}=await v.auth.getUser();w&&r&&JSON.stringify(w.user_metadata)!==JSON.stringify(r.user_metadata)&&console.log(" User metadata updated, features may have changed")}catch(v){console.error("Error refreshing user session:",v)}},3e4);return()=>clearInterval(y)},[r]);const j=(()=>{const x=r?.user_metadata?.role||"admin";if(console.log(" Business features:",c),console.log(" Business plan:",d),console.log(" User role:",x),console.log(" Available menu items:",yv.map(b=>`${b.label} (${b.feature||"core"})`)),c.length===0)return console.log(" No business features loaded yet, showing basic plan features"),yv.filter(b=>["dashboard","products","orders","workers","reports","settings"].includes(b.feature));const y=yv.map(b=>{const N=c.includes(b.feature);return console.log(` Checking ${b.label}: feature=${b.feature}, hasFeature=${N}, businessFeatures=${JSON.stringify(c)}`),{...b,show:N}}).filter(b=>b.show);console.log(" Final filtered items:",y.map(b=>b.label));const v=y.find(b=>b.id==="settings");return[...y.filter(b=>b.id!=="settings"),...v?[v]:[]]})(),g=x=>{t(x),a?.()};return s.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-primary rounded-lg",children:s.jsx(gc,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"font-semibold text-foreground",children:o}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Admin Dashboard"})]})]}),s.jsx(moe,{})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("ul",{className:"space-y-2",children:j.map(x=>{const y=x.icon;return s.jsx("li",{children:s.jsxs("button",{onClick:()=>g(x.id),className:pe("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left",e===x.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[s.jsx(y,{className:"h-5 w-5"}),x.label]})},x.id)})})}),s.jsxs("div",{className:"p-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:r?.name?.slice(0,2).toUpperCase()||"AD"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:r?.name||"Administrator"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r?.role||"Admin"})]})]}),n&&s.jsxs(B,{onClick:n,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Rj,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}function poe({onOpenSettings:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,o]=p.useState(!0),[l,c]=p.useState(null);p.useEffect(()=>{u(),d(),h()},[]);const u=async()=>{try{const j=new Date().toISOString().split("T")[0],g=await _f.getDailySales(j);r(g)}catch(j){console.error("Error loading today's sales:",j),r({date:new Date().toISOString().split("T")[0],totalSales:0,totalTransactions:0,averageTransaction:0,sales:[]})}},d=async()=>{try{const j=await _f.getAllReports();j.length>0&&a(j[0])}catch(j){console.error("Error loading latest report:",j),a({date:new Date().toISOString().split("T")[0],generated:new Date().toISOString(),status:"No reports available",totalSales:0})}},h=async()=>{try{c({managerEmail:"manager@business.com",managerPhone:"+1234567890",reportTime:"18:00",autoReportEnabled:!0})}catch(j){console.error("Error loading shop settings:",j)}finally{o(!1)}},f=async()=>{try{o(!0);const j=new Date().toISOString().split("T")[0],g=await _f.generateAutoReport(j);await d()}catch(j){console.error("Error triggering daily report:",j)}finally{o(!1)}},m=()=>l?l.autoReportEnabled?s.jsxs(se,{variant:"default",className:"bg-green-500",children:[s.jsx(Ae,{className:"h-3 w-3 mr-1"}),"Active"]}):s.jsxs(se,{variant:"secondary",children:[s.jsx(Wr,{className:"h-3 w-3 mr-1"}),"Disabled"]}):s.jsx(se,{variant:"secondary",children:"Loading..."});return i?s.jsx($,{children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),s.jsx("span",{className:"ml-2",children:"Loading reporting status..."})]})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(K,{className:"flex items-center gap-2 text-lg",children:[s.jsx(jp,{className:"h-5 w-5"}),"Automatic Reporting"]}),m()]}),s.jsx(Oe,{children:"Daily sales reports for Uncle's review"})]}),s.jsxs(L,{className:"space-y-4",children:[l&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:l.managerEmail})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Report Time:"}),s.jsx("br",{}),s.jsxs("span",{className:"font-medium",children:[l.reportTime||"18:00"," daily"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:f,disabled:i,size:"sm",children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Generate Report Now"]}),e&&s.jsxs(B,{variant:"outline",onClick:e,size:"sm",children:[s.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})]}),t&&s.jsxs($,{children:[s.jsxs(U,{className:"pb-3",children:[s.jsx(K,{className:"text-lg",children:"Today's Sales"}),s.jsxs(Oe,{children:["Real-time sales data for ",new Date().toLocaleDateString()]})]}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.totalAmount||0]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sales"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.totalTransactions||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Transactions"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",t.totalTransactions>0?((t.totalAmount||0)/t.totalTransactions).toFixed(2):"0.00"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Sale"})]})]})})]}),n&&s.jsxs(kp,{children:[s.jsx(Ai,{className:"h-4 w-4"}),s.jsxs(Cp,{children:[s.jsx("strong",{children:"Last Report:"})," ",n.date," - $",n.summary?.totalAmount||0," from ",n.summary?.totalTransactions||0," transactions",s.jsx("br",{}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Generated on ",new Date(n.generatedAt).toLocaleString()]})]})]})]})}class xoe extends G.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Dashboard Error:",t,r)}render(){return this.state.hasError?s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-2",children:"Dashboard Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Something went wrong loading the dashboard. Please refresh the page."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Refresh Page"}),this.state.error&&s.jsx("pre",{className:"mt-4 text-xs text-red-500 text-left whitespace-pre-wrap break-all",children:this.state.error.message})]})}):this.props.children}}function KP(){const[e,t]=p.useState(!0),[r,n]=p.useState("Loading..."),[a,i]=p.useState(null),[o,l]=p.useState("daily"),[c,u]=p.useState(null);p.useEffect(()=>{d(),h(),f()},[]);const d=async()=>{try{const x=tt(),{data:{user:y}}=await x.auth.getUser();if(y?.user_metadata?.business_id){const{data:v,error:w}=await x.from("businesses").select("business_name").eq("id",y.user_metadata.business_id).single();n(!w&&v&&v.business_name||"My Business")}else n("My Business")}catch(x){console.error("Error loading business name:",x),n("My Business")}};p.useEffect(()=>{f()},[o]);const h=async()=>{try{console.log(" Loading dashboard data..."),t(!0);const x=await er.getDashboardSummary();console.log(" Dashboard response:",x),x.success?(i(x.summary),console.log(" Dashboard data loaded successfully")):q.error("Failed to load dashboard data")}catch(x){console.error(" Error loading dashboard data:",x),q.error("Error loading dashboard data")}finally{t(!1)}},f=async()=>{try{console.log(` Loading profit analysis for period: ${o}...`);const x=await er.getProfitAnalysis(o);console.log(" Profit analysis response:",x),x.success?(u(x.analysis),console.log(" Profit analysis loaded successfully")):console.error(" Failed to load profit analysis:",x.error)}catch(x){console.error(" Error loading profit analysis:",x)}};if(e)return s.jsx("div",{className:"p-4 compact-spacing h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading dashboard..."})]})});if(!a)return s.jsx("div",{className:"p-4 compact-spacing h-full overflow-auto",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Dashboard Loading"}),s.jsx("p",{className:"text-muted-foreground",children:"No data available or still loading..."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})]})});const m=x=>`$${x.toFixed(2)}`,j=x=>`${x>=0?"+":""}${x.toFixed(1)}%`,g=a.weeklyData?.map(x=>({date:new Date(x.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),sales:x.amount,transactions:x.transactions}))||[];return s.jsx(xoe,{children:s.jsxs("div",{className:"p-4 compact-spacing h-full overflow-auto",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl",children:[r," Dashboard"]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Business management system"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Today's Revenue"}),s.jsx(gt,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsxs(L,{className:"compact-card-content",children:[s.jsx("div",{className:"text-lg font-semibold",children:m(a.today.sales)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("span",{className:a.growth.sales>=0?"text-green-600":"text-red-600",children:j(a.growth.sales)})," from yesterday"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Today's Transactions"}),s.jsx(Ws,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsxs(L,{className:"compact-card-content",children:[s.jsx("div",{className:"text-lg font-semibold",children:a.today.transactions}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("span",{className:a.growth.transactions>=0?"text-green-600":"text-red-600",children:j(a.growth.transactions)})," from yesterday"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Products"}),s.jsx(Qn,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsxs(L,{className:"compact-card-content",children:[s.jsx("div",{className:"text-lg font-semibold",children:a.counts.products}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total products in inventory"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Customers"}),s.jsx(Nt,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsxs(L,{className:"compact-card-content",children:[s.jsx("div",{className:"text-lg font-semibold",children:a.counts.customers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered customers"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-sm",children:"Weekly Sales Trend"})}),s.jsx(L,{className:"compact-card-content",children:s.jsx(En,{width:"100%",height:200,children:s.jsxs(Vx,{data:g,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"date",fontSize:12}),s.jsx(gr,{fontSize:12}),s.jsx(dn,{}),s.jsx(Hi,{type:"monotone",dataKey:"sales",stroke:"#8884d8",strokeWidth:2})]})})})]}),s.jsxs($,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-sm",children:"Company Performance"})}),s.jsx(L,{className:"compact-card-content",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Workers"}),s.jsx(se,{variant:"outline",children:a.counts.workers})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Inventory Value"}),s.jsx("span",{className:"text-sm font-medium",children:m(a.inventory?.value||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Low Stock Items"}),s.jsx(se,{variant:a.counts.lowStockProducts>0?"destructive":"outline",children:a.counts.lowStockProducts||0})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Pending Corrections"}),s.jsx(se,{variant:a.counts.pendingCorrections>0?"destructive":"outline",children:a.counts.pendingCorrections})]})]})})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between",children:[s.jsx(K,{className:"text-sm",children:"Profit Margins by Product"}),s.jsxs(je,{value:o,onValueChange:x=>l(x),children:[s.jsx(be,{className:"w-32 h-8 text-xs",children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"daily",children:"Daily"}),s.jsx(F,{value:"weekly",children:"Weekly"}),s.jsx(F,{value:"monthly",children:"Monthly"})]})]})]}),s.jsx(L,{className:"compact-card-content",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 p-3 bg-muted rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Revenue"}),s.jsx("div",{className:"text-sm font-semibold text-blue-600",children:m(c.overall.revenue)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Profit"}),s.jsx("div",{className:"text-sm font-semibold text-green-600",children:m(c.overall.profit)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Margin"}),s.jsxs("div",{className:"text-sm font-semibold",children:[c.overall.margin.toFixed(1),"%"]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[c.productProfits.slice(0,5).map((x,y)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:x.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Sold: ",x.quantity," | Revenue: ",m(x.revenue)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(se,{variant:x.margin>30?"default":x.margin>15?"secondary":"outline",children:[x.margin.toFixed(1),"%"]}),x.margin>0?s.jsx(Vt,{className:"h-4 w-4 text-green-600"}):s.jsx(Lj,{className:"h-4 w-4 text-red-600"})]})]},y)),c.productProfits.length===0&&s.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"No sales data for this period"})]})]}):s.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"Loading profit analysis..."})})]}),s.jsx(poe,{})]})})}var Xx="Switch",[goe,the]=ss(Xx),[voe,yoe]=goe(Xx),YR=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=p.useState(null),j=Ge(t,w=>m(w)),g=p.useRef(!1),x=f?d||!!f.closest("form"):!0,[y,v]=Fi({prop:a,defaultProp:i??!1,onChange:u,caller:Xx});return s.jsxs(voe,{scope:r,checked:y,disabled:l,children:[s.jsx(Me.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":QR(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:j,onClick:De(e.onClick,w=>{v(b=>!b),x&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),x&&s.jsx(JR,{control:f,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});YR.displayName=Xx;var GR="SwitchThumb",XR=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=yoe(GR,r);return s.jsx(Me.span,{"data-state":QR(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});XR.displayName=GR;var joe="SwitchBubbleInput",JR=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=p.useRef(null),l=Ge(o,i),c=Zj(r),u=Gj(t);return p.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&m){const j=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(j)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});JR.displayName=joe;function QR(e){return e?"checked":"unchecked"}var woe=YR,boe=XR;function Ct({className:e,...t}){return s.jsx(woe,{"data-slot":"switch",className:pe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(boe,{"data-slot":"switch-thumb",className:pe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var ZR="AlertDialog",[Noe,rhe]=ss(ZR,[WO]),Qa=WO(),e$=e=>{const{__scopeAlertDialog:t,...r}=e,n=Qa(t);return s.jsx(dw,{...n,...r,modal:!0})};e$.displayName=ZR;var Soe="AlertDialogTrigger",t$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Qa(r);return s.jsx(sT,{...a,...n,ref:t})});t$.displayName=Soe;var koe="AlertDialogPortal",r$=e=>{const{__scopeAlertDialog:t,...r}=e,n=Qa(t);return s.jsx(uw,{...n,...r})};r$.displayName=koe;var Coe="AlertDialogOverlay",n$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Qa(r);return s.jsx(Hu,{...a,...n,ref:t})});n$.displayName=Coe;var lc="AlertDialogContent",[Poe,_oe]=Noe(lc),Eoe=zF("AlertDialogContent"),s$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Qa(r),o=p.useRef(null),l=Ge(t,o),c=p.useRef(null);return s.jsx(AK,{contentName:lc,titleName:a$,docsSlug:"alert-dialog",children:s.jsx(Poe,{scope:r,cancelRef:c,children:s.jsxs(Hp,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:De(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Eoe,{children:n}),s.jsx(Ooe,{contentRef:o})]})})})});s$.displayName=lc;var a$="AlertDialogTitle",i$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Qa(r);return s.jsx(hw,{...a,...n,ref:t})});i$.displayName=a$;var o$="AlertDialogDescription",l$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Qa(r);return s.jsx(fw,{...a,...n,ref:t})});l$.displayName=o$;var Aoe="AlertDialogAction",c$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Qa(r);return s.jsx(Vp,{...a,...n,ref:t})});c$.displayName=Aoe;var d$="AlertDialogCancel",u$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=_oe(d$,r),i=Qa(r),o=Ge(t,a);return s.jsx(Vp,{...i,...n,ref:o})});u$.displayName=d$;var Ooe=({contentRef:e})=>{const t=`\`${lc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${lc}\` by passing a \`${o$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Toe=e$,Doe=t$,Moe=r$,Ioe=n$,Roe=s$,$oe=c$,Loe=u$,Foe=i$,Boe=l$;function zoe({...e}){return s.jsx(Toe,{"data-slot":"alert-dialog",...e})}function Woe({...e}){return s.jsx(Doe,{"data-slot":"alert-dialog-trigger",...e})}function Uoe({...e}){return s.jsx(Moe,{"data-slot":"alert-dialog-portal",...e})}function Koe({className:e,...t}){return s.jsx(Ioe,{"data-slot":"alert-dialog-overlay",className:pe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Hoe({className:e,...t}){return s.jsxs(Uoe,{children:[s.jsx(Koe,{}),s.jsx(Roe,{"data-slot":"alert-dialog-content",className:pe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Voe({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:pe("flex flex-col gap-2 text-center sm:text-left",e),...t})}function qoe({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:pe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Yoe({className:e,...t}){return s.jsx(Foe,{"data-slot":"alert-dialog-title",className:pe("text-lg font-semibold",e),...t})}function Goe({className:e,...t}){return s.jsx(Boe,{"data-slot":"alert-dialog-description",className:pe("text-muted-foreground text-sm",e),...t})}function Xoe({className:e,...t}){return s.jsx($oe,{className:pe(pu(),e),...t})}function Joe({className:e,...t}){return s.jsx(Loe,{className:pe(pu({variant:"outline"}),e),...t})}function Qoe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("Loading..."),[o,l]=p.useState(""),[c,u]=p.useState("all"),[d,h]=p.useState("all"),[f,m]=p.useState(!1),[j,g]=p.useState(null),[x,y]=p.useState({name:"",category:"",supplier:"",cost:"",price:"",stock:"",description:"",bargainingEnabled:!1,minBargainPrice:"",maxBargainPrice:""});p.useEffect(()=>{v(),w()},[]);const v=async()=>{try{const S=tt(),{data:{user:I}}=await S.auth.getUser();if(I?.user_metadata?.business_id){const{data:O,error:z}=await S.from("businesses").select("business_name").eq("id",I.user_metadata.business_id).single();i(!z&&O&&O.business_name||"My Business")}else i("My Business")}catch(S){console.error("Error loading business name:",S),i("My Business")}},w=async()=>{try{n(!0);const S=await er.getProducts();S.success&&S.products?t(S.products):q.error("Failed to load products")}catch(S){console.error("Error loading products:",S),q.error("Error loading products")}finally{n(!1)}},b=async()=>{try{if(!x.name||!x.category||!x.price||!x.cost){q.error("Please fill in all required fields");return}const S={...x,price:parseFloat(x.price),cost:parseFloat(x.cost),stock:parseInt(x.stock)||0,original_stock:parseInt(x.stock)||0,bargainingEnabled:x.bargainingEnabled,minBargainPrice:x.bargainingEnabled?parseFloat(x.minBargainPrice)||0:null,maxBargainPrice:x.bargainingEnabled?parseFloat(x.maxBargainPrice)||0:null};j?.id&&(S.id=j.id),(await er.saveProduct(S)).success?(q.success(j?"Product updated successfully":"Product added successfully"),m(!1),P(),w()):q.error("Failed to save product. Please try again.")}catch(S){console.error("Error saving product:",S),q.error("Error saving product: "+(S instanceof Error?S.message:"Unknown error"))}},N=async S=>{try{(await er.deleteProduct(S)).success?(q.success("Product deleted successfully"),w()):q.error("Failed to delete product")}catch(I){console.error("Error deleting product:",I),q.error("Error deleting product")}},k=S=>{g(S),y({name:S.name,category:S.category,supplier:S.supplier||"",cost:S.cost.toString(),price:S.price.toString(),stock:S.stock.toString(),description:S.description||"",bargainingEnabled:S.bargainingEnabled||!1,minBargainPrice:S.minBargainPrice?.toString()||"",maxBargainPrice:S.maxBargainPrice?.toString()||""}),m(!0)},P=()=>{g(null),y({name:"",category:"",supplier:"",cost:"",price:"",stock:"",description:"",bargainingEnabled:!1,minBargainPrice:"",maxBargainPrice:""})},C=e.filter(S=>{const I=S.name.toLowerCase().includes(o.toLowerCase())||S.supplier&&S.supplier.toLowerCase().includes(o.toLowerCase()),O=c==="all"||S.category===c,z=d==="all"||S.status===d;return I&&O&&z}),A=S=>{switch(S){case"Active":case"In Stock":return s.jsx(se,{variant:"default",className:"bg-green-500",children:" In Stock"});case"Low Stock":return s.jsx(se,{variant:"secondary",className:"bg-yellow-500 text-black",children:" Low Stock"});case"Out of Stock":return s.jsx(se,{variant:"destructive",children:" Out of Stock"});default:return s.jsx(se,{variant:"outline",children:S})}};return r?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading products..."})]})}):s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{children:[a," Product Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your product inventory across all locations"})]}),s.jsxs(Ye,{open:f,onOpenChange:m,children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{onClick:P,children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Product"]})}),s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:j?"Edit Product":"Add New Product"}),s.jsx(xt,{children:j?"Update the product details.":"Enter the details for the new product."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Product Name *"}),s.jsx(Q,{id:"name",placeholder:"Enter product name",value:x.name,onChange:S=>y({...x,name:S.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"category",children:"Category *"}),s.jsxs(je,{value:x.category,onValueChange:S=>y({...x,category:S}),children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select category"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"Electronics",children:"Electronics"}),s.jsx(F,{value:"Clothing",children:"Clothing"}),s.jsx(F,{value:"Food & Beverages",children:"Food & Beverages"}),s.jsx(F,{value:"Home & Garden",children:"Home & Garden"}),s.jsx(F,{value:"Health & Beauty",children:"Health & Beauty"}),s.jsx(F,{value:"Sports & Outdoors",children:"Sports & Outdoors"}),s.jsx(F,{value:"Books & Media",children:"Books & Media"}),s.jsx(F,{value:"Automotive",children:"Automotive"}),s.jsx(F,{value:"Office Supplies",children:"Office Supplies"}),s.jsx(F,{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"supplier",children:"Supplier"}),s.jsx(Q,{id:"supplier",placeholder:"Enter supplier name",value:x.supplier,onChange:S=>y({...x,supplier:S.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"cost",children:"Cost Price *"}),s.jsx(Q,{id:"cost",type:"number",placeholder:"0.00",value:x.cost,onChange:S=>y({...x,cost:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"price",children:"Selling Price *"}),s.jsx(Q,{id:"price",type:"number",placeholder:"0.00",value:x.price,onChange:S=>y({...x,price:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"stock",children:"Initial Stock"}),s.jsx(Q,{id:"stock",type:"number",placeholder:"0",value:x.stock,onChange:S=>y({...x,stock:S.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"description",children:"Description"}),s.jsx(vt,{id:"description",placeholder:"Enter product description",value:x.description,onChange:S=>y({...x,description:S.target.value})})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx(D,{htmlFor:"bargaining",className:"text-base font-medium",children:"Allow Bargaining"})]}),s.jsx(Ct,{id:"bargaining",checked:x.bargainingEnabled,onCheckedChange:S=>y({...x,bargainingEnabled:S})})]}),x.bargainingEnabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"minBargainPrice",children:"Minimum Bargain Price ()"}),s.jsx(Q,{id:"minBargainPrice",type:"number",placeholder:"180",value:x.minBargainPrice,onChange:S=>y({...x,minBargainPrice:S.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lowest price cashier can sell for"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"maxBargainPrice",children:"Maximum Bargain Price ()"}),s.jsx(Q,{id:"maxBargainPrice",type:"number",placeholder:"220",value:x.maxBargainPrice,onChange:S=>y({...x,maxBargainPrice:S.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Highest price cashier can sell for"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(B,{onClick:b,children:j?"Update Product":"Add Product"})]})]})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ij,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(L,{children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search products or suppliers...",className:"pl-10",value:o,onChange:S=>l(S.target.value)})]})}),s.jsxs(je,{value:c,onValueChange:u,children:[s.jsx(be,{className:"w-48",children:s.jsx(we,{placeholder:"All Categories"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Categories"}),s.jsx(F,{value:"Electronics",children:"Electronics"}),s.jsx(F,{value:"Clothing",children:"Clothing"}),s.jsx(F,{value:"Food & Beverages",children:"Food & Beverages"}),s.jsx(F,{value:"Home & Garden",children:"Home & Garden"}),s.jsx(F,{value:"Health & Beauty",children:"Health & Beauty"}),s.jsx(F,{value:"Sports & Outdoors",children:"Sports & Outdoors"}),s.jsx(F,{value:"Books & Media",children:"Books & Media"}),s.jsx(F,{value:"Automotive",children:"Automotive"}),s.jsx(F,{value:"Office Supplies",children:"Office Supplies"}),s.jsx(F,{value:"Other",children:"Other"})]})]}),s.jsxs(je,{value:d,onValueChange:h,children:[s.jsx(be,{className:"w-48",children:s.jsx(we,{placeholder:"All Status"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"Active",children:"Active / In Stock"}),s.jsx(F,{value:"Low Stock",children:" Low Stock"}),s.jsx(F,{value:"Out of Stock",children:"Out of Stock"})]})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Qn,{className:"h-5 w-5"}),"Products (",C.length,")"]})}),s.jsx(L,{children:C.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Qn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Add your first product to get started"})]}):s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Product"}),s.jsx(Z,{children:"Category"}),s.jsx(Z,{children:"Stock"}),s.jsx(Z,{children:"Cost"}),s.jsx(Z,{children:"Price"}),s.jsx(Z,{children:"Margin"}),s.jsx(Z,{children:"Bargaining"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:C.map(S=>{const I=((S.price-S.cost)/S.cost*100).toFixed(1);return s.jsxs(Ie,{children:[s.jsx(J,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:S.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.supplier||"No supplier"})]})}),s.jsx(J,{children:S.category}),s.jsx(J,{children:S.stock}),s.jsxs(J,{children:["",S.cost]}),s.jsxs(J,{children:["",S.price]}),s.jsxs(J,{children:[I,"%"]}),s.jsx(J,{children:S.bargainingEnabled?s.jsx("div",{className:"text-xs",children:s.jsxs(se,{variant:"secondary",className:"text-green-600",children:["",S.minBargainPrice," - ",S.maxBargainPrice]})}):s.jsx(se,{variant:"outline",className:"text-muted-foreground",children:"Fixed Price"})}),s.jsx(J,{children:A(S.status)}),s.jsx(J,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>k(S),children:s.jsx(bp,{className:"h-4 w-4"})}),s.jsxs(zoe,{children:[s.jsx(Woe,{asChild:!0,children:s.jsx(B,{variant:"outline",size:"sm",children:s.jsx(Ka,{className:"h-4 w-4"})})}),s.jsxs(Hoe,{children:[s.jsxs(Voe,{children:[s.jsx(Yoe,{children:"Are you sure?"}),s.jsxs(Goe,{children:['This will permanently delete the product "',S.name,'". This action cannot be undone.']})]}),s.jsxs(qoe,{children:[s.jsx(Joe,{children:"Cancel"}),s.jsx(Xoe,{onClick:()=>N(S.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},S.id)})})]})})]})]})}function Zoe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,l]=p.useState("all"),[c,u]=p.useState("all"),[d,h]=p.useState(!1),[f,m]=p.useState(null),[j,g]=p.useState(null),[x,y]=p.useState({customerName:"",customerPhone:"",customerAddress:"",status:"Processing",notes:""});p.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const S=new Date().toISOString().split("T")[0],I=new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0],O=await er.getSalesRange(I,S);if(O.success){const z=O.data.flatMap(V=>(V.sales||[]).map(Y=>({id:Y.id,customer:Y.customer||{name:"Walk-in Customer"},items:Y.items||[],total:Y.total,paymentMethod:Y.paymentMethod||"cash",status:"Completed",date:Y.date,shop:Y.shop||"Main Branch",cashier:Y.cashier||"Unknown",notes:Y.notes||"",createdAt:Y.date})));z.sort((V,Y)=>new Date(Y.date).getTime()-new Date(V.date).getTime()),t(z)}else q.error("Failed to load orders"),t([])}catch(S){console.error("Error loading orders:",S),q.error("Error loading orders"),t([])}finally{n(!1)}},w=async()=>{try{if(!j)return;const S={...j,customer:{...j.customer,name:x.customerName,phone:x.customerPhone,address:x.customerAddress},status:x.status,notes:x.notes};t(e.map(I=>I.id===j.id?S:I)),q.success("Order updated successfully"),h(!1),P()}catch(S){console.error("Error updating order:",S),q.error("Error updating order")}},b=async S=>{if(window.confirm(`Are you sure you want to delete order "${S}"? This action cannot be undone.`))try{(await er.deleteSale(S)).success?(t(e.filter(z=>z.id!==S)),q.success("Order deleted successfully")):q.error("Failed to delete order")}catch(O){console.error("Error deleting order:",O),q.error("Error deleting order")}},N=S=>{m(S),h(!0)},k=S=>{g(S),y({customerName:S.customer.name,customerPhone:S.customer.phone||"",customerAddress:S.customer.address||"",status:S.status,notes:S.notes||""}),h(!0)},P=()=>{g(null),m(null),y({customerName:"",customerPhone:"",customerAddress:"",status:"Processing",notes:""})},C=e.filter(S=>{const I=S.customer.name.toLowerCase().includes(a.toLowerCase())||S.id.toLowerCase().includes(a.toLowerCase())||S.customer.phone&&S.customer.phone.includes(a),O=o==="all"||S.status===o,z=new Date,V=new Date(S.date);let Y=!0;if(c==="today")Y=V.toDateString()===z.toDateString();else if(c==="week"){const R=new Date(z.getTime()-6048e5);Y=V>=R}else if(c==="month"){const R=new Date(z.getTime()-2592e6);Y=V>=R}return I&&O&&Y}),A=S=>{switch(S){case"Completed":return s.jsx(se,{variant:"default",children:"Completed"});case"Processing":return s.jsx(se,{variant:"secondary",children:"Processing"});case"Cancelled":return s.jsx(se,{variant:"destructive",children:"Cancelled"});case"Refunded":return s.jsx(se,{variant:"outline",children:"Refunded"});default:return s.jsx(se,{variant:"outline",children:S})}};return r?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading orders..."})]})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Order Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage customer orders"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Total Orders"}),s.jsx(Ws,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx(L,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold",children:e.length})})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Today's Orders"}),s.jsx(qn,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx(L,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold",children:e.filter(S=>new Date(S.date).toDateString()===new Date().toDateString()).length})})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Completed"}),s.jsx(Ws,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx(L,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.filter(S=>S.status==="Completed").length})})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Total Revenue"}),s.jsx(gt,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx(L,{className:"compact-card-content",children:s.jsxs("div",{className:"text-lg font-semibold",children:["$",e.reduce((S,I)=>S+I.total,0).toFixed(2)]})})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ij,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(L,{children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search orders...",className:"pl-10",value:a,onChange:S=>i(S.target.value)})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4",children:[s.jsxs(je,{value:o,onValueChange:l,children:[s.jsx(be,{className:"w-full md:w-48",children:s.jsx(we,{placeholder:"All Status"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"Completed",children:"Completed"}),s.jsx(F,{value:"Processing",children:"Processing"}),s.jsx(F,{value:"Cancelled",children:"Cancelled"}),s.jsx(F,{value:"Refunded",children:"Refunded"})]})]}),s.jsxs(je,{value:c,onValueChange:u,children:[s.jsx(be,{className:"w-full md:w-48",children:s.jsx(we,{placeholder:"All Dates"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Dates"}),s.jsx(F,{value:"today",children:"Today"}),s.jsx(F,{value:"week",children:"This Week"}),s.jsx(F,{value:"month",children:"This Month"})]})]})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ws,{className:"h-5 w-5"}),"Orders (",C.length,")"]})}),s.jsx(L,{children:C.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ws,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orders found"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Orders will appear here when customers make purchases"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{className:"min-w-[120px]",children:"Order ID"}),s.jsx(Z,{className:"min-w-[150px]",children:"Customer"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Items"}),s.jsx(Z,{className:"min-w-[100px]",children:"Total"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Payment"}),s.jsx(Z,{className:"min-w-[100px]",children:"Status"}),s.jsx(Z,{className:"hidden xl:table-cell",children:"Date"}),s.jsx(Z,{className:"min-w-[120px]",children:"Actions"})]})}),s.jsx(Gt,{children:C.map(S=>s.jsxs(Ie,{children:[s.jsx(J,{className:"font-mono",children:S.id}),s.jsx(J,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:S.customer.name}),S.customer.phone&&s.jsx("p",{className:"text-sm text-muted-foreground",children:S.customer.phone})]})}),s.jsxs(J,{className:"hidden md:table-cell",children:[S.items.length," items"]}),s.jsxs(J,{className:"font-medium",children:["$",S.total.toFixed(2)]}),s.jsx(J,{className:"hidden lg:table-cell capitalize",children:S.paymentMethod}),s.jsx(J,{children:A(S.status)}),s.jsx(J,{className:"hidden xl:table-cell",children:new Date(S.date).toLocaleDateString()}),s.jsx(J,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>N(S),className:"h-8 w-8 p-0",children:s.jsx(Qs,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>k(S),className:"h-8 w-8 p-0",children:s.jsx(bp,{className:"h-4 w-4"})}),s.jsx(B,{variant:"destructive",size:"sm",className:"h-8 w-8 p-0",onClick:()=>b(S.id),children:s.jsx(Ka,{className:"h-4 w-4"})})]})})]},S.id))})]})})})]}),s.jsx(Ye,{open:d,onOpenChange:h,children:s.jsxs(Ue,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:j?"Edit Order":"Order Details"}),s.jsx(xt,{children:j?"Update order information":"View order details"})]}),(f||j)&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Order Information"})}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Order ID"}),s.jsx(Q,{value:(f||j)?.id,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Date"}),s.jsx(Q,{value:new Date((f||j)?.date||"").toLocaleString(),disabled:!0})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Customer Information"})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Customer Name"}),s.jsx(Q,{value:j?x.customerName:f?.customer.name||"",onChange:S=>j&&y({...x,customerName:S.target.value}),disabled:!j})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Phone"}),s.jsx(Q,{value:j?x.customerPhone:f?.customer.phone||"",onChange:S=>j&&y({...x,customerPhone:S.target.value}),disabled:!j})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Address"}),s.jsx(vt,{value:j?x.customerAddress:f?.customer.address||"",onChange:S=>j&&y({...x,customerAddress:S.target.value}),disabled:!j})]})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Order Items"})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-2",children:[(f||j)?.items.map((S,I)=>s.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:S.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",S.sku]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[S.quantity,"x $",S.price]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",(S.quantity*S.price).toFixed(2)]})]})]},I)),s.jsx("div",{className:"border-t pt-2 mt-2",children:s.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",(f||j)?.total.toFixed(2)]})]})})]})})]}),j&&s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Order Status"})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Status"}),s.jsxs(je,{value:x.status,onValueChange:S=>y({...x,status:S}),children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"Processing",children:"Processing"}),s.jsx(F,{value:"Completed",children:"Completed"}),s.jsx(F,{value:"Cancelled",children:"Cancelled"}),s.jsx(F,{value:"Refunded",children:"Refunded"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Notes"}),s.jsx(vt,{placeholder:"Add notes about this order...",value:x.notes,onChange:S=>y({...x,notes:S.target.value})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>h(!1),children:j?"Cancel":"Close"}),j&&s.jsx(B,{onClick:w,children:"Update Order"})]})]})})]})}function ele(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("");p.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const x=await er.getCustomers();t(x.customers||[])}catch(x){console.error("Error loading customers:",x),q.error("Failed to load customers")}finally{n(!1)}},[l,c]=p.useState(!1);p.useState(null);const[u,d]=p.useState({name:"",phone:"",email:"",address:"",notes:""}),h=async()=>{try{if(!u.name){q.error("Customer name is required");return}await er.saveCustomer(u),q.success("Customer added successfully"),c(!1),m(),o()}catch(x){console.error("Error adding customer:",x),q.error("Error adding customer")}},f=async(x,y)=>{if(window.confirm(`Are you sure you want to delete "${y}"? This action cannot be undone.`))try{await er.deleteCustomer(x),q.success(`Customer "${y}" deleted successfully`),o()}catch(w){console.error("Error deleting customer:",w),q.error("Error deleting customer")}},m=()=>{d({name:"",phone:"",email:"",address:"",notes:""})},j=e.filter(x=>x.name.toLowerCase().includes(a.toLowerCase())||x.phone&&x.phone.includes(a)||x.email&&x.email.toLowerCase().includes(a.toLowerCase())),g=x=>!x.totalOrders||x.totalOrders===0?s.jsx(se,{variant:"outline",children:"New"}):x.totalOrders>=10?s.jsx(se,{variant:"default",children:"VIP"}):x.totalOrders>=5?s.jsx(se,{variant:"secondary",children:"Regular"}):s.jsx(se,{variant:"outline",children:"Occasional"});return r?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading customers..."})]})}):s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage customer information and purchase history"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",onClick:()=>window.location.reload(),disabled:r,children:[s.jsx(Xr,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]}),s.jsxs(Ye,{open:l,onOpenChange:c,children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{onClick:m,children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Customer"]})}),s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Add New Customer"}),s.jsx(xt,{children:"Add a new customer to your database."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"name",children:"Customer Name *"}),s.jsx(Q,{id:"name",placeholder:"Enter customer name",value:u.name,onChange:x=>d({...u,name:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Q,{id:"phone",placeholder:"Enter phone number",value:u.phone,onChange:x=>d({...u,phone:x.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Email Address"}),s.jsx(Q,{id:"email",type:"email",placeholder:"Enter email address",value:u.email,onChange:x=>d({...u,email:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"address",children:"Address"}),s.jsx(vt,{id:"address",placeholder:"Enter customer address",value:u.address,onChange:x=>d({...u,address:x.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Notes"}),s.jsx(vt,{id:"notes",placeholder:"Additional notes about customer",value:u.notes,onChange:x=>d({...u,notes:x.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(B,{onClick:h,children:"Add Customer"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Customers"}),s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(L,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"New This Month"}),s.jsx(qn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(L,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(x=>new Date(x.createdAt).getMonth()===new Date().getMonth()).length})})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Active Customers"}),s.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(L,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(x=>x.totalOrders&&x.totalOrders>0).length})})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"VIP Customers"}),s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(L,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(x=>x.totalOrders&&x.totalOrders>=10).length})})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Mn,{className:"h-5 w-5"}),"Search Customers"]})}),s.jsx(L,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search by name, phone, or email...",className:"pl-10",value:a,onChange:x=>i(x.target.value)})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-5 w-5"}),"Customers (",j.length,")"]})}),s.jsx(L,{children:j.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Nt,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e.length===0?"No customers yet":"No customers found"})]}):s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Customer"}),s.jsx(Z,{children:"Contact"}),s.jsx(Z,{children:"Type"}),s.jsx(Z,{children:"Orders"}),s.jsx(Z,{children:"Total Spent"}),s.jsx(Z,{children:"Last Order"}),s.jsx(Z,{children:"Joined"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:j.map(x=>s.jsxs(Ie,{children:[s.jsx(J,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:x.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.address})]})}),s.jsx(J,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:x.phone}),s.jsx("p",{className:"text-muted-foreground",children:x.email})]})}),s.jsx(J,{children:g(x)}),s.jsx(J,{children:x.totalOrders||0}),s.jsxs(J,{children:["$",(x.totalSpent||0).toFixed(2)]}),s.jsx(J,{children:x.lastOrderDate?new Date(x.lastOrderDate).toLocaleDateString():"Never"}),s.jsx(J,{children:new Date(x.createdAt).toLocaleDateString()}),s.jsx(J,{children:s.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>f(x.id,x.name),children:[s.jsx(Ka,{className:"h-3 w-3 mr-1"}),"Delete"]})})]},x.id))})]})})]})]})}function HP(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState(!0),[o,l]=p.useState(""),[c,u]=p.useState("all"),[d,h]=p.useState(!1),[f,m]=p.useState({open:!1,credentials:null}),[j,g]=p.useState(null),[x,y]=p.useState({name:"",phone:"",position:"",shopId:"",shopName:"",salary:"",hireDate:new Date().toISOString().split("T")[0]});p.useEffect(()=>{v()},[]);const v=async()=>{i(!0),await Promise.all([w(),b()]),i(!1)},w=async()=>{try{const R=tt(),{data:{session:W}}=await R.auth.getSession();if(!W){q.error("Please login to view workers");return}const T=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/workers`,{headers:{Authorization:`Bearer ${W.access_token}`}})).json();T.success?t(T.workers):q.error(T.error||"Failed to load workers")}catch(R){console.error("Error loading workers:",R),q.error("Error loading workers")}},b=async()=>{try{const R=tt(),{data:{session:W}}=await R.auth.getSession();if(!W)return;const T=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers`,{headers:{Authorization:`Bearer ${W.access_token}`}})).json();T.success&&n(T.cashiers)}catch(R){console.error("Error loading cashiers:",R)}},N=async()=>{if(!x.name||!x.phone||!x.position||!x.shopId||!x.shopName||!x.salary){q.error("Please fill in all required fields");return}try{const R=tt(),{data:{session:W}}=await R.auth.getSession();if(!W){q.error("Please login to add workers");return}const T=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/workers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.access_token}`},body:JSON.stringify({name:x.name,phone:x.phone,position:x.position,shop_id:x.shopId,shop_name:x.shopName,salary:parseFloat(x.salary),hire_date:x.hireDate,status:"Active",department:x.position})})).json();T.success?(q.success("Worker added successfully"),h(!1),S(),w()):q.error(T.error||"Failed to add worker")}catch{q.error("Error adding worker")}},k=async R=>{try{const W=tt(),{data:{session:_}}=await W.auth.getSession();if(!_){q.error("Please login to create cashier logins");return}const re=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/auth/create-cashier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.access_token}`},body:JSON.stringify({workerId:R.id,workerName:R.name,shopId:R.shopId,shopName:R.shopName})})).json();re.success?(q.success("Cashier login created successfully!"),m({open:!0,credentials:re.credentials}),await v()):q.error(re.error||"Failed to create cashier login")}catch{q.error("Error creating cashier login")}},P=async(R,W)=>{const _=W?"deactivate":"activate";try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers/${R}/${_}`,{method:"POST",headers:{Authorization:`Bearer ${ks}`}})).json()).success?(q.success(`Cashier ${_}d successfully`),b()):q.error(`Failed to ${_} cashier`)}catch{q.error(`Error ${_}ing cashier`)}},C=async R=>{try{const _=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers/${R}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${ks}`}})).json();_.success?(q.success("Password reset successfully!"),m({open:!0,credentials:{cashierId:R,shopId:r.find(T=>T.id===R)?.shopId||"",shopName:r.find(T=>T.id===R)?.shopName||"",password:_.newPassword,email:r.find(T=>T.id===R)?.email||""}}),b()):q.error("Failed to reset password")}catch{q.error("Error resetting password")}},A=async R=>{const W=prompt("Enter new Shop ID:"),_=prompt("Enter new Shop Name:");if(!(!W||!_))try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers/${R}/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ks}`},body:JSON.stringify({newShopId:W,newShopName:_})})).json()).success?(q.success("Cashier transferred successfully"),b()):q.error("Failed to transfer cashier")}catch{q.error("Error transferring cashier")}},S=()=>{y({name:"",phone:"",position:"",shopId:"",shopName:"",salary:"",hireDate:new Date().toISOString().split("T")[0]})},I=(R,W)=>{navigator.clipboard.writeText(R),g(W),setTimeout(()=>g(null),2e3),q.success("Copied to clipboard!")},O=e.filter(R=>{const W=R.name.toLowerCase().includes(o.toLowerCase())||R.position.toLowerCase().includes(o.toLowerCase()),_=c==="all"||R.shopId===c;return W&&_}),z=r.filter(R=>{const W=R.workerName.toLowerCase().includes(o.toLowerCase())||R.id.toLowerCase().includes(o.toLowerCase()),_=c==="all"||R.shopId===c;return W&&_}),V=[...new Set(e.map(R=>R.shopId))],Y=R=>R?new Date(R).toLocaleString():"Never";return s.jsxs("div",{className:"p-3 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl md:text-2xl",children:"Workers & Cashiers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage workers and their cashier logins"})]}),s.jsxs(B,{onClick:()=>h(!0),size:"sm",children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Worker"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[s.jsxs($,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Total Workers"]})}),s.jsx(L,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs($,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Ei,{className:"h-4 w-4"}),"With Logins"]})}),s.jsx(L,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(R=>R.hasLogin).length})})]}),s.jsxs($,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(U1,{className:"h-4 w-4 text-green-600"}),"Active Cashiers"]})}),s.jsx(L,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(R=>R.active).length})})]}),s.jsxs($,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(K1,{className:"h-4 w-4 text-red-600"}),"Inactive"]})}),s.jsx(L,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.filter(R=>!R.active).length})})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search workers or cashiers...",value:o,onChange:R=>l(R.target.value),className:"pl-9"})]}),s.jsxs(je,{value:c,onValueChange:u,children:[s.jsx(be,{className:"w-full md:w-48",children:s.jsx(we,{placeholder:"Filter by shop"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Shops"},"all"),V.map(R=>s.jsx(F,{value:R,children:R},R))]})]})]}),s.jsxs(pn,{defaultValue:"workers",className:"space-y-4",children:[s.jsxs(xn,{className:"grid w-full grid-cols-2",children:[s.jsx(_e,{value:"workers",children:"Workers"}),s.jsx(_e,{value:"cashiers",children:"Cashiers"})]}),s.jsx(Ee,{value:"workers",className:"space-y-4",children:s.jsx($,{children:s.jsx(L,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Name"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Position"}),s.jsx(Z,{children:"Shop"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Phone"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:O.map(R=>s.jsxs(Ie,{children:[s.jsx(J,{children:R.name}),s.jsx(J,{className:"hidden md:table-cell",children:R.position}),s.jsx(J,{children:R.shopId}),s.jsx(J,{className:"hidden lg:table-cell",children:R.phone}),s.jsx(J,{children:R.hasLogin?s.jsx(se,{variant:"default",children:"Has Login"}):s.jsx(se,{variant:"outline",children:"No Login"})}),s.jsx(J,{children:!R.hasLogin&&s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>k(R),children:[s.jsx(Ei,{className:"h-3 w-3 mr-1"}),"Create Login"]})})]},R.id))})]})})})})}),s.jsx(Ee,{value:"cashiers",className:"space-y-4",children:s.jsx($,{children:s.jsx(L,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Cashier ID"}),s.jsx(Z,{children:"Name"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Shop"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Last Login"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Login Count"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:z.map(R=>s.jsxs(Ie,{children:[s.jsx(J,{className:"font-mono text-xs",children:R.id}),s.jsx(J,{children:R.workerName}),s.jsx(J,{className:"hidden md:table-cell",children:R.shopId}),s.jsx(J,{className:"hidden lg:table-cell text-xs",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"h-3 w-3"}),Y(R.lastLogin)]})}),s.jsx(J,{className:"hidden lg:table-cell",children:R.loginCount}),s.jsx(J,{children:R.active?s.jsx(se,{variant:"default",className:"bg-green-600",children:"Active"}):s.jsx(se,{variant:"destructive",children:"Inactive"})}),s.jsx(J,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>m({open:!0,credentials:{...R,cashierId:R.id}}),title:"View Credentials",children:s.jsx(Ei,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>P(R.id,R.active),children:R.active?s.jsx(K1,{className:"h-3 w-3"}):s.jsx(U1,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>C(R.id),title:"Reset Password",children:s.jsx(Xr,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>A(R.id),title:"Transfer to Another Shop",children:s.jsx(kF,{className:"h-3 w-3"})})]})})]},R.id))})]})})})})})]}),s.jsx(Ye,{open:d,onOpenChange:h,children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Add New Worker"}),s.jsx(xt,{children:"Add a new worker to the system"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Name *"}),s.jsx(Q,{value:x.name,onChange:R=>y({...x,name:R.target.value}),placeholder:"Worker name"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Phone *"}),s.jsx(Q,{value:x.phone,onChange:R=>y({...x,phone:R.target.value}),placeholder:"+1234567890"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Position *"}),s.jsxs(je,{value:x.position,onValueChange:R=>y({...x,position:R}),children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select position"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"Cashier",children:"Cashier"},"cashier"),s.jsx(F,{value:"Sales Associate",children:"Sales Associate"},"sales-associate"),s.jsx(F,{value:"Store Manager",children:"Store Manager"},"store-manager"),s.jsx(F,{value:"Inventory Clerk",children:"Inventory Clerk"},"inventory-clerk")]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Shop ID *"}),s.jsx(Q,{value:x.shopId,onChange:R=>y({...x,shopId:R.target.value}),placeholder:"SHOP001"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Shop Name *"}),s.jsx(Q,{value:x.shopName,onChange:R=>y({...x,shopName:R.target.value}),placeholder:"Main Branch"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Salary *"}),s.jsx(Q,{type:"number",value:x.salary,onChange:R=>y({...x,salary:R.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Hire Date *"}),s.jsx(Q,{type:"date",value:x.hireDate,onChange:R=>y({...x,hireDate:R.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(B,{onClick:N,children:"Add Worker"})]})]})]})}),s.jsx(Ye,{open:f.open,onOpenChange:R=>m({...f,open:R}),children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Cashier Login Credentials"}),s.jsx(xt,{children:"Share these credentials with the cashier. They won't be shown again."})]}),f.credentials&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-xs text-muted-foreground",children:"Shop ID"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-sm",children:f.credentials.shopId}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>I(f.credentials?.shopId||"","shopId"),children:j==="shopId"?s.jsx(Vl,{className:"h-4 w-4"}):s.jsx(yi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-xs text-muted-foreground",children:"Cashier ID"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-sm",children:f.credentials?.cashierId}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>I(f.credentials?.cashierId||"","cashierId"),children:j==="cashierId"?s.jsx(Vl,{className:"h-4 w-4"}):s.jsx(yi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-xs text-muted-foreground",children:"Password"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-sm",children:f.credentials.password}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>I(f.credentials?.password||"","password"),children:j==="password"?s.jsx(Vl,{className:"h-4 w-4"}):s.jsx(yi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"pt-2 border-t border-green-200 dark:border-green-800",children:[s.jsx(D,{className:"text-xs text-muted-foreground",children:"Login Email (System Generated)"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-xs break-all",children:f.credentials.email}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>I(f.credentials?.email||"","email"),children:j==="email"?s.jsx(Vl,{className:"h-4 w-4"}):s.jsx(yi,{className:"h-4 w-4"})})]})]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:" Make sure to save these credentials. The password cannot be retrieved later."}),s.jsx(B,{onClick:()=>m({open:!1,credentials:null}),className:"w-full",children:"Done"})]})]})})]})}function tle(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState(!0),[o,l]=p.useState("all"),[c,u]=p.useState("all"),[d,h]=p.useState("all"),[f,m]=p.useState(!1),[j,g]=p.useState(void 0),[x,y]=p.useState({bonus:"",deductions:"",overtime:"",notes:"",payPeriod:new Date().toISOString().slice(0,7)});p.useEffect(()=>{v()},[]);const v=async()=>{i(!0),await Promise.all([w(),b()]),i(!1)},w=async()=>{try{const M=tt(),{data:{session:H}}=await M.auth.getSession(),ne=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/workers`,{headers:{Authorization:`Bearer ${H?.access_token}`,"Content-Type":"application/json"}})).json();if(ne.success){const fe=ne.workers.filter(ae=>ae.status==="Active");t(fe),console.log(" Loaded workers for payroll:",fe.length)}else console.error("Failed to load workers:",ne.error),q.error("Failed to load workers")}catch(M){console.error("Error loading workers:",M),q.error("Error loading workers")}},b=async()=>{try{const M=tt(),{data:{session:H}}=await M.auth.getSession(),ne=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll`,{headers:{Authorization:`Bearer ${H?.access_token}`,"Content-Type":"application/json"}})).json();ne.success?(n(ne.payroll),console.log(" Loaded payroll records:",ne.payroll.length)):console.error("Failed to load payroll:",ne.error)}catch(M){console.error("Error loading payroll:",M)}},N=async()=>{try{const M=new Date().toISOString().slice(0,7);if(r.filter(te=>te.payPeriod===M).length>0){q.error("Payroll for this month has already been generated");return}if(e.length===0){q.error("No active workers found");return}for(const te of e){const ne={id:`payroll_${Date.now()}_${te.id}_${Math.random().toString(36).substr(2,9)}`,workerId:te.id,workerName:te.name,position:te.position,shopId:te.shopId,shopName:te.shopName,baseSalary:te.salary,bonus:0,deductions:0,overtime:0,totalPay:te.salary,payPeriod:M,status:"Pending",createdAt:new Date().toISOString()};await k(ne)}await b(),q.success(`Generated payroll for ${e.length} workers`)}catch(M){console.error("Error generating payroll:",M),q.error("Error generating payroll")}},k=async M=>{try{const H=tt(),{data:{session:te}}=await H.auth.getSession();return await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te?.access_token}`},body:JSON.stringify(M)})).json()}catch(H){throw console.error("Error saving payroll record:",H),H}},P=async M=>{try{const H=tt(),{data:{session:te}}=await H.auth.getSession();(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll/${M}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te?.access_token}`},body:JSON.stringify({status:"Processed",processedDate:new Date().toISOString()})})).json()).success?(b(),q.success("Payroll processed successfully")):q.error("Failed to process payroll")}catch(H){console.error("Error processing payroll:",H),q.error("Error processing payroll")}},C=async M=>{try{const H=tt(),{data:{session:te}}=await H.auth.getSession();(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll/${M}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te?.access_token}`},body:JSON.stringify({status:"Paid"})})).json()).success?(b(),q.success("Payroll marked as paid")):q.error("Failed to mark as paid")}catch(H){console.error("Error updating payroll:",H),q.error("Error updating payroll")}},A=async(M,H)=>{if(window.confirm(`Are you sure you want to delete the payroll record for "${H}"? This action cannot be undone.`))try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll/${M}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${tt().supabaseKey}`}})).json()).success?(q.success(`Payroll record for "${H}" deleted successfully`),b()):q.error("Failed to delete payroll record")}catch(ne){console.error("Error deleting payroll:",ne),q.error("Error deleting payroll record")}},S=async()=>{try{if(!j||!x.payPeriod){q.error("Please select worker and pay period");return}const M=e.find(ee=>ee.id===j);if(!M){q.error("Worker not found");return}const H=parseFloat(x.bonus)||0,te=parseFloat(x.deductions)||0,ne=parseFloat(x.overtime)||0,fe=M.salary+H+ne-te,ae={id:`payroll_${Date.now()}_${j}_${Math.random().toString(36).substr(2,9)}`,workerId:j,workerName:M.name,position:M.position,shopId:M.shopId,shopName:M.shopName,baseSalary:M.salary,bonus:H,deductions:te,overtime:ne,totalPay:fe,payPeriod:x.payPeriod,status:"Pending",notes:x.notes,createdAt:new Date().toISOString()};await k(ae),await b(),m(!1),I(),q.success("Payroll adjustment added successfully")}catch(M){console.error("Error adding payroll adjustment:",M),q.error("Error adding payroll adjustment")}},I=()=>{g(void 0),y({bonus:"",deductions:"",overtime:"",notes:"",payPeriod:new Date().toISOString().slice(0,7)})},O=()=>{try{const M=z();if(M.length===0){q.error("No data to export");return}const H=`Worker Name,Position,Shop,Base Salary,Bonus,Overtime,Deductions,Total Pay,Pay Period,Status,Processed Date
`,te=M.map(ce=>[ce.workerName,ce.position,ce.shopName,ce.baseSalary.toFixed(2),ce.bonus.toFixed(2),ce.overtime.toFixed(2),ce.deductions.toFixed(2),ce.totalPay.toFixed(2),ce.payPeriod,ce.status,ce.processedDate?new Date(ce.processedDate).toLocaleDateString():"N/A"].join(",")),ne=H+te.join(`
`),fe=new Blob([ne],{type:"text/csv"}),ae=URL.createObjectURL(fe),ee=document.createElement("a");ee.href=ae,ee.download=`payroll-report-${new Date().toISOString().split("T")[0]}.csv`,ee.click(),URL.revokeObjectURL(ae),q.success("Payroll report exported successfully")}catch(M){console.error("Error exporting payroll:",M),q.error("Error exporting payroll")}},z=()=>r.filter(M=>{const H=o==="all"||M.payPeriod===o,te=c==="all"||M.status===c,ne=d==="all"||M.shopId===d;return H&&te&&ne}),V=M=>{switch(M){case"Pending":return s.jsx(se,{variant:"secondary",children:"Pending"});case"Processed":return s.jsx(se,{variant:"default",children:"Processed"});case"Paid":return s.jsx(se,{className:"bg-green-600",children:"Paid"});default:return s.jsx(se,{variant:"outline",children:M})}},Y=z(),R=Y.reduce((M,H)=>M+H.totalPay,0),W=Y.filter(M=>M.status==="Pending").length,_=Y.filter(M=>M.status==="Paid").length,T=[...new Set(r.map(M=>M.payPeriod))].sort().reverse(),re=[...new Set(e.map(M=>M.shopId))];return a?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading payroll data..."})]})}):s.jsxs("div",{className:"p-3 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl md:text-2xl",children:"Payroll Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage worker salaries and payments"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:N,size:"sm",children:[s.jsx(qn,{className:"h-4 w-4 mr-2"}),"Generate This Month"]}),s.jsxs(B,{onClick:()=>m(!0),size:"sm",variant:"outline",children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Adjustment"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[s.jsxs($,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Active Workers"]})}),s.jsx(L,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs($,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(gt,{className:"h-4 w-4"}),"Total Payroll"]})}),s.jsx(L,{className:"p-3 md:p-4 pt-0",children:s.jsxs("div",{className:"text-2xl font-bold",children:["$",R.toFixed(2)]})})]}),s.jsxs($,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-yellow-600"}),"Pending"]})}),s.jsx(L,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:W})})]}),s.jsxs($,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(gt,{className:"h-4 w-4 text-green-600"}),"Paid"]})}),s.jsx(L,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:_})})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsxs(je,{value:o,onValueChange:l,children:[s.jsx(be,{className:"w-full md:w-48",children:s.jsx(we,{placeholder:"All Periods"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Periods"},"all-periods"),T.map(M=>s.jsx(F,{value:M,children:new Date(M+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"})},M))]})]}),s.jsxs(je,{value:d,onValueChange:h,children:[s.jsx(be,{className:"w-full md:w-48",children:s.jsx(we,{placeholder:"All Shops"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Shops"},"all-shops"),re.map(M=>s.jsx(F,{value:M,children:M},M))]})]}),s.jsxs(je,{value:c,onValueChange:u,children:[s.jsx(be,{className:"w-full md:w-48",children:s.jsx(we,{placeholder:"All Status"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Status"},"all-status"),s.jsx(F,{value:"Pending",children:"Pending"},"pending"),s.jsx(F,{value:"Processed",children:"Processed"},"processed"),s.jsx(F,{value:"Paid",children:"Paid"},"paid")]})]}),s.jsxs(B,{onClick:O,variant:"outline",size:"sm",className:"md:ml-auto",children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),s.jsx($,{children:s.jsx(L,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Worker"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Position"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Shop"}),s.jsx(Z,{children:"Base Salary"}),s.jsx(Z,{className:"hidden md:table-cell",children:"Adjustments"}),s.jsx(Z,{children:"Total Pay"}),s.jsx(Z,{className:"hidden lg:table-cell",children:"Period"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:Y.length===0?s.jsx(Ie,{children:s.jsx(J,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:'No payroll records found. Click "Generate This Month" to create payroll for all workers.'})}):Y.map(M=>s.jsxs(Ie,{children:[s.jsx(J,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:M.workerName}),s.jsx("div",{className:"text-xs text-muted-foreground md:hidden",children:M.position})]})}),s.jsx(J,{className:"hidden md:table-cell",children:M.position}),s.jsx(J,{className:"hidden lg:table-cell",children:M.shopName}),s.jsxs(J,{children:["$",M.baseSalary.toFixed(2)]}),s.jsx(J,{className:"hidden md:table-cell",children:s.jsxs("div",{className:"text-xs space-y-1",children:[M.bonus>0&&s.jsxs("div",{className:"text-green-600",children:["+$",M.bonus.toFixed(2)," bonus"]}),M.overtime>0&&s.jsxs("div",{className:"text-blue-600",children:["+$",M.overtime.toFixed(2)," OT"]}),M.deductions>0&&s.jsxs("div",{className:"text-red-600",children:["-$",M.deductions.toFixed(2)," ded."]})]})}),s.jsxs(J,{className:"font-semibold",children:["$",M.totalPay.toFixed(2)]}),s.jsx(J,{className:"hidden lg:table-cell",children:new Date(M.payPeriod+"-01").toLocaleDateString("en-US",{year:"numeric",month:"short"})}),s.jsx(J,{children:V(M.status)}),s.jsx(J,{children:s.jsxs("div",{className:"flex gap-1",children:[M.status==="Pending"&&s.jsx(B,{size:"sm",variant:"outline",onClick:()=>P(M.id),children:"Process"}),M.status==="Processed"&&s.jsx(B,{size:"sm",variant:"default",onClick:()=>C(M.id),children:"Mark Paid"}),s.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>A(M.id,M.workerName),children:[s.jsx(Ka,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},M.id))})]})})})}),s.jsx(Ye,{open:f,onOpenChange:m,children:s.jsxs(Ue,{children:[s.jsx(Ke,{children:s.jsx(He,{children:"Add Payroll Adjustment"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Worker *"}),s.jsxs(je,{value:j,onValueChange:g,children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select worker"})}),s.jsx(Ne,{children:e.map(M=>s.jsxs(F,{value:M.id,children:[M.name," - ",M.position," (",M.shopName,")"]},M.id))})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Pay Period *"}),s.jsx(Q,{type:"month",value:x.payPeriod,onChange:M=>y({...x,payPeriod:M.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Bonus"}),s.jsx(Q,{type:"number",placeholder:"0.00",value:x.bonus,onChange:M=>y({...x,bonus:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Overtime"}),s.jsx(Q,{type:"number",placeholder:"0.00",value:x.overtime,onChange:M=>y({...x,overtime:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Deductions"}),s.jsx(Q,{type:"number",placeholder:"0.00",value:x.deductions,onChange:M=>y({...x,deductions:M.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Notes"}),s.jsx(vt,{placeholder:"Optional notes...",value:x.notes,onChange:M=>y({...x,notes:M.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(B,{onClick:S,children:"Add Adjustment"})]})]})]})})]})}function rle(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const nle={},Id={};function Do(e,t){try{const n=(nle[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Id?Id[n]:VP(n,n.split(":"))}catch{if(e in Id)return Id[e];const r=e?.match(sle);return r?VP(e,r.slice(1)):NaN}}const sle=/([+-]\d\d):?(\d\d)?/;function VP(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return Id[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Hs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Do(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),h$(this),L0(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Hs(...r,t):new Hs(Date.now(),t)}withTimeZone(t){return new Hs(+this,t)}getTimezoneOffset(){const t=-Do(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),L0(this),+this}[Symbol.for("constructDateFrom")](t){return new Hs(+new Date(t),this.timeZone)}}const qP=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!qP.test(e))return;const t=e.replace(qP,"$1UTC");Hs.prototype[t]&&(e.startsWith("get")?Hs.prototype[e]=function(){return this.internal[t]()}:(Hs.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),ale(this),+this},Hs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),L0(this),+this}))});function L0(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Do(e.timeZone,e)*60))}function ale(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),h$(e)}function h$(e){const t=Do(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),o=a-i,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const c=a-r;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const u=new Date(+e);u.setUTCSeconds(0);const d=a>0?u.getSeconds():(u.getSeconds()-60)%60,h=Math.round(-(Do(e.timeZone,e)*60))%60;(h||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+h),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+h+d));const f=Do(e.timeZone,e),m=f>0?Math.floor(f):Math.ceil(f),g=-new Date(+e).getTimezoneOffset()-m,x=m!==r,y=g-c;if(x&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const v=Do(e.timeZone,e),w=v>0?Math.floor(v):Math.ceil(v),b=m-w;b&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+b),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+b))}}class $r extends Hs{static tz(t,...r){return r.length?new $r(...r,t):new $r(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${rle(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new $r(+this,t)}[Symbol.for("constructDateFrom")](t){return new $r(+new Date(t),this.timeZone)}}const f$=6048e5,ile=864e5,YP=Symbol.for("constructDateFrom");function nr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&YP in e?e[YP](t):e instanceof Date?new e.constructor(t):new Date(t)}function ct(e,t){return nr(t||e,e)}function m$(e,t,r){const n=ct(e,r?.in);return isNaN(t)?nr(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function p$(e,t,r){const n=ct(e,r?.in);if(isNaN(t))return nr(r?.in||e,NaN);if(!t)return n;const a=n.getDate(),i=nr(r?.in||e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let ole={};function ph(){return ole}function Tc(e,t){const r=ph(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ct(e,t?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ou(e,t){return Tc(e,{...t,weekStartsOn:1})}function x$(e,t){const r=ct(e,t?.in),n=r.getFullYear(),a=nr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Ou(a),o=nr(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Ou(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function GP(e){const t=ct(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function td(e,...t){const r=nr.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Tu(e,t){const r=ct(e,t?.in);return r.setHours(0,0,0,0),r}function g$(e,t,r){const[n,a]=td(r?.in,e,t),i=Tu(n),o=Tu(a),l=+i-GP(i),c=+o-GP(o);return Math.round((l-c)/ile)}function lle(e,t){const r=x$(e,t),n=nr(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ou(n)}function cle(e,t,r){return m$(e,t*7,r)}function dle(e,t,r){return p$(e,t*12,r)}function ule(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=nr.bind(null,a));const i=ct(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),nr(n,r||NaN)}function hle(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=nr.bind(null,a));const i=ct(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),nr(n,r||NaN)}function fle(e,t,r){const[n,a]=td(r?.in,e,t);return+Tu(n)==+Tu(a)}function v$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mle(e){return!(!v$(e)&&typeof e!="number"||isNaN(+ct(e)))}function ple(e,t,r){const[n,a]=td(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function xle(e,t){const r=ct(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function y$(e,t){const[r,n]=td(e,t.start,t.end);return{start:r,end:n}}function gle(e,t){const{start:r,end:n}=y$(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setDate(1);let l=t?.step??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+o<=i;)c.push(nr(r,o)),o.setMonth(o.getMonth()+l);return a?c.reverse():c}function vle(e,t){const r=ct(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function yle(e,t){const r=ct(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function j$(e,t){const r=ct(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function jle(e,t){const{start:r,end:n}=y$(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setMonth(0,1);let l=t?.step??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+o<=i;)c.push(nr(r,o)),o.setFullYear(o.getFullYear()+l);return a?c.reverse():c}function w$(e,t){const r=ph(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ct(e,t?.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function wle(e,t){return w$(e,{...t,weekStartsOn:1})}const ble={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nle=(e,t,r)=>{let n;const a=ble[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Sle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Cle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ple={date:jv({formats:Sle,defaultWidth:"full"}),time:jv({formats:kle,defaultWidth:"full"}),dateTime:jv({formats:Cle,defaultWidth:"full"})},_le={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ele=(e,t,r,n)=>_le[e];function Sd(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Ale={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ole={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ile={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rle=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$le={ordinalNumber:Rle,era:Sd({values:Ale,defaultWidth:"wide"}),quarter:Sd({values:Ole,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sd({values:Tle,defaultWidth:"wide"}),day:Sd({values:Dle,defaultWidth:"wide"}),dayPeriod:Sd({values:Mle,defaultWidth:"wide",formattingValues:Ile,defaultFormattingWidth:"wide"})};function kd(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Fle(l,h=>h.test(o)):Lle(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Lle(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Fle(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Ble(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const zle=/^(\d+)(th|st|nd|rd)?/i,Wle=/\d+/i,Ule={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kle={any:[/^b/i,/^(a|c)/i]},Hle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vle={any:[/1/i,/2/i,/3/i,/4/i]},qle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zle={ordinalNumber:Ble({matchPattern:zle,parsePattern:Wle,valueCallback:e=>parseInt(e,10)}),era:kd({matchPatterns:Ule,defaultMatchWidth:"wide",parsePatterns:Kle,defaultParseWidth:"any"}),quarter:kd({matchPatterns:Hle,defaultMatchWidth:"wide",parsePatterns:Vle,defaultParseWidth:"any",valueCallback:e=>e+1}),month:kd({matchPatterns:qle,defaultMatchWidth:"wide",parsePatterns:Yle,defaultParseWidth:"any"}),day:kd({matchPatterns:Gle,defaultMatchWidth:"wide",parsePatterns:Xle,defaultParseWidth:"any"}),dayPeriod:kd({matchPatterns:Jle,defaultMatchWidth:"any",parsePatterns:Qle,defaultParseWidth:"any"})},AN={code:"en-US",formatDistance:Nle,formatLong:Ple,formatRelative:Ele,localize:$le,match:Zle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ece(e,t){const r=ct(e,t?.in);return g$(r,j$(r))+1}function b$(e,t){const r=ct(e,t?.in),n=+Ou(r)-+lle(r);return Math.round(n/f$)+1}function N$(e,t){const r=ct(e,t?.in),n=r.getFullYear(),a=ph(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=nr(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Tc(o,t),c=nr(t?.in||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Tc(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function tce(e,t){const r=ph(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=N$(e,t),i=nr(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Tc(i,t)}function S$(e,t){const r=ct(e,t?.in),n=+Tc(r,t)-+tce(r,t);return Math.round(n/f$)+1}function rt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ii={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return rt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):rt(r+1,2)},d(e,t){return rt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return rt(e.getHours()%12||12,t.length)},H(e,t){return rt(e.getHours(),t.length)},m(e,t){return rt(e.getMinutes(),t.length)},s(e,t){return rt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return rt(a,t.length)}},El={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ii.y(e,t)},Y:function(e,t,r,n){const a=N$(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return rt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):rt(i,t.length)},R:function(e,t){const r=x$(e);return rt(r,t.length)},u:function(e,t){const r=e.getFullYear();return rt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return rt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return rt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ii.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return rt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=S$(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):rt(a,t.length)},I:function(e,t,r){const n=b$(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):rt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ii.d(e,t)},D:function(e,t,r){const n=ece(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):rt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return rt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return rt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return rt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=El.noon:n===0?a=El.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=El.evening:n>=12?a=El.afternoon:n>=4?a=El.morning:a=El.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ii.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ii.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):rt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):rt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ii.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ii.s(e,t)},S:function(e,t){return ii.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return QP(n);case"XXXX":case"XX":return wo(n);case"XXXXX":case"XXX":default:return wo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return QP(n);case"xxxx":case"xx":return wo(n);case"xxxxx":case"xxx":default:return wo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JP(n,":");case"OOOO":default:return"GMT"+wo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JP(n,":");case"zzzz":default:return"GMT"+wo(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return rt(n,t.length)},T:function(e,t,r){return rt(+e,t.length)}};function JP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+rt(i,2)}function QP(e,t){return e%60===0?(e>0?"-":"+")+rt(Math.abs(e)/60,2):wo(e,t)}function wo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=rt(Math.trunc(n/60),2),i=rt(n%60,2);return r+a+t+i}const ZP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},k$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},rce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ZP(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ZP(n,t)).replace("{{time}}",k$(a,t))},nce={p:k$,P:rce},sce=/^D+$/,ace=/^Y+$/,ice=["D","DD","YY","YYYY"];function oce(e){return sce.test(e)}function lce(e){return ace.test(e)}function cce(e,t,r){const n=dce(e,t,r);if(console.warn(n),ice.includes(e))throw new RangeError(n)}function dce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fce=/^'([^]*?)'?$/,mce=/''/g,pce=/[a-zA-Z]/;function Dt(e,t,r){const n=ph(),a=r?.locale??n.locale??AN,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ct(e,r?.in);if(!mle(l))throw new RangeError("Invalid time value");let c=t.match(hce).map(d=>{const h=d[0];if(h==="p"||h==="P"){const f=nce[h];return f(d,a.formatLong)}return d}).join("").match(uce).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const h=d[0];if(h==="'")return{isToken:!1,value:xce(d)};if(XP[h])return{isToken:!0,value:d};if(h.match(pce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const h=d.value;(!r?.useAdditionalWeekYearTokens&&lce(h)||!r?.useAdditionalDayOfYearTokens&&oce(h))&&cce(h,t,String(e));const f=XP[h[0]];return f(l,h,a.localize,u)}).join("")}function xce(e){const t=e.match(fce);return t?t[1].replace(mce,"'"):e}function gce(e,t){const r=ct(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=nr(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function vce(e,t){return ct(e,t?.in).getMonth()}function yce(e,t){return ct(e,t?.in).getFullYear()}function jce(e,t){return+ct(e)>+ct(t)}function wce(e,t){return+ct(e)<+ct(t)}function bce(e,t,r){const[n,a]=td(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Nce(e,t,r){const[n,a]=td(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function Sce(e,t,r){const n=ct(e,r?.in),a=n.getFullYear(),i=n.getDate(),o=nr(r?.in||e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=gce(o);return n.setMonth(t,Math.min(i,l)),n}function kce(e,t,r){const n=ct(e,r?.in);return isNaN(+n)?nr(r?.in||e,NaN):(n.setFullYear(t),n)}const e_=5,Cce=4;function Pce(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,e_*7-1);return t.getMonth(e)===t.getMonth(i)?e_:Cce}function C$(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-1*6):t.addDays(r,-1*(n-1))}function _ce(e,t){const r=C$(e,t),n=Pce(e,t);return t.addDays(r,n*7-1)}class Rn{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?$r.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new $r(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):m$(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):p$(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):cle(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):dle(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):g$(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):ple(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):gle(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):jle(n),i=new Set(a.map(l=>this.getYear(l)));if(i.size===a.length)return a;const o=[];return i.forEach(l=>{o.push(new Date(l,0,1))}),o},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):_ce(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):wle(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):xle(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):w$(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):yle(n),this.format=(n,a,i)=>{const o=this.overrides?.format?this.overrides.format(n,a,this.options):Dt(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):b$(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):vce(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):yce(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):S$(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):jce(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):wce(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):v$(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):fle(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):bce(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):Nce(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):ule(n),this.min=n=>this.overrides?.min?this.overrides.min(n):hle(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):Sce(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):kce(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):C$(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Tu(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):Ou(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):vle(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Tc(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):j$(n),this.options={locale:AN,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Rn.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&Rn.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}Rn.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const ca=new Rn;class P${constructor(t,r,n=ca){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Ece{constructor(t,r){this.date=t,this.weeks=r}}class Ace{constructor(t,r){this.days=r,this.weekNumber=t}}function Oce(e){return G.createElement("button",{...e})}function Tce(e){return G.createElement("span",{...e})}function Dce(e){const{size:t=24,orientation:r="left",className:n}=e;return G.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&G.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&G.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&G.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&G.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Mce(e){const{day:t,modifiers:r,...n}=e;return G.createElement("td",{...n})}function Ice(e){const{day:t,modifiers:r,...n}=e,a=G.useRef(null);return G.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),G.createElement("button",{ref:a,...n})}var Pe;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Pe||(Pe={}));var Mt;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Mt||(Mt={}));var bs;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(bs||(bs={}));var Nn;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Nn||(Nn={}));function Rce(e){const{options:t,className:r,components:n,classNames:a,...i}=e,o=[a[Pe.Dropdown],r].join(" "),l=t?.find(({value:c})=>c===i.value);return G.createElement("span",{"data-disabled":i.disabled,className:a[Pe.DropdownRoot]},G.createElement(n.Select,{className:o,...i},t?.map(({value:c,label:u,disabled:d})=>G.createElement(n.Option,{key:c,value:c,disabled:d},u))),G.createElement("span",{className:a[Pe.CaptionLabel],"aria-hidden":!0},l?.label,G.createElement(n.Chevron,{orientation:"down",size:18,className:a[Pe.Chevron]})))}function $ce(e){return G.createElement("div",{...e})}function Lce(e){return G.createElement("div",{...e})}function Fce(e){const{calendarMonth:t,displayIndex:r,...n}=e;return G.createElement("div",{...n},e.children)}function Bce(e){const{calendarMonth:t,displayIndex:r,...n}=e;return G.createElement("div",{...n})}function zce(e){return G.createElement("table",{...e})}function Wce(e){return G.createElement("div",{...e})}const _$=p.createContext(void 0);function xh(){const e=p.useContext(_$);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Uce(e){const{components:t}=xh();return G.createElement(t.Dropdown,{...e})}function Kce(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:o,classNames:l,labels:{labelPrevious:c,labelNext:u}}=xh(),d=p.useCallback(f=>{a&&r?.(f)},[a,r]),h=p.useCallback(f=>{n&&t?.(f)},[n,t]);return G.createElement("nav",{...i},G.createElement(o.PreviousMonthButton,{type:"button",className:l[Pe.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:h},G.createElement(o.Chevron,{disabled:n?void 0:!0,className:l[Pe.Chevron],orientation:"left"})),G.createElement(o.NextMonthButton,{type:"button",className:l[Pe.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":u(a),onClick:d},G.createElement(o.Chevron,{disabled:a?void 0:!0,orientation:"right",className:l[Pe.Chevron]})))}function Hce(e){const{components:t}=xh();return G.createElement(t.Button,{...e})}function Vce(e){return G.createElement("option",{...e})}function qce(e){const{components:t}=xh();return G.createElement(t.Button,{...e})}function Yce(e){const{rootRef:t,...r}=e;return G.createElement("div",{...r,ref:t})}function Gce(e){return G.createElement("select",{...e})}function Xce(e){const{week:t,...r}=e;return G.createElement("tr",{...r})}function Jce(e){return G.createElement("th",{...e})}function Qce(e){return G.createElement("thead",{"aria-hidden":!0},G.createElement("tr",{...e}))}function Zce(e){const{week:t,...r}=e;return G.createElement("th",{...r})}function ede(e){return G.createElement("th",{...e})}function tde(e){return G.createElement("tbody",{...e})}function rde(e){const{components:t}=xh();return G.createElement(t.Dropdown,{...e})}const nde=Object.freeze(Object.defineProperty({__proto__:null,Button:Oce,CaptionLabel:Tce,Chevron:Dce,Day:Mce,DayButton:Ice,Dropdown:Rce,DropdownNav:$ce,Footer:Lce,Month:Fce,MonthCaption:Bce,MonthGrid:zce,Months:Wce,MonthsDropdown:Uce,Nav:Kce,NextMonthButton:Hce,Option:Vce,PreviousMonthButton:qce,Root:Yce,Select:Gce,Week:Xce,WeekNumber:Zce,WeekNumberHeader:ede,Weekday:Jce,Weekdays:Qce,Weeks:tde,YearsDropdown:rde},Symbol.toStringTag,{value:"Module"}));function Sa(e,t,r=!1,n=ca){let{from:a,to:i}=e;const{differenceInCalendarDays:o,isSameDay:l}=n;return a&&i?(o(i,a)<0&&([a,i]=[i,a]),o(t,a)>=(r?1:0)&&o(i,t)>=(r?1:0)):!r&&i?l(i,t):!r&&a?l(a,t):!1}function E$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function ON(e){return!!(e&&typeof e=="object"&&"from"in e)}function A$(e){return!!(e&&typeof e=="object"&&"after"in e)}function O$(e){return!!(e&&typeof e=="object"&&"before"in e)}function T$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function D$(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ka(e,t,r=ca){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:o}=r;return n.some(l=>{if(typeof l=="boolean")return l;if(r.isDate(l))return a(e,l);if(D$(l,r))return l.includes(e);if(ON(l))return Sa(l,e,!1,r);if(T$(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(e.getDay()):l.dayOfWeek===e.getDay();if(E$(l)){const c=i(l.before,e),u=i(l.after,e),d=c>0,h=u<0;return o(l.before,l.after)?h&&d:d||h}return A$(l)?i(e,l.after)>0:O$(l)?i(l.before,e)>0:typeof l=="function"?l(e):!1})}function sde(e,t,r,n,a){const{disabled:i,hidden:o,modifiers:l,showOutsideDays:c,broadcastCalendar:u,today:d}=t,{isSameDay:h,isSameMonth:f,startOfMonth:m,isBefore:j,endOfMonth:g,isAfter:x}=a,y=r&&m(r),v=n&&g(n),w={[Mt.focused]:[],[Mt.outside]:[],[Mt.disabled]:[],[Mt.hidden]:[],[Mt.today]:[]},b={};for(const N of e){const{date:k,displayMonth:P}=N,C=!!(P&&!f(k,P)),A=!!(y&&j(k,y)),S=!!(v&&x(k,v)),I=!!(i&&ka(k,i,a)),O=!!(o&&ka(k,o,a))||A||S||!u&&!c&&C||u&&c===!1&&C,z=h(k,d??a.today());C&&w.outside.push(N),I&&w.disabled.push(N),O&&w.hidden.push(N),z&&w.today.push(N),l&&Object.keys(l).forEach(V=>{const Y=l?.[V];Y&&ka(k,Y,a)&&(b[V]?b[V].push(N):b[V]=[N])})}return N=>{const k={[Mt.focused]:!1,[Mt.disabled]:!1,[Mt.hidden]:!1,[Mt.outside]:!1,[Mt.today]:!1},P={};for(const C in w){const A=w[C];k[C]=A.some(S=>S===N)}for(const C in b)P[C]=b[C].some(A=>A===N);return{...k,...P}}}function ade(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[Mt[i]]?a.push(t[Mt[i]]):t[bs[i]]&&a.push(t[bs[i]]),a),[t[Pe.Day]])}function ide(e){return{...nde,...e}}function ode(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function lde(){const e={};for(const t in Pe)e[Pe[t]]=`rdp-${Pe[t]}`;for(const t in Mt)e[Mt[t]]=`rdp-${Mt[t]}`;for(const t in bs)e[bs[t]]=`rdp-${bs[t]}`;for(const t in Nn)e[Nn[t]]=`rdp-${Nn[t]}`;return e}function M$(e,t,r){return(r??new Rn(t)).formatMonthYear(e)}const cde=M$;function dde(e,t,r){return(r??new Rn(t)).format(e,"d")}function ude(e,t=ca){return t.format(e,"LLLL")}function hde(e,t,r){return(r??new Rn(t)).format(e,"cccccc")}function fde(e,t=ca){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function mde(){return""}function I$(e,t=ca){return t.format(e,"yyyy")}const pde=I$,xde=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:M$,formatDay:dde,formatMonthCaption:cde,formatMonthDropdown:ude,formatWeekNumber:fde,formatWeekNumberHeader:mde,formatWeekdayName:hde,formatYearCaption:pde,formatYearDropdown:I$},Symbol.toStringTag,{value:"Module"}));function gde(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...xde,...e}}function vde(e,t,r,n,a){const{startOfMonth:i,startOfYear:o,endOfYear:l,eachMonthOfInterval:c,getMonth:u}=a;return c({start:o(e),end:l(e)}).map(f=>{const m=n.formatMonthDropdown(f,a),j=u(f),g=t&&f<i(t)||r&&f>i(r)||!1;return{value:j,label:m,disabled:g}})}function yde(e,t={},r={}){let n={...t?.[Pe.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function jde(e,t,r){const n=e.today(),a=r?e.startOfBroadcastWeek(n,e):t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let o=0;o<7;o++){const l=e.addDays(a,o);i.push(l)}return i}function wde(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,eachYearOfInterval:l,getYear:c}=n,u=i(e),d=o(t),h=l({start:u,end:d});return a&&h.reverse(),h.map(f=>{const m=r.formatYearDropdown(f,n);return{value:c(f),label:m,disabled:!1}})}function R$(e,t,r,n){let a=(n??new Rn(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const bde=R$;function $$(e,t,r){return(r??new Rn(t)).formatMonthYear(e)}const Nde=$$;function Sde(e,t,r,n){let a=(n??new Rn(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function kde(e){return"Choose the Month"}function Cde(){return""}function Pde(e){return"Go to the Next Month"}function _de(e){return"Go to the Previous Month"}function Ede(e,t,r){return(r??new Rn(t)).format(e,"cccc")}function Ade(e,t){return`Week ${e}`}function Ode(e){return"Week Number"}function Tde(e){return"Choose the Year"}const Dde=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Nde,labelDay:bde,labelDayButton:R$,labelGrid:$$,labelGridcell:Sde,labelMonthDropdown:kde,labelNav:Cde,labelNext:Pde,labelPrevious:_de,labelWeekNumber:Ade,labelWeekNumberHeader:Ode,labelWeekday:Ede,labelYearDropdown:Tde},Symbol.toStringTag,{value:"Module"})),gh=e=>e instanceof HTMLElement?e:null,wv=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Mde=e=>gh(e.querySelector("[data-animated-month]")),bv=e=>gh(e.querySelector("[data-animated-caption]")),Nv=e=>gh(e.querySelector("[data-animated-weeks]")),Ide=e=>gh(e.querySelector("[data-animated-nav]")),Rde=e=>gh(e.querySelector("[data-animated-weekdays]"));function $de(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const o=p.useRef(null),l=p.useRef(n),c=p.useRef(!1);p.useLayoutEffect(()=>{const u=l.current;if(l.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||u.length===0||n.length!==u.length)return;const d=i.isSameMonth(n[0].date,u[0].date),h=i.isAfter(n[0].date,u[0].date),f=h?r[Nn.caption_after_enter]:r[Nn.caption_before_enter],m=h?r[Nn.weeks_after_enter]:r[Nn.weeks_before_enter],j=o.current,g=e.current.cloneNode(!0);if(g instanceof HTMLElement?(wv(g).forEach(w=>{if(!(w instanceof HTMLElement))return;const b=Mde(w);b&&w.contains(b)&&w.removeChild(b);const N=bv(w);N&&N.classList.remove(f);const k=Nv(w);k&&k.classList.remove(m)}),o.current=g):o.current=null,c.current||d||a)return;const x=j instanceof HTMLElement?wv(j):[],y=wv(e.current);if(y?.every(v=>v instanceof HTMLElement)&&x&&x.every(v=>v instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const v=Ide(e.current);v&&(v.style.zIndex="1"),y.forEach((w,b)=>{const N=x[b];if(!N)return;w.style.position="relative",w.style.overflow="hidden";const k=bv(w);k&&k.classList.add(f);const P=Nv(w);P&&P.classList.add(m);const C=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),v&&(v.style.zIndex=""),k&&k.classList.remove(f),P&&P.classList.remove(m),w.style.position="",w.style.overflow="",w.contains(N)&&w.removeChild(N)};N.style.pointerEvents="none",N.style.position="absolute",N.style.overflow="hidden",N.setAttribute("aria-hidden","true");const A=Rde(N);A&&(A.style.opacity="0");const S=bv(N);S&&(S.classList.add(h?r[Nn.caption_before_exit]:r[Nn.caption_after_exit]),S.addEventListener("animationend",C));const I=Nv(N);I&&I.classList.add(h?r[Nn.weeks_before_exit]:r[Nn.weeks_after_exit]),w.insertBefore(N,w.firstChild)})}})}function Lde(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:l,broadcastCalendar:c}=r??{},{addDays:u,differenceInCalendarDays:d,differenceInCalendarMonths:h,endOfBroadcastWeek:f,endOfISOWeek:m,endOfMonth:j,endOfWeek:g,isAfter:x,startOfBroadcastWeek:y,startOfISOWeek:v,startOfWeek:w}=n,b=c?y(a,n):o?v(a):w(a),N=c?f(i):o?m(j(i)):g(j(i)),k=d(N,b),P=h(i,a)+1,C=[];for(let I=0;I<=k;I++){const O=u(b,I);if(t&&x(O,t))break;C.push(O)}const S=(c?35:42)*P;if(l&&C.length<S){const I=S-C.length;for(let O=0;O<I;O++){const z=u(C[C.length-1],1);C.push(z)}}return C}function Fde(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function Bde(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let o=0;o<a;o++){const l=n.addMonths(e,o);if(t&&l>t)break;i.push(l)}return i}function t_(e,t,r,n){const{month:a,defaultMonth:i,today:o=n.today(),numberOfMonths:l=1}=e;let c=a||i||o;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:h}=n;if(r&&u(r,c)<l-1){const f=-1*(l-1);c=d(r,f)}return t&&u(c,t)<0&&(c=t),h(c)}function zde(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:l,endOfWeek:c,getISOWeek:u,getWeek:d,startOfBroadcastWeek:h,startOfISOWeek:f,startOfWeek:m}=n,j=e.reduce((g,x)=>{const y=r.broadcastCalendar?h(x,n):r.ISOWeek?f(x):m(x),v=r.broadcastCalendar?i(x):r.ISOWeek?o(l(x)):c(l(x)),w=t.filter(P=>P>=y&&P<=v),b=r.broadcastCalendar?35:42;if(r.fixedWeeks&&w.length<b){const P=t.filter(C=>{const A=b-w.length;return C>v&&C<=a(v,A)});w.push(...P)}const N=w.reduce((P,C)=>{const A=r.ISOWeek?u(C):d(C),S=P.find(O=>O.weekNumber===A),I=new P$(C,x,n);return S?S.days.push(I):P.push(new Ace(A,[I])),P},[]),k=new Ece(x,N);return g.push(k),g},[]);return r.reverseMonths?j.reverse():j}function Wde(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:o,endOfMonth:l,addYears:c,endOfYear:u,newDate:d,today:h}=t,{fromYear:f,toYear:m,fromMonth:j,toMonth:g}=e;!r&&j&&(r=j),!r&&f&&(r=t.newDate(f,0,1)),!n&&g&&(n=g),!n&&m&&(n=d(m,11,31));const x=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=o(r):f?r=d(f,0,1):!r&&x&&(r=a(c(e.today??h(),-100))),n?n=l(n):m?n=d(m,11,31):!n&&x&&(n=u(e.today??h())),[r&&i(r),n&&i(n)]}function Ude(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=n,u=a?i:1,d=o(e);if(!t)return l(d,u);if(!(c(t,e)<i))return l(d,u)}function Kde(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=n,u=a?i??1:1,d=o(e);if(!t)return l(d,-u);if(!(c(d,t)<=0))return l(d,-u)}function Hde(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function Jx(e,t){const[r,n]=p.useState(e);return[t===void 0?r:t,n]}function Vde(e,t){const[r,n]=Wde(e,t),{startOfMonth:a,endOfMonth:i}=t,o=t_(e,r,n,t),[l,c]=Jx(o,e.month?o:void 0);p.useEffect(()=>{const k=t_(e,r,n,t);c(k)},[e.timeZone]);const u=Bde(l,n,e,t),d=Lde(u,e.endMonth?i(e.endMonth):void 0,e,t),h=zde(u,d,e,t),f=Hde(h),m=Fde(h),j=Kde(l,r,e,t),g=Ude(l,n,e,t),{disableNavigation:x,onMonthChange:y}=e,v=k=>f.some(P=>P.days.some(C=>C.isEqualTo(k))),w=k=>{if(x)return;let P=a(k);r&&P<a(r)&&(P=a(r)),n&&P>a(n)&&(P=a(n)),c(P),y?.(P)};return{months:h,weeks:f,days:m,navStart:r,navEnd:n,previousMonth:j,nextMonth:g,goToMonth:w,goToDay:k=>{v(k)||w(k.date)}}}var Ls;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Ls||(Ls={}));function r_(e){return!e[Mt.disabled]&&!e[Mt.hidden]&&!e[Mt.outside]}function qde(e,t,r,n){let a,i=-1;for(const o of e){const l=t(o);r_(l)&&(l[Mt.focused]&&i<Ls.FocusedModifier?(a=o,i=Ls.FocusedModifier):n?.isEqualTo(o)&&i<Ls.LastFocused?(a=o,i=Ls.LastFocused):r(o.date)&&i<Ls.Selected?(a=o,i=Ls.Selected):l[Mt.today]&&i<Ls.Today&&(a=o,i=Ls.Today))}return a||(a=e.find(o=>r_(t(o)))),a}function Yde(e,t,r,n,a,i,o){const{ISOWeek:l,broadcastCalendar:c}=i,{addDays:u,addMonths:d,addWeeks:h,addYears:f,endOfBroadcastWeek:m,endOfISOWeek:j,endOfWeek:g,max:x,min:y,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:b}=o;let k={day:u,week:h,month:d,year:f,startOfWeek:P=>c?v(P,o):l?w(P):b(P),endOfWeek:P=>c?m(P):l?j(P):g(P)}[e](r,t==="after"?1:-1);return t==="before"&&n?k=x([n,k]):t==="after"&&a&&(k=y([a,k])),k}function L$(e,t,r,n,a,i,o,l=0){if(l>365)return;const c=Yde(e,t,r.date,n,a,i,o),u=!!(i.disabled&&ka(c,i.disabled,o)),d=!!(i.hidden&&ka(c,i.hidden,o)),h=c,f=new P$(c,h,o);return!u&&!d?f:L$(e,t,f,n,a,i,o,l+1)}function Gde(e,t,r,n,a){const{autoFocus:i}=e,[o,l]=p.useState(),c=qde(t.days,r,n||(()=>!1),o),[u,d]=p.useState(i?c:void 0);return{isFocusTarget:g=>!!c?.isEqualTo(g),setFocused:d,focused:u,blur:()=>{l(u),d(void 0)},moveFocus:(g,x)=>{if(!u)return;const y=L$(g,x,u,t.navStart,t.navEnd,e,a);y&&(e.disableNavigation&&!t.days.some(w=>w.isEqualTo(y))||(t.goToDay(y),d(y)))}}}function Xde(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=Jx(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t,u=m=>l?.some(j=>c(j,m))??!1,{min:d,max:h}=e;return{selected:l,select:(m,j,g)=>{let x=[...l??[]];if(u(m)){if(l?.length===d||n&&l?.length===1)return;x=l?.filter(y=>!c(y,m))}else l?.length===h?x=[m]:x=[...x,m];return a||o(x),a?.(x,m,j,g),x},isSelected:u}}function Jde(e,t,r=0,n=0,a=!1,i=ca){const{from:o,to:l}=t||{},{isSameDay:c,isAfter:u,isBefore:d}=i;let h;if(!o&&!l)h={from:e,to:r>0?void 0:e};else if(o&&!l)c(o,e)?r===0?h={from:o,to:e}:a?h={from:o,to:void 0}:h=void 0:d(e,o)?h={from:e,to:o}:h={from:o,to:e};else if(o&&l)if(c(o,e)&&c(l,e))a?h={from:o,to:l}:h=void 0;else if(c(o,e))h={from:o,to:r>0?void 0:e};else if(c(l,e))h={from:e,to:r>0?void 0:e};else if(d(e,o))h={from:e,to:l};else if(u(e,o))h={from:o,to:e};else if(u(e,l))h={from:o,to:e};else throw new Error("Invalid range");if(h?.from&&h?.to){const f=i.differenceInCalendarDays(h.to,h.from);n>0&&f>n?h={from:e,to:void 0}:r>1&&f<r&&(h={from:e,to:void 0})}return h}function Qde(e,t,r=ca){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let l=0;l<=o;l++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function n_(e,t,r=ca){return Sa(e,t.from,!1,r)||Sa(e,t.to,!1,r)||Sa(t,e.from,!1,r)||Sa(t,e.to,!1,r)}function Zde(e,t,r=ca){const n=Array.isArray(t)?t:[t];if(n.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:r.isDate(l)?Sa(e,l,!1,r):D$(l,r)?l.some(c=>Sa(e,c,!1,r)):ON(l)?l.from&&l.to?n_(e,{from:l.from,to:l.to},r):!1:T$(l)?Qde(e,l.dayOfWeek,r):E$(l)?r.isAfter(l.before,l.after)?n_(e,{from:r.addDays(l.after,1),to:r.addDays(l.before,-1)},r):ka(e.from,l,r)||ka(e.to,l,r):A$(l)||O$(l)?ka(e.from,l,r)||ka(e.to,l,r):!1))return!0;const o=n.filter(l=>typeof l=="function");if(o.length){let l=e.from;const c=r.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=c;u++){if(o.some(d=>d(l)))return!0;l=r.addDays(l,1)}}return!1}function eue(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:o}=e,[l,c]=Jx(a,o?a:void 0),u=o?a:l;return{selected:u,select:(f,m,j)=>{const{min:g,max:x}=e,y=f?Jde(f,u,g,x,i,t):void 0;return n&&r&&y?.from&&y.to&&Zde({from:y.from,to:y.to},r,t)&&(y.from=f,y.to=void 0),o||c(y),o?.(y,f,m,j),y},isSelected:f=>u&&Sa(u,f,!1,t)}}function tue(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=Jx(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t;return{selected:l,select:(h,f,m)=>{let j=h;return!n&&l&&l&&c(h,l)&&(j=void 0),a||o(j),a?.(j,h,f,m),j},isSelected:h=>l?c(l,h):!1}}function rue(e,t){const r=tue(e,t),n=Xde(e,t),a=eue(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function nue(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new $r(t.today,t.timeZone)),t.month&&(t.month=new $r(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new $r(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new $r(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new $r(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new $r(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(Fe=>new $r(Fe,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new $r(t.selected.from,t.timeZone):void 0,to:t.selected.to?new $r(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:i,locale:o,classNames:l}=p.useMemo(()=>{const Fe={...AN,...t.locale};return{dateLib:new Rn({locale:Fe,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:ide(t.components),formatters:gde(t.formatters),labels:{...Dde,...t.labels},locale:Fe,classNames:{...lde(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:c,mode:u,navLayout:d,numberOfMonths:h=1,onDayBlur:f,onDayClick:m,onDayFocus:j,onDayKeyDown:g,onDayMouseEnter:x,onDayMouseLeave:y,onNextClick:v,onPrevClick:w,showWeekNumber:b,styles:N}=t,{formatCaption:k,formatDay:P,formatMonthDropdown:C,formatWeekNumber:A,formatWeekNumberHeader:S,formatWeekdayName:I,formatYearDropdown:O}=n,z=Vde(t,i),{days:V,months:Y,navStart:R,navEnd:W,previousMonth:_,nextMonth:T,goToMonth:re}=z,M=sde(V,t,R,W,i),{isSelected:H,select:te,selected:ne}=rue(t,i)??{},{blur:fe,focused:ae,isFocusTarget:ee,moveFocus:ce,setFocused:ie}=Gde(t,z,M,H??(()=>!1),i),{labelDayButton:le,labelGridcell:me,labelGrid:E,labelMonthDropdown:ue,labelNav:Ce,labelPrevious:Be,labelNext:Qe,labelWeekday:Ft,labelWeekNumber:Os,labelWeekNumberHeader:rd,labelYearDropdown:ml}=a,Ts=p.useMemo(()=>jde(i,t.ISOWeek),[i,t.ISOWeek]),ao=u!==void 0||m!==void 0,en=p.useCallback(()=>{_&&(re(_),w?.(_))},[_,re,w]),io=p.useCallback(()=>{T&&(re(T),v?.(T))},[re,T,v]),nd=p.useCallback((Fe,dt)=>Re=>{Re.preventDefault(),Re.stopPropagation(),ie(Fe),te?.(Fe.date,dt,Re),m?.(Fe.date,dt,Re)},[te,m,ie]),Dr=p.useCallback((Fe,dt)=>Re=>{ie(Fe),j?.(Fe.date,dt,Re)},[j,ie]),Ds=p.useCallback((Fe,dt)=>Re=>{fe(),f?.(Fe.date,dt,Re)},[fe,f]),sd=p.useCallback((Fe,dt)=>Re=>{const at={ArrowLeft:[Re.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Re.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Re.shiftKey?"year":"week","after"],ArrowUp:[Re.shiftKey?"year":"week","before"],PageUp:[Re.shiftKey?"year":"month","before"],PageDown:[Re.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(at[Re.key]){Re.preventDefault(),Re.stopPropagation();const[br,ze]=at[Re.key];ce(br,ze)}g?.(Fe.date,dt,Re)},[ce,g,t.dir]),pl=p.useCallback((Fe,dt)=>Re=>{x?.(Fe.date,dt,Re)},[x]),Za=p.useCallback((Fe,dt)=>Re=>{y?.(Fe.date,dt,Re)},[y]),ad=p.useCallback(Fe=>dt=>{const Re=Number(dt.target.value),at=i.setMonth(i.startOfMonth(Fe),Re);re(at)},[i,re]),xl=p.useCallback(Fe=>dt=>{const Re=Number(dt.target.value),at=i.setYear(i.startOfMonth(Fe),Re);re(at)},[i,re]),{className:oo,style:Ms}=p.useMemo(()=>({className:[l[Pe.Root],t.className].filter(Boolean).join(" "),style:{...N?.[Pe.Root],...t.style}}),[l,t.className,t.style,N]),de=ode(t),yt=p.useRef(null);$de(yt,!!t.animate,{classNames:l,months:Y,focused:ae,dateLib:i});const ei={dayPickerProps:t,selected:ne,select:te,isSelected:H,months:Y,nextMonth:T,previousMonth:_,goToMonth:re,getModifiers:M,components:r,classNames:l,styles:N,labels:a,formatters:n};return G.createElement(_$.Provider,{value:ei},G.createElement(r.Root,{rootRef:t.animate?yt:void 0,className:oo,style:Ms,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...de},G.createElement(r.Months,{className:l[Pe.Months],style:N?.[Pe.Months]},!t.hideNavigation&&!d&&G.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:l[Pe.Nav],style:N?.[Pe.Nav],"aria-label":Ce(),onPreviousClick:en,onNextClick:io,previousMonth:_,nextMonth:T}),Y.map((Fe,dt)=>G.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:l[Pe.Month],style:N?.[Pe.Month],key:dt,displayIndex:dt,calendarMonth:Fe},d==="around"&&!t.hideNavigation&&dt===0&&G.createElement(r.PreviousMonthButton,{type:"button",className:l[Pe.PreviousMonthButton],tabIndex:_?void 0:-1,"aria-disabled":_?void 0:!0,"aria-label":Be(_),onClick:en,"data-animated-button":t.animate?"true":void 0},G.createElement(r.Chevron,{disabled:_?void 0:!0,className:l[Pe.Chevron],orientation:t.dir==="rtl"?"right":"left"})),G.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:l[Pe.MonthCaption],style:N?.[Pe.MonthCaption],calendarMonth:Fe,displayIndex:dt},c?.startsWith("dropdown")?G.createElement(r.DropdownNav,{className:l[Pe.Dropdowns],style:N?.[Pe.Dropdowns]},(()=>{const Re=c==="dropdown"||c==="dropdown-months"?G.createElement(r.MonthsDropdown,{key:"month",className:l[Pe.MonthsDropdown],"aria-label":ue(),classNames:l,components:r,disabled:!!t.disableNavigation,onChange:ad(Fe.date),options:vde(Fe.date,R,W,n,i),style:N?.[Pe.Dropdown],value:i.getMonth(Fe.date)}):G.createElement("span",{key:"month"},C(Fe.date,i)),at=c==="dropdown"||c==="dropdown-years"?G.createElement(r.YearsDropdown,{key:"year",className:l[Pe.YearsDropdown],"aria-label":ml(i.options),classNames:l,components:r,disabled:!!t.disableNavigation,onChange:xl(Fe.date),options:wde(R,W,n,i,!!t.reverseYears),style:N?.[Pe.Dropdown],value:i.getYear(Fe.date)}):G.createElement("span",{key:"year"},O(Fe.date,i));return i.getMonthYearOrder()==="year-first"?[at,Re]:[Re,at]})(),G.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},k(Fe.date,i.options,i))):G.createElement(r.CaptionLabel,{className:l[Pe.CaptionLabel],role:"status","aria-live":"polite"},k(Fe.date,i.options,i))),d==="around"&&!t.hideNavigation&&dt===h-1&&G.createElement(r.NextMonthButton,{type:"button",className:l[Pe.NextMonthButton],tabIndex:T?void 0:-1,"aria-disabled":T?void 0:!0,"aria-label":Qe(T),onClick:io,"data-animated-button":t.animate?"true":void 0},G.createElement(r.Chevron,{disabled:T?void 0:!0,className:l[Pe.Chevron],orientation:t.dir==="rtl"?"left":"right"})),dt===h-1&&d==="after"&&!t.hideNavigation&&G.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:l[Pe.Nav],style:N?.[Pe.Nav],"aria-label":Ce(),onPreviousClick:en,onNextClick:io,previousMonth:_,nextMonth:T}),G.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":E(Fe.date,i.options,i)||void 0,className:l[Pe.MonthGrid],style:N?.[Pe.MonthGrid]},!t.hideWeekdays&&G.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:l[Pe.Weekdays],style:N?.[Pe.Weekdays]},b&&G.createElement(r.WeekNumberHeader,{"aria-label":rd(i.options),className:l[Pe.WeekNumberHeader],style:N?.[Pe.WeekNumberHeader],scope:"col"},S()),Ts.map(Re=>G.createElement(r.Weekday,{"aria-label":Ft(Re,i.options,i),className:l[Pe.Weekday],key:String(Re),style:N?.[Pe.Weekday],scope:"col"},I(Re,i.options,i)))),G.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:l[Pe.Weeks],style:N?.[Pe.Weeks]},Fe.weeks.map(Re=>G.createElement(r.Week,{className:l[Pe.Week],key:Re.weekNumber,style:N?.[Pe.Week],week:Re},b&&G.createElement(r.WeekNumber,{week:Re,style:N?.[Pe.WeekNumber],"aria-label":Os(Re.weekNumber,{locale:o}),className:l[Pe.WeekNumber],scope:"row",role:"rowheader"},A(Re.weekNumber,i)),Re.days.map(at=>{const{date:br}=at,ze=M(at);if(ze[Mt.focused]=!ze.hidden&&!!ae?.isEqualTo(at),ze[bs.selected]=H?.(br)||ze.selected,ON(ne)){const{from:it,to:Kr}=ne;ze[bs.range_start]=!!(it&&Kr&&i.isSameDay(br,it)),ze[bs.range_end]=!!(it&&Kr&&i.isSameDay(br,Kr)),ze[bs.range_middle]=Sa(ne,br,!0,i)}const Zx=yde(ze,N,t.modifiersStyles),$e=ade(ze,l,t.modifiersClassNames),et=!ao&&!ze.hidden?me(br,ze,i.options,i):void 0;return G.createElement(r.Day,{key:`${i.format(br,"yyyy-MM-dd")}_${i.format(at.displayMonth,"yyyy-MM")}`,day:at,modifiers:ze,className:$e.join(" "),style:Zx,role:"gridcell","aria-selected":ze.selected||void 0,"aria-label":et,"data-day":i.format(br,"yyyy-MM-dd"),"data-month":at.outside?i.format(br,"yyyy-MM"):void 0,"data-selected":ze.selected||void 0,"data-disabled":ze.disabled||void 0,"data-hidden":ze.hidden||void 0,"data-outside":at.outside||void 0,"data-focused":ze.focused||void 0,"data-today":ze.today||void 0},!ze.hidden&&ao?G.createElement(r.DayButton,{className:l[Pe.DayButton],style:N?.[Pe.DayButton],type:"button",day:at,modifiers:ze,disabled:ze.disabled||void 0,tabIndex:ee(at)?0:-1,"aria-label":le(br,ze,i.options,i),onClick:nd(at,ze),onBlur:Ds(at,ze),onFocus:Dr(at,ze),onKeyDown:sd(at,ze),onMouseEnter:pl(at,ze),onMouseLeave:Za(at,ze)},P(br,i.options,i)):!ze.hidden&&P(at.date,i.options,i))})))))))),t.footer&&G.createElement(r.Footer,{className:l[Pe.Footer],style:N?.[Pe.Footer],role:"status","aria-live":"polite"},t.footer)))}function Sv({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(nue,{showOutsideDays:r,className:pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:pe(pu({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:pe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:pe(pu({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(EF,{className:pe("size-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(AF,{className:pe("size-4",a),...i})},...n})}function sue(){const[e,t]=p.useState(!1),[r,n]=p.useState("daily"),[a,i]=p.useState(new Date),[o,l]=p.useState({from:void 0,to:void 0}),[c,u]=p.useState([]),[d,h]=p.useState(null);p.useEffect(()=>{r==="daily"&&a?f():r==="weekly"?m():r==="monthly"?j():r==="range"&&o.from&&o.to&&g()},[r,a,o]);const f=async()=>{if(a)try{t(!0);const N=a.toISOString().split("T")[0],k=await er.getSales(N);if(k.success){const P={date:N,sales:k.data.sales||[],totalAmount:k.data.totalAmount||0,totalTransactions:k.data.totalTransactions||0};u([P]),h(P)}else{const P={date:N,sales:[],totalAmount:0,totalTransactions:0};u([P]),h(P),q.error("Failed to load daily report")}}catch(N){console.error("Error loading daily report:",N);const k={date:a.toISOString().split("T")[0],sales:[],totalAmount:0,totalTransactions:0};u([k]),h(k),q.error("Error loading daily report")}finally{t(!1)}},m=async()=>{try{t(!0);const N=new Date,k=new Date(N.getTime()-7*24*60*60*1e3),P=k.toISOString().split("T")[0],C=N.toISOString().split("T")[0],A=await er.getSalesRange(P,C);if(A.success){u(A.data||[]);const S=A.data.reduce((V,Y)=>V+(Y.totalAmount||0),0),I=A.data.reduce((V,Y)=>V+(Y.totalTransactions||0),0),O=A.data.flatMap(V=>V.sales||[]),z={period:"weekly",startDate:k,endDate:N,totalAmount:S,totalTransactions:I,allSales:O,dailyBreakdown:A.data};h(z)}else u([]),h({period:"weekly",startDate:k,endDate:N,totalAmount:0,totalTransactions:0,allSales:[],dailyBreakdown:[]}),q.error("Failed to load weekly report")}catch(N){console.error("Error loading weekly report:",N),u([]),h(null),q.error("Error loading weekly report")}finally{t(!1)}},j=async()=>{try{t(!0);const N=new Date,k=new Date(N.getTime()-30*24*60*60*1e3),P=k.toISOString().split("T")[0],C=N.toISOString().split("T")[0],A=await er.getSalesRange(P,C);if(A.success){u(A.data||[]);const S=A.data.reduce((V,Y)=>V+(Y.totalAmount||0),0),I=A.data.reduce((V,Y)=>V+(Y.totalTransactions||0),0),O=A.data.flatMap(V=>V.sales||[]),z={period:"monthly",startDate:k,endDate:N,totalAmount:S,totalTransactions:I,allSales:O,dailyBreakdown:A.data};h(z)}else u([]),h({period:"monthly",startDate:k,endDate:N,totalAmount:0,totalTransactions:0,allSales:[],dailyBreakdown:[]}),q.error("Failed to load monthly report")}catch(N){console.error("Error loading monthly report:",N),u([]),h(null),q.error("Error loading monthly report")}finally{t(!1)}},g=async()=>{if(!(!o.from||!o.to))try{t(!0);const N=o.from.toISOString().split("T")[0],k=o.to.toISOString().split("T")[0],P=await er.getSalesRange(N,k);if(P.success){u(P.data||[]);const C=P.data.reduce((O,z)=>O+(z.totalAmount||0),0),A=P.data.reduce((O,z)=>O+(z.totalTransactions||0),0),S=P.data.flatMap(O=>O.sales||[]),I={dateRange:{from:o.from,to:o.to},totalAmount:C,totalTransactions:A,allSales:S,dailyBreakdown:P.data};h(I)}else u([]),h({dateRange:{from:o.from,to:o.to},totalAmount:0,totalTransactions:0,allSales:[],dailyBreakdown:[]}),q.error("Failed to load range report")}catch(N){console.error("Error loading range report:",N),u([]),h(null)}finally{t(!1)}},x=async()=>{try{if(r==="daily"&&a){const N=a.toISOString().split("T")[0],k=await er.getDailyReportCSV(N),P=window.URL.createObjectURL(k),C=document.createElement("a");C.href=P,C.download=`daily-report-${N}.csv`,C.click(),window.URL.revokeObjectURL(P),q.success("Report downloaded successfully")}else r==="weekly"?v():r==="monthly"?w():r==="range"&&o.from&&o.to&&y()}catch(N){console.error("Error downloading report:",N),q.error("Error downloading report")}},y=()=>{if(!d)return;const N=`Date,Transaction ID,Customer Name,Customer Phone,Items,Payment Method,Total Amount
`,k=d.allSales.map(z=>{const V=new Date(z.timestamp).toLocaleString(),Y=z.items.map(R=>`${R.name} (${R.size}) x${R.quantity}`).join("; ");return[V,z.receiptId||z.id,z.customer?.name||"N/A",z.customer?.phone||"N/A",`"${Y}"`,z.paymentMethod,z.total].join(",")}),P=`

RANGE SUMMARY
Period,${Dt(o.from,"yyyy-MM-dd")} to ${Dt(o.to,"yyyy-MM-dd")}
Total Transactions,${d.totalTransactions}
Total Amount,${d.totalAmount}
`,C=`

---
Powered by Rekon360 - Business Management Software
www.rekon360.com
Generated on ${new Date().toLocaleString()}
`,A=N+k.join(`
`)+P+C,S=new Blob([A],{type:"text/csv"}),I=window.URL.createObjectURL(S),O=document.createElement("a");O.href=I,O.download=`sales-report-${Dt(o.from,"yyyy-MM-dd")}-to-${Dt(o.to,"yyyy-MM-dd")}.csv`,O.click(),window.URL.revokeObjectURL(I),q.success("Range report downloaded successfully")},v=()=>{if(!d)return;const N=[];N.push("WEEKLY SALES REPORT"),N.push(""),N.push(`Period:,${Dt(d.startDate,"MMM dd yyyy")} - ${Dt(d.endDate,"MMM dd yyyy")}`),N.push(`Generated:,${Dt(new Date,"MMM dd yyyy HH:mm")}`),N.push(""),N.push("SUMMARY"),N.push(`Total Transactions:,${d.totalTransactions}`),N.push(`Total Sales Amount:,${d.totalAmount.toFixed(2)}`),N.push(`Average Transaction:,${(d.totalAmount/d.totalTransactions).toFixed(2)}`),N.push(""),N.push(""),N.push("TRANSACTION DETAILS"),N.push("Date & Time,Receipt ID,Customer Name,Customer Phone,Items,Payment Method,Amount"),d.allSales.forEach(S=>{const I=Dt(new Date(S.timestamp),"MMM dd yyyy HH:mm"),O=S.items.map(z=>`${z.name} (${z.size}) x${z.quantity}`).join("; ");N.push([I,S.receiptId||S.id,S.customer?.name||"Walk-in",S.customer?.phone||"N/A",`"${O}"`,S.paymentMethod,`${S.total.toFixed(2)}`].join(","))}),N.push(""),N.push(""),N.push("DAILY BREAKDOWN"),N.push("Date,Transactions,Total Sales"),d.dailyBreakdown.forEach(S=>{N.push([Dt(new Date(S.date),"MMM dd yyyy"),S.totalTransactions,`${S.totalAmount.toFixed(2)}`].join(","))}),N.push(""),N.push(""),N.push("---"),N.push("Powered by Rekon360 - Business Management Software"),N.push("www.rekon360.com"),N.push(`Generated on ${new Date().toLocaleString()}`);const k=N.join(`\r
`),P=new Blob([k],{type:"text/csv;charset=utf-8;"}),C=window.URL.createObjectURL(P),A=document.createElement("a");A.href=C,A.download=`weekly-sales-report-${Dt(d.startDate,"yyyy-MM-dd")}.csv`,A.click(),window.URL.revokeObjectURL(C),q.success("Weekly report downloaded successfully")},w=()=>{if(!d)return;const N=[];N.push("MONTHLY SALES REPORT"),N.push(""),N.push(`Period:,${Dt(d.startDate,"MMM dd yyyy")} - ${Dt(d.endDate,"MMM dd yyyy")}`),N.push(`Generated:,${Dt(new Date,"MMM dd yyyy HH:mm")}`),N.push(""),N.push("SUMMARY"),N.push(`Total Transactions:,${d.totalTransactions}`),N.push(`Total Sales Amount:,${d.totalAmount.toFixed(2)}`),N.push(`Average Transaction:,${(d.totalAmount/d.totalTransactions).toFixed(2)}`),N.push(""),N.push(""),N.push("TRANSACTION DETAILS"),N.push("Date & Time,Receipt ID,Customer Name,Customer Phone,Items,Payment Method,Amount"),d.allSales.forEach(S=>{const I=Dt(new Date(S.timestamp),"MMM dd yyyy HH:mm"),O=S.items.map(z=>`${z.name} (${z.size}) x${z.quantity}`).join("; ");N.push([I,S.receiptId||S.id,S.customer?.name||"Walk-in",S.customer?.phone||"N/A",`"${O}"`,S.paymentMethod,`${S.total.toFixed(2)}`].join(","))}),N.push(""),N.push(""),N.push("DAILY BREAKDOWN"),N.push("Date,Transactions,Total Sales"),d.dailyBreakdown.forEach(S=>{N.push([Dt(new Date(S.date),"MMM dd yyyy"),S.totalTransactions,`${S.totalAmount.toFixed(2)}`].join(","))}),N.push(""),N.push(""),N.push("---"),N.push("Powered by Rekon360 - Business Management Software"),N.push("www.rekon360.com"),N.push(`Generated on ${new Date().toLocaleString()}`);const k=N.join(`\r
`),P=new Blob([k],{type:"text/csv;charset=utf-8;"}),C=window.URL.createObjectURL(P),A=document.createElement("a");A.href=C,A.download=`monthly-sales-report-${Dt(d.startDate,"yyyy-MM-dd")}.csv`,A.click(),window.URL.revokeObjectURL(C),q.success("Monthly report downloaded successfully")},b=()=>{if(r==="daily"&&d){const N={};return d.sales.forEach(k=>{const C=`${new Date(k.timestamp).getHours()}:00`;N[C]||(N[C]={hour:C,amount:0,transactions:0}),N[C].amount+=k.total,N[C].transactions+=1}),Object.values(N)}else{if(r==="weekly"&&d)return c.map(N=>({date:Dt(new Date(N.date),"MMM dd"),amount:N.totalAmount,transactions:N.totalTransactions}));if(r==="monthly"&&d)return c.map(N=>({date:Dt(new Date(N.date),"MMM dd"),amount:N.totalAmount,transactions:N.totalTransactions}));if(r==="range"&&d)return c.map(N=>({date:Dt(new Date(N.date),"MMM dd"),amount:N.totalAmount,transactions:N.totalTransactions}))}return[]};return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Sales Reports"}),s.jsx("p",{className:"text-muted-foreground",children:"Generate and analyze sales reports with custom date ranges"})]}),s.jsxs(B,{onClick:x,disabled:!d||e,children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Download Report"]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-5 w-5"}),"Report Configuration"]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Report Type"}),s.jsxs(je,{value:r,onValueChange:n,children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"daily",children:"Daily Report"}),s.jsx(F,{value:"weekly",children:"Weekly Report"}),s.jsx(F,{value:"monthly",children:"Monthly Report"}),s.jsx(F,{value:"range",children:"Custom Date Range"})]})]})]}),r==="daily"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"Select Date"}),s.jsxs(Of,{children:[s.jsx(Tf,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(qn,{className:"mr-2 h-4 w-4"}),a?Dt(a,"PPP"):"Pick a date"]})}),s.jsx(Df,{className:"w-auto p-0",align:"start",children:s.jsx(Sv,{mode:"single",selected:a,onSelect:i,initialFocus:!0})})]})]}),r==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"From Date"}),s.jsxs(Of,{children:[s.jsx(Tf,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(qn,{className:"mr-2 h-4 w-4"}),o.from?Dt(o.from,"PPP"):"Start date"]})}),s.jsx(Df,{className:"w-auto p-0",align:"start",children:s.jsx(Sv,{mode:"single",selected:o.from,onSelect:N=>l({...o,from:N}),initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{children:"To Date"}),s.jsxs(Of,{children:[s.jsx(Tf,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(qn,{className:"mr-2 h-4 w-4"}),o.to?Dt(o.to,"PPP"):"End date"]})}),s.jsx(Df,{className:"w-auto p-0",align:"start",children:s.jsx(Sv,{mode:"single",selected:o.to,onSelect:N=>l({...o,to:N}),initialFocus:!0})})]})]})]})]})})]}),e&&s.jsx($,{children:s.jsx(L,{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading report data..."})]})})}),!e&&d&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Sales"}),s.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{className:"compact-card-content",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",d.totalAmount?.toFixed(2)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r==="daily"?"For selected date":"For selected period"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Transactions"}),s.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{className:"compact-card-content",children:[s.jsx("div",{className:"text-2xl font-bold",children:d.totalTransactions||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r==="daily"?"Transactions today":"Total transactions"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Average Transaction"}),s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{className:"compact-card-content",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",d.totalTransactions>0?(d.totalAmount/d.totalTransactions).toFixed(2):"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per transaction"})]})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ia,{className:"h-5 w-5"}),"Sales ",r==="daily"?"Timeline":"Trend"]})}),s.jsx(L,{children:b().length>0?s.jsx(En,{width:"100%",height:300,children:s.jsxs(Js,{data:b(),children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:r==="daily"?"hour":"date",fontSize:12}),s.jsx(gr,{fontSize:12}),s.jsx(dn,{formatter:N=>[`${N.toFixed(2)}`,"Sales"],contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"4px"}}),s.jsx(xr,{dataKey:"amount",fill:"#8884d8"})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:s.jsx("p",{children:"No data available for chart"})})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Vo,{className:"h-5 w-5"}),"Transaction Details"]})}),s.jsx(L,{children:(r==="daily"?d.sales:d.allSales)?.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Vo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No transactions found for the selected period"})]}):s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Time"}),s.jsx(Z,{children:"Receipt ID"}),s.jsx(Z,{children:"Customer"}),s.jsx(Z,{children:"Items"}),s.jsx(Z,{children:"Payment"}),s.jsx(Z,{children:"Amount"})]})}),s.jsx(Gt,{children:(r==="daily"?d.sales:d.allSales)?.map(N=>s.jsxs(Ie,{children:[s.jsx(J,{children:new Date(N.timestamp).toLocaleString()}),s.jsx(J,{className:"font-mono",children:N.receiptId||N.id}),s.jsx(J,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:N.customer?.name||"Walk-in Customer"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:N.customer?.phone})]})}),s.jsxs(J,{children:[N.items.length," item",N.items.length!==1?"s":""]}),s.jsx(J,{children:s.jsx(se,{variant:"outline",children:N.paymentMethod})}),s.jsxs(J,{className:"font-medium",children:["$",N.total.toFixed(2)]})]},N.id))})]})})]})]}),!e&&!d&&s.jsx($,{children:s.jsxs(L,{className:"text-center py-8",children:[s.jsx(qn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select a date or date range to generate a report"})]})})]})}function aue(){const[e,t]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{a()},[]);const a=async()=>{try{const i=tt(),{data:{user:o}}=await i.auth.getUser();if(o?.user_metadata?.business_id){const{data:l,error:c}=await i.from("businesses").select("*").eq("id",o.user_metadata.business_id).single();c?(console.error("Error loading business data:",c),q.error("Failed to load business information")):t(l)}}catch(i){console.error("Error:",i)}finally{n(!1)}};return r?s.jsx("div",{className:"p-4 md:p-6 flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"System Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your ERP system preferences"})]}),s.jsxs(pn,{defaultValue:"general",className:"space-y-6",children:[s.jsxs(xn,{children:[s.jsx(_e,{value:"general",children:"General"}),s.jsx(_e,{value:"notifications",children:"Notifications"}),s.jsx(_e,{value:"security",children:"Security"}),s.jsx(_e,{value:"integrations",children:"Integrations"}),s.jsx(_e,{value:"preferences",children:"Preferences"})]}),s.jsxs(Ee,{value:"general",className:"space-y-6",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"h-5 w-5"}),"Company Information"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"companyName",children:"Company Name"}),s.jsx(Q,{id:"companyName",defaultValue:e?.business_name||""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"businessType",children:"Business Type"}),s.jsxs(je,{defaultValue:e?.business_type||"retail",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"wholesale",children:"Wholesale"}),s.jsx(F,{value:"retail",children:"Retail"}),s.jsx(F,{value:"distribution",children:"Distribution"}),s.jsx(F,{value:"service",children:"Service"}),s.jsx(F,{value:"manufacturing",children:"Manufacturing"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"email",children:"Business Email"}),s.jsx(Q,{id:"email",type:"email",defaultValue:e?.email||""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"phone",children:"Business Phone"}),s.jsx(Q,{id:"phone",defaultValue:"N/A"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"address",children:"Business Address"}),s.jsx(vt,{id:"address",defaultValue:e?.business_description||"No description provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"taxId",children:"Tax ID"}),s.jsx(Q,{id:"taxId",defaultValue:"N/A"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"currency",children:"Default Currency"}),s.jsxs(je,{defaultValue:"usd",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"usd",children:"USD ($)"}),s.jsx(F,{value:"ghs",children:"GHS ()"}),s.jsx(F,{value:"eur",children:"EUR ()"}),s.jsx(F,{value:"gbp",children:"GBP ()"})]})]})]})]})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-5 w-5"}),"User Management"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Administrator"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e?.email||"No email"})]}),s.jsx(se,{children:"Owner"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Sales Manager"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"sales@wholeerp.com"})]}),s.jsx(se,{variant:"secondary",children:"Manager"})]}),s.jsxs(B,{className:"w-full",children:[s.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Invite New User"]})]})]})]}),s.jsx(Ee,{value:"notifications",className:"space-y-6",children:s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(jp,{className:"h-5 w-5"}),"Notification Preferences"]})}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Order Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new orders are placed"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Low Stock Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Alert when inventory is running low"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Payment Reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Remind about overdue payments"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"System Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications about system updates"})]}),s.jsx(Ct,{})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Weekly Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly business reports"})]}),s.jsx(Ct,{defaultChecked:!0})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"Email Preferences"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"emailFrequency",children:"Email Frequency"}),s.jsxs(je,{defaultValue:"immediate",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"immediate",children:"Immediate"}),s.jsx(F,{value:"hourly",children:"Hourly Digest"}),s.jsx(F,{value:"daily",children:"Daily Digest"}),s.jsx(F,{value:"weekly",children:"Weekly Digest"})]})]})]})]})]})]})}),s.jsx(Ee,{value:"security",className:"space-y-6",children:s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5"}),"Security & Privacy"]})}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),s.jsx(Ct,{})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Login Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified of new login sessions"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Session Timeout"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-logout after inactivity"})]}),s.jsxs(je,{defaultValue:"30min",children:[s.jsx(be,{className:"w-32",children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"15min",children:"15 min"}),s.jsx(F,{value:"30min",children:"30 min"}),s.jsx(F,{value:"1hour",children:"1 hour"}),s.jsx(F,{value:"4hours",children:"4 hours"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"Password Security"}),s.jsx(B,{variant:"outline",children:"Change Password"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"passwordPolicy",children:"Password Policy"}),s.jsxs(je,{defaultValue:"strong",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"basic",children:"Basic (8+ characters)"}),s.jsx(F,{value:"strong",children:"Strong (12+ chars, mixed case, numbers)"}),s.jsx(F,{value:"enterprise",children:"Enterprise (complex requirements)"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"Data Backup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Automatic Backups"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last backup: Today at 3:00 AM"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(B,{variant:"outline",children:"Download Backup"})]})]})]})}),s.jsx(Ee,{value:"integrations",className:"space-y-6",children:s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5"}),"Third-Party Integrations"]})}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded",children:s.jsx(Ai,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email Service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connected to SendGrid"})]})]}),s.jsx(se,{children:"Connected"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded",children:s.jsx(pa,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Accounting Software"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"QuickBooks integration"})]})]}),s.jsx(B,{variant:"outline",size:"sm",children:"Connect"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded",children:s.jsx(wp,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"E-commerce Platform"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shopify store sync"})]})]}),s.jsx(B,{variant:"outline",size:"sm",children:"Connect"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded",children:s.jsx(Jr,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Shipping Provider"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"FedEx API integration"})]})]}),s.jsx(se,{variant:"secondary",children:"Connected"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"API Settings"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"apiKey",children:"API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{id:"apiKey",value:"wh_live_51H...",type:"password",readOnly:!0}),s.jsx(B,{variant:"outline",children:"Regenerate"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"webhookUrl",children:"Webhook URL"}),s.jsx(Q,{id:"webhookUrl",defaultValue:"https://wholeerp.com/api/webhooks"})]})]})]})]})}),s.jsxs(Ee,{value:"preferences",className:"space-y-6",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx($j,{className:"h-5 w-5"}),"Display & Preferences"]})}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"theme",children:"Theme"}),s.jsxs(je,{defaultValue:"system",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"light",children:"Light"}),s.jsx(F,{value:"dark",children:"Dark"}),s.jsx(F,{value:"system",children:"System"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"language",children:"Language"}),s.jsxs(je,{defaultValue:"en",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"en",children:"English"}),s.jsx(F,{value:"es",children:"Spanish"}),s.jsx(F,{value:"fr",children:"French"}),s.jsx(F,{value:"de",children:"German"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(je,{defaultValue:"est",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"est",children:"Eastern Time (EST)"}),s.jsx(F,{value:"cst",children:"Central Time (CST)"}),s.jsx(F,{value:"mst",children:"Mountain Time (MST)"}),s.jsx(F,{value:"pst",children:"Pacific Time (PST)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"dateFormat",children:"Date Format"}),s.jsxs(je,{defaultValue:"mdy",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"mdy",children:"MM/DD/YYYY"}),s.jsx(F,{value:"dmy",children:"DD/MM/YYYY"}),s.jsx(F,{value:"ymd",children:"YYYY-MM-DD"})]})]})]})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"Dashboard Preferences"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Show Quick Stats"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display overview metrics on dashboard"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Auto-refresh Data"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically update dashboard data"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"recordsPerPage",children:"Records per Page"}),s.jsxs(je,{defaultValue:"25",children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"10",children:"10"}),s.jsx(F,{value:"25",children:"25"}),s.jsx(F,{value:"50",children:"50"}),s.jsx(F,{value:"100",children:"100"})]})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",children:"Reset to Defaults"}),s.jsx(B,{children:"Save Changes"})]})]})]})]})}function iue({businessConfig:e}){const[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState("all"),[h,f]=p.useState({name:"",type:"shop",address:"",phone:"",manager:""});p.useEffect(()=>{m()},[]);const m=async()=>{try{a(!0),r([])}catch(_){console.error("Error loading locations:",_),q.error("Failed to load locations")}finally{a(!1)}},j=async()=>{try{if(!h.name||!h.address){q.error("Name and address are required");return}const _={id:`loc_${Date.now()}`,name:h.name,type:h.type,address:h.address,phone:h.phone,manager:h.manager,staffCount:0,inventoryValue:0,monthlySales:0,dailySales:0,cashierCount:0,avgOrderValue:0,totalOrders:0,growth:0,status:"active",createdAt:new Date().toISOString().split("T")[0]};r([...t,_]),q.success("Location added successfully"),o(!1),v()}catch(_){console.error("Error adding location:",_),q.error("Failed to add location")}},g=_=>{c(_),f({name:_.name,type:_.type,address:_.address,phone:_.phone||"",manager:_.manager||""}),o(!0)},x=async()=>{try{if(!l)return;const _={...l,...h};r(t.map(T=>T.id===l.id?_:T)),q.success("Location updated successfully"),o(!1),c(null),v()}catch(_){console.error("Error updating location:",_),q.error("Failed to update location")}},y=async _=>{if(window.confirm("Are you sure you want to delete this location? This action cannot be undone."))try{r(t.filter(re=>re.id!==_)),q.success("Location deleted successfully")}catch(re){console.error("Error deleting location:",re),q.error("Failed to delete location")}},v=()=>{f({name:"",type:"shop",address:"",phone:"",manager:""}),c(null)},w=_=>{switch(_){case"shop":return s.jsx(gc,{className:"h-4 w-4"});case"warehouse":return s.jsx(kE,{className:"h-4 w-4"});case"office":return s.jsx(At,{className:"h-4 w-4"});default:return s.jsx(Gn,{className:"h-4 w-4"})}},b=_=>{const re={shop:{label:"Shop",color:"bg-blue-100 text-blue-800"},warehouse:{label:"Warehouse",color:"bg-green-100 text-green-800"},office:{label:"Office",color:"bg-purple-100 text-purple-800"}}[_];return s.jsx(se,{className:re.color,children:re.label})},N=_=>_==="active"?s.jsx(se,{className:"bg-green-100 text-green-800",children:"Active"}):s.jsx(se,{className:"bg-red-100 text-red-800",children:"Inactive"}),k=u==="all"?null:t.find(_=>_.id===u),P=u==="all"?t:t.filter(_=>_.id===u),C=t.length,A=t.filter(_=>_.status==="active").length,S=P.reduce((_,T)=>_+T.staffCount,0);P.reduce((_,T)=>_+T.inventoryValue,0);const I=P.reduce((_,T)=>_+T.monthlySales,0);P.reduce((_,T)=>_+(T.dailySales||0),0);const O=P.reduce((_,T)=>_+(T.totalOrders||0),0),z=O>0?I/O:0,V=t.map(_=>({name:_.name,sales:_.monthlySales,orders:_.totalOrders})),Y=t.map(_=>({name:_.name,growth:_.growth||0,efficiency:((_.monthlySales||0)/(_.staffCount||1)/1e3).toFixed(1)})),R=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],W=[];return n?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),s.jsx("span",{children:"Loading locations..."})]})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Location Management"}),s.jsxs("p",{className:"text-muted-foreground",children:["Manage your ",e?.locationCount||C," location",(e?.locationCount||C)>1?"s":""," and track performance"]})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[s.jsxs(je,{value:u,onValueChange:d,children:[s.jsx(be,{className:"w-48",children:s.jsx(we,{placeholder:"All Locations"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Locations"}),t.map(_=>s.jsx(F,{value:_.id,children:_.name},_.id))]})]}),s.jsxs(Ye,{open:i,onOpenChange:o,children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{onClick:v,children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Location"]})}),s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:l?"Edit Location":"Add New Location"}),s.jsx(xt,{children:l?"Update location information":"Add a new location to your business"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"name",children:"Location Name *"}),s.jsx(Q,{id:"name",placeholder:"Enter location name",value:h.name,onChange:_=>f({...h,name:_.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"type",children:"Location Type"}),s.jsxs(je,{value:h.type,onValueChange:_=>f({...h,type:_}),children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"shop",children:"Shop"}),s.jsx(F,{value:"warehouse",children:"Warehouse"}),s.jsx(F,{value:"office",children:"Office"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"address",children:"Address *"}),s.jsx(vt,{id:"address",placeholder:"Enter full address",value:h.address,onChange:_=>f({...h,address:_.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Q,{id:"phone",placeholder:"Enter phone number",value:h.phone,onChange:_=>f({...h,phone:_.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"manager",children:"Manager"}),s.jsx(Q,{id:"manager",placeholder:"Enter manager name",value:h.manager,onChange:_=>f({...h,manager:_.target.value})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(B,{onClick:l?x:j,children:l?"Update Location":"Add Location"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:u==="all"?"Total Locations":"Location Status"}),s.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u==="all"?C:k?.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u==="all"?`${A} active`:N(k?.status||"active")})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Monthly Sales"}),s.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",I.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u==="all"?"All locations":k?.name})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Staff"}),s.jsx(Nt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:S}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",u==="all"?"all locations":"this location"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Avg Order Value"}),s.jsx(Li,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",z.toFixed(0)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[O," orders"]})]})]})]}),s.jsxs(pn,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(xn,{children:[s.jsx(_e,{value:"overview",children:"Overview"}),s.jsx(_e,{value:"analytics",children:"Analytics"}),s.jsx(_e,{value:"manage",children:"Manage Locations"})]}),s.jsxs(Ee,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Sales by Location"})}),s.jsx(L,{children:s.jsx(En,{width:"100%",height:300,children:s.jsxs(Js,{data:V,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"name"}),s.jsx(gr,{}),s.jsx(dn,{}),s.jsx(xr,{dataKey:"sales",fill:"#8884d8"})]})})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Daily Sales Trend"}),s.jsx(Oe,{children:u==="all"?"All locations combined":k?.name})]}),s.jsx(L,{children:s.jsx(En,{width:"100%",height:300,children:s.jsxs(Vx,{data:W,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"day"}),s.jsx(gr,{}),s.jsx(dn,{}),s.jsx(Hi,{type:"monotone",dataKey:"sales",stroke:"#8884d8",strokeWidth:2})]})})})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Location Performance"}),s.jsx(Oe,{children:"Key metrics for each location"})]}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:P.map(_=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:w(_.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:_.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.address})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[b(_.type),N(_.status)]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly Sales"}),s.jsxs("p",{className:"text-lg font-semibold",children:["$",_.monthlySales.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders"}),s.jsx("p",{className:"text-lg font-semibold",children:_.totalOrders})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Staff"}),s.jsx("p",{className:"text-lg font-semibold",children:_.staffCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Inventory"}),s.jsxs("p",{className:"text-lg font-semibold",children:["$",(_.inventoryValue/1e3).toFixed(0),"K"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Growth"}),s.jsxs("div",{className:"flex items-center gap-1",children:[(_.growth||0)>=0?s.jsx(Vt,{className:"h-4 w-4 text-green-600"}):s.jsx(Lj,{className:"h-4 w-4 text-red-600"}),s.jsxs("p",{className:`text-lg font-semibold ${(_.growth||0)>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(_.growth||0).toFixed(1),"%"]})]})]})]})]},_.id))})})]})]}),s.jsxs(Ee,{value:"analytics",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Performance by Location"})}),s.jsx(L,{children:s.jsx(En,{width:"100%",height:300,children:s.jsxs(Js,{data:Y,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"name"}),s.jsx(gr,{}),s.jsx(dn,{}),s.jsx(dl,{}),s.jsx(xr,{dataKey:"growth",fill:"#82ca9d",name:"Growth %"}),s.jsx(xr,{dataKey:"efficiency",fill:"#8884d8",name:"Efficiency (K/staff)"})]})})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Sales Distribution"})}),s.jsx(L,{children:s.jsx(En,{width:"100%",height:300,children:s.jsxs(kN,{children:[s.jsx(Wx,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:_=>`${_.name}: $${(_.sales/1e3).toFixed(0)}K`,outerRadius:80,fill:"#8884d8",dataKey:"sales",children:V.map((_,T)=>s.jsx(ed,{fill:R[T%R.length]},`cell-${T}`))}),s.jsx(dn,{})]})})})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Detailed Performance Metrics"})}),s.jsx(L,{children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Location"}),s.jsx(Z,{children:"Sales/Staff"}),s.jsx(Z,{children:"Avg Order"}),s.jsx(Z,{children:"Orders/Day"}),s.jsx(Z,{children:"Growth"}),s.jsx(Z,{children:"Manager"})]})}),s.jsx(Gt,{children:P.map(_=>s.jsxs(Ie,{children:[s.jsx(J,{className:"font-medium",children:_.name}),s.jsxs(J,{children:["$",((_.monthlySales||0)/(_.staffCount||1)/1e3).toFixed(1),"K"]}),s.jsxs(J,{children:["$",((_.monthlySales||0)/(_.totalOrders||1)).toFixed(0)]}),s.jsx(J,{children:((_.totalOrders||0)/30).toFixed(1)}),s.jsx(J,{children:s.jsxs("span",{className:(_.growth||0)>=0?"text-green-600":"text-red-600",children:[(_.growth||0)>=0?"+":"",(_.growth||0).toFixed(1),"%"]})}),s.jsx(J,{children:_.manager||"Not assigned"})]},_.id))})]})})]})]}),s.jsx(Ee,{value:"manage",className:"space-y-4",children:s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Gn,{className:"h-5 w-5"}),"All Locations (",t.length,")"]})}),s.jsx(L,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Gn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No locations yet"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Add your first location to get started"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Location"}),s.jsx(Z,{children:"Type"}),s.jsx(Z,{children:"Manager"}),s.jsx(Z,{children:"Staff"}),s.jsx(Z,{children:"Inventory"}),s.jsx(Z,{children:"Sales"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:t.map(_=>s.jsxs(Ie,{children:[s.jsx(J,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.address}),_.phone&&s.jsx("p",{className:"text-sm text-muted-foreground",children:_.phone})]})}),s.jsx(J,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[w(_.type),b(_.type)]})}),s.jsx(J,{children:_.manager||"Not assigned"}),s.jsx(J,{children:_.staffCount}),s.jsxs(J,{children:["$",_.inventoryValue.toLocaleString()]}),s.jsxs(J,{children:["$",_.monthlySales.toLocaleString()]}),s.jsx(J,{children:N(_.status)}),s.jsx(J,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>g(_),className:"h-8 w-8 p-0",children:s.jsx(bp,{className:"h-4 w-4"})}),s.jsx(B,{variant:"destructive",size:"sm",onClick:()=>y(_.id),className:"h-8 w-8 p-0",children:s.jsx(Ka,{className:"h-4 w-4"})})]})})]},_.id))})]})})})]})})]})]})}function oue({businessConfig:e}){const[t,r]=p.useState("6months"),[n,a]=p.useState(!0),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[h,f]=p.useState([]),[m,j]=p.useState([]);p.useEffect(()=>{g()},[t]);const g=async()=>{try{a(!0),o([]),c([]),d([]),f([]),j([])}catch(b){console.error("Error loading analytics:",b)}finally{a(!1)}},x=l.reduce((b,N)=>b+(N.sales||0),0);l.reduce((b,N)=>b+(N.profit||0),0);const y=l.reduce((b,N)=>b+(N.orders||0),0),v=l.reduce((b,N)=>b+(N.cashierInputs||0),0),w=l.length>0?l.reduce((b,N)=>b+(N.growth||0),0)/l.length:0;return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Business Analytics"}),s.jsxs("p",{className:"text-muted-foreground",children:["Performance insights across all ",i.length," locations"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(je,{value:t,onValueChange:r,children:[s.jsx(be,{className:"w-48",children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"1week",children:"Last Week"}),s.jsx(F,{value:"1month",children:"Last Month"}),s.jsx(F,{value:"3months",children:"Last 3 Months"}),s.jsx(F,{value:"6months",children:"Last 6 Months"}),s.jsx(F,{value:"1year",children:"Last Year"})]})]}),s.jsxs(B,{size:"sm",className:"h-8 px-3",children:[s.jsx(Xi,{className:"h-3 w-3 mr-1"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Revenue"}),s.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl",children:["$",x.toLocaleString()]}),s.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1"}),"+",w.toFixed(1),"% across locations"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Cashier Inputs"}),s.jsx(xc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl",children:v.toLocaleString()}),s.jsxs("div",{className:"flex items-center text-xs text-blue-600",children:[s.jsx(Nt,{className:"h-3 w-3 mr-1"}),"Across all locations"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Orders"}),s.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl",children:y.toLocaleString()}),s.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1"}),"Across all locations"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Avg Order Value"}),s.jsx(Li,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl",children:["$",(x/y).toFixed(0)]}),s.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1"}),"Per order average"]})]})]})]}),s.jsxs(pn,{defaultValue:"performance",className:"space-y-4",children:[s.jsxs(xn,{className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[s.jsx(_e,{value:"performance",children:"Location Performance"}),s.jsx(_e,{value:"cashiers",children:"Cashier Performance"}),s.jsx(_e,{value:"trends",children:"Daily Trends"}),s.jsx(_e,{value:"products",children:"Product Analysis"}),s.jsx(_e,{value:"comparison",children:"Location Comparison"})]}),s.jsxs(Ee,{value:"performance",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Sales Performance"})}),s.jsx(L,{children:s.jsx(En,{width:"100%",height:300,children:s.jsxs(Js,{data:l,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"name"}),s.jsx(gr,{}),s.jsx(dn,{}),s.jsx(xr,{dataKey:"sales",fill:"#8884d8"})]})})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Cashier Input Activity"})}),s.jsx(L,{children:s.jsx(En,{width:"100%",height:300,children:s.jsxs(Js,{data:l,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"name"}),s.jsx(gr,{}),s.jsx(dn,{}),s.jsx(xr,{dataKey:"cashierInputs",fill:"#82ca9d"})]})})})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Location Performance Summary"})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:l.map((b,N)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-14 h-14 bg-black text-white rounded-md flex items-center justify-center text-lg font-bold",children:N+1}),s.jsxs("div",{className:"space-y-1 ml-4",children:[s.jsx("p",{className:"font-semibold text-base",children:b.name}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{children:[b.orders," orders"]}),s.jsxs("div",{children:[b.cashierInputs," cashier inputs"]}),s.jsxs("div",{children:["Updated ",b.lastUpdated]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-lg",children:["$",b.sales.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["+",b.growth,"% growth"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",b.avgOrderValue," avg order"]})]})]},b.id))})})]})]}),s.jsx(Ee,{value:"cashiers",className:"space-y-4",children:s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Cashier Performance"})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:h.map((b,N)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-12",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-sm font-bold shadow-sm",style:{backgroundColor:"#3b82f6",color:"#ffffff",border:"2px solid #1d4ed8"},children:b.name.split(" ").map(k=>k[0]).join("")}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold text-base",children:b.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.location}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last active: ",b.lastActive]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-lg",children:["$",b.sales.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.orders," orders"]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(xc,{className:"h-3 w-3 text-green-600"}),s.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[b.efficiency,"% efficiency"]})]})]})]},N))})})]})}),s.jsx(Ee,{value:"trends",className:"space-y-4",children:s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Daily Performance Trends"})}),s.jsx(L,{children:s.jsx(En,{width:"100%",height:400,children:s.jsxs(Mie,{data:u,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"day"}),s.jsx(gr,{yAxisId:"left"}),s.jsx(gr,{yAxisId:"right",orientation:"right"}),s.jsx(dn,{}),s.jsx(dl,{}),s.jsx(xr,{yAxisId:"left",dataKey:"sales",fill:"#8884d8",name:"Sales ($)"}),s.jsx(Hi,{yAxisId:"right",type:"monotone",dataKey:"orders",stroke:"#82ca9d",strokeWidth:3,name:"Orders"}),s.jsx(Hi,{yAxisId:"right",type:"monotone",dataKey:"cashierInputs",stroke:"#ffc658",strokeWidth:3,name:"Cashier Inputs"})]})})})]})}),s.jsx(Ee,{value:"products",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Top Products by Sales"})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:m.map((b,N)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-semibold",children:N+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.product}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.location})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["$",b.sales.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.units," units"]}),s.jsxs("p",{className:"text-xs text-green-600",children:[b.margin,"% margin"]})]})]},N))})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Product Performance Chart"})}),s.jsx(L,{children:s.jsx(En,{width:"100%",height:300,children:s.jsxs(Js,{data:m,layout:"horizontal",children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{type:"number"}),s.jsx(gr,{dataKey:"product",type:"category",width:100}),s.jsx(dn,{}),s.jsx(xr,{dataKey:"sales",fill:"#8884d8"})]})})})]})]})}),s.jsx(Ee,{value:"comparison",className:"space-y-4",children:s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Location Comparison"})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map(b=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold",children:b.name}),s.jsxs(se,{variant:b.growth>10?"default":"secondary",children:[b.growth,"% growth"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sales:"}),s.jsxs("span",{className:"font-medium",children:["$",b.sales.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Orders:"}),s.jsx("span",{className:"font-medium",children:b.orders})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Cashier Inputs:"}),s.jsx("span",{className:"font-medium",children:b.cashierInputs})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Order:"}),s.jsxs("span",{className:"font-medium",children:["$",b.avgOrderValue]})]})]})]},b.id))})})})]})})]})]})}const lue=[{id:"dashboard",label:"Dashboard",icon:Lu},{id:"signup-requests",label:"Signup Requests",icon:mu},{id:"businesses",label:"Businesses",icon:At},{id:"payments",label:"Payments",icon:Cr},{id:"features",label:"Features",icon:Jr},{id:"backups",label:"Backups",icon:pa},{id:"analytics",label:"Analytics",icon:Ia},{id:"settings",label:"Settings",icon:Jr}];function cue({activeTab:e,onSelect:t,user:r,onLogout:n}){return s.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b border-border",children:s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("div",{className:"p-2 bg-primary rounded-lg",children:s.jsx(Lu,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"font-semibold text-foreground",children:"Super Admin Panel"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage all businesses"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("ul",{className:"space-y-2",children:lue.map(a=>{const i=a.icon;return s.jsx("li",{children:s.jsxs("button",{onClick:()=>t(a.id),className:pe("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left",e===a.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[s.jsx(i,{className:"h-5 w-5"}),a.label]})},a.id)})})}),s.jsxs("div",{className:"p-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:r?.name?.slice(0,2).toUpperCase()||"SA"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:r?.name||"Super Admin"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r?.role||"super_admin"})]})]}),n&&s.jsxs(B,{onClick:n,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Rj,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const due={light:"",dark:".dark"},F$=p.createContext(null);function B$(){const e=p.useContext(F$);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}function Mo({id:e,className:t,children:r,config:n,...a}){const i=p.useId(),o=`chart-${e||i.replace(/:/g,"")}`;return s.jsx(F$.Provider,{value:{config:n},children:s.jsxs("div",{"data-slot":"chart","data-chart":o,className:pe("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",t),...a,children:[s.jsx(uue,{id:o,config:n}),s.jsx(En,{children:r})]})})}const uue=({id:e,config:t})=>{const r=Object.entries(t).filter(([,n])=>n.theme||n.color);return r.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(due).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{const l=o.theme?.[n]||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Yl=dn;function Gl(e){const{active:t,payload:r=[],className:n,indicator:a="dot",hideLabel:i=!1,hideIndicator:o=!1,label:l,labelFormatter:c,labelClassName:u,formatter:d,color:h,nameKey:f,labelKey:m}=e,{config:j}=B$(),g=p.useMemo(()=>{if(i||!r?.length)return null;const[y]=r,v=`${m||y?.dataKey||y?.name||"value"}`,w=F0(j,y,v),b=!m&&typeof l=="string"?j[l]?.label||l:w?.label;return c?s.jsx("div",{className:pe("font-medium",u),children:c(b,r)}):b?s.jsx("div",{className:pe("font-medium",u),children:b}):null},[l,c,r,i,u,j,m]);if(!t||!r?.length)return null;const x=r.length===1&&a!=="dot";return s.jsxs("div",{className:pe("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",n),children:[x?null:g,s.jsx("div",{className:"grid gap-1.5",children:r?.map((y,v)=>{const w=`${f||y.name||y.dataKey||"value"}`,b=F0(j,y,w),N=h||y.payload.fill||y.color;return s.jsx("div",{className:pe("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",a==="dot"&&"items-center"),children:d&&y?.value!==void 0&&y.name?d(y.value,y.name,y,v,y.payload):s.jsxs(s.Fragment,{children:[b?.icon?s.jsx(b.icon,{}):!o&&s.jsx("div",{className:pe("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":x&&a==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),s.jsxs("div",{className:pe("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[x?g:null,s.jsx("span",{className:"text-muted-foreground",children:b?.label||y.name})]}),y.value&&s.jsx("span",{className:"text-foreground font-mono font-medium tabular-nums",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})}const s_=dl;function a_({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a}){const{config:i}=B$();return r?.length?s.jsx("div",{className:pe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r?.map(o=>{const l=`${a||o.dataKey||"value"}`,c=F0(i,o,l);return s.jsxs("div",{className:pe("[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3"),children:[c?.icon&&!t?s.jsx(c.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:o.color}}),c?.label]},o.value)})}):null}function F0(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function i_({stats:e,businesses:t,onNavigate:r,onVerifyPayment:n}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),n&&s.jsxs(B,{onClick:n,children:[s.jsx(gt,{className:"h-4 w-4 mr-2"}),"Verify Payment"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx($,{className:"border-l-4 border-l-blue-500",children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Businesses"}),s.jsx("p",{className:"text-3xl font-bold",children:e.totalBusinesses}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Cg,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(At,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx($,{className:"border-l-4 border-l-green-500",children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Businesses"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.activeBusinesses}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Cg,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+8% from last month"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ae,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx($,{className:"border-l-4 border-l-purple-500",children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-3xl font-bold",children:["",e.totalRevenue.toLocaleString()]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Cg,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+15% from last month"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(gt,{className:"h-6 w-6 text-purple-600"})})]})})}),s.jsx($,{className:"border-l-4 border-l-red-500",children:s.jsx(L,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Overdue Payments"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:e.overduePayments}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(SF,{className:"h-4 w-4 text-red-500 mr-1"}),s.jsx("span",{className:"text-sm text-red-600",children:"-3 from last week"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(_i,{className:"h-6 w-6 text-red-600"})})]})})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Fu,{className:"h-5 w-5"}),"Quick Navigation"]}),s.jsx(Oe,{children:"Access all major features from here"})]}),s.jsx(L,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("businesses"),children:[s.jsx(At,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Businesses"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("payments"),children:[s.jsx(Cr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Payments"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("features"),children:[s.jsx(Jr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Features"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("backups"),children:[s.jsx(pa,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Backups"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("analytics"),children:[s.jsx(Ia,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Analytics"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("settings"),children:[s.jsx(Jr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Settings"})]})]})})]}),s.jsxs(pn,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(xn,{className:"grid w-full grid-cols-4",children:[s.jsx(_e,{value:"overview",children:"Overview"}),s.jsx(_e,{value:"analytics",children:"Analytics"}),s.jsx(_e,{value:"revenue",children:"Revenue"}),s.jsx(_e,{value:"activity",children:"Activity"})]}),s.jsx(Ee,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-6",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Li,{className:"h-5 w-5"}),"Business Health"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Rate"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[Math.round(e.activeBusinesses/e.totalBusinesses*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${e.activeBusinesses/e.totalBusinesses*100}%`}})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Rate"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Math.round((e.totalBusinesses-e.overduePayments)/e.totalBusinesses*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${(e.totalBusinesses-e.overduePayments)/e.totalBusinesses*100}%`}})})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Growth Metrics"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"New This Month"}),s.jsx("span",{className:"text-2xl font-bold",children:e.newThisMonth})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Renewals Due"}),s.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:e.renewalsDue})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Revenue/Business"}),s.jsxs("span",{className:"text-2xl font-bold",children:["",Math.round(e.totalRevenue/e.totalBusinesses)]})]})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(xc,{className:"h-5 w-5"}),"System Status"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Database"}),s.jsx(se,{className:"bg-green-500 text-white",children:"Online"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Payments"}),s.jsx(se,{className:"bg-green-500 text-white",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Backups"}),s.jsx(se,{className:"bg-green-500 text-white",children:"Up to Date"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API"}),s.jsx(se,{className:"bg-green-500 text-white",children:"Healthy"})]})]})]})]})}),s.jsx(Ee,{value:"analytics",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-6",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Revenue Trend"]}),s.jsx(Oe,{children:"Last 8 weeks"})]}),s.jsx(L,{children:s.jsx(Mo,{config:{revenue:{label:"Revenue",color:"hsl(var(--primary))"}},className:"h-48",children:s.jsxs(Tie,{data:Array.from({length:8}).map((a,i)=>({week:`W${i+1}`,revenue:Math.round(400+Math.random()*800)})),children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"week"}),s.jsx(gr,{}),s.jsx(Yl,{content:s.jsx(Gl,{})}),s.jsx(oR,{type:"monotone",dataKey:"revenue",stroke:"var(--color-revenue)",fill:"var(--color-revenue)",fillOpacity:.2})]})})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Business Growth"}),s.jsx(Oe,{children:"New signups vs renewals"})]}),s.jsx(L,{children:s.jsx(Mo,{config:{signups:{label:"Signups",color:"hsl(var(--chart-1))"},renewals:{label:"Renewals",color:"hsl(var(--chart-2))"}},className:"h-48",children:s.jsxs(Vx,{data:Array.from({length:8}).map((a,i)=>({week:`W${i+1}`,signups:Math.round(1+Math.random()*4),renewals:Math.round(1+Math.random()*4)})),children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"week"}),s.jsx(gr,{}),s.jsx(dn,{}),s.jsx(dl,{}),s.jsx(Hi,{type:"monotone",dataKey:"signups",stroke:"var(--color-signups)",dot:!1}),s.jsx(Hi,{type:"monotone",dataKey:"renewals",stroke:"var(--color-renewals)",dot:!1})]})})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Retention Rate"}),s.jsx(Oe,{children:"Monthly retention percentage"})]}),s.jsx(L,{children:s.jsx(Mo,{config:{retained:{label:"Retained",color:"hsl(var(--chart-3))"}},className:"h-48",children:s.jsxs(Js,{data:Array.from({length:6}).map((a,i)=>({month:`M${i+1}`,retained:Math.round(40+Math.random()*60)})),children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"month"}),s.jsx(gr,{}),s.jsx(Yl,{content:s.jsx(Gl,{})}),s.jsx(xr,{dataKey:"retained",fill:"var(--color-retained)"})]})})})]})]})}),s.jsx(Ee,{value:"revenue",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-3 gap-6",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-5 w-5"}),"Revenue Breakdown"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Basic Plans"}),s.jsxs("span",{className:"text-lg font-bold",children:["",Math.round(e.totalRevenue*.4)]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Pro Plans"}),s.jsxs("span",{className:"text-lg font-bold",children:["",Math.round(e.totalRevenue*.4)]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Enterprise"}),s.jsxs("span",{className:"text-lg font-bold",children:["",Math.round(e.totalRevenue*.2)]})]})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Growth Rate"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-green-600",children:"+15%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Month over Month"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"+8%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"New Businesses"})]})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Li,{className:"h-5 w-5"}),"Targets"]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Monthly Goal"}),s.jsxs("span",{className:"text-lg font-bold",children:["",Math.round(e.totalRevenue*1.2)]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"83%"}})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"83% of monthly goal"})]})]})]})}),s.jsx(Ee,{value:"activity",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-6",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(xc,{className:"h-5 w-5"}),"Recent Activity"]}),s.jsx(Oe,{children:"Latest system events and actions"})]}),s.jsx(L,{className:"space-y-4",children:[{id:"a1",text:"Payment recorded for Kofi Electronics",level:"info",time:"2 min ago"},{id:"a2",text:"Enabled Workers feature for Ama Wholesale",level:"success",time:"15 min ago"},{id:"a3",text:"Unpaid renewal detected for Uncle 19 Shops",level:"warning",time:"1 hour ago"},{id:"a4",text:"New business registered: Tech Solutions",level:"info",time:"2 hours ago"},{id:"a5",text:"Backup completed for all businesses",level:"success",time:"3 hours ago"}].map(a=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${a.level==="warning"?"bg-yellow-500":a.level==="success"?"bg-green-500":"bg-blue-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:a.text}),s.jsx("p",{className:"text-xs text-muted-foreground",children:a.time})]}),s.jsx(se,{variant:a.level==="warning"?"destructive":"outline",className:a.level==="success"?"bg-green-500 text-white border-none":"",children:a.level})]},a.id))})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),"Top Businesses"]}),s.jsx(Oe,{children:"By monthly revenue"})]}),s.jsx(L,{className:"space-y-4",children:t.slice().sort((a,i)=>i.monthlyRevenue-a.monthlyRevenue).slice(0,5).map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-blue-600",children:i+1})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:a.businessName}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["",a.monthlyRevenue,"/month"]})]})]}),s.jsx(B,{size:"sm",variant:"ghost",children:s.jsx(Qs,{className:"h-4 w-4"})})]},a.id))})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"h-5 w-5"}),"Upcoming Renewals (Next 30 Days)"]}),s.jsx(Oe,{children:"Businesses with payments due soon"})]}),s.jsx(L,{children:s.jsx("div",{className:"space-y-3",children:t.filter(a=>{const i=new Date(a.renewalDate),o=new Date,l=Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24));return l<=30&&l>=0}).slice(0,6).map(a=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(Wr,{className:"h-5 w-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a.businessName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",new Date(a.renewalDate).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-lg font-bold",children:["",a.monthlyRevenue]}),s.jsx(se,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Due Soon"}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(IF,{className:"h-4 w-4"})})]})]},a.id))})})]})]})})]})]})}const gn=`https://${zt}.supabase.co`,vn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNkZG9ib2JveGVhbmdyaXBjcXJuIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1ODI1NCwiZXhwIjoyMDc1MzM0MjU0fQ.CbCMnclEfF2iWZzLeI4VGIgKYEPuYAt7P-kSAfPr83Q",uf=tt();let kv=null;function Ut(){return kv||(kv=FO(gn,vn)),kv}const Et={async getAllBusinesses(){try{const{data:e,error:t}=await Ut().from("businesses").select("*").order("created_at",{ascending:!1});return t?{data:null,error:t.message}:{data:e,error:null}}catch(e){return{data:null,error:e.message}}},async getBusinessById(e){try{const{data:t,error:r}=await Ut().from("businesses").select("*").eq("id",e).single();return r?{data:null,error:r.message}:{data:t,error:null}}catch(t){return{data:null,error:t.message}}},async updateBusiness(e,t){try{const{error:r}=await Ut().from("businesses").update(t).eq("id",e);return r?{success:!1,error:r.message}:{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}},async deleteBusiness(e){try{const{error:t}=await Ut().from("businesses").delete().eq("id",e);return t?{success:!1,error:t.message}:{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}},async recordPayment(e){try{console.log(" Recording payment in Supabase...",e);const{error:t}=await Ut().from("payments").insert({business_id:e.business_id,amount:e.amount});if(t)return console.error(" Payment insert error:",t),{success:!1,error:t.message};console.log(" Payment recorded in Supabase payments table");const r={payment_status:"paid",last_payment_date:new Date().toISOString()};if(e.payment_type==="upfront")r.upfront_fee_paid=!0;else if(e.payment_type==="maintenance"){r.maintenance_fee_paid=!0;const a=new Date;a.setMonth(a.getMonth()+6),r.next_payment_date=a.toISOString(),r.next_maintenance_due=a.toISOString()}const{error:n}=await Ut().from("businesses").update(r).eq("id",e.business_id);return n?(console.error(" Business update error:",n),{success:!1,error:n.message}):(console.log(" Business payment status updated in Supabase"),{success:!0,error:null})}catch(t){return console.error(" Payment recording error:",t),{success:!1,error:t.message}}},async getAllPayments(){try{console.log(" Fetching payments from Supabase payments table...");const{data:e,error:t}=await Ut().from("payments").select(`
          *,
          businesses!inner(business_name)
        `).order("payment_date",{ascending:!1});return t?(console.error(" Error fetching payments:",t),{data:null,error:t.message}):(console.log(" Payments fetched from Supabase:",e?.length||0),{data:e?.map(n=>({...n,business_name:n.businesses?.business_name||"Unknown Business"}))||[],error:null})}catch(e){return console.error(" Error fetching payments:",e),{data:null,error:e.message}}},async verifyPayment(e){try{const r=await(await fetch(`${gn}/functions/v1/payment-verification`,{method:"POST",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return r.success?{success:!0,error:null}:{success:!1,error:r.error||"Payment verification failed"}}catch(t){return{success:!1,error:t.message}}},async getPaymentHistory(e){try{let t=Ut().from("payments").select("*").order("payment_date",{ascending:!1});e&&(t=t.eq("business_id",e));const{data:r,error:n}=await t;return n?{data:null,error:n.message}:{data:r,error:null}}catch(t){return{data:null,error:t.message}}},async triggerBackup(e,t="full"){try{const r=e?"backup-system":"cron-backup",n=e?{business_id:e,backup_type:t}:{},i=await(await fetch(`${gn}/functions/v1/${r}`,{method:"POST",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"},body:JSON.stringify(n)})).json();return i.success?{success:!0,error:null}:{success:!1,error:i.error||"Backup failed"}}catch(r){return{success:!1,error:r.message}}},async getBackupHistory(e){try{let t=Ut().from("backup_records").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("business_id",e));const{data:r,error:n}=await t;return n?{data:null,error:n.message}:{data:r,error:null}}catch(t){return{data:null,error:t.message}}},async restoreBackup(e,t,r){try{const a=await(await fetch(`${gn}/functions/v1/data-restore`,{method:"POST",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"},body:JSON.stringify({business_id:e,backup_id:t,restore_type:r?"selective":"full",data_types:r})})).json();return a.success?{success:!0,error:null}:{success:!1,error:a.error||"Restore failed"}}catch(n){return{success:!1,error:n.message}}},async getAllApiKeys(){try{const{data:e,error:t}=await Ut().from("api_keys").select("*").order("created_at",{ascending:!1});return t?{data:null,error:t.message}:{data:e,error:null}}catch(e){return{data:null,error:e.message}}},async createApiKey(e){try{const t=`sk_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,{data:r,error:n}=await Ut().from("api_keys").insert({key_name:e.key_name,key_value:t,business_id:e.business_id||null,permissions:e.permissions,rate_limit:e.rate_limit,is_active:!0}).select().single();return n?{data:null,error:n.message}:{data:r,error:null}}catch(t){return{data:null,error:t.message}}},async updateApiKey(e,t){try{const{error:r}=await Ut().from("api_keys").update(t).eq("id",e);return r?{success:!1,error:r.message}:{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}},async deleteApiKey(e){try{const{error:t}=await Ut().from("api_keys").delete().eq("id",e);return t?{success:!1,error:t.message}:{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}},async getAnalytics(e="month"){try{const r=await(await fetch(`${gn}/functions/v1/analytics?timeframe=${e}`,{method:"GET",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"}})).json();return r.success?{data:r.data,error:null}:{data:null,error:r.error||"Failed to fetch analytics"}}catch(t){return{data:null,error:t.message}}},async addCustomFeature(e){try{const r=await(await fetch(`${gn}/functions/v1/feature-management?action=add-custom-feature`,{method:"POST",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return r.success?{success:!0,feature:r.feature,error:null}:{success:!1,error:r.error||"Failed to add custom feature"}}catch(t){return{success:!1,error:t.message}}},async enableFeature(e,t,r){try{console.log(" Enabling feature:",{businessId:e,featureId:t,reason:r});const{data:n,error:a}=await Ut().from("businesses").select("features, email").eq("id",e).single();if(a||!n)return console.error(" Failed to fetch business:",a),{success:!1,error:"Business not found"};const i=n.features||[];if(!i.includes(t)){const o=[...i,t],{error:l}=await Ut().from("businesses").update({features:o}).eq("id",e);if(l)return console.error(" Failed to update business features:",l),{success:!1,error:l.message};const{data:{users:c},error:u}=await Ut().auth.admin.listUsers();if(u)console.error(" Failed to list users:",u);else{const d=c.find(h=>h.user_metadata?.business_id===e);if(d){const{error:h}=await Ut().auth.admin.updateUserById(d.id,{user_metadata:{...d.user_metadata,features:o}});h?console.error(" Failed to update user metadata:",h):console.log(" User metadata updated with new features")}}return console.log(" Feature enabled successfully:",o),{success:!0,features:o,error:null}}return{success:!0,features:i,error:null}}catch(n){return console.error(" Error enabling feature:",n),{success:!1,error:n.message}}},async disableFeature(e,t,r){try{console.log(" Disabling feature:",{businessId:e,featureId:t,reason:r});const{data:n,error:a}=await Ut().from("businesses").select("features, email").eq("id",e).single();if(a||!n)return console.error(" Failed to fetch business:",a),{success:!1,error:"Business not found"};const i=n.features||[];if(i.includes(t)){const o=i.filter(d=>d!==t),{error:l}=await Ut().from("businesses").update({features:o}).eq("id",e);if(l)return console.error(" Failed to update business features:",l),{success:!1,error:l.message};const{data:{users:c},error:u}=await Ut().auth.admin.listUsers();if(u)console.error(" Failed to list users:",u);else{const d=c.find(h=>h.user_metadata?.business_id===e);if(d){const{error:h}=await Ut().auth.admin.updateUserById(d.id,{user_metadata:{...d.user_metadata,features:o}});h?console.error(" Failed to update user metadata:",h):console.log(" User metadata updated with removed feature")}}return console.log(" Feature disabled successfully:",o),{success:!0,features:o,error:null}}return{success:!0,features:i,error:null}}catch(n){return console.error(" Error disabling feature:",n),{success:!1,error:n.message}}},async getBusinessFeatures(e){try{const r=await(await fetch(`${gn}/functions/v1/feature-management?action=get-business-features&business_id=${e}`,{method:"GET",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"}})).json();return r.success?{data:r.data,error:null}:{data:null,error:r.error||"Failed to get business features"}}catch(t){return{data:null,error:t.message}}},async getFeatureStats(){try{const t=await(await fetch(`${gn}/functions/v1/feature-management?action=get-feature-stats`,{method:"GET",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"}})).json();return t.success?{data:t,error:null}:{data:null,error:t.error||"Failed to get feature stats"}}catch(e){return{data:null,error:e.message}}},async getCustomFeatures(){try{const t=await(await fetch(`${gn}/functions/v1/feature-management?action=get-custom-features`,{method:"GET",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"}})).json();return t.success?{data:t.features,error:null}:{data:null,error:t.error||"Failed to get custom features"}}catch(e){return{data:null,error:e.message}}},async bulkUpdateFeatures(e,t,r,n){try{const i=await(await fetch(`${gn}/functions/v1/feature-management?action=bulk-update`,{method:"POST",headers:{Authorization:`Bearer ${vn}`,"Content-Type":"application/json"},body:JSON.stringify({business_ids:e,features_to_add:t,features_to_remove:r,reason:n,changed_by:"super_admin"})})).json();return i.success?{success:!0,results:i.results,error:null}:{success:!1,error:i.error||"Failed to bulk update features"}}catch(a){return{success:!1,error:a.message}}},subscribeToBusinessUpdates(e){return uf.channel("businesses-changes").on("postgres_changes",{event:"*",schema:"public",table:"businesses"},e).subscribe()},subscribeToPaymentUpdates(e){return uf.channel("payments-changes").on("postgres_changes",{event:"*",schema:"public",table:"payments"},e).subscribe()},subscribeToBackupUpdates(e){return uf.channel("backups-changes").on("postgres_changes",{event:"*",schema:"public",table:"backup_records"},e).subscribe()},subscribeToFeatureUpdates(e){return uf.channel("features-changes").on("postgres_changes",{event:"*",schema:"public",table:"businesses"},e).subscribe()},async getSignupRequests(e="all"){try{console.log("Fetching signup requests with status:",e);const r=await(await fetch(`${gn}/functions/v1/business-signup-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${vn}`},body:JSON.stringify({action:"get-requests",status:e})})).json();return console.log("Signup requests response:",r),r.success?r.requests:[]}catch(t){return console.error("Error fetching signup requests:",t),[]}},async approveSignupRequest(e,t="basic",r=0,n=0){try{return await(await fetch(`${gn}/functions/v1/business-signup-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${vn}`},body:JSON.stringify({action:"approve-request",requestId:e,plan:t,upfrontPayment:r,maintenanceFee:n})})).json()}catch(a){return console.error("Error approving signup request:",a),{success:!1,error:"Network error"}}},async rejectSignupRequest(e,t){try{return await(await fetch(`${gn}/functions/v1/business-signup-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${vn}`},body:JSON.stringify({action:"reject-request",requestId:e,reason:t})})).json()}catch(r){return console.error("Error rejecting signup request:",r),{success:!1,error:"Network error"}}}};function hue(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("all"),[o,l]=p.useState(""),[c,u]=p.useState(null),[d,h]=p.useState(!1),[f,m]=p.useState(!1),[j,g]=p.useState(!1),[x,y]=p.useState(""),[v,w]=p.useState(null),[b,N]=p.useState("basic"),[k,P]=p.useState(""),[C,A]=p.useState("");p.useEffect(()=>{S()},[a]);const S=async()=>{try{n(!0),console.log("Loading signup requests with filter:",a);const W=await Et.getSignupRequests(a);console.log("Received data:",W),t(W)}catch(W){console.error("Error loading requests:",W),q.error("Failed to load signup requests")}finally{n(!1)}},I=W=>{u(W),N("basic"),P("1000"),A("200"),g(!0)},O=async()=>{if(c)try{w(c.id);const W=await Et.approveSignupRequest(c.id,b,parseFloat(k)||0,parseFloat(C)||0);W.success?(q.success(`Business approved with ${b.toUpperCase()} plan!`),S(),h(!1),g(!1)):q.error(W.error||"Failed to approve business")}catch(W){console.error("Error approving request:",W),q.error("Failed to approve business")}finally{w(null)}},z=W=>{N(W),W==="basic"?(P("1000"),A("200")):W==="pro"?(P("2000"),A("200")):W==="enterprise"&&(P("5000"),A("800"))},V=async W=>{try{w(W);const _=await Et.rejectSignupRequest(W,x);_.success?(q.success("Business rejected successfully!"),S(),m(!1),y("")):q.error(_.error||"Failed to reject business")}catch(_){console.error("Error rejecting request:",_),q.error("Failed to reject business")}finally{w(null)}},Y=e.filter(W=>W.email.toLowerCase().includes(o.toLowerCase())||W.business_config?.businessName?.toLowerCase().includes(o.toLowerCase())),R=W=>{switch(W){case"pending":return s.jsxs(se,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[s.jsx(Wr,{className:"h-3 w-3 mr-1"}),"Pending"]});case"approved":return s.jsxs(se,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(Ae,{className:"h-3 w-3 mr-1"}),"Approved"]});case"rejected":return s.jsxs(se,{variant:"outline",className:"text-red-600 border-red-600",children:[s.jsx(Ti,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return s.jsx(se,{variant:"outline",children:W})}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading signup requests..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Business Signup Requests"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and approve new business registrations"})]}),s.jsxs(B,{onClick:S,variant:"outline",children:[s.jsx(Vo,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search by business name or email...",value:o,onChange:W=>l(W.target.value),className:"pl-10"})]}),s.jsxs(je,{value:a,onValueChange:W=>i(W),children:[s.jsx(be,{className:"w-40",children:s.jsx(we,{placeholder:"Status"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"pending",children:"Pending"}),s.jsx(F,{value:"approved",children:"Approved"}),s.jsx(F,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map(W=>s.jsxs($,{className:"hover:shadow-md transition-shadow",children:[s.jsx(U,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(At,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:W.business_config?.businessName||"Unknown Business"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:W.email})]})]}),R(W.status)]})}),s.jsxs(L,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"capitalize",children:W.business_config?.businessType||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[W.business_config?.city||"N/A",", ",W.business_config?.region||"N/A"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:new Date(W.created_at).toLocaleDateString()})]})]}),W.status==="pending"&&s.jsx("div",{className:"flex gap-2 pt-2",children:s.jsxs(B,{size:"sm",onClick:()=>{u(W),h(!0)},className:"flex-1",children:[s.jsx(Qs,{className:"h-3 w-3 mr-1"}),"Review"]})}),W.status==="approved"&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[s.jsx(Ae,{className:"h-4 w-4"}),s.jsxs("span",{children:["Approved on ",new Date(W.approved_at).toLocaleDateString()]})]}),W.status==="rejected"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[s.jsx(Ti,{className:"h-4 w-4"}),s.jsxs("span",{children:["Rejected on ",new Date(W.approved_at).toLocaleDateString()]})]}),W.rejection_reason&&s.jsx("p",{className:"text-xs text-muted-foreground bg-red-50 p-2 rounded",children:W.rejection_reason})]})]})]},W.id))}),Y.length===0&&s.jsx($,{className:"border-dashed",children:s.jsxs(L,{className:"p-8 text-center",children:[s.jsx(At,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-600 mb-1",children:"No signup requests found"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a==="all"?"No business signup requests have been submitted yet.":`No ${a} requests found.`})]})}),s.jsx(Ye,{open:d,onOpenChange:h,children:s.jsxs(Ue,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ke,{children:[s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),"Business Signup Request Details"]}),s.jsx(xt,{children:"Review all business information before approving or rejecting"})]}),c&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-lg",children:"Business Information"})}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Business Name"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.businessName||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Business Type"}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:c.business_config?.businessType||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Business Size"}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:c.business_config?.businessSize||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Registration Number"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.registrationNumber||"N/A"})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-lg",children:"Contact Information"})}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Owner Name"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.ownerName||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Owner Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.ownerPhone||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Business Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.email})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Business Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.businessPhone||"N/A"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(D,{className:"text-sm font-medium",children:"Business Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.businessAddress||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"City"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.city||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Region"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.region||"N/A"})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-lg",children:"Business Details"})}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"TIN Number"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.tinNumber||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Year Established"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.yearEstablished||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Number of Employees"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.numberOfEmployees||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Number of Locations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.numberOfLocations||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Products Count"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.productsCount||"N/A"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Average Monthly Sales"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["",c.business_config?.averageMonthlySales||"N/A"]})]})]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(B,{onClick:()=>{h(!1),I(c)},className:"flex-1",children:[s.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Approve & Assign Plan"]}),s.jsxs(B,{variant:"outline",onClick:()=>{h(!1),m(!0)},className:"flex-1",children:[s.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]})}),s.jsx(Ye,{open:f,onOpenChange:m,children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx($i,{className:"h-5 w-5 text-red-500"}),"Reject Business Signup"]}),s.jsx(xt,{children:"Please provide a reason for rejecting this business signup request."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"rejection-reason",children:"Rejection Reason"}),s.jsx(vt,{id:"rejection-reason",placeholder:"Enter reason for rejection...",value:x,onChange:W=>y(W.target.value),rows:3})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(B,{variant:"outline",onClick:()=>{m(!1),y("")},className:"flex-1",children:"Cancel"}),s.jsx(B,{onClick:()=>c&&V(c.id),disabled:v===c?.id,variant:"destructive",className:"flex-1",children:v===c?.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Rejecting..."]}):"Reject Business"})]})]})]})}),s.jsx(Ye,{open:j,onOpenChange:g,children:s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-5 w-5 text-green-500"}),"Approve Business & Assign Plan"]}),s.jsx(xt,{children:c&&`Assign a plan and pricing for ${c.business_config?.businessName}`})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"plan",children:"Select Plan"}),s.jsxs(je,{value:b,onValueChange:W=>z(W),children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"basic",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-semibold",children:"Basic Plan"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"1,000 upfront + 200/6 months"})]})}),s.jsx(F,{value:"pro",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-semibold",children:"Pro Plan"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"2,000-3,000 upfront + 200/6 months"})]})}),s.jsx(F,{value:"enterprise",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-semibold",children:"Enterprise Plan"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"5,000+ upfront + 800/6 months"})]})})]})]})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Features Included"})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[b==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Products"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Orders"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Workers"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Reports"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Settings"})]})]}),b==="pro"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"All Core Features"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Customers"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Workers Management"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Payroll"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Suppliers"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Location Management"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Credit Management"})]})]}),b==="enterprise"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"All Pro Features"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"API Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"White Label"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Priority Support"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Custom Features"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Enterprise Analytics"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"upfront-payment",children:"Upfront Payment ()"}),s.jsx(Q,{id:"upfront-payment",type:"number",value:k,onChange:W=>P(W.target.value),placeholder:"1000"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"maintenance-fee",children:"Maintenance Fee (/6 months)"}),s.jsx(Q,{id:"maintenance-fee",type:"number",value:C,onChange:W=>A(W.target.value),placeholder:"200"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(B,{variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Cancel"}),s.jsx(B,{onClick:O,disabled:v===c?.id,className:"flex-1",children:v===c?.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Approving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Approve Business"]})})]})]})]})})]})}var Qx="Checkbox",[fue,nhe]=ss(Qx),[mue,TN]=fue(Qx);function pue(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=Fi({prop:r,defaultProp:a??!1,onChange:c,caller:Qx}),[j,g]=p.useState(null),[x,y]=p.useState(null),v=p.useRef(!1),w=j?!!o||!!j.closest("form"):!0,b={checked:f,disabled:i,setChecked:m,control:j,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Mi(a)?!1:a,isFormControl:w,bubbleInput:x,setBubbleInput:y};return s.jsx(mue,{scope:t,...b,children:xue(h)?h(b):n})}var z$="CheckboxTrigger",W$=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:j}=TN(z$,e),g=Ge(a,d),x=p.useRef(c);return p.useEffect(()=>{const y=i?.form;if(y){const v=()=>h(x.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[i,h]),s.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Mi(c)?"mixed":c,"aria-required":u,"data-state":Y$(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:De(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:De(r,y=>{h(v=>Mi(v)?!0:!v),j&&m&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});W$.displayName=z$;var U$=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return s.jsx(pue,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(W$,{...h,ref:t,__scopeCheckbox:r}),f&&s.jsx(q$,{__scopeCheckbox:r})]})})});U$.displayName=Qx;var K$="CheckboxIndicator",H$=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=TN(K$,r);return s.jsx(as,{present:n||Mi(i.checked)||i.checked===!0,children:s.jsx(Me.span,{"data-state":Y$(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});H$.displayName=K$;var V$="CheckboxBubbleInput",q$=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=TN(V$,e),j=Ge(r,m),g=Zj(i),x=Gj(n);p.useEffect(()=>{const v=f;if(!v)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,k=!a.current;if(g!==i&&N){const P=new Event("click",{bubbles:k});v.indeterminate=Mi(i),N.call(v,Mi(i)?!1:i),v.dispatchEvent(P)}},[f,g,i,a]);const y=p.useRef(Mi(i)?!1:i);return s.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:j,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});q$.displayName=V$;function xue(e){return typeof e=="function"}function Mi(e){return e==="indeterminate"}function Y$(e){return Mi(e)?"indeterminate":e?"checked":"unchecked"}function Xd({className:e,...t}){return s.jsx(U$,{"data-slot":"checkbox",className:pe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(H$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Vl,{className:"size-3.5"})})})}function gue({businesses:e,onRefresh:t}){const[r,n]=p.useState(""),[a,i]=p.useState("all"),[o,l]=p.useState("all"),[c,u]=p.useState("all"),[d,h]=p.useState(null),[f,m]=p.useState(!1),[j,g]=p.useState([]),[x,y]=p.useState(""),[v,w]=p.useState(!1),[b,N]=p.useState("grid"),[k,P]=p.useState(!1),[C,A]=p.useState(!1),[S,I]=p.useState({businessName:"",ownerEmail:"",ownerPassword:"",businessPhone:"",businessAddress:"",plan:"basic",businessType:"retail"}),O=p.useMemo(()=>e.filter(T=>{const re=T.businessName.toLowerCase().includes(r.toLowerCase())||T.email.toLowerCase().includes(r.toLowerCase()),M=a==="all"||T.status===a,H=o==="all"||T.plan===o;let te=!0;if(c!=="all"){const ne=new Date(T.createdAt),ae=Math.floor((new Date().getTime()-ne.getTime())/(1e3*60*60*24));switch(c){case"today":te=ae===0;break;case"week":te=ae<=7;break;case"month":te=ae<=30;break;case"quarter":te=ae<=90;break}}return re&&M&&H&&te}),[e,r,a,o,c]),z=T=>{switch(T){case"active":return"bg-green-500";case"inactive":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}},V=T=>{switch(T){case"basic":return"bg-blue-500";case"pro":return"bg-purple-500";case"enterprise":return"bg-amber-500";default:return"bg-gray-500"}},Y=T=>{switch(T){case"paid":return"bg-green-500";case"pending":return"bg-yellow-500";case"overdue":return"bg-red-500";default:return"bg-gray-500"}},R=T=>{g(re=>re.includes(T)?re.filter(M=>M!==T):[...re,T])},W=()=>{x&&j.length>0&&(console.log(`Performing ${x} on ${j.length} businesses`),w(!1),g([]),y(""))},_=async()=>{if(!S.businessName||!S.ownerEmail||!S.ownerPassword){alert("Please fill in all required fields");return}A(!0);try{console.log("Creating new business:",S),await new Promise(T=>setTimeout(T,1500)),I({businessName:"",ownerEmail:"",ownerPassword:"",businessPhone:"",businessAddress:"",plan:"basic",businessType:"retail"}),P(!1),alert("Business created successfully!"),t()}catch(T){console.error("Error creating business:",T),alert("Failed to create business")}finally{A(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Business Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all businesses and their settings"})]}),s.jsxs(B,{size:"lg",onClick:()=>P(!0),children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"New Business"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search businesses, emails...",value:r,onChange:T=>n(T.target.value),className:"pl-10 w-64"})]}),s.jsxs(je,{value:a,onValueChange:i,children:[s.jsx(be,{className:"w-40",children:s.jsx(we,{placeholder:"Status"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"active",children:"Active"}),s.jsx(F,{value:"inactive",children:"Inactive"}),s.jsx(F,{value:"pending",children:"Pending"})]})]}),s.jsxs(je,{value:o,onValueChange:l,children:[s.jsx(be,{className:"w-40",children:s.jsx(we,{placeholder:"Plan"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Plans"}),s.jsx(F,{value:"basic",children:"Basic"}),s.jsx(F,{value:"pro",children:"Pro"}),s.jsx(F,{value:"enterprise",children:"Enterprise"})]})]}),s.jsxs(je,{value:c,onValueChange:u,children:[s.jsx(be,{className:"w-40",children:s.jsx(we,{placeholder:"Date"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Time"}),s.jsx(F,{value:"today",children:"Today"}),s.jsx(F,{value:"week",children:"This Week"}),s.jsx(F,{value:"month",children:"This Month"}),s.jsx(F,{value:"quarter",children:"This Quarter"})]})]}),j.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[j.length," selected"]}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>w(!0),children:"Bulk Actions"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex gap-1 border rounded-md",children:[s.jsx(B,{size:"sm",variant:b==="grid"?"default":"ghost",onClick:()=>N("grid"),children:s.jsx(RF,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:b==="list"?"default":"ghost",onClick:()=>N("list"),children:s.jsx(Vo,{className:"h-4 w-4"})})]}),s.jsxs(B,{onClick:t,variant:"outline",size:"sm",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),b==="grid"?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:O.map(T=>s.jsxs($,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(U,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xd,{checked:j.includes(T.id),onCheckedChange:()=>R(T.id)}),s.jsxs("div",{children:[s.jsx(K,{className:"text-lg",children:T.businessName}),s.jsx(Oe,{className:"capitalize",children:T.businessType})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(se,{className:`${z(T.status)} text-white`,children:T.status}),s.jsx(se,{className:`${V(T.plan)} text-white`,children:T.plan})]})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium truncate",children:T.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Revenue"}),s.jsxs("p",{className:"font-medium",children:["",T.monthlyRevenue]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Logins"}),s.jsx("p",{className:"font-medium",children:T.activeLogins})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Payment"}),s.jsx(se,{className:`${Y(T.paymentStatus)} text-white text-xs`,children:T.paymentStatus})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>{h(T),m(!0)},children:[s.jsx(Qs,{className:"h-4 w-4 mr-1"})," View"]}),s.jsxs(B,{size:"sm",variant:"outline",children:[s.jsx(Cr,{className:"h-4 w-4 mr-1"})," Pay"]})]}),T.setupComplete?s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-100 rounded-full",children:s.jsx(Ae,{className:"h-5 w-5 text-green-600"})}):s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-red-100 rounded-full",children:s.jsx(Ti,{className:"h-5 w-5 text-red-600"})})]})]})]},T.id))}):s.jsx("div",{className:"space-y-2",children:O.map(T=>s.jsx($,{className:"hover:shadow-md transition-shadow",children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Xd,{checked:j.includes(T.id),onCheckedChange:()=>R(T.id)}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:T.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.email})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{className:`${z(T.status)} text-white`,children:T.status}),s.jsx(se,{className:`${V(T.plan)} text-white`,children:T.plan}),s.jsx(se,{className:`${Y(T.paymentStatus)} text-white`,children:T.paymentStatus})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right text-sm",children:[s.jsxs("p",{className:"font-medium",children:["",T.monthlyRevenue]}),s.jsxs("p",{className:"text-muted-foreground",children:[T.activeLogins," logins"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{h(T),m(!0)},children:s.jsx(Qs,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(Cr,{className:"h-4 w-4"})})]})]})]})})},T.id))}),s.jsx(Ye,{open:f,onOpenChange:m,children:s.jsxs(Ue,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),d?.businessName," - Business Details"]})}),d&&s.jsxs(pn,{defaultValue:"overview",className:"w-full",children:[s.jsxs(xn,{className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[s.jsx(_e,{value:"overview",children:"Overview"}),s.jsx(_e,{value:"details",children:"Business Details"}),s.jsx(_e,{value:"users",children:"Users"}),s.jsx(_e,{value:"features",children:"Features"}),s.jsx(_e,{value:"payments",children:"Payments"}),s.jsx(_e,{value:"notes",children:"Notes"})]}),s.jsx(Ee,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Business Information"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Business ID:"}),s.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:d.id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("span",{className:"font-medium",children:d.businessName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"font-medium capitalize",children:d.businessType})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("span",{className:"font-medium",children:d.email})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx(se,{className:`${V(d.plan)} text-white`,children:d.plan})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(se,{className:`${z(d.status)} text-white`,children:d.status})]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Performance Metrics"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Sales:"}),s.jsx("span",{className:"font-medium",children:d.totalSales})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Revenue:"}),s.jsxs("span",{className:"font-medium",children:["",d.monthlyRevenue]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active Logins:"}),s.jsx("span",{className:"font-medium",children:d.activeLogins})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Setup Complete:"}),s.jsx(se,{className:d.setupComplete?"bg-green-500 text-white":"bg-red-500 text-white",children:d.setupComplete?"Yes":"No"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Created:"}),s.jsx("span",{className:"font-medium",children:new Date(d.createdAt).toLocaleDateString()})]})]})]})})]})}),s.jsx(Ee,{value:"details",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs($,{className:"border-2 border-primary/20 bg-primary/5",children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Business Identifier"]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Backend Business ID (UUID)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 bg-muted px-3 py-2 rounded font-mono text-sm break-all",children:d?.id}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText(d?.id||"")},children:"Copy"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This ID is used to link all business data (workers, products, sales, etc.)"})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(Nt,{className:"h-4 w-4"}),"Owner Information"]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Owner Name"}),s.jsx("p",{className:"font-medium mt-1",children:d?.ownerName||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Owner Phone"}),s.jsx("p",{className:"font-medium mt-1",children:d?.ownerPhone||"Not provided"})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(qo,{className:"h-4 w-4"}),"Business Contact"]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Business Phone"}),s.jsx("p",{className:"font-medium mt-1",children:d?.businessPhone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Business Email"}),s.jsx("p",{className:"font-medium mt-1",children:d?.email||"Not provided"})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(Gn,{className:"h-4 w-4"}),"Location"]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Address"}),s.jsx("p",{className:"font-medium mt-1",children:d?.businessAddress||"Not provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"City"}),s.jsx("p",{className:"font-medium mt-1",children:d?.city||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Region"}),s.jsx("p",{className:"font-medium mt-1",children:d?.region||"Not provided"})]})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(Vo,{className:"h-4 w-4"}),"Registration Details"]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Registration Number"}),s.jsx("p",{className:"font-medium mt-1",children:d?.registrationNumber||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"TIN Number"}),s.jsx("p",{className:"font-medium mt-1",children:d?.tinNumber||"Not provided"})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(gt,{className:"h-4 w-4"}),"Business Metrics"]})}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Business Size"}),s.jsx("p",{className:"font-medium mt-1 capitalize",children:d?.businessSize||"Not specified"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Year Established"}),s.jsx("p",{className:"font-medium mt-1",children:d?.yearEstablished||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Number of Employees"}),s.jsx("p",{className:"font-medium mt-1",children:d?.numberOfEmployees||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Products Count"}),s.jsx("p",{className:"font-medium mt-1",children:d?.productsCount||"Not provided"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(D,{className:"text-muted-foreground text-sm",children:"Average Monthly Sales"}),s.jsx("p",{className:"font-medium mt-1",children:d?.averageMonthlySales?`${Number(d.averageMonthlySales).toLocaleString()}`:"Not provided"})]})]})})]}),d?.businessDescription&&s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Business Idea / Description"]})}),s.jsx(L,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:d.businessDescription})})]})]})}),s.jsx(Ee,{value:"users",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Users & Logins"}),s.jsxs(B,{size:"sm",children:[s.jsx(Nt,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium",children:"A"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Admin User"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["admin@",d.email]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",children:"Admin"}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(Jr,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium",children:"C"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Cashier User"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["cashier@",d.email]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",children:"Cashier"}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(Jr,{className:"h-4 w-4"})})]})]})]})]})}),s.jsx(Ee,{value:"features",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Feature Management"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",children:"Apply Preset"}),s.jsx(B,{size:"sm",children:"Save Changes"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium mb-2 block",children:"Core Features"}),s.jsx("div",{className:"space-y-2",children:["Inventory","Sales","Customers","Reports"].map(T=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{className:"text-sm",children:T}),s.jsx(se,{className:"bg-green-500 text-white",children:"Enabled"})]},T))})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium mb-2 block",children:"Advanced Features"}),s.jsx("div",{className:"space-y-2",children:["Workers","Payroll","Multi-location","Analytics"].map(T=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{className:"text-sm",children:T}),s.jsx(se,{className:d.features.includes(T.toLowerCase())?"bg-green-500 text-white":"bg-gray-500 text-white",children:d.features.includes(T.toLowerCase())?"Enabled":"Disabled"})]},T))})]})]})]})}),s.jsx(Ee,{value:"payments",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payment History"}),s.jsxs(B,{size:"sm",children:[s.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["",d.plan==="basic"?"1,500":d.plan==="pro"?"3,000":"5,000"," - Upfront Payment"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Paid on ",new Date(d.lastPayment).toLocaleDateString()]})]}),s.jsx(se,{className:`${Y(d.paymentStatus)} text-white`,children:d.paymentStatus})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["",d.plan==="basic"?"200":d.plan==="pro"?"400":"800"," - Maintenance Fee"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due on ",new Date(d.renewalDate).toLocaleDateString()]})]}),s.jsx(se,{className:"bg-yellow-500 text-white",children:"Pending"})]})]})]})}),s.jsx(Ee,{value:"notes",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Business Notes"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"notes",children:"Add Note"}),s.jsx(vt,{id:"notes",placeholder:"Add notes about this business...",className:"min-h-24"}),s.jsx(B,{size:"sm",children:"Save Note"})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"System Note"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"2 days ago"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Business setup completed successfully. All features enabled."})]})})]})})]})]})}),s.jsx(Ye,{open:v,onOpenChange:w,children:s.jsxs(Ue,{children:[s.jsx(Ke,{children:s.jsx(He,{children:"Bulk Actions"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Action"}),s.jsxs(je,{value:x,onValueChange:y,children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select action"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"activate",children:"Activate Selected"}),s.jsx(F,{value:"deactivate",children:"Deactivate Selected"}),s.jsx(F,{value:"send_reminder",children:"Send Payment Reminder"}),s.jsx(F,{value:"apply_preset",children:"Apply Feature Preset"})]})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["This will affect ",j.length," businesses."]})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),s.jsx(B,{onClick:W,disabled:!x,children:"Apply Action"})]})]})}),s.jsx(Ye,{open:k,onOpenChange:P,children:s.jsxs(Ue,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ke,{children:s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),"Create New Business"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Business Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(D,{htmlFor:"businessName",children:"Business Name *"}),s.jsx(Q,{id:"businessName",placeholder:"e.g., Acme Store",value:S.businessName,onChange:T=>I({...S,businessName:T.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessType",children:"Business Type"}),s.jsxs(je,{value:S.businessType,onValueChange:T=>I({...S,businessType:T}),children:[s.jsx(be,{id:"businessType",children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"retail",children:"Retail"}),s.jsx(F,{value:"restaurant",children:"Restaurant"}),s.jsx(F,{value:"wholesale",children:"Wholesale"}),s.jsx(F,{value:"service",children:"Service"}),s.jsx(F,{value:"manufacturing",children:"Manufacturing"}),s.jsx(F,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"plan",children:"Subscription Plan *"}),s.jsxs(je,{value:S.plan,onValueChange:T=>I({...S,plan:T}),children:[s.jsx(be,{id:"plan",children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"basic",children:"Basic - 200/month"}),s.jsx(F,{value:"pro",children:"Pro - 400/month"}),s.jsx(F,{value:"enterprise",children:"Enterprise - 800/month"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessPhone",children:"Phone Number"}),s.jsx(Q,{id:"businessPhone",type:"tel",placeholder:"+233 XX XXX XXXX",value:S.businessPhone,onChange:T=>I({...S,businessPhone:T.target.value})})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx(D,{htmlFor:"businessAddress",children:"Business Address"}),s.jsx(Q,{id:"businessAddress",placeholder:"Street, City, Region",value:S.businessAddress,onChange:T=>I({...S,businessAddress:T.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Owner Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(D,{htmlFor:"ownerEmail",children:"Owner Email *"}),s.jsx(Q,{id:"ownerEmail",type:"email",placeholder:"owner@example.com",value:S.ownerEmail,onChange:T=>I({...S,ownerEmail:T.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will be used for login and notifications"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(D,{htmlFor:"ownerPassword",children:"Initial Password *"}),s.jsx(Q,{id:"ownerPassword",type:"password",placeholder:"Create a secure password",value:S.ownerPassword,onChange:T=>I({...S,ownerPassword:T.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Owner can change this after first login"})]})]})]}),s.jsxs("div",{className:"bg-muted/50 border rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Plan Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Selected Plan:"}),s.jsx("span",{className:"font-medium capitalize",children:S.plan})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"}),s.jsxs("span",{className:"font-medium",children:["",S.plan==="basic"?"200":S.plan==="pro"?"400":"800"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Features:"}),s.jsx("span",{className:"font-medium",children:S.plan==="basic"?"Core Features":S.plan==="pro"?"Core + Advanced":"All Features"})]})]})]})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>P(!1),disabled:C,children:"Cancel"}),s.jsx(B,{onClick:_,disabled:C||!S.businessName||!S.ownerEmail||!S.ownerPassword,children:C?s.jsxs(s.Fragment,{children:[s.jsx(Xr,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Create Business"]})})]})]})})]})}function vue({businesses:e,onRefresh:t}){const[r,n]=p.useState(!1),[a,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,h]=p.useState(""),[f,m]=p.useState(""),[j,g]=p.useState("upfront");p.useState("overdue");const[x,y]=p.useState([]),[v,w]=p.useState(!1);p.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:S,error:I}=await Et.getAllPayments();I?(console.error("Error loading payments:",I),y([])):y(S||[])}catch(S){console.error("Error loading payments:",S),y([])}},N=e.filter(S=>S.paymentStatus==="overdue"),k=e.filter(S=>{const I=new Date(S.renewalDate),O=new Date,z=Math.ceil((I.getTime()-O.getTime())/(1e3*60*60*24));return z<=30&&z>=0&&S.paymentStatus!=="overdue"}),P=e.filter(S=>S.paymentStatus==="paid").sort((S,I)=>new Date(I.lastPayment).getTime()-new Date(S.lastPayment).getTime()).slice(0,10),C=async()=>{if(a&&o&&c){w(!0);try{const{success:S,error:I}=await Et.recordPayment({business_id:a,amount:parseFloat(o),payment_type:j,payment_method:c,reference:d,notes:f});S?(alert("Payment recorded successfully!"),n(!1),i(""),l(""),u(""),h(""),m(""),g("upfront"),b(),t()):alert(`Failed to record payment: ${I}`)}catch(S){console.error("Error recording payment:",S),alert("Failed to record payment")}finally{w(!1)}}},A=S=>{console.log("Sending reminder to business:",S)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payment Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track payments, send reminders, and manage renewals"})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Overdue"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:k.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Due Soon"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Recent"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{onClick:t,variant:"outline",size:"sm",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{onClick:()=>n(!0),children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("h3",{className:"font-semibold text-lg",children:"Overdue"}),s.jsx(se,{variant:"destructive",children:N.length})]}),s.jsx("div",{className:"space-y-3",children:N.length>0?N.map(S=>s.jsx($,{className:"border-l-4 border-l-red-500 hover:shadow-md transition-shadow",children:s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(At,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:S.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.email})]})]}),s.jsx(se,{variant:"destructive",className:"text-xs",children:"Overdue"})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-medium",children:["",S.plan==="basic"?"200":S.plan==="pro"?"400":"800"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Due:"}),s.jsx("span",{className:"text-red-600",children:new Date(S.renewalDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"capitalize",children:S.plan})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>A(S.id),children:[s.jsx(Ai,{className:"h-3 w-3 mr-1"}),"Remind"]}),s.jsxs(B,{size:"sm",className:"flex-1",onClick:()=>{i(S.id),l(S.plan==="basic"?"200":S.plan==="pro"?"400":"800"),n(!0)},children:[s.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Record"]})]})]})},S.id)):s.jsx($,{className:"border-dashed",children:s.jsxs(L,{className:"p-8 text-center",children:[s.jsx(Ae,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-green-600",children:"All Caught Up!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No overdue payments"})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("h3",{className:"font-semibold text-lg",children:"Due Soon"}),s.jsx(se,{variant:"secondary",children:k.length})]}),s.jsx("div",{className:"space-y-3",children:k.length>0?k.map(S=>s.jsx($,{className:"border-l-4 border-l-yellow-500 hover:shadow-md transition-shadow",children:s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(qn,{className:"h-4 w-4 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:S.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.email})]})]}),s.jsx(se,{variant:"secondary",className:"text-xs",children:"Due Soon"})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-medium",children:["",S.plan==="basic"?"200":S.plan==="pro"?"400":"800"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Due:"}),s.jsx("span",{className:"text-yellow-600",children:new Date(S.renewalDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"capitalize",children:S.plan})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>A(S.id),children:[s.jsx(Ai,{className:"h-3 w-3 mr-1"}),"Remind"]}),s.jsxs(B,{size:"sm",className:"flex-1",onClick:()=>{i(S.id),l(S.plan==="basic"?"200":S.plan==="pro"?"400":"800"),n(!0)},children:[s.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Record"]})]})]})},S.id)):s.jsx($,{className:"border-dashed",children:s.jsxs(L,{className:"p-8 text-center",children:[s.jsx(Wr,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-blue-600",children:"All Good!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No payments due soon"})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("h3",{className:"font-semibold text-lg",children:"Recent"}),s.jsx(se,{variant:"default",children:P.length})]}),s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-3",children:P.length>0?P.map(S=>s.jsx($,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow",children:s.jsxs(L,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ae,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:S.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.email})]})]}),s.jsx(se,{className:"bg-green-500 text-white text-xs",children:"Paid"})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-medium",children:["",S.plan==="basic"?"200":S.plan==="pro"?"400":"800"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsx("span",{className:"text-green-600",children:new Date(S.lastPayment).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"capitalize",children:S.plan})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>A(S.id),children:[s.jsx(Ai,{className:"h-3 w-3 mr-1"}),"Contact"]}),s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(Vo,{className:"h-3 w-3 mr-1"}),"Receipt"]})]})]})},S.id)):s.jsx($,{className:"border-dashed col-span-full",children:s.jsxs(L,{className:"p-8 text-center",children:[s.jsx(Cr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-600",children:"No Recent Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent payments"})]})})})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Recent Activity"]}),s.jsx(Oe,{children:"Latest payment transactions and updates"})]}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:x.length>0?x.slice(0,10).map((S,I)=>{const O=e.find(z=>z.id===S.business_id);return s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ae,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:O?.businessName||"Unknown Business"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(S.payment_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:S.payment_method}),s.jsx(se,{className:"bg-green-500 text-white text-xs",children:"Completed"})]}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",S.amount]})]})]})]},I)}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Cr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-600",children:"No Payment History"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No payments have been recorded yet"})]})})})]}),s.jsx(Ye,{open:r,onOpenChange:n,children:s.jsxs(Ue,{children:[s.jsx(Ke,{children:s.jsx(He,{children:"Record Payment"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Business"}),s.jsxs(je,{value:a,onValueChange:i,children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select business"})}),s.jsx(Ne,{children:e.map(S=>s.jsxs(F,{value:S.id,children:[S.businessName," (",S.plan,")"]},S.id))})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Payment Type"}),s.jsxs(je,{value:j,onValueChange:S=>g(S),children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"upfront",children:"Upfront Payment"}),s.jsx(F,{value:"maintenance",children:"Maintenance Fee"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Amount ()"}),s.jsx(Q,{value:o,onChange:S=>l(S.target.value),placeholder:"Enter amount"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Payment Method"}),s.jsxs(je,{value:c,onValueChange:u,children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select method"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"momo",children:"Mobile Money"}),s.jsx(F,{value:"bank",children:"Bank Transfer"}),s.jsx(F,{value:"cash",children:"Cash"}),s.jsx(F,{value:"card",children:"Card Payment"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Reference/Transaction ID"}),s.jsx(Q,{value:d,onChange:S=>h(S.target.value),placeholder:"Enter reference number"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Notes"}),s.jsx(vt,{value:f,onChange:S=>m(S.target.value),placeholder:"Additional notes about this payment",className:"min-h-20"})]})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(B,{onClick:C,disabled:!a||!o||!c||v,children:v?"Recording...":"Record Payment"})]})]})})]})}const Al=["dashboard","products","orders","workers","reports","settings"],Ol={core:[{id:"dashboard",name:"Dashboard",icon:Lu,description:"Main business dashboard and overview"},{id:"products",name:"Products",icon:Qn,description:"Product management and inventory"},{id:"orders",name:"Orders",icon:Vo,description:"Order processing and management"},{id:"workers",name:"Workers",icon:Nt,description:"Worker management and administration"},{id:"reports",name:"Reports",icon:Ia,description:"Business reports and analytics"},{id:"settings",name:"Settings",icon:Jr,description:"System settings and configuration"}],advanced:[{id:"customers",name:"Customers",icon:Nt,description:"Customer management and database"},{id:"workers-management",name:"Workers Management",icon:Nt,description:"Advanced worker management tools"},{id:"payroll",name:"Payroll",icon:Cr,description:"Payroll processing and management"},{id:"suppliers",name:"Suppliers",icon:At,description:"Supplier and vendor management"},{id:"location-management",name:"Location Management",icon:wp,description:"Multi-location business management"},{id:"credit-management",name:"Credit Management",icon:Cr,description:"Customer credit and payment management"}],enterprise:[{id:"api-access",name:"API Access",icon:Fu,description:"REST API for custom integrations"},{id:"white-label",name:"White Label",icon:ja,description:"Custom branding and white-label options"},{id:"priority-support",name:"Priority Support",icon:Ys,description:"24/7 priority customer support"},{id:"custom-features",name:"Custom Features",icon:Li,description:"Tailored features for specific needs"},{id:"enterprise-analytics",name:"Enterprise Analytics",icon:Ia,description:"Advanced enterprise-level analytics"}]};function yue({businesses:e,onRefresh:t}){const[r,n]=p.useState("overview"),[a,i]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,m]=p.useState([]),[j,g]=p.useState([]),[x,y]=p.useState({}),[v,w]=p.useState(!1),[b,N]=p.useState({}),[k,P]=p.useState(null),[C,A]=p.useState([]),[S,I]=p.useState(""),[O,z]=p.useState(""),[V,Y]=p.useState(""),[R,W]=p.useState("Package"),[_,T]=p.useState("custom"),[re,M]=p.useState("");p.useEffect(()=>{te(),ne();const E=Et.subscribeToFeatureUpdates(ue=>{console.log("Feature update received:",ue),ne(),t()});return()=>{E.unsubscribe()}},[]),p.useEffect(()=>{r==="requests"&&H()},[r]);const H=async()=>{try{w(!0),console.log("Loading custom feature requests for Super Admin...");const E=await er.getAllCustomFeatures();console.log("Super Admin custom features response:",E),E.success?(g(E.features||[]),console.log("Custom feature requests loaded:",E.features)):console.error("Error loading custom feature requests:",E.error)}catch(E){console.error("Error loading custom feature requests:",E)}finally{w(!1)}},te=async()=>{const{data:E,error:ue}=await Et.getCustomFeatures();E&&!ue&&m(E)},ne=async()=>{const{data:E,error:ue}=await Et.getFeatureStats();E&&!ue&&y(E.stats||{})},fe=async()=>{if(!O||!V){q.error("Please provide feature ID and name");return}w(!0);const{success:E,error:ue}=await Et.addCustomFeature({feature_id:O,feature_name:V,feature_icon:R,category:_,description:re});E?(q.success("Custom feature added successfully!"),h(!1),z(""),Y(""),W("Package"),T("custom"),M(""),te()):q.error(ue||"Failed to add custom feature"),w(!1)},ae=E=>{l(E),A([...E.features||[]]),I(""),u(!0)},ee=async()=>{if(!o)return;if(!S.trim()){q.error("Please provide a reason for this change");return}w(!0);const E=o.features||[],ue=C.filter(Be=>!E.includes(Be)),Ce=E.filter(Be=>!C.includes(Be));for(const Be of ue){const{success:Qe,error:Ft}=await Et.enableFeature(o.id,Be,S);Qe||q.error(`Failed to enable ${Be}: ${Ft}`)}for(const Be of Ce){if(Al.includes(Be)){q.error(`Cannot remove core feature: ${Be}`);continue}const{success:Qe,error:Ft}=await Et.disableFeature(o.id,Be,S);Qe||q.error(`Failed to disable ${Be}: ${Ft}`)}q.success("Features updated successfully!"),u(!1),w(!1),t(),ne()},ce=E=>{if(Al.includes(E)&&C.includes(E)){q.error("Cannot remove core features");return}C.includes(E)?A(C.filter(ue=>ue!==E)):A([...C,E])},ie=E=>{navigator.clipboard.writeText(E),P(E),q.success("API key copied to clipboard!"),setTimeout(()=>P(null),2e3)},le=[...Ol.core,...Ol.advanced,...Ol.enterprise,...f.map(E=>({id:E.feature_id,name:E.feature_name,icon:Qn,description:E.description}))],me=e.filter(E=>E.businessName.toLowerCase().includes(a.toLowerCase())||E.email.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Jr,{className:"h-6 w-6"}),"Feature Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage features for all businesses"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:()=>h(!0),children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Custom Feature"]}),s.jsxs(B,{variant:"outline",onClick:t,children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs(pn,{value:r,onValueChange:n,children:[s.jsxs(xn,{children:[s.jsx(_e,{value:"overview",children:"Overview"}),s.jsx(_e,{value:"businesses",children:"Businesses"}),s.jsx(_e,{value:"catalog",children:"Feature Catalog"}),s.jsx(_e,{value:"requests",children:"Custom Requests"}),s.jsx(_e,{value:"stats",children:"Statistics"})]}),s.jsxs(Ee,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs($,{children:[s.jsx(U,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Total Features"})}),s.jsxs(L,{children:[s.jsx("div",{className:"text-3xl font-bold",children:le.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," custom features"]})]})]}),s.jsxs($,{children:[s.jsx(U,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Total Businesses"})}),s.jsxs(L,{children:[s.jsx("div",{className:"text-3xl font-bold",children:e.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(E=>E.status==="active").length," active"]})]})]}),s.jsxs($,{children:[s.jsx(U,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Most Used Feature"})}),s.jsxs(L,{children:[s.jsx("div",{className:"text-3xl font-bold",children:Object.keys(x).length>0&&Object.entries(x).sort((E,ue)=>ue[1]-E[1])[0]?.[0]||"N/A"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Object.keys(x).length>0?`${Object.entries(x).sort((E,ue)=>ue[1]-E[1])[0]?.[1]||0} businesses`:"No data"})]})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Quick Actions"}),s.jsx(Oe,{children:"Manage features across your businesses"})]}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(B,{variant:"outline",className:"h-20",onClick:()=>n("catalog"),children:s.jsxs("div",{className:"text-left w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Qn,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"View Feature Catalog"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Browse all available features"})]})}),s.jsx(B,{variant:"outline",className:"h-20",onClick:()=>n("businesses"),children:s.jsxs("div",{className:"text-left w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(At,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Manage Business Features"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable/disable features per business"})]})})]})})]})]}),s.jsxs(Ee,{value:"businesses",className:"space-y-4",children:[s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search businesses...",value:a,onChange:E=>i(E.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"grid gap-4",children:me.map(E=>s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(At,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:E.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.email})]}),s.jsx(se,{variant:E.plan==="enterprise"?"default":E.plan==="pro"?"secondary":"outline",children:E.plan})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(D,{className:"text-xs text-muted-foreground",children:"API Key (for backups)"}),s.jsxs("div",{className:"bg-gray-100 p-2 rounded flex items-center gap-2 mt-1",children:[s.jsx(Ei,{className:"h-4 w-4 text-gray-500"}),s.jsx("code",{className:"text-sm font-mono flex-1",children:b[E.id]?"biz_"+E.id.substring(0,20):""}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>N({...b,[E.id]:!b[E.id]}),children:b[E.id]?s.jsx(bE,{className:"h-4 w-4"}):s.jsx(Qs,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>ie("biz_"+E.id),children:k==="biz_"+E.id?s.jsx(Ae,{className:"h-4 w-4 text-green-500"}):s.jsx(yi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsxs(D,{className:"text-xs text-muted-foreground",children:["Enabled Features (",E.features?.length||0,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:E.features&&E.features.length>0?E.features.map(ue=>{const Ce=le.find(Qe=>Qe.id===ue),Be=Al.includes(ue);return s.jsxs(se,{variant:Be?"default":"secondary",className:"text-xs",children:[Ce?.name||ue,Be&&s.jsx(ja,{className:"h-3 w-3 ml-1"})]},ue)}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No features enabled"})})]})]}),s.jsxs(B,{onClick:()=>ae(E),children:[s.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Manage"]})]})})},E.id))})]}),s.jsx(Ee,{value:"catalog",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5"}),"Core Features (Cannot be removed)"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Ol.core.map(E=>{const ue=E.icon,Ce=x[E.id]||0;return s.jsxs($,{className:"border-l-4 border-l-blue-500",children:[s.jsx(U,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(ue,{className:"h-4 w-4"}),E.name]})}),s.jsxs(L,{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:E.description}),s.jsxs(se,{variant:"secondary",children:[Ce," businesses"]})]})]},E.id)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Advanced Features"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Ol.advanced.map(E=>{const ue=E.icon,Ce=x[E.id]||0;return s.jsxs($,{children:[s.jsx(U,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(ue,{className:"h-4 w-4"}),E.name]})}),s.jsxs(L,{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:E.description}),s.jsxs(se,{variant:"secondary",children:[Ce," businesses"]})]})]},E.id)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Enterprise Features"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Ol.enterprise.map(E=>{const ue=E.icon,Ce=x[E.id]||0;return s.jsxs($,{children:[s.jsx(U,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(ue,{className:"h-4 w-4"}),E.name]})}),s.jsxs(L,{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:E.description}),s.jsxs(se,{variant:"secondary",children:[Ce," businesses"]})]})]},E.id)})})]}),f.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Custom Features"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map(E=>{const ue=x[E.feature_id]||0;return s.jsxs($,{children:[s.jsx(U,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Qn,{className:"h-4 w-4"}),E.feature_name]})}),s.jsxs(L,{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:E.description}),s.jsxs(se,{variant:"secondary",children:[ue," businesses"]})]})]},E.id)})})]})]})}),s.jsx(Ee,{value:"requests",className:"space-y-4",children:s.jsxs($,{children:[s.jsx(U,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(K,{children:"Custom Feature Requests"}),s.jsx(Oe,{children:"Manage custom feature requests from Enterprise customers"})]}),s.jsxs(B,{variant:"outline",size:"sm",onClick:H,disabled:v,children:[s.jsx(Xr,{className:`h-4 w-4 mr-2 ${v?"animate-spin":""}`}),"Refresh"]})]})}),s.jsx(L,{children:v?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading custom feature requests..."})]}):j.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Li,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Custom Feature Requests"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"No custom feature requests have been submitted yet."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Feature requests will appear here once Enterprise customers submit them through their Custom Features page."})]}):s.jsx("div",{className:"space-y-4",children:j.map(E=>{const ue=e.find(Ce=>Ce.id===E.business_id);return s.jsxs($,{className:"border-l-4 border-l-blue-500",children:[s.jsx(U,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(K,{className:"text-lg",children:E.title}),s.jsxs(Oe,{children:["From: ",ue?.businessName||"Unknown Business"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:E.status==="submitted"?"secondary":E.status==="reviewing"?"outline":E.status==="approved"?"default":E.status==="in-development"?"secondary":E.status==="completed"?"default":"destructive",children:E.status.replace("-"," ")}),s.jsxs(se,{variant:E.priority==="high"?"destructive":E.priority==="medium"?"default":"secondary",children:[E.priority," priority"]})]})]})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:E.description})]}),s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Business Value"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:E.businessValue})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Submitted: ",E.submittedDate]}),s.jsxs("span",{children:["Updated: ",E.updatedDate]}),E.estimatedCost>0&&s.jsxs("span",{children:["Est. Cost: $",E.estimatedCost]}),E.estimatedTime!=="TBD"&&s.jsxs("span",{children:["Est. Time: ",E.estimatedTime]})]})]})})]},E.id)})})})]})}),s.jsx(Ee,{value:"stats",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Feature Usage Statistics"}),s.jsx(Oe,{children:"See which features are most popular"})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-4",children:[Object.entries(x).sort((E,ue)=>ue[1]-E[1]).map(([E,ue])=>{const Ce=le.find(Qe=>Qe.id===E),Be=e.length>0?ue/e.length*100:0;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:Ce?.name||E}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[ue," / ",e.length," (",Be.toFixed(0),"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Be}%`}})})]},E)}),Object.keys(x).length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No feature usage data available"})]})})]})})]}),s.jsx(Ye,{open:c,onOpenChange:u,children:s.jsxs(Ue,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ke,{children:[s.jsxs(He,{children:["Manage Features - ",o?.businessName]}),s.jsx(xt,{children:"Enable or disable features for this business. Core features cannot be removed."})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2 text-foreground",children:[s.jsx(ja,{className:"h-4 w-4"}),"Core Features"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:le.filter(E=>Al.includes(E.id)).map(E=>{const ue=C.includes(E.id),Ce=E.icon;return s.jsx("div",{className:"border rounded-lg p-4 bg-muted/30 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xd,{checked:ue,onCheckedChange:()=>ce(E.id),disabled:ue,className:"mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:E.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:E.description}),s.jsxs(se,{variant:"default",className:"text-xs",children:[s.jsx(ja,{className:"h-3 w-3 mr-1"}),"Core"]})]})]})},E.id)})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2 text-foreground",children:[s.jsx(Vt,{className:"h-4 w-4"}),"Advanced Features"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:le.filter(E=>!Al.includes(E.id)&&["customers","workers-management","payroll","suppliers","location-management","credit-management"].includes(E.id)).map(E=>{const ue=C.includes(E.id),Ce=E.icon;return s.jsx("div",{className:`border rounded-lg p-4 transition-colors ${ue?"bg-blue-50 border-blue-200":"bg-background hover:bg-muted/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xd,{checked:ue,onCheckedChange:()=>ce(E.id),className:"mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:E.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]})]})},E.id)})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2 text-foreground",children:[s.jsx(Ys,{className:"h-4 w-4"}),"Enterprise Features"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:le.filter(E=>!Al.includes(E.id)&&!["customers","workers-management","payroll","suppliers","location-management","credit-management"].includes(E.id)).map(E=>{const ue=C.includes(E.id),Ce=E.icon;return s.jsx("div",{className:`border rounded-lg p-4 transition-colors ${ue?"bg-purple-50 border-purple-200":"bg-background hover:bg-muted/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xd,{checked:ue,onCheckedChange:()=>ce(E.id),className:"mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:E.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]})]})},E.id)})})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx(D,{htmlFor:"reason",className:"text-sm font-semibold",children:"Reason for Change *"}),s.jsx(vt,{id:"reason",placeholder:"Why are you making these changes? (e.g., 'Customer requested', 'Trial period', etc.)",value:S,onChange:E=>I(E.target.value),rows:3,className:"mt-2"})]})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsx(B,{onClick:ee,disabled:v||!S.trim(),children:v?"Saving...":"Save Changes"})]})]})}),s.jsx(Ye,{open:d,onOpenChange:h,children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Add Custom Feature"}),s.jsx(xt,{children:"Create a new feature that can be assigned to businesses"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"feature-id",children:"Feature ID *"}),s.jsx(Q,{id:"feature-id",placeholder:"e.g., loyalty-program",value:O,onChange:E=>z(E.target.value.toLowerCase().replace(/\s+/g,"-"))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use lowercase with hyphens"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"feature-name",children:"Feature Name *"}),s.jsx(Q,{id:"feature-name",placeholder:"e.g., Loyalty Program",value:V,onChange:E=>Y(E.target.value)})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"feature-icon",children:"Icon Name"}),s.jsx(Q,{id:"feature-icon",placeholder:"e.g., Package, Star, Gift",value:R,onChange:E=>W(E.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lucide icon name"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"feature-category",children:"Category"}),s.jsxs(je,{value:_,onValueChange:T,children:[s.jsx(be,{id:"feature-category",children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"custom",children:"Custom"}),s.jsx(F,{value:"advanced",children:"Advanced"}),s.jsx(F,{value:"enterprise",children:"Enterprise"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"feature-description",children:"Description"}),s.jsx(vt,{id:"feature-description",placeholder:"Describe what this feature does...",value:re,onChange:E=>M(E.target.value),rows:3})]})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(B,{onClick:fe,disabled:v||!O||!V,children:v?"Adding...":"Add Feature"})]})]})})]})}function jue({businesses:e,onRefresh:t}){const[r,n]=p.useState("6m"),[a,i]=p.useState("revenue"),[o,l]=p.useState(null),[c,u]=p.useState(!1);p.useEffect(()=>{d()},[r]);const d=async()=>{u(!0);try{const{data:v,error:w}=await Et.getAnalytics(r);w?(console.error("Failed to load analytics:",w),l(null)):l(v)}catch(v){console.error("Error loading analytics:",v),l(null)}finally{u(!1)}},h=o?.mrrData||[],f=o?.cohortData||[],m=o?.featureUsageData||[],j=e.sort((v,w)=>w.monthlyRevenue-v.monthlyRevenue).slice(0,5),g=e.reduce((v,w)=>(v[w.plan]=(v[w.plan]||0)+1,v),{}),x=e.reduce((v,w)=>{const b=w.plan==="basic"?200:w.plan==="pro"?400:800;return v+b},0),y=e.length>0?x/e.length:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Analytics & Insights"}),s.jsx("p",{className:"text-muted-foreground",children:"Business performance, revenue trends, and user adoption"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(je,{value:r,onValueChange:n,children:[s.jsx(be,{className:"w-32",children:s.jsx(we,{placeholder:"Time range"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"1m",children:"1 Month"}),s.jsx(F,{value:"3m",children:"3 Months"}),s.jsx(F,{value:"6m",children:"6 Months"}),s.jsx(F,{value:"1y",children:"1 Year"})]})]}),s.jsxs(B,{onClick:()=>{d(),t()},variant:"outline",size:"sm",disabled:c,children:[s.jsx(Xr,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),c?"Loading...":"Refresh"]}),s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Total MRR"}),s.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",x.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly Recurring Revenue"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Average ARPU"}),s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["",Math.round(y)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Average Revenue Per User"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Active Businesses"}),s.jsx(At,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.filter(v=>v.status==="active").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Churn Rate"}),s.jsx(Lj,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"2.5%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly churn rate"})]})]})]}),s.jsxs(pn,{value:a,onValueChange:i,className:"space-y-4",children:[s.jsxs(xn,{className:"grid w-full grid-cols-4",children:[s.jsx(_e,{value:"revenue",children:"Revenue"}),s.jsx(_e,{value:"retention",children:"Retention"}),s.jsx(_e,{value:"adoption",children:"Adoption"}),s.jsx(_e,{value:"leaderboards",children:"Leaderboards"})]}),s.jsxs(Ee,{value:"revenue",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"MRR Growth"}),s.jsx(Oe,{children:"Monthly Recurring Revenue over time"})]}),s.jsx(L,{children:s.jsx(Mo,{config:{mrr:{label:"MRR",color:"hsl(var(--primary))"}},className:"h-64",children:s.jsxs(Vx,{data:h,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"month"}),s.jsx(gr,{}),s.jsx(Yl,{content:s.jsx(Gl,{})}),s.jsx(Hi,{type:"monotone",dataKey:"mrr",stroke:"var(--color-mrr)",strokeWidth:2})]})})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Plan Distribution"}),s.jsx(Oe,{children:"Business distribution by plan"})]}),s.jsx(L,{children:s.jsx(Mo,{config:{basic:{label:"Basic",color:"hsl(var(--chart-1))"},pro:{label:"Pro",color:"hsl(var(--chart-2))"},enterprise:{label:"Enterprise",color:"hsl(var(--chart-3))"}},className:"h-64",children:s.jsxs(kN,{children:[s.jsx(Wx,{data:Object.entries(g).map(([v,w])=>({plan:v,count:w})),dataKey:"count",nameKey:"plan",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8"}),s.jsx(Yl,{content:s.jsx(Gl,{})}),s.jsx(s_,{content:s.jsx(a_,{})})]})})})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Revenue Breakdown"}),s.jsx(Oe,{children:"Revenue by plan and business type"})]}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",g.basic*200||0]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic Plan Revenue"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.basic||0," businesses"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["",g.pro*400||0]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pro Plan Revenue"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.pro||0," businesses"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-amber-600",children:["",g.enterprise*800||0]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise Plan Revenue"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.enterprise||0," businesses"]})]})]})})]})]}),s.jsx(Ee,{value:"retention",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Retention Cohort"}),s.jsx(Oe,{children:"Business retention by signup month"})]}),s.jsx(L,{children:s.jsx(Mo,{config:{month0:{label:"Month 0",color:"hsl(var(--chart-1))"},month1:{label:"Month 1",color:"hsl(var(--chart-2))"},month2:{label:"Month 2",color:"hsl(var(--chart-3))"},month3:{label:"Month 3",color:"hsl(var(--chart-4))"},month4:{label:"Month 4",color:"hsl(var(--chart-5))"},month5:{label:"Month 5",color:"hsl(var(--chart-6))"}},className:"h-80",children:s.jsxs(Js,{data:f,children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{dataKey:"cohort"}),s.jsx(gr,{}),s.jsx(Yl,{content:s.jsx(Gl,{})}),s.jsx(s_,{content:s.jsx(a_,{})}),s.jsx(xr,{dataKey:"month0",stackId:"a",fill:"var(--color-month0)"}),s.jsx(xr,{dataKey:"month1",stackId:"a",fill:"var(--color-month1)"}),s.jsx(xr,{dataKey:"month2",stackId:"a",fill:"var(--color-month2)"}),s.jsx(xr,{dataKey:"month3",stackId:"a",fill:"var(--color-month3)"}),s.jsx(xr,{dataKey:"month4",stackId:"a",fill:"var(--color-month4)"}),s.jsx(xr,{dataKey:"month5",stackId:"a",fill:"var(--color-month5)"})]})})})]})}),s.jsxs(Ee,{value:"adoption",className:"space-y-4",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Feature Adoption"}),s.jsx(Oe,{children:"Feature usage across all businesses"})]}),s.jsx(L,{children:s.jsx(Mo,{config:{usage:{label:"Usage %",color:"hsl(var(--primary))"}},className:"h-64",children:s.jsxs(Js,{data:m,layout:"horizontal",children:[s.jsx(Pr,{strokeDasharray:"3 3"}),s.jsx(_r,{type:"number",domain:[0,100]}),s.jsx(gr,{dataKey:"feature",type:"category",width:100}),s.jsx(Yl,{content:s.jsx(Gl,{})}),s.jsx(xr,{dataKey:"usage",fill:"var(--color-usage)"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Top Features"}),s.jsx(Oe,{children:"Most used features"})]}),s.jsx(L,{className:"space-y-2",children:m.slice(0,5).map((v,w)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["#",w+1]}),s.jsx("span",{className:"text-sm",children:v.feature})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[v.usage,"%"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.businesses," businesses"]})]})]},v.feature))})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Underutilized Features"}),s.jsx(Oe,{children:"Features with low adoption"})]}),s.jsx(L,{className:"space-y-2",children:m.slice(-3).map((v,w)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["#",m.length-2+w]}),s.jsx("span",{className:"text-sm",children:v.feature})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium text-red-600",children:[v.usage,"%"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[v.businesses," businesses"]})]})]},v.feature))})]})]})]}),s.jsxs(Ee,{value:"leaderboards",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ys,{className:"h-5 w-5"}),"Top Performing Businesses"]}),s.jsx(Oe,{children:"By monthly revenue"})]}),s.jsx(L,{className:"space-y-3",children:j.map((v,w)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-bold text-yellow-600",children:["#",w+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.businessName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.plan,"  ",v.businessType]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["",v.monthlyRevenue]}),s.jsx(se,{className:v.status==="active"?"bg-green-500":"bg-red-500",variant:"outline",children:v.status})]})]},v.id))})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-5 w-5"}),"Newest Businesses"]}),s.jsx(Oe,{children:"Recently registered"})]}),s.jsx(L,{className:"space-y-3",children:e.sort((v,w)=>new Date(w.createdAt).getTime()-new Date(v.createdAt).getTime()).slice(0,5).map((v,w)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-bold text-blue-600",children:["#",w+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.businessName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.plan,"  ",v.businessType]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(v.createdAt).toLocaleDateString()}),s.jsx(se,{className:v.setupComplete?"bg-green-500":"bg-yellow-500",variant:"outline",children:v.setupComplete?"Complete":"Pending"})]})]},v.id))})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(xc,{className:"h-5 w-5"}),"Business Activity Summary"]}),s.jsx(Oe,{children:"Overall platform activity and engagement"})]}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Businesses"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(v=>v.status==="active").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Businesses"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.reduce((v,w)=>v+w.activeLogins,0)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logins"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-amber-600",children:e.filter(v=>v.setupComplete).length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Setup Complete"})]})]})})]})]})]})]})}function wue({onRefresh:e}){const[t,r]=p.useState("system"),[n,a]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState([]),[h,f]=p.useState(!1),[m,j]=p.useState(!1),[g,x]=p.useState(""),[y,v]=p.useState([]),[w,b]=p.useState("1000"),[N,k]=p.useState(null),[P,C]=p.useState(null),[A,S]=p.useState("5"),[I,O]=p.useState("30"),[z,V]=p.useState(!0),[Y,R]=p.useState(!1),[W,_]=p.useState("1500"),[T,re]=p.useState("200"),[M,H]=p.useState("3000"),[te,ne]=p.useState("400"),[fe,ae]=p.useState("5000"),[ee,ce]=p.useState("800"),[ie,le]=p.useState(!1),[me,E]=p.useState(!0),[ue,Ce]=p.useState(!1),[Be,Qe]=p.useState("8"),[Ft,Os]=p.useState("Rekon360"),[rd,ml]=p.useState(""),[Ts,ao]=p.useState("#3b82f6"),[en,io]=p.useState("#64748b");p.useEffect(()=>{nd()},[]);const nd=async()=>{const{data:de,error:yt}=await Et.getAllApiKeys();de&&!yt&&d(de)},Dr=async()=>{if(!g||y.length===0){alert("Please provide a key name and at least one permission");return}const{data:de,error:yt}=await Et.createApiKey({key_name:g,permissions:y,rate_limit:parseInt(w)});yt?alert(`Failed to create API key: ${yt}`):de&&(d([de,...u]),j(!1),x(""),v([]),b("1000"),k(de),f(!0))},Ds=async de=>{if(!confirm("Are you sure you want to delete this API key? This cannot be undone."))return;const{error:yt}=await Et.deleteApiKey(de);yt?alert(`Failed to delete API key: ${yt}`):d(u.filter(ei=>ei.id!==de))},sd=async(de,yt)=>{const{error:ei}=await Et.updateApiKey(de,{is_active:!yt});ei?alert(`Failed to update API key: ${ei}`):d(u.map(Fe=>Fe.id===de?{...Fe,is_active:!yt}:Fe))},pl=de=>{navigator.clipboard.writeText(de),C(de),setTimeout(()=>C(null),2e3)},Za=de=>{y.includes(de)?v(y.filter(yt=>yt!==de)):v([...y,de])},ad=()=>{console.log("Saving settings...")},xl=()=>{console.log("Exporting configuration..."),a(!1)},oo=()=>{console.log("Importing configuration..."),o(!1)},Ms=()=>{console.log("Performing dangerous action..."),c(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"System Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure system behavior, pricing, and access controls"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:e,variant:"outline",size:"sm",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{onClick:ad,children:[s.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Save All"]})]})]}),s.jsxs(pn,{value:t,onValueChange:r,className:"space-y-6",children:[s.jsxs(xn,{className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[s.jsx(_e,{value:"system",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"System"}),s.jsx(_e,{value:"pricing",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"Pricing"}),s.jsx(_e,{value:"api",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"API Keys"}),s.jsx(_e,{value:"roles",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"Roles & Access"}),s.jsx(_e,{value:"branding",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"Branding"})]}),s.jsx(Ee,{value:"system",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"h-5 w-5"}),"System Configuration"]}),s.jsx(Oe,{children:"Core system settings and behavior"})]}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"sync-interval",children:"Sync Interval (minutes)"}),s.jsx(Q,{id:"sync-interval",value:A,onChange:de=>S(de.target.value),placeholder:"5",className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"How often to sync data with Supabase"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"reminder-days",children:"Payment Reminder Days"}),s.jsx(Q,{id:"reminder-days",value:I,onChange:de=>O(de.target.value),placeholder:"30",className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Days before due date to send reminders"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"auto-reminders",className:"text-sm font-medium",children:"Auto Reminders"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically send payment reminders"})]}),s.jsx(Ct,{id:"auto-reminders",checked:z,onCheckedChange:V})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"maintenance-mode",className:"text-sm font-medium",children:"Maintenance Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Temporarily disable system access"})]}),s.jsx(Ct,{id:"maintenance-mode",checked:Y,onCheckedChange:R})]})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(jp,{className:"h-5 w-5"}),"Notification Settings"]}),s.jsx(Oe,{children:"Configure system notifications"})]}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send email alerts for important events"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Payment Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Alert on overdue payments"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"System Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Alert on system issues"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Feature Updates"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify about new features"})]}),s.jsx(Ct,{})]})]})})]})]})}),s.jsx(Ee,{value:"pricing",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{className:"pb-3",children:[s.jsxs(K,{className:"flex items-center gap-2 text-lg",children:[s.jsx(gt,{className:"h-4 w-4"}),"Pricing Configuration"]}),s.jsx(Oe,{className:"text-sm",children:"Set pricing for different business plans (hidden from end-users)"})]}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-2xl mx-auto",children:[s.jsxs($,{className:"border-blue-200",children:[s.jsx(U,{className:"text-center pb-0 px-2 pt-1 flex items-center justify-center",children:s.jsx("h3",{className:"text-lg font-bold text-blue-600 mb-0",children:"Basic"})}),s.jsxs(L,{className:"space-y-1 p-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"basic-upfront",className:"text-xs",children:"Upfront ()"}),s.jsx(Q,{id:"basic-upfront",value:W,onChange:de=>_(de.target.value),className:"w-full h-6 text-xs"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"basic-maintenance",className:"text-xs",children:"Maintenance ()"}),s.jsx(Q,{id:"basic-maintenance",value:T,onChange:de=>re(de.target.value),className:"w-full h-6 text-xs"})]})]})]}),s.jsxs($,{className:"border-purple-200",children:[s.jsx(U,{className:"text-center pb-0 px-2 pt-1 flex items-center justify-center",children:s.jsx("h3",{className:"text-lg font-bold text-purple-600 mb-0",children:"Pro"})}),s.jsxs(L,{className:"space-y-1 p-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"pro-upfront",className:"text-xs",children:"Upfront ()"}),s.jsx(Q,{id:"pro-upfront",value:M,onChange:de=>H(de.target.value),className:"w-full h-6 text-xs"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"pro-maintenance",className:"text-xs",children:"Maintenance ()"}),s.jsx(Q,{id:"pro-maintenance",value:te,onChange:de=>ne(de.target.value),className:"w-full h-6 text-xs"})]})]})]}),s.jsxs($,{className:"border-amber-200",children:[s.jsx(U,{className:"text-center pb-0 px-2 pt-1 flex items-center justify-center",children:s.jsx("h3",{className:"text-lg font-bold text-amber-600 mb-0",children:"Enterprise"})}),s.jsxs(L,{className:"space-y-1 p-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"enterprise-upfront",className:"text-xs",children:"Upfront ()"}),s.jsx(Q,{id:"enterprise-upfront",value:fe,onChange:de=>ae(de.target.value),className:"w-full h-6 text-xs"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{htmlFor:"enterprise-maintenance",className:"text-xs",children:"Maintenance ()"}),s.jsx(Q,{id:"enterprise-maintenance",value:ee,onChange:de=>ce(de.target.value),className:"w-full h-6 text-xs"})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:"Current Pricing Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-3 border rounded-lg text-center bg-blue-50",children:[s.jsxs("div",{className:"text-xl font-bold text-blue-600",children:["",W]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic Upfront"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["",T,"/month"]})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center bg-purple-50",children:[s.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["",M]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pro Upfront"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["",te,"/month"]})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center bg-amber-50",children:[s.jsxs("div",{className:"text-xl font-bold text-amber-600",children:["",fe]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise Upfront"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["",ee,"/month"]})]})]})]})]})]})}),s.jsxs(Ee,{value:"api",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"API Keys Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage API keys for external integrations"})]}),s.jsxs(B,{onClick:()=>j(!0),children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]}),s.jsxs("div",{className:"grid gap-4",children:[u.map(de=>s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ei,{className:"h-5 w-5 text-blue-500"}),s.jsx("h4",{className:"font-medium",children:de.key_name}),s.jsx(se,{variant:de.is_active?"default":"secondary",children:de.is_active?"Active":"Disabled"})]}),s.jsxs("div",{className:"bg-gray-100 p-2 rounded flex items-center gap-2 mb-2",children:[s.jsxs("code",{className:"text-sm font-mono flex-1",children:[de.key_value.substring(0,20),"...",de.key_value.substring(de.key_value.length-10)]}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>pl(de.key_value),children:P===de.key_value?s.jsx(Ae,{className:"h-4 w-4 text-green-500"}):s.jsx(yi,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:de.permissions.map(yt=>s.jsx(se,{variant:"outline",className:"text-xs",children:yt},yt))}),s.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Rate Limit: ",de.rate_limit,"/hr"]}),s.jsxs("span",{children:["Created: ",new Date(de.created_at).toLocaleDateString()]}),de.last_used&&s.jsxs("span",{children:["Last Used: ",new Date(de.last_used).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>sd(de.id,de.is_active),children:de.is_active?s.jsxs(s.Fragment,{children:[s.jsx(DF,{className:"h-4 w-4 mr-1"})," Disable"]}):s.jsxs(s.Fragment,{children:[s.jsx(LF,{className:"h-4 w-4 mr-1"})," Enable"]})}),s.jsx(B,{size:"sm",variant:"destructive",onClick:()=>Ds(de.id),children:s.jsx(Ka,{className:"h-4 w-4"})})]})]})})},de.id)),u.length===0&&s.jsx($,{className:"border-dashed",children:s.jsxs(L,{className:"p-12 text-center",children:[s.jsx(Ei,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"font-medium text-gray-600 mb-2",children:"No API Keys"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first API key to enable external integrations"}),s.jsxs(B,{onClick:()=>j(!0),children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]})})]})]}),s.jsx(Ee,{value:"roles",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Nt,{className:"h-5 w-5"}),"Access Control"]}),s.jsx(Oe,{children:"Manage user roles and permissions"})]}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Super Admin Assistants"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow assistants to help with admin tasks"})]}),s.jsx(Ct,{checked:ie,onCheckedChange:le})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Lock Dangerous Operations"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require confirmation for destructive actions"})]}),s.jsx(Ct,{checked:me,onCheckedChange:E})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Require Two-Factor Authentication"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Force 2FA for all admin accounts"})]}),s.jsx(Ct,{checked:ue,onCheckedChange:Ce})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"session-timeout",children:"Session Timeout (hours)"}),s.jsx(Q,{id:"session-timeout",value:Be,onChange:de=>Qe(de.target.value),placeholder:"8",className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-logout after inactivity"})]})]})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5"}),"Security Settings"]}),s.jsx(Oe,{children:"Configure security policies"})]}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"IP Whitelist"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict access to specific IP addresses"})]}),s.jsx(Ct,{})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Login Attempts Limit"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Block after failed login attempts"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Audit Logging"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Log all admin actions"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(D,{className:"text-sm font-medium",children:"Data Encryption"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Encrypt sensitive data at rest"})]}),s.jsx(Ct,{defaultChecked:!0})]})]})})]})]})}),s.jsx(Ee,{value:"branding",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx($j,{className:"h-5 w-5"}),"Branding Configuration"]}),s.jsx(Oe,{children:"Customize app appearance and branding"})]}),s.jsx(L,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"app-name",children:"Application Name"}),s.jsx(Q,{id:"app-name",value:Ft,onChange:de=>Os(de.target.value),placeholder:"Rekon360"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"app-logo",children:"Logo URL"}),s.jsx(Q,{id:"app-logo",value:rd,onChange:de=>ml(de.target.value),placeholder:"https://example.com/logo.png"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"primary-color",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{id:"primary-color",value:Ts,onChange:de=>ao(de.target.value),placeholder:"#3b82f6"}),s.jsx("div",{className:"w-10 h-10 border rounded cursor-pointer",style:{backgroundColor:Ts},onClick:()=>{}})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"secondary-color",children:"Secondary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{id:"secondary-color",value:en,onChange:de=>io(de.target.value),placeholder:"#64748b"}),s.jsx("div",{className:"w-10 h-10 border rounded cursor-pointer",style:{backgroundColor:en},onClick:()=>{}})]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:Ft})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Colors and branding will appear in the desktop app header and sidebar"})]})]})})]})})]})})]}),s.jsx(Ye,{open:n,onOpenChange:a,children:s.jsxs(Ue,{children:[s.jsx(Ke,{children:s.jsx(He,{children:"Export Configuration"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Export Type"}),s.jsxs(je,{defaultValue:"full",children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select export type"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"full",children:"Full Configuration"}),s.jsx(F,{value:"settings",children:"Settings Only"}),s.jsx(F,{value:"pricing",children:"Pricing Only"}),s.jsx(F,{value:"branding",children:"Branding Only"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Include Sensitive Data"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"include-sensitive"}),s.jsx(D,{htmlFor:"include-sensitive",className:"text-sm",children:"Include API keys and passwords (not recommended for sharing)"})]})]})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(B,{onClick:xl,children:"Export"})]})]})}),s.jsx(Ye,{open:i,onOpenChange:o,children:s.jsxs(Ue,{children:[s.jsx(Ke,{children:s.jsx(He,{children:"Import Configuration"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Configuration File"}),s.jsx(Q,{type:"file",accept:".json"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select a JSON configuration file to import"})]}),s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-600",children:[s.jsx("strong",{children:"Note:"})," This will overwrite current settings. Make sure to backup first."]})})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(B,{onClick:oo,children:"Import"})]})]})}),s.jsx(Ye,{open:l,onOpenChange:c,children:s.jsxs(Ue,{children:[s.jsx(Ke,{children:s.jsxs(He,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(_i,{className:"h-5 w-5"}),"Confirm Dangerous Action"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm",children:"This action will permanently delete all business data, user accounts, and system settings. This cannot be undone."}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-600",children:[s.jsx("strong",{children:"Warning:"}),' Type "DELETE ALL DATA" to confirm this action.']})}),s.jsx(Q,{placeholder:"Type DELETE ALL DATA to confirm"})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(B,{variant:"destructive",onClick:Ms,children:"Delete All Data"})]})]})}),s.jsx(Ye,{open:m,onOpenChange:j,children:s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsx(Ke,{children:s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"h-5 w-5"}),"Create New API Key"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"key-name",children:"Key Name"}),s.jsx(Q,{id:"key-name",placeholder:"e.g., Mobile App Integration",value:g,onChange:de=>x(de.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"A descriptive name to identify this key"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Permissions"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["analytics","backup_status","realtime_events","read_sales","write_products","manage_customers"].map(de=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`perm-${de}`,checked:y.includes(de),onChange:()=>Za(de),className:"rounded"}),s.jsx(D,{htmlFor:`perm-${de}`,className:"text-sm font-normal cursor-pointer",children:de.replace(/_/g," ")})]},de))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select what this key can access"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"rate-limit",children:"Rate Limit (requests/hour)"}),s.jsx(Q,{id:"rate-limit",type:"number",placeholder:"1000",value:w,onChange:de=>b(de.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of requests per hour"})]}),s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-600",children:[s.jsx("strong",{children:"Important:"})," The API key will only be shown once. Make sure to copy and save it securely."]})})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsxs(B,{onClick:Dr,children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Create Key"]})]})]})}),s.jsx(Ye,{open:h,onOpenChange:f,children:s.jsxs(Ue,{children:[s.jsx(Ke,{children:s.jsxs(He,{className:"flex items-center gap-2 text-green-600",children:[s.jsx(Ae,{className:"h-5 w-5"}),"API Key Created Successfully"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-600 mb-2",children:s.jsx("strong",{children:"Your API Key:"})}),s.jsxs("div",{className:"bg-white p-3 rounded flex items-center gap-2",children:[s.jsx("code",{className:"text-sm font-mono flex-1 break-all",children:N?.key_value}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>N&&pl(N.key_value),children:P===N?.key_value?s.jsx(Ae,{className:"h-4 w-4 text-green-500"}):s.jsx(yi,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-600",children:[s.jsx("strong",{children:"Warning:"})," This is the only time you'll see this key. Make sure to copy it now!"]})}),N&&s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Key Name:"})," ",N.key_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Permissions:"})," ",N.permissions.join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Rate Limit:"})," ",N.rate_limit," requests/hour"]})]})]}),s.jsx(on,{children:s.jsx(B,{onClick:()=>f(!1),children:"I've Saved the Key"})})]})})]})}function bue({businesses:e,onRefresh:t}){console.log("SuperAdminBackups component rendered");const[r,n]=p.useState("all"),[a,i]=p.useState([]),[o,l]=p.useState(!1),[c,u]=p.useState(""),[d,h]=p.useState("all"),[f,m]=p.useState(!1),[j,g]=p.useState(!1),[x,y]=p.useState(null),[v,w]=p.useState(0),[b,N]=p.useState(!1);if(p.useEffect(()=>{e&&e.length>=0&&k();const O=Et.subscribeToBackupUpdates(z=>{console.log("Backup update received:",z),k()});return()=>{O.unsubscribe()}},[e]),o)return s.jsx("div",{className:"flex items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Xr,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-lg font-medium",children:"Loading backups..."})]})});const k=async()=>{try{l(!0);const{data:O,error:z}=await Et.getBackupHistory();if(z)console.error("Error loading backups:",z),i([]);else if(O&&O.length>0){const V=O.map(Y=>({id:Y.id,businessId:Y.business_id,businessName:e.find(R=>R.id===Y.business_id)?.businessName||"Unknown Business",timestamp:Y.created_at,size:(Y.data_size||0)/1048576,type:Y.backup_type==="full"?"automatic":"manual",status:Y.status==="completed"?"completed":Y.status==="failed"?"failed":"in_progress",description:`${Y.backup_type} backup`,dataPoints:{products:0,customers:0,sales:0,workers:0,payroll:0}}));i(V)}else i([])}catch(O){console.error("Error loading backups:",O),i([])}finally{l(!1)}},P=async()=>{if(!r||r==="all"){q.error("Please select a specific business first");return}l(!0);try{const{success:O,error:z}=await Et.triggerBackup(r,"full");O?(q.success("Backup initiated successfully"),m(!1),setTimeout(()=>k(),2e3)):q.error(z||"Failed to create backup")}catch(O){console.error("Backup creation error:",O),q.error(`Failed to create backup: ${O.message}`)}finally{l(!1)}},C=async O=>{if(confirm(`Are you sure you want to restore data from this backup to ${O.businessName}? This will overwrite their current data.`)){N(!0),w(0);try{const z=setInterval(()=>{w(R=>Math.min(R+10,90))},200),{success:V,error:Y}=await Et.restoreBackup(O.businessId,O.id);clearInterval(z),V?(w(100),q.success(`Data restored to ${O.businessName} successfully!`),setTimeout(()=>{N(!1),w(0)},1e3)):(q.error(Y||"Failed to restore data"),N(!1),w(0))}catch(z){console.error("Restore error:",z),q.error(`Failed to restore data: ${z.message}`),N(!1),w(0)}}},A=a.filter(O=>{const z=O.businessName.toLowerCase().includes(c.toLowerCase())||O.description.toLowerCase().includes(c.toLowerCase()),V=d==="all"||O.status===d,Y=r==="all"||!r||O.businessId===r;return z&&V&&Y}),S=O=>{switch(O){case"completed":return"bg-green-500";case"failed":return"bg-red-500";case"in_progress":return"bg-yellow-500";default:return"bg-gray-500"}},I=O=>{switch(O){case"automatic":return s.jsx(Xr,{className:"h-4 w-4"});case"manual":return s.jsx(pa,{className:"h-4 w-4"});case"scheduled":return s.jsx(Wr,{className:"h-4 w-4"});default:return s.jsx(pa,{className:"h-4 w-4"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(pa,{className:"h-6 w-6"}),"Business Backups & Data Recovery"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage backups and restore data for any business"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:()=>m(!0),children:[s.jsx(pa,{className:"h-4 w-4 mr-2"}),"Create Backup"]}),s.jsxs(B,{variant:"outline",onClick:t,children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{className:"text-lg",children:"Backup Management"}),s.jsx(Oe,{children:"Select a business to manage their backups and data recovery"})]}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Select Business"}),s.jsxs(je,{value:r,onValueChange:n,children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Choose a business"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Businesses"}),e.map(O=>s.jsx(F,{value:O.id,children:O.businessName},O.id))]})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Search Backups"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search backups...",value:c,onChange:O=>u(O.target.value),className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Filter by Status"}),s.jsxs(je,{value:d,onValueChange:h,children:[s.jsx(be,{children:s.jsx(we,{placeholder:"All statuses"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Statuses"}),s.jsx(F,{value:"completed",children:"Completed"}),s.jsx(F,{value:"failed",children:"Failed"}),s.jsx(F,{value:"in_progress",children:"In Progress"})]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pa,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Backups"})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(TF,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[a.reduce((O,z)=>O+z.size,0).toFixed(1),"GB"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Storage"})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ae,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.filter(O=>O.status==="completed").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Successful"})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_i,{className:"h-8 w-8 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.filter(O=>O.status==="failed").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"})]})]})})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Backup History"}),s.jsx(Oe,{children:"All backups with restore and deploy options"})]}),s.jsx(L,{children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Business"}),s.jsx(Z,{children:"Type"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Size"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Data Points"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:A.map(O=>s.jsxs(Ie,{children:[s.jsx(J,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:O.businessName})]})}),s.jsx(J,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[I(O.type),s.jsx("span",{className:"capitalize",children:O.type})]})}),s.jsxs(J,{children:[new Date(O.timestamp).toLocaleDateString(),s.jsx("br",{}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(O.timestamp).toLocaleTimeString()})]}),s.jsxs(J,{children:[O.size.toFixed(1),"GB"]}),s.jsx(J,{children:s.jsx(se,{className:`${S(O.status)} text-white`,children:O.status})}),s.jsx(J,{children:s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Qn,{className:"h-3 w-3"}),O.dataPoints.products," products"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Nt,{className:"h-3 w-3"}),O.dataPoints.customers," customers"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(gt,{className:"h-3 w-3"}),O.dataPoints.sales," sales"]})]})}),s.jsx(J,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>{y(O),g(!0)},children:[s.jsx(Qs,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(B,{size:"sm",onClick:()=>C(O),disabled:b,children:[s.jsx(sm,{className:"h-4 w-4 mr-1"}),"Deploy"]})]})})]},O.id))})]})})]}),s.jsx(Ye,{open:f,onOpenChange:m,children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Create Manual Backup"}),s.jsx(xt,{children:"Create a backup for the selected business. This will capture all their current data."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Business"}),s.jsxs(je,{value:r,onValueChange:n,children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select business"})}),s.jsx(Ne,{children:e.map(O=>s.jsx(F,{value:O.id,children:O.businessName},O.id))})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Backup Description"}),s.jsx(vt,{placeholder:"Describe this backup (e.g., 'Before major update', 'Monthly backup')",className:"min-h-20"})]})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),s.jsx(B,{onClick:P,disabled:o||!r,children:o?"Creating...":"Create Backup"})]})]})}),s.jsx(Ye,{open:j,onOpenChange:g,children:s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Backup Details & Recovery Options"}),s.jsx(xt,{children:"View backup details and choose recovery options for this business."})]}),x&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Backup Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Business:"}),s.jsx("span",{className:"font-medium",children:x.businessName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Date:"}),s.jsx("span",{children:new Date(x.timestamp).toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Size:"}),s.jsxs("span",{children:[x.size.toFixed(1),"GB"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Type:"}),s.jsx("span",{className:"capitalize",children:x.type})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Data Contents"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Products:"}),s.jsx("span",{children:x.dataPoints.products})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Customers:"}),s.jsx("span",{children:x.dataPoints.customers})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sales Records:"}),s.jsx("span",{children:x.dataPoints.sales})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Workers:"}),s.jsx("span",{children:x.dataPoints.workers})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Payroll Records:"}),s.jsx("span",{children:x.dataPoints.payroll})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Recovery Options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"Deploy to Business System"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this backup data to the business's system to restore their data"})]}),s.jsxs(B,{onClick:()=>C(x),children:[s.jsx(sm,{className:"h-4 w-4 mr-2"}),"Deploy Now"]})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"Download Backup File"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Download the backup file for manual restoration"})]}),s.jsxs(B,{variant:"outline",children:[s.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Download"]})]})})]})]}),b&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["Deploying data to ",x.businessName,"..."]}),s.jsxs("span",{children:[v,"%"]})]}),s.jsx(xw,{value:v,className:"w-full"})]})]}),s.jsx(on,{children:s.jsx(B,{variant:"outline",onClick:()=>g(!1),children:"Close"})})]})})]})}const Nue=[{id:"dashboard",name:"Dashboard",icon:Ia,category:"core"},{id:"products",name:"Products",icon:Qn,category:"core"},{id:"orders",name:"Orders",icon:Ws,category:"core"},{id:"reports",name:"Reports",icon:Ia,category:"core"},{id:"settings",name:"Settings",icon:Jr,category:"core"},{id:"workers",name:"Workers",icon:Nt,category:"advanced"},{id:"customers",name:"Customers",icon:Nt,category:"advanced"},{id:"multi-location",name:"Multi-location",icon:Gn,category:"advanced"},{id:"warehouse",name:"Warehouse",icon:At,category:"enterprise"},{id:"analytics",name:"Analytics",icon:Vt,category:"enterprise"},{id:"api",name:"API Access",icon:wp,category:"enterprise"},{id:"priority-support",name:"Priority Support",icon:Ys,category:"enterprise"}];function Sue({onLogout:e}){const[t,r]=p.useState("dashboard"),[n,a]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(""),[u,d]=p.useState("all"),[h,f]=p.useState(null),[m,j]=p.useState(!1),[g,x]=p.useState(!1),[y,v]=p.useState({businessId:"",amount:"",paymentMethod:"",reference:"",notes:""});p.useEffect(()=>{w();const N=Et.subscribeToBusinessUpdates(P=>{console.log("Business update received:",P),w()}),k=Et.subscribeToPaymentUpdates(P=>{console.log("Payment update received:",P),w()});return()=>{N.unsubscribe(),k.unsubscribe()}},[]);const w=async()=>{o(!0);try{const{data:N,error:k}=await Et.getAllBusinesses();if(k){q.error(`Failed to load businesses: ${k}`),a([]);return}if(N&&N.length>0){const P=N.map(C=>({id:C.id,businessName:C.business_name,businessType:C.business_type||"retail",email:C.email||C.owner_email||"No email",plan:C.plan,status:C.status,features:C.features||["dashboard","products","orders","reports"],paymentStatus:C.payment_status,lastPayment:C.last_payment_date||"",renewalDate:C.next_payment_date||C.next_maintenance_due||"",totalSales:0,monthlyRevenue:C.monthly_revenue||C.upfront_payment+C.maintenance_fee||0,setupComplete:C.setup_complete!==!1,activeLogins:0,createdAt:C.created_at,ownerName:C.owner_name,ownerPhone:C.owner_phone,businessPhone:C.business_phone,businessAddress:C.business_address,businessDescription:C.business_description,city:C.city,region:C.region,registrationNumber:C.registration_number,tinNumber:C.tin_number,yearEstablished:C.year_established,numberOfEmployees:C.number_of_employees,productsCount:C.products_count,averageMonthlySales:C.average_monthly_sales,businessSize:C.business_size,businessConfig:C.business_config,business_type:C.business_type,business_phone:C.business_phone,business_address:C.business_address,next_payment_date:C.next_payment_date,next_maintenance_due:C.next_maintenance_due,payment_history:C.payment_history}));a(P),q.success(`Loaded ${P.length} businesses`)}else a([]),q.info("No businesses found")}catch(N){console.error("Error loading businesses:",N),q.error("Failed to load businesses"),a([])}finally{o(!1)}};n.filter(N=>{const k=N.businessName.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase()),P=u==="all"||N.status===u;return k&&P});const b={totalBusinesses:n.length,activeBusinesses:n.filter(N=>N.status==="active").length,totalRevenue:n.reduce((N,k)=>N+k.monthlyRevenue,0),overduePayments:n.filter(N=>N.paymentStatus==="overdue").length,newThisMonth:n.filter(N=>{const k=new Date(N.createdAt),P=new Date;return k.getMonth()===P.getMonth()&&k.getFullYear()===P.getFullYear()}).length,renewalsDue:n.filter(N=>{const k=new Date(N.renewalDate),P=new Date,C=Math.ceil((k.getTime()-P.getTime())/(1e3*60*60*24));return C<=30&&C>=0}).length};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Loading Super Admin Panel..."})]})}):s.jsxs("div",{className:"h-screen flex",children:[s.jsx(cue,{activeTab:t,onSelect:r,user:{name:"Super Admin",role:"super_admin"},onLogout:e}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs("div",{className:"p-4 compact-spacing h-full overflow-auto",children:[i&&s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Xr,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-lg font-medium",children:"Loading data..."})]})}),!i&&t==="dashboard"&&s.jsx("div",{className:"space-y-4",children:s.jsx(i_,{stats:b,businesses:n,onNavigate:r,onVerifyPayment:()=>x(!0)})}),!i&&t==="signup-requests"&&s.jsx("div",{className:"space-y-4",children:s.jsx(hue,{})}),!i&&t==="businesses"&&s.jsx("div",{className:"space-y-4",children:s.jsx(gue,{businesses:n,onRefresh:w})}),!i&&t==="payments"&&s.jsx("div",{className:"space-y-4",children:s.jsx(vue,{businesses:n,onRefresh:w})}),!i&&t==="features"&&s.jsx("div",{className:"space-y-4",children:s.jsx(yue,{businesses:n,onRefresh:w})}),!i&&t==="backups"&&s.jsx("div",{className:"space-y-4",children:s.jsx(bue,{businesses:n,onRefresh:w})}),!i&&t==="analytics"&&s.jsx("div",{className:"space-y-4",children:s.jsx(jue,{businesses:n,onRefresh:w})}),!i&&t==="settings"&&s.jsx("div",{className:"space-y-4",children:s.jsx(wue,{onRefresh:w})}),!i&&!t&&s.jsx("div",{className:"space-y-4",children:s.jsx(i_,{stats:b,businesses:n,onNavigate:r,onVerifyPayment:()=>x(!0)})})]})}),s.jsx(Ye,{open:m,onOpenChange:j,children:s.jsxs(Ue,{className:"max-w-4xl",children:[s.jsx(Ke,{children:s.jsx(He,{children:"Business Details"})}),h&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Business Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Name:"})," ",h.businessName]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Type:"})," ",h.businessType]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Email:"})," ",h.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Plan:"})," ",h.plan]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Status:"})," ",h.status]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Performance"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Total Sales:"})," ",h.totalSales]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Monthly Revenue:"})," ",h.monthlyRevenue]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Active Logins:"})," ",h.activeLogins]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Setup Complete:"})," ",h.setupComplete?"Yes":"No"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Features"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:Nue.map(N=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(N.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:N.name}),h.features.includes(N.id)?s.jsx(Ae,{className:"h-4 w-4 text-green-500"}):s.jsx(Ti,{className:"h-4 w-4 text-red-500"})]},N.id))})]})]})]})}),s.jsx(Ye,{open:g,onOpenChange:x,children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsxs(He,{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-5 w-5"}),"Verify Payment"]}),s.jsx(xt,{children:"Manually verify a payment for a business"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"business-select",children:"Select Business"}),s.jsxs(je,{value:y.businessId,onValueChange:N=>v({...y,businessId:N}),children:[s.jsx(be,{id:"business-select",children:s.jsx(we,{placeholder:"Choose a business"})}),s.jsx(Ne,{children:n.map(N=>s.jsxs(F,{value:N.id,children:[N.businessName," - ",N.email]},N.id))})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"amount",children:"Amount ()"}),s.jsx(Q,{id:"amount",type:"number",placeholder:"400",value:y.amount,onChange:N=>v({...y,amount:N.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"payment-method",children:"Payment Method"}),s.jsxs(je,{value:y.paymentMethod,onValueChange:N=>v({...y,paymentMethod:N}),children:[s.jsx(be,{id:"payment-method",children:s.jsx(we,{placeholder:"Select payment method"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"MoMo",children:"Mobile Money (MoMo)"}),s.jsx(F,{value:"Bank Transfer",children:"Bank Transfer"}),s.jsx(F,{value:"Cash",children:"Cash"}),s.jsx(F,{value:"Card",children:"Card"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"reference",children:"Reference/Transaction ID (Optional)"}),s.jsx(Q,{id:"reference",placeholder:"e.g., TXN123456",value:y.reference,onChange:N=>v({...y,reference:N.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(vt,{id:"notes",placeholder:"Additional notes about this payment...",value:y.notes,onChange:N=>v({...y,notes:N.target.value}),rows:3})]}),s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-600",children:[s.jsx("strong",{children:"Note:"})," This will mark the payment as verified and update the business payment status."]})})]}),s.jsxs(on,{children:[s.jsx(B,{variant:"outline",onClick:()=>{x(!1),v({businessId:"",amount:"",paymentMethod:"",reference:"",notes:""})},children:"Cancel"}),s.jsxs(B,{onClick:async()=>{if(!y.businessId||!y.amount||!y.paymentMethod){q.error("Please fill in all required fields");return}try{const{success:N,error:k}=await Et.verifyPayment({business_id:y.businessId,amount:parseFloat(y.amount),payment_type:parseFloat(y.amount)>=1e3?"upfront":"maintenance",payment_method:y.paymentMethod,notes:y.notes||void 0});N?(q.success("Payment verified successfully!"),x(!1),v({businessId:"",amount:"",paymentMethod:"",reference:"",notes:""}),w()):q.error(k||"Failed to verify payment")}catch(N){q.error(`Error: ${N.message}`)}},children:[s.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Verify Payment"]})]})]})})]})}function kue(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,l]=p.useState("all"),[c,u]=p.useState("all");p.useEffect(()=>{d()},[]);const d=async()=>{try{n(!0),t([])}catch(v){console.error("Error loading suppliers:",v),q.error("Error loading suppliers")}finally{n(!1)}},h=e.filter(v=>{const w=v.name.toLowerCase().includes(a.toLowerCase())||v.email.toLowerCase().includes(a.toLowerCase())||v.id.toLowerCase().includes(a.toLowerCase()),b=o==="all"||v.status===o,N=c==="all"||v.category===c;return w&&b&&N}),f=v=>{switch(v){case"Active":return s.jsx(se,{children:"Active"});case"Inactive":return s.jsx(se,{variant:"secondary",children:"Inactive"});case"Suspended":return s.jsx(se,{variant:"destructive",children:"Suspended"});default:return s.jsx(se,{variant:"outline",children:v})}},m=v=>Array.from({length:5},(w,b)=>s.jsx(Ys,{className:`h-4 w-4 ${b<Math.floor(v)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},b)),j=e.length,g=e.filter(v=>v.status==="Active").length,x=e.reduce((v,w)=>v+w.totalPurchased,0),y=e.reduce((v,w)=>v+w.rating,0)/e.length;return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Supplier Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your wholesale suppliers"})]}),s.jsxs(Ye,{children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Supplier"]})}),s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Add New Supplier"}),s.jsx(xt,{children:"Enter the details for the new supplier."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"supplierName",children:"Company Name"}),s.jsx(Q,{id:"supplierName",placeholder:"Enter company name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"supplierCategory",children:"Category"}),s.jsxs(je,{children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select category"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"cleaning",children:"Cleaning Supplies"}),s.jsx(F,{value:"personal",children:"Personal Care"}),s.jsx(F,{value:"food",children:"Food & Beverages"}),s.jsx(F,{value:"household",children:"Household Items"}),s.jsx(F,{value:"general",children:"General Supplies"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"supplierEmail",children:"Email"}),s.jsx(Q,{id:"supplierEmail",type:"email",placeholder:"supplier@company.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"supplierPhone",children:"Phone"}),s.jsx(Q,{id:"supplierPhone",placeholder:"+1 (555) 123-4567"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"supplierAddress",children:"Address"}),s.jsx(vt,{id:"supplierAddress",placeholder:"Enter full address"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"paymentTerms",children:"Payment Terms"}),s.jsxs(je,{children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select terms"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"cod",children:"COD"}),s.jsx(F,{value:"net15",children:"Net 15"}),s.jsx(F,{value:"net30",children:"Net 30"}),s.jsx(F,{value:"net45",children:"Net 45"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{htmlFor:"leadTime",children:"Lead Time"}),s.jsx(Q,{id:"leadTime",placeholder:"e.g., 3-5 days"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",children:"Cancel"}),s.jsx(B,{children:"Add Supplier"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx($,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Suppliers"}),s.jsx("p",{className:"text-2xl",children:j})]}),s.jsx($F,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx($,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Suppliers"}),s.jsx("p",{className:"text-2xl",children:g})]}),s.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:""})})]})})}),s.jsx($,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Purchased"}),s.jsxs("p",{className:"text-2xl",children:["$",x.toLocaleString()]})]}),s.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:""})})]})})}),s.jsx($,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Rating"}),s.jsx("p",{className:"text-2xl",children:y.toFixed(1)})]}),s.jsx("div",{className:"h-8 w-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Ys,{className:"h-4 w-4 text-yellow-600"})})]})})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsx(K,{children:"Supplier Filters"})}),s.jsx(L,{children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search suppliers...",className:"pl-10",value:a,onChange:v=>i(v.target.value)})]})}),s.jsxs(je,{value:o,onValueChange:l,children:[s.jsx(be,{className:"w-48",children:s.jsx(we,{placeholder:"All Status"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"Active",children:"Active"}),s.jsx(F,{value:"Inactive",children:"Inactive"}),s.jsx(F,{value:"Suspended",children:"Suspended"})]})]}),s.jsxs(je,{value:c,onValueChange:u,children:[s.jsx(be,{className:"w-48",children:s.jsx(we,{placeholder:"All Categories"})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Categories"}),s.jsx(F,{value:"Cleaning Supplies",children:"Cleaning Supplies"}),s.jsx(F,{value:"Personal Care",children:"Personal Care"}),s.jsx(F,{value:"Food & Beverages",children:"Food & Beverages"}),s.jsx(F,{value:"Household Items",children:"Household Items"}),s.jsx(F,{value:"General Supplies",children:"General Supplies"})]})]})]})})]}),s.jsxs($,{children:[s.jsx(U,{children:s.jsxs(K,{children:["Suppliers (",h.length,")"]})}),s.jsx(L,{children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Supplier"}),s.jsx(Z,{children:"Contact"}),s.jsx(Z,{children:"Category"}),s.jsx(Z,{children:"Rating"}),s.jsx(Z,{children:"Orders"}),s.jsx(Z,{children:"Total Purchased"}),s.jsx(Z,{children:"Terms"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:h.map(v=>s.jsxs(Ie,{children:[s.jsx(J,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:v.name}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:v.id})]})}),s.jsx(J,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ai,{className:"h-3 w-3"}),v.email]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(qo,{className:"h-3 w-3"}),v.phone]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Gn,{className:"h-3 w-3"}),v.address.split(",")[0],"..."]})]})}),s.jsx(J,{children:v.category}),s.jsx(J,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[m(v.rating),s.jsx("span",{className:"text-sm ml-1",children:v.rating})]})}),s.jsx(J,{children:v.totalOrders}),s.jsxs(J,{children:["$",v.totalPurchased.toLocaleString()]}),s.jsx(J,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:v.paymentTerms}),s.jsx("p",{className:"text-muted-foreground",children:v.leadTime})]})}),s.jsx(J,{children:f(v.status)}),s.jsx(J,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",children:s.jsx(bp,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",children:s.jsx(Ka,{className:"h-4 w-4"})})]})})]},v.id))})]})})]})]})}function Cue({isAdmin:e=!1,currentUser:t}){const[r,n]=p.useState([]),[a,i]=p.useState(""),[o,l]=p.useState("all");p.useState(null);const c=r.filter(x=>{const y=x.receiptId.toLowerCase().includes(a.toLowerCase())||x.cashierName.toLowerCase().includes(a.toLowerCase())||x.reason.toLowerCase().includes(a.toLowerCase()),v=o==="all"||x.status===o;return y&&v}),u=x=>{n(y=>y.map(v=>v.id===x?{...v,status:"approved",approvedBy:t?.name||"Admin"}:v))},d=(x,y)=>{n(v=>v.map(w=>w.id===x?{...w,status:"rejected",notes:y,approvedBy:t?.name||"Admin"}:w))},h=x=>{switch(x){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},f=x=>{switch(x){case"pending":return s.jsx(_i,{className:"h-4 w-4"});case"approved":return s.jsx(Pg,{className:"h-4 w-4"});case"rejected":return s.jsx(Ti,{className:"h-4 w-4"});default:return s.jsx(Wr,{className:"h-4 w-4"})}},m=r.filter(x=>x.status==="pending").length,j=r.filter(x=>x.status==="approved").length,g=r.filter(x=>x.status==="rejected").length;return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Sales Corrections"}),s.jsx("p",{className:"text-muted-foreground",children:e?"Review and approve sale corrections from cashiers":"View your submitted corrections"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:m})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pg,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Approved"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:j})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Rejected"}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:g})]})]})})}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length})]})]})})})]}),s.jsx($,{children:s.jsx(L,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Q,{placeholder:"Search by receipt ID, cashier, or reason...",value:a,onChange:x=>i(x.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ij,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(je,{value:o,onValueChange:l,children:[s.jsx(be,{className:"w-32",children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"pending",children:"Pending"}),s.jsx(F,{value:"approved",children:"Approved"}),s.jsx(F,{value:"rejected",children:"Rejected"})]})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.length===0?s.jsx($,{children:s.jsxs(L,{className:"p-8 text-center",children:[s.jsx(Oi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No corrections found matching your criteria"})]})}):c.map(x=>s.jsxs($,{className:"border-l-4 border-l-blue-500",children:[s.jsx(U,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(se,{className:h(x.status),children:[f(x.status),s.jsx("span",{className:"ml-1",children:x.status.toUpperCase()})]}),s.jsxs("div",{children:[s.jsxs(K,{className:"text-lg",children:["Receipt #",x.receiptId]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Correction #",x.id]})]})]}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"h-3 w-3"}),x.timestamp]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(Yo,{className:"h-3 w-3"}),x.cashierName," (",x.shopId,")"]})]})]})}),s.jsxs(L,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{className:"text-sm font-medium",children:"Reason for Correction:"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.reason})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{className:"text-sm font-medium text-red-600",children:"Original Sale"}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-950 p-3 rounded-lg space-y-2",children:[x.originalItems.map((y,v)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-sm",children:[y.name," (",y.size,")"]}),s.jsxs("span",{className:"text-sm font-medium",children:["$",y.price," x ",y.quantity]})]},v)),s.jsx(Fs,{}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",x.originalAmount]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{className:"text-sm font-medium text-green-600",children:"Corrected Sale"}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-3 rounded-lg space-y-2",children:[x.correctedItems.map((y,v)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-sm",children:[y.name," (",y.size,")"]}),s.jsxs("span",{className:"text-sm font-medium",children:["$",y.price," x ",y.quantity]})]},v)),s.jsx(Fs,{}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",x.correctedAmount]})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx("span",{children:"Amount Difference: "}),s.jsxs("span",{className:`font-medium ${x.correctedAmount>x.originalAmount?"text-green-600":x.correctedAmount<x.originalAmount?"text-red-600":"text-muted-foreground"}`,children:[x.correctedAmount>x.originalAmount?"+":"","$",x.correctedAmount-x.originalAmount]})]}),x.notes&&s.jsxs(kp,{children:[s.jsx(_i,{className:"h-4 w-4"}),s.jsxs(Cp,{children:[s.jsx("strong",{children:"Admin Notes:"})," ",x.notes]})]}),e&&x.status==="pending"&&s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(B,{onClick:()=>u(x.id),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Pg,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(B,{onClick:()=>d(x.id,"Requires more information"),variant:"destructive",children:[s.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),x.approvedBy&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[x.status==="approved"?"Approved":"Rejected"," by ",x.approvedBy]})]})]},x.id))})]})}function Pue(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState({}),[o,l]=p.useState(!1),[c,u]=p.useState(""),d=()=>{if(!c.trim()){q.error("Please enter a name for the API key");return}const b={id:Date.now().toString(),name:c,key:`sk_live_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,createdAt:new Date().toISOString().split("T")[0],lastUsed:null,requests:0,status:"active"};t([...e,b]),q.success("API key generated successfully"),l(!1),u("")},h=b=>{navigator.clipboard.writeText(b),q.success("API key copied to clipboard")},f=b=>{window.confirm("Are you sure you want to revoke this API key? This action cannot be undone.")&&(t(e.map(k=>k.id===b?{...k,status:"revoked"}:k)),q.success("API key revoked"))},m=b=>{i({...a,[b]:!a[b]})},j=b=>b.substring(0,12)+"".repeat(b.length-12),g=b=>b==="active"?s.jsxs(se,{className:"bg-green-100 text-green-800",children:[s.jsx(Ae,{className:"h-3 w-3 mr-1"}),"Active"]}):s.jsxs(se,{className:"bg-red-100 text-red-800",children:[s.jsx(_i,{className:"h-3 w-3 mr-1"}),"Revoked"]}),x=b=>{const N={GET:"bg-blue-100 text-blue-800",POST:"bg-green-100 text-green-800",PUT:"bg-yellow-100 text-yellow-800",DELETE:"bg-red-100 text-red-800"};return s.jsx(se,{className:N[b]||"",children:b})},y=b=>b>=200&&b<300?"text-green-600":b>=400&&b<500?"text-yellow-600":b>=500?"text-red-600":"text-gray-600",v=e.reduce((b,N)=>b+N.requests,0),w=e.filter(b=>b.status==="active").length;return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2",children:[s.jsx(Fu,{className:"h-7 w-7"}),"API Access"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage API keys and monitor usage"})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs(Ye,{open:o,onOpenChange:l,children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Generate New Key"]})}),s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Generate New API Key"}),s.jsx(xt,{children:"Create a new API key for your application"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(D,{htmlFor:"keyName",children:"API Key Name"}),s.jsx(Q,{id:"keyName",placeholder:"e.g., Production API, Mobile App",value:c,onChange:b=>u(b.target.value)})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(B,{onClick:d,children:"Generate Key"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Active Keys"}),s.jsx(Ei,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.length," total keys"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Requests"}),s.jsx(xc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Rate Limit"}),s.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"10,000"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per hour"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Avg Response Time"}),s.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"65ms"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]})]}),s.jsxs(pn,{defaultValue:"keys",className:"space-y-4",children:[s.jsxs(xn,{children:[s.jsx(_e,{value:"keys",children:"API Keys"}),s.jsx(_e,{value:"logs",children:"Request Logs"}),s.jsx(_e,{value:"docs",children:"Documentation"})]}),s.jsx(Ee,{value:"keys",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"API Keys"}),s.jsx(Oe,{children:"Manage your API keys for accessing the REST API"})]}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:e.map(b=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created ",b.createdAt]})]}),g(b.status)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 bg-muted px-3 py-2 rounded text-sm font-mono",children:a[b.id]?b.key:j(b.key)}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>m(b.id),children:a[b.id]?s.jsx(bE,{className:"h-4 w-4"}):s.jsx(Qs,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>h(b.key),children:s.jsx(yi,{className:"h-4 w-4"})}),b.status==="active"&&s.jsx(B,{variant:"destructive",size:"sm",onClick:()=>f(b.id),children:s.jsx(Ka,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:[b.requests.toLocaleString()," requests"]}),b.lastUsed&&s.jsxs("span",{children:["Last used: ",b.lastUsed]})]})]},b.id))})})]})}),s.jsx(Ee,{value:"logs",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Request Logs"}),s.jsx(Oe,{children:"Recent API requests and their responses"})]}),s.jsx(L,{children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Timestamp"}),s.jsx(Z,{children:"Method"}),s.jsx(Z,{children:"Endpoint"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Response Time"})]})}),s.jsx(Gt,{children:r.map(b=>s.jsxs(Ie,{children:[s.jsx(J,{className:"text-sm",children:b.timestamp}),s.jsx(J,{children:x(b.method)}),s.jsx(J,{children:s.jsx("code",{className:"text-sm",children:b.endpoint})}),s.jsx(J,{children:s.jsx("span",{className:`font-medium ${y(b.status)}`,children:b.status})}),s.jsxs(J,{children:[b.responseTime,"ms"]})]},b.id))})]})})]})}),s.jsx(Ee,{value:"docs",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(PF,{className:"h-5 w-5"}),"API Documentation"]}),s.jsx(Oe,{children:"Learn how to integrate with our REST API"})]}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Include your API key in the Authorization header:"}),s.jsx("code",{className:"block bg-muted p-3 rounded text-sm",children:"Authorization: Bearer sk_live_your_api_key_here"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Base URL"}),s.jsx("code",{className:"block bg-muted p-3 rounded text-sm",children:"https://api.yourapp.com/v1"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Example Request"}),s.jsx("code",{className:"block bg-muted p-3 rounded text-sm whitespace-pre",children:`GET /api/products
Authorization: Bearer sk_live_your_api_key_here
Content-Type: application/json`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Rate Limits"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" 10,000 requests per hour",s.jsx("br",{})," 1,000 requests per minute",s.jsx("br",{})," Rate limit headers included in all responses"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Available Endpoints"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[x("GET"),s.jsx("code",{children:"/api/products"}),s.jsx("span",{className:"text-muted-foreground",children:"- Get all products"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[x("POST"),s.jsx("code",{children:"/api/products"}),s.jsx("span",{className:"text-muted-foreground",children:"- Create product"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[x("GET"),s.jsx("code",{children:"/api/orders"}),s.jsx("span",{className:"text-muted-foreground",children:"- Get all orders"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[x("POST"),s.jsx("code",{children:"/api/orders"}),s.jsx("span",{className:"text-muted-foreground",children:"- Create order"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[x("GET"),s.jsx("code",{children:"/api/customers"}),s.jsx("span",{className:"text-muted-foreground",children:"- Get all customers"})]})]})]})]})]})})]})]})}function _ue(){const[e,t]=p.useState({companyName:"",tagline:"",primaryColor:"",secondaryColor:"",accentColor:"",logoUrl:"",faviconUrl:"",customDomain:"",supportEmail:"",companyWebsite:""}),[r,n]=p.useState({welcomeSubject:"",welcomeBody:"",orderConfirmationSubject:"",orderConfirmationBody:"",passwordResetSubject:"",passwordResetBody:""}),[a,i]=p.useState({appName:"",bundleId:"",appIconUrl:"",splashScreenUrl:"",primaryColor:"",accentColor:""}),o=()=>{q.success("Branding settings saved successfully")},l=()=>{q.success("Email templates saved successfully")},c=()=>{q.success("Mobile app settings saved successfully")},u=d=>{q.success("File uploaded successfully")};return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2",children:[s.jsx(ja,{className:"h-7 w-7"}),"White Label Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Customize your brand identity and appearance"})]})}),s.jsx($,{className:"border-blue-200 bg-blue-50",children:s.jsxs(L,{className:"flex items-start gap-3 pt-6",children:[s.jsx($i,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Enterprise Feature"}),s.jsx("p",{children:"White label branding allows you to completely customize the platform with your own brand identity. Changes will be reflected across all user interfaces."})]})]})}),s.jsxs(pn,{defaultValue:"branding",className:"space-y-4",children:[s.jsxs(xn,{children:[s.jsx(_e,{value:"branding",children:"Brand Identity"}),s.jsx(_e,{value:"domain",children:"Domain & URLs"}),s.jsx(_e,{value:"email",children:"Email Templates"}),s.jsx(_e,{value:"mobile",children:"Mobile App"})]}),s.jsx(Ee,{value:"branding",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx($j,{className:"h-5 w-5"}),"Brand Identity"]}),s.jsx(Oe,{children:"Customize your company's visual identity"})]}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"companyName",children:"Company Name"}),s.jsx(Q,{id:"companyName",value:e.companyName,onChange:d=>t({...e,companyName:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"tagline",children:"Tagline"}),s.jsx(Q,{id:"tagline",value:e.tagline,onChange:d=>t({...e,tagline:d.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Logo & Assets"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Company Logo"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.logoUrl&&s.jsx("div",{className:"w-16 h-16 border rounded flex items-center justify-center bg-muted",children:s.jsx("img",{src:e.logoUrl,alt:"Logo",className:"max-w-full max-h-full"})}),s.jsxs(B,{variant:"outline",onClick:()=>u(),children:[s.jsx(Ih,{className:"h-4 w-4 mr-2"}),"Upload Logo"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 200x200px, PNG or SVG"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Favicon"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.faviconUrl&&s.jsx("div",{className:"w-8 h-8 border rounded flex items-center justify-center bg-muted",children:s.jsx("img",{src:e.faviconUrl,alt:"Favicon",className:"max-w-full max-h-full"})}),s.jsxs(B,{variant:"outline",onClick:()=>u(),children:[s.jsx(Ih,{className:"h-4 w-4 mr-2"}),"Upload Favicon"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 32x32px, PNG or ICO"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Color Scheme"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"primaryColor",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Q,{id:"primaryColor",type:"color",value:e.primaryColor,onChange:d=>t({...e,primaryColor:d.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Q,{value:e.primaryColor,onChange:d=>t({...e,primaryColor:d.target.value}),className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"secondaryColor",children:"Secondary Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Q,{id:"secondaryColor",type:"color",value:e.secondaryColor,onChange:d=>t({...e,secondaryColor:d.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Q,{value:e.secondaryColor,onChange:d=>t({...e,secondaryColor:d.target.value}),className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"accentColor",children:"Accent Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Q,{id:"accentColor",type:"color",value:e.accentColor,onChange:d=>t({...e,accentColor:d.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Q,{value:e.accentColor,onChange:d=>t({...e,accentColor:d.target.value}),className:"flex-1"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(B,{variant:"outline",children:[s.jsx(Qs,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(B,{onClick:o,children:[s.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}),s.jsx(Ee,{value:"domain",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(wp,{className:"h-5 w-5"}),"Custom Domain"]}),s.jsx(Oe,{children:"Configure your custom domain and URLs"})]}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"customDomain",children:"Custom Domain"}),s.jsx(Q,{id:"customDomain",placeholder:"app.yourdomain.com",value:e.customDomain,onChange:d=>t({...e,customDomain:d.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Point your domain's CNAME record to: app.foamshop.com"})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"supportEmail",children:"Support Email"}),s.jsx(Q,{id:"supportEmail",type:"email",placeholder:"support@yourdomain.com",value:e.supportEmail,onChange:d=>t({...e,supportEmail:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"companyWebsite",children:"Company Website"}),s.jsx(Q,{id:"companyWebsite",type:"url",placeholder:"https://www.yourdomain.com",value:e.companyWebsite,onChange:d=>t({...e,companyWebsite:d.target.value})})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"DNS Configuration"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsx("p",{children:"To use a custom domain, add the following CNAME record:"}),s.jsx("code",{className:"block bg-white p-2 rounded",children:"CNAME: app  app.foamshop.com"}),s.jsx("p",{className:"mt-2",children:"SSL certificates will be automatically provisioned once DNS is configured."})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{onClick:o,children:[s.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Save Domain Settings"]})})]})]})}),s.jsx(Ee,{value:"email",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ai,{className:"h-5 w-5"}),"Email Templates"]}),s.jsx(Oe,{children:"Customize email templates sent to users"})]}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Welcome Email"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"welcomeSubject",children:"Subject Line"}),s.jsx(Q,{id:"welcomeSubject",value:r.welcomeSubject,onChange:d=>n({...r,welcomeSubject:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"welcomeBody",children:"Email Body"}),s.jsx(vt,{id:"welcomeBody",rows:4,value:r.welcomeBody,onChange:d=>n({...r,welcomeBody:d.target.value})})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Order Confirmation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"orderSubject",children:"Subject Line"}),s.jsx(Q,{id:"orderSubject",value:r.orderConfirmationSubject,onChange:d=>n({...r,orderConfirmationSubject:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"orderBody",children:"Email Body"}),s.jsx(vt,{id:"orderBody",rows:4,value:r.orderConfirmationBody,onChange:d=>n({...r,orderConfirmationBody:d.target.value})})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Password Reset"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"resetSubject",children:"Subject Line"}),s.jsx(Q,{id:"resetSubject",value:r.passwordResetSubject,onChange:d=>n({...r,passwordResetSubject:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"resetBody",children:"Email Body"}),s.jsx(vt,{id:"resetBody",rows:4,value:r.passwordResetBody,onChange:d=>n({...r,passwordResetBody:d.target.value})})]})]})]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold mb-2",children:"Available Variables:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[s.jsx("code",{children:"{{company_name}}"}),s.jsx("code",{children:"{{user_name}}"}),s.jsx("code",{children:"{{user_email}}"}),s.jsx("code",{children:"{{order_id}}"}),s.jsx("code",{children:"{{reset_link}}"}),s.jsx("code",{children:"{{support_email}}"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{onClick:l,children:[s.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Save Templates"]})})]})]})}),s.jsx(Ee,{value:"mobile",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(SE,{className:"h-5 w-5"}),"Mobile App Branding"]}),s.jsx(Oe,{children:"Customize your mobile app appearance"})]}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"appName",children:"App Name"}),s.jsx(Q,{id:"appName",value:a.appName,onChange:d=>i({...a,appName:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"bundleId",children:"Bundle ID"}),s.jsx(Q,{id:"bundleId",value:a.bundleId,onChange:d=>i({...a,bundleId:d.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"App Icon"}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsxs(B,{variant:"outline",onClick:()=>u(),children:[s.jsx(Ih,{className:"h-4 w-4 mr-2"}),"Upload Icon"]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 1024x1024px, PNG"})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Splash Screen"}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsxs(B,{variant:"outline",onClick:()=>u(),children:[s.jsx(Ih,{className:"h-4 w-4 mr-2"}),"Upload Splash Screen"]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 1242x2688px, PNG"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"appPrimaryColor",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Q,{id:"appPrimaryColor",type:"color",value:a.primaryColor,onChange:d=>i({...a,primaryColor:d.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Q,{value:a.primaryColor,onChange:d=>i({...a,primaryColor:d.target.value}),className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"appAccentColor",children:"Accent Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Q,{id:"appAccentColor",type:"color",value:a.accentColor,onChange:d=>i({...a,accentColor:d.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Q,{value:a.accentColor,onChange:d=>i({...a,accentColor:d.target.value}),className:"flex-1"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{onClick:c,children:[s.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Save App Settings"]})})]})]})})]})]})}function Eue(){const[e,t]=p.useState([]),[r,n]=p.useState(!1),[a,i]=p.useState({title:"",description:"",priority:"medium",category:"Technical"}),o=()=>{if(!a.title||!a.description){q.error("Please fill in all required fields");return}const h={id:`TICK-${String(e.length+1).padStart(3,"0")}`,title:a.title,description:a.description,priority:a.priority,status:"open",category:a.category,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),responses:0};t([h,...e]),q.success("Support ticket created successfully"),n(!1),i({title:"",description:"",priority:"medium",category:"Technical"})},l=h=>{const f={urgent:{label:"Urgent",className:"bg-red-100 text-red-800"},high:{label:"High",className:"bg-orange-100 text-orange-800"},medium:{label:"Medium",className:"bg-yellow-100 text-yellow-800"},low:{label:"Low",className:"bg-blue-100 text-blue-800"}},{label:m,className:j}=f[h];return s.jsx(se,{className:j,children:m})},c=h=>{const f={open:{label:"Open",icon:$i,className:"bg-blue-100 text-blue-800"},"in-progress":{label:"In Progress",icon:Wr,className:"bg-yellow-100 text-yellow-800"},resolved:{label:"Resolved",icon:Ae,className:"bg-green-100 text-green-800"},closed:{label:"Closed",icon:Ae,className:"bg-gray-100 text-gray-800"}},{label:m,icon:j,className:g}=f[h];return s.jsxs(se,{className:g,children:[s.jsx(j,{className:"h-3 w-3 mr-1"}),m]})},u=0,d="No data";return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2",children:[s.jsx(Ys,{className:"h-7 w-7 text-yellow-500"}),"Priority Support"]}),s.jsx("p",{className:"text-muted-foreground",children:"24/7 priority support for enterprise customers"})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs(Ye,{open:r,onOpenChange:n,children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"New Support Ticket"]})}),s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Create Support Ticket"}),s.jsx(xt,{children:"Describe your issue and our support team will respond within 2 hours"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"title",children:"Issue Title *"}),s.jsx(Q,{id:"title",placeholder:"Brief description of the issue",value:a.title,onChange:h=>i({...a,title:h.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"description",children:"Description *"}),s.jsx(vt,{id:"description",rows:5,placeholder:"Provide detailed information about your issue...",value:a.description,onChange:h=>i({...a,description:h.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"category",children:"Category"}),s.jsxs(je,{value:a.category,onValueChange:h=>i({...a,category:h}),children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"Technical",children:"Technical Issue"}),s.jsx(F,{value:"Feature Request",children:"Feature Request"}),s.jsx(F,{value:"Question",children:"Question"}),s.jsx(F,{value:"Billing",children:"Billing"}),s.jsx(F,{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"priority",children:"Priority"}),s.jsxs(je,{value:a.priority,onValueChange:h=>i({...a,priority:h}),children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"low",children:"Low"}),s.jsx(F,{value:"medium",children:"Medium"}),s.jsx(F,{value:"high",children:"High"}),s.jsx(F,{value:"urgent",children:"Urgent"})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(B,{onClick:o,children:[s.jsx(sm,{className:"h-4 w-4 mr-2"}),"Submit Ticket"]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Open Tickets"}),s.jsx($i,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.length," total tickets"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Avg Response Time"}),s.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Priority support"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Resolution Rate"}),s.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"0%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"No data available"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Support Level"}),s.jsx(Ys,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"-"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"No data available"})]})]})]}),s.jsxs(pn,{defaultValue:"tickets",className:"space-y-4",children:[s.jsxs(xn,{children:[s.jsx(_e,{value:"tickets",children:"My Tickets"}),s.jsx(_e,{value:"contact",children:"Contact Options"}),s.jsx(_e,{value:"sla",children:"SLA Information"})]}),s.jsx(Ee,{value:"tickets",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Support Tickets"}),s.jsx(Oe,{children:"View and manage your support tickets"})]}),s.jsx(L,{children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Ticket ID"}),s.jsx(Z,{children:"Title"}),s.jsx(Z,{children:"Priority"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Category"}),s.jsx(Z,{children:"Created"}),s.jsx(Z,{children:"Responses"})]})}),s.jsx(Gt,{children:e.length===0?s.jsx(Ie,{children:s.jsx(J,{colSpan:7,className:"text-center py-8",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx(bo,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("p",{children:"No support tickets yet"}),s.jsx("p",{className:"text-sm",children:"Create your first ticket to get started"})]})})}):e.map(h=>s.jsxs(Ie,{className:"cursor-pointer hover:bg-muted/50",children:[s.jsx(J,{className:"font-medium",children:h.id}),s.jsx(J,{children:s.jsxs("div",{className:"max-w-xs",children:[s.jsx("p",{className:"font-medium truncate",children:h.title}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.description})]})}),s.jsx(J,{children:l(h.priority)}),s.jsx(J,{children:c(h.status)}),s.jsx(J,{children:h.category}),s.jsx(J,{className:"text-sm",children:new Date(h.createdAt).toLocaleDateString()}),s.jsx(J,{children:s.jsxs(se,{variant:"outline",children:[h.responses," replies"]})})]},h.id))})]})})]})}),s.jsx(Ee,{value:"contact",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(bo,{className:"h-5 w-5"}),"Live Chat"]}),s.jsx(Oe,{children:"Chat with a support agent in real-time"})]}),s.jsxs(L,{children:[s.jsxs(B,{className:"w-full",children:[s.jsx(bo,{className:"h-4 w-4 mr-2"}),"Start Live Chat"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["Average wait time: ",s.jsx("strong",{children:"30 seconds"})]})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"h-5 w-5"}),"Phone Support"]}),s.jsx(Oe,{children:"Speak directly with our support team"})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-lg font-semibold",children:"+233 546 887 539"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Available 24/7 for priority customers"})]})})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(bo,{className:"h-5 w-5 text-green-600"}),"WhatsApp Support"]}),s.jsx(Oe,{children:"Get instant help via WhatsApp"})]}),s.jsxs(L,{children:[s.jsxs(B,{className:"w-full bg-green-600 hover:bg-green-700 text-white",onClick:()=>window.open("https://wa.me/233533009352","_blank"),children:[s.jsx(bo,{className:"h-4 w-4 mr-2"}),"WhatsApp Me"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:[s.jsx("strong",{children:"+233 533 009 352"})," - Available 24/7"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ai,{className:"h-5 w-5"}),"Email Support"]}),s.jsx(Oe,{children:"Send us an email for non-urgent matters"})]}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-lg font-semibold",children:"rekon360@gmail.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Response within 2 hours"})]})})]})]})}),s.jsx(Ee,{value:"sla",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Fu,{className:"h-5 w-5"}),"Service Level Agreement (SLA)"]}),s.jsx(Oe,{children:"Your guaranteed support response times"})]}),s.jsxs(L,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Priority Support Benefits"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"24/7 support availability across all channels"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Dedicated support team assigned to your account"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Priority queue for all support tickets"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Screen sharing and remote assistance available"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Quarterly business reviews and optimization sessions"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Response Time Guarantees"}),s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Priority Level"}),s.jsx(Z,{children:"First Response"}),s.jsx(Z,{children:"Resolution Target"})]})}),s.jsxs(Gt,{children:[s.jsxs(Ie,{children:[s.jsx(J,{children:"Urgent"}),s.jsx(J,{className:"font-semibold",children:"15 minutes"}),s.jsx(J,{children:"4 hours"})]}),s.jsxs(Ie,{children:[s.jsx(J,{children:"High"}),s.jsx(J,{className:"font-semibold",children:"1 hour"}),s.jsx(J,{children:"8 hours"})]}),s.jsxs(Ie,{children:[s.jsx(J,{children:"Medium"}),s.jsx(J,{className:"font-semibold",children:"2 hours"}),s.jsx(J,{children:"24 hours"})]}),s.jsxs(Ie,{children:[s.jsx(J,{children:"Low"}),s.jsx(J,{className:"font-semibold",children:"4 hours"}),s.jsx(J,{children:"48 hours"})]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(Ys,{className:"h-4 w-4 text-yellow-500"}),"SLA Compliance"]}),s.jsx("p",{className:"text-sm text-blue-800",children:"We maintain 99.5% SLA compliance across all priority support tickets. In the rare event we miss our response time guarantee, you'll receive a service credit for the affected period."})]})]})]})})]})]})}function Aue(){const[e,t]=p.useState([]),[r,n]=p.useState(!0);p.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0),console.log("Loading custom features...");const g=await er.getCustomFeatures();console.log("Custom features response:",g),g.success?(t(g.features||[]),console.log("Features loaded:",g.features)):(console.error("Error loading custom features:",g.error),t([]))}catch(g){console.error("Error loading custom features:",g),t([]),console.log("Using empty features array as fallback")}finally{n(!1)}},[i,o]=p.useState(!1),[l,c]=p.useState({title:"",description:"",businessValue:"",priority:"medium"}),u=async()=>{if(!l.title||!l.description||!l.businessValue){q.error("Please fill in all required fields");return}try{console.log("Submitting custom feature:",l);const g=await er.submitCustomFeature({title:l.title,description:l.description,businessValue:l.businessValue,priority:l.priority});console.log("Submit response:",g),g.success?(await a(),q.success("Custom feature request submitted successfully"),o(!1),c({title:"",description:"",businessValue:"",priority:"medium"})):q.error(g.error||"Failed to submit custom feature request")}catch(g){console.error("Error submitting custom feature:",g);const x={id:`CF-${Date.now()}`,title:l.title,description:l.description,businessValue:l.businessValue,status:"submitted",priority:l.priority,estimatedCost:0,estimatedTime:"TBD",submittedDate:new Date().toISOString().split("T")[0],updatedDate:new Date().toISOString().split("T")[0]};t([x,...e]),q.success("Custom feature request submitted (saved locally)"),o(!1),c({title:"",description:"",businessValue:"",priority:"medium"})}},d=g=>{const x={submitted:{label:"Submitted",icon:Wr,className:"bg-blue-100 text-blue-800"},reviewing:{label:"Reviewing",icon:$i,className:"bg-yellow-100 text-yellow-800"},approved:{label:"Approved",icon:Ae,className:"bg-green-100 text-green-800"},"in-development":{label:"In Development",icon:W1,className:"bg-purple-100 text-purple-800"},completed:{label:"Completed",icon:Ae,className:"bg-green-100 text-green-800"},rejected:{label:"Rejected",icon:$i,className:"bg-red-100 text-red-800"}},{label:y,icon:v,className:w}=x[g];return s.jsxs(se,{className:w,children:[s.jsx(v,{className:"h-3 w-3 mr-1"}),y]})},h=g=>{const x={high:{label:"High",className:"bg-red-100 text-red-800"},medium:{label:"Medium",className:"bg-yellow-100 text-yellow-800"},low:{label:"Low",className:"bg-blue-100 text-blue-800"}},{label:y,className:v}=x[g];return s.jsx(se,{className:v,children:y})},f=e.filter(g=>g.status==="submitted"||g.status==="reviewing").length,m=e.filter(g=>g.status==="in-development").length,j=e.filter(g=>g.status==="completed").length;return r?s.jsx("div",{className:"p-4 md:p-6 h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading custom features..."})]})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2",children:[s.jsx(Li,{className:"h-7 w-7"}),"Custom Features"]}),s.jsx("p",{className:"text-muted-foreground",children:"Request and track custom feature development"})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs(Ye,{open:i,onOpenChange:o,children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Request Custom Feature"]})}),s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Request Custom Feature"}),s.jsx(xt,{children:"Describe your custom feature requirement and our team will review it"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{htmlFor:"title",children:"Feature Title *"}),s.jsx(Q,{id:"title",placeholder:"Brief title for the feature",value:l.title,onChange:g=>c({...l,title:g.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"description",children:"Detailed Description *"}),s.jsx(vt,{id:"description",rows:5,placeholder:"Describe the feature in detail - what it should do, how it should work, etc.",value:l.description,onChange:g=>c({...l,description:g.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"businessValue",children:"Business Value *"}),s.jsx(vt,{id:"businessValue",rows:3,placeholder:"Explain how this feature will benefit your business (e.g., increase sales, reduce costs, improve efficiency)",value:l.businessValue,onChange:g=>c({...l,businessValue:g.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{htmlFor:"priority",children:"Priority"}),s.jsxs(je,{value:l.priority,onValueChange:g=>c({...l,priority:g}),children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"low",children:"Low - Nice to have"}),s.jsx(F,{value:"medium",children:"Medium - Important for growth"}),s.jsx(F,{value:"high",children:"High - Critical for operations"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(B,{onClick:u,children:[s.jsx(sm,{className:"h-4 w-4 mr-2"}),"Submit Request"]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Submitted"}),s.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Under review"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"In Development"}),s.jsx(W1,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:m}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Being built"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Completed"}),s.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered features"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Requests"}),s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]})]}),s.jsxs(pn,{defaultValue:"requests",className:"space-y-4",children:[s.jsxs(xn,{children:[s.jsx(_e,{value:"requests",children:"My Requests"}),s.jsx(_e,{value:"process",children:"Development Process"}),s.jsx(_e,{value:"pricing",children:"Pricing Model"})]}),s.jsx(Ee,{value:"requests",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Custom Feature Requests"}),s.jsx(Oe,{children:"Track the status of your custom feature requests"})]}),s.jsx(L,{children:s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"ID"}),s.jsx(Z,{children:"Feature"}),s.jsx(Z,{children:"Priority"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Estimated Cost"}),s.jsx(Z,{children:"Timeline"}),s.jsx(Z,{children:"Submitted"})]})}),s.jsx(Gt,{children:e.map(g=>s.jsxs(Ie,{className:"cursor-pointer hover:bg-muted/50",children:[s.jsx(J,{className:"font-medium",children:g.id}),s.jsx(J,{children:s.jsxs("div",{className:"max-w-md",children:[s.jsx("p",{className:"font-medium",children:g.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s.jsx(Vt,{className:"h-3 w-3"}),g.businessValue]})]})}),s.jsx(J,{children:h(g.priority)}),s.jsx(J,{children:d(g.status)}),s.jsx(J,{children:g.estimatedCost>0?s.jsxs("span",{className:"font-semibold",children:["$",g.estimatedCost.toLocaleString()]}):s.jsx("span",{className:"text-muted-foreground",children:"Pending"})}),s.jsx(J,{children:g.estimatedTime}),s.jsx(J,{className:"text-sm",children:new Date(g.submittedDate).toLocaleDateString()})]},g.id))})]})})]})}),s.jsx(Ee,{value:"process",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Custom Feature Development Process"}),s.jsx(Oe,{children:"How we handle custom feature requests"})]}),s.jsx(L,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-blue-800",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Submission & Review"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit your feature request with detailed requirements and business value. Our team reviews within 2-3 business days."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-yellow-800",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Scope & Estimation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We analyze the technical requirements and provide an estimate for cost and timeline. You'll receive a detailed proposal."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-green-800",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Approval & Payment"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Once you approve the proposal and provide payment, we add the feature to our development queue."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-purple-800",children:"4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Development & Testing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Our team develops and tests the feature. You'll receive regular updates and can provide feedback during development."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-green-800",children:"5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Delivery & Training"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The feature is deployed to your account. We provide training and documentation to ensure successful adoption."})]})]})]})})]})}),s.jsx(Ee,{value:"pricing",className:"space-y-4",children:s.jsxs($,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"h-5 w-5"}),"Custom Feature Pricing"]}),s.jsx(Oe,{children:"Transparent pricing for custom development"})]}),s.jsx(L,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Pricing Model"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Custom features are priced based on complexity, development time, and required resources. Our standard rate is $150/hour for development time."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Typical Cost Ranges"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"Simple Features"}),s.jsx("span",{className:"font-semibold",children:"$1,500 - $3,000"})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"Medium Complexity"}),s.jsx("span",{className:"font-semibold",children:"$3,000 - $7,000"})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"Complex Features"}),s.jsx("span",{className:"font-semibold",children:"$7,000 - $15,000+"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"What's Included"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Requirements analysis and technical design"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Full development and quality assurance testing"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Documentation and user training materials"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Deployment to production environment"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Ae,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"30 days of post-launch support and bug fixes"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(qn,{className:"h-4 w-4"}),"Payment Terms"]}),s.jsx("p",{className:"text-sm text-blue-800",children:"50% upfront upon approval, 50% upon completion and delivery. For features exceeding $10,000, milestone-based payment schedules are available."})]})]})})]})})]})]})}const mo=`https://${zt}.supabase.co/functions/v1/make-server-86b98184`;function Oue(){const[e,t]=p.useState([]),[r,n]=p.useState(null),[a,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState([]),[d,h]=p.useState(!0),[f,m]=p.useState(!1),[j,g]=p.useState(!1),[x,y]=p.useState(!1),[v,w]=p.useState(!1),[b,N]=p.useState(null),[k,P]=p.useState({name:"",phone:"",email:"",address:"",credit_limit:"500",notes:""}),[C,A]=p.useState({customer_id:"",items:[{name:"",quantity:1,price:0}],credit_total:"",amount_paid:"",due_date:"",notes:""}),[S,I]=p.useState({amount:"",payment_method:"cash",reference_number:"",notes:""});p.useEffect(()=>{O()},[]);const O=async()=>{h(!0),N(null);try{await Promise.all([z(),V()])}catch(M){console.error("Error loading credit management data:",M),N("Failed to load credit management data. Please try refreshing the page.")}finally{h(!1)}},z=async()=>{try{const M=tt(),{data:{session:H}}=await M.auth.getSession();if(!H?.access_token){console.error("No access token found"),t([]);return}const te=await fetch(`${mo}/credit-customers`,{headers:{Authorization:`Bearer ${H?.access_token}`,"Content-Type":"application/json"}});if(!te.ok){console.error("Failed to fetch customers:",te.status,te.statusText),t([]);return}const ne=await te.json();ne.success?t(ne.customers||[]):(console.error("API error:",ne.error),t([]))}catch(M){console.error("Error loading customers:",M),t([]),q.error("Failed to load credit customers")}},V=async()=>{try{const M=tt(),{data:{session:H}}=await M.auth.getSession();if(!H?.access_token){console.error("No access token found for summary"),n({totalOwed:0,totalOverdue:0,customersWithDebt:0,customersTotal:0});return}const te=await fetch(`${mo}/credit-summary`,{headers:{Authorization:`Bearer ${H?.access_token}`}});if(!te.ok){console.error("Failed to fetch summary:",te.status,te.statusText),n({totalOwed:0,totalOverdue:0,customersWithDebt:0,customersTotal:0});return}const ne=await te.json();ne.success?n(ne.summary||{totalOwed:0,totalOverdue:0,customersWithDebt:0,customersTotal:0}):(console.error("API error for summary:",ne.error),n({totalOwed:0,totalOverdue:0,customersWithDebt:0,customersTotal:0}))}catch(M){console.error("Error loading summary:",M),n({totalOwed:0,totalOverdue:0,customersWithDebt:0,customersTotal:0})}},Y=async()=>{if(!k.name||!k.phone){q.error("Please enter customer name and phone number");return}try{const M=tt(),{data:{session:H}}=await M.auth.getSession(),ne=await(await fetch(`${mo}/credit-customers`,{method:"POST",headers:{Authorization:`Bearer ${H?.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({...k,credit_limit:parseFloat(k.credit_limit)||0})})).json();ne.success?(q.success(ne.existing?"Customer updated":"Credit customer created successfully"),g(!1),P({name:"",phone:"",email:"",address:"",credit_limit:"500",notes:""}),O()):q.error(ne.error||"Failed to create customer")}catch(M){console.error("Error creating customer:",M),q.error("Failed to create customer")}},R=async()=>{if(!C.customer_id||!C.credit_total||!C.due_date){q.error("Please fill in all required fields");return}const M=parseFloat(C.credit_total),H=parseFloat(C.amount_paid)||0;if(isNaN(M)||M<=0){q.error("Please enter a valid credit total amount");return}try{const te=tt(),{data:{session:ne}}=await te.auth.getSession(),ae=await(await fetch(`${mo}/credit-sales`,{method:"POST",headers:{Authorization:`Bearer ${ne?.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({customer_id:C.customer_id,items:C.items,total_amount:M,amount_paid:H,due_date:C.due_date,notes:C.notes})})).json();ae.success?(q.success("Credit sale created successfully"),A({customer_id:"",items:[{name:"",quantity:1,price:0}],credit_total:"",amount_paid:"",due_date:"",notes:""}),y(!1),O()):q.error(ae.error||"Failed to create credit sale")}catch(te){console.error("Error creating credit sale:",te),q.error("Failed to create credit sale")}},W=async M=>{i(M),m(!0);try{const H=tt(),{data:{session:te}}=await H.auth.getSession(),fe=await(await fetch(`${mo}/credit-sales/${M.id}`,{headers:{Authorization:`Bearer ${te?.access_token}`}})).json();fe.success&&l(fe.creditSales);const ee=await(await fetch(`${mo}/credit-payments/${M.id}`,{headers:{Authorization:`Bearer ${te?.access_token}`}})).json();ee.success&&u(ee.payments)}catch(H){console.error("Error loading customer details:",H)}},_=async()=>{if(!a||!S.amount){q.error("Please enter payment amount");return}try{const M=tt(),{data:{session:H}}=await M.auth.getSession(),te=H?.user,fe=await(await fetch(`${mo}/credit-payments`,{method:"POST",headers:{Authorization:`Bearer ${H?.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({customer_id:a.id,amount:parseFloat(S.amount),payment_method:S.payment_method,reference_number:S.reference_number,received_by:te?.user_metadata?.name||"Admin",notes:S.notes})})).json();fe.success?(q.success(`Payment of GHS ${S.amount} recorded successfully`),w(!1),I({amount:"",payment_method:"cash",reference_number:"",notes:""}),O(),a&&W(a)):q.error(fe.error||"Failed to record payment")}catch(M){console.error("Error recording payment:",M),q.error("Failed to record payment")}},T=M=>{switch(M){case"Active":return s.jsx(se,{className:"bg-green-500",children:"Active"});case"Suspended":return s.jsx(se,{className:"bg-yellow-500 text-black",children:"Suspended"});case"Blocked":return s.jsx(se,{variant:"destructive",children:"Blocked"});default:return s.jsx(se,{variant:"outline",children:M})}},re=M=>{switch(M){case"Paid":return s.jsx(se,{className:"bg-green-500",children:"Paid"});case"Partial":return s.jsx(se,{className:"bg-yellow-500 text-black",children:"Partial"});case"Unpaid":return s.jsx(se,{variant:"destructive",children:"Unpaid"});default:return s.jsx(se,{variant:"outline",children:M})}};return d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-lg",children:"Loading credit management..."})})}):b?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg text-red-600 mb-4",children:b}),s.jsx(B,{onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Credit Management"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Track book sales and customer credit balances"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ye,{open:j,onOpenChange:g,children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(cr,{className:"h-4 w-4 mr-2"}),"Add Credit Customer"]})}),s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Add Credit Customer"}),s.jsx(xt,{children:"Create a new customer who can buy on credit (book sales)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Customer Name *"}),s.jsx(Q,{placeholder:"Enter customer name",value:k.name,onChange:M=>P({...k,name:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Phone Number *"}),s.jsx(Q,{placeholder:"Enter phone number",value:k.phone,onChange:M=>P({...k,phone:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Email (Optional)"}),s.jsx(Q,{placeholder:"Enter email address",value:k.email,onChange:M=>P({...k,email:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Address (Optional)"}),s.jsx(Q,{placeholder:"Enter address",value:k.address,onChange:M=>P({...k,address:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Credit Limit (GHS) *"}),s.jsx(Q,{type:"number",placeholder:"500",value:k.credit_limit,onChange:M=>P({...k,credit_limit:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Notes (Optional)"}),s.jsx(vt,{placeholder:"Any additional notes about this customer...",value:k.notes,onChange:M=>P({...k,notes:M.target.value})})]}),s.jsx(B,{onClick:Y,className:"w-full",children:"Create Customer"})]})]})]}),s.jsxs(Ye,{open:x,onOpenChange:y,children:[s.jsx(ea,{asChild:!0,children:s.jsxs(B,{variant:"outline",children:[s.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Create Credit Sale"]})}),s.jsxs(Ue,{className:"max-w-2xl",children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Create Credit Sale (Book Sale)"}),s.jsx(xt,{children:"Record a sale where the customer will pay later"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Customer *"}),s.jsxs(je,{value:C.customer_id,onValueChange:M=>A({...C,customer_id:M}),children:[s.jsx(be,{children:s.jsx(we,{placeholder:"Select customer"})}),s.jsx(Ne,{children:e.map(M=>s.jsxs(F,{value:M.id,children:[M.name," - ",M.phone," (Limit: GHS ",M.credit_limit,")"]},M.id))})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Items *"}),s.jsxs("div",{className:"space-y-2",children:[C.items.map((M,H)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{placeholder:"Item name",value:M.name,onChange:te=>{const ne=[...C.items];ne[H]={...M,name:te.target.value},A({...C,items:ne})}}),s.jsx(Q,{type:"number",placeholder:"Qty",value:M.quantity,onChange:te=>{const ne=[...C.items];ne[H]={...M,quantity:parseInt(te.target.value)||1},A({...C,items:ne})},className:"w-20"}),s.jsx(Q,{type:"number",placeholder:"Price",value:M.price,onChange:te=>{const ne=[...C.items];ne[H]={...M,price:parseFloat(te.target.value)||0},A({...C,items:ne})},className:"w-24"}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{const te=C.items.filter((ne,fe)=>fe!==H);A({...C,items:te})},children:"Remove"})]},H)),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>{A({...C,items:[...C.items,{name:"",quantity:1,price:0}]})},children:"Add Item"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Credit Total (GHS) *"}),s.jsx(Q,{type:"text",placeholder:"Enter credit total amount",value:C.credit_total,onChange:M=>A({...C,credit_total:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Amount Paid Now (GHS)"}),s.jsx(Q,{type:"text",placeholder:"Enter amount paid now",value:C.amount_paid,onChange:M=>A({...C,amount_paid:M.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Due Date *"}),s.jsx(Q,{type:"date",value:C.due_date,onChange:M=>A({...C,due_date:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Notes"}),s.jsx(vt,{placeholder:"Any notes about this credit sale...",value:C.notes,onChange:M=>A({...C,notes:M.target.value})})]}),s.jsxs(B,{onClick:R,className:"w-full",children:[s.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Create Credit Sale"]})]})]})]})]})]}),r&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Total Credit Owed"}),s.jsx(gt,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["GHS ",(r?.totalOwed||0).toFixed(2)]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Amount customers owe"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Overdue Payments"}),s.jsx(_i,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["GHS ",(r?.totalOverdue||0).toFixed(2)]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Past due date"})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Customers with Debt"}),s.jsx(Nt,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.customersWithDebt}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Out of ",r.customersTotal," total"]})]})]}),s.jsxs($,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Collection Rate"}),s.jsx(Vt,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[(r?.totalOwed||0)>0?((1-(r?.totalOverdue||0)/(r?.totalOwed||1))*100).toFixed(1):"100","%"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"On-time payments"})]})]})]}),s.jsxs($,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Credit Customers"}),s.jsx(Oe,{children:"Customers who can buy on credit (book sales)"})]}),s.jsx(L,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Nt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No credit customers yet"}),s.jsx("p",{className:"text-sm",children:'Click "Add Credit Customer" to get started'})]}):s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Customer Name"}),s.jsx(Z,{children:"Phone"}),s.jsx(Z,{children:"Current Balance"}),s.jsx(Z,{children:"Credit Limit"}),s.jsx(Z,{children:"Status"}),s.jsx(Z,{children:"Actions"})]})}),s.jsx(Gt,{children:e.map(M=>{const H=(M.credit_limit||0)>0?(M.current_balance||0)/(M.credit_limit||1)*100:0;return s.jsxs(Ie,{children:[s.jsx(J,{className:"font-medium",children:M.name}),s.jsx(J,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(qo,{className:"h-3 w-3 mr-1"}),M.phone]})}),s.jsx(J,{children:s.jsxs("div",{className:M.current_balance>0?"font-bold text-orange-600":"",children:["GHS ",(M.current_balance||0).toFixed(2)]})}),s.jsx(J,{children:s.jsxs("div",{children:["GHS ",(M.credit_limit||0).toFixed(2),H>0&&s.jsxs("div",{className:"text-xs text-gray-500",children:[H.toFixed(0),"% used"]})]})}),s.jsx(J,{children:T(M.status)}),s.jsx(J,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",size:"sm",onClick:()=>W(M),children:[s.jsx(Qs,{className:"h-3 w-3 mr-1"}),"View Details"]}),M.current_balance>0&&s.jsxs(B,{variant:"default",size:"sm",onClick:()=>{i(M),w(!0)},children:[s.jsx(FF,{className:"h-3 w-3 mr-1"}),"Record Payment"]})]})})]},M.id)})})]})})]}),s.jsx(Ye,{open:f,onOpenChange:m,children:s.jsxs(Ue,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Ke,{children:[s.jsxs(He,{children:["Customer Details: ",a?.name]}),s.jsx(xt,{children:s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(qo,{className:"h-3 w-3 mr-1"}),a?.phone]}),s.jsxs("span",{className:"font-bold text-orange-600",children:["Owes: GHS ",(a?.current_balance||0).toFixed(2)]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Credit Sales (Book)"}),o.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"No credit sales yet"}):s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Receipt ID"}),s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Total"}),s.jsx(Z,{children:"Paid"}),s.jsx(Z,{children:"Owed"}),s.jsx(Z,{children:"Status"})]})}),s.jsx(Gt,{children:o.map(M=>s.jsxs(Ie,{children:[s.jsx(J,{className:"font-mono text-xs",children:M.receipt_id}),s.jsx(J,{children:new Date(M.created_at).toLocaleDateString()}),s.jsxs(J,{children:["GHS ",(M.total_amount||0).toFixed(2)]}),s.jsxs(J,{children:["GHS ",(M.amount_paid||0).toFixed(2)]}),s.jsxs(J,{className:"font-bold text-orange-600",children:["GHS ",(M.amount_owed||0).toFixed(2)]}),s.jsx(J,{children:re(M.payment_status)})]},M.id))})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Payment History"}),c.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"No payments recorded yet"}):s.jsxs(qt,{children:[s.jsx(Yt,{children:s.jsxs(Ie,{children:[s.jsx(Z,{children:"Date"}),s.jsx(Z,{children:"Amount"}),s.jsx(Z,{children:"Method"}),s.jsx(Z,{children:"Reference"}),s.jsx(Z,{children:"Received By"})]})}),s.jsx(Gt,{children:c.map(M=>s.jsxs(Ie,{children:[s.jsx(J,{children:new Date(M.created_at).toLocaleString()}),s.jsxs(J,{className:"font-bold text-green-600",children:["GHS ",(M.amount||0).toFixed(2)]}),s.jsx(J,{className:"capitalize",children:M.payment_method.replace("-"," ")}),s.jsx(J,{className:"font-mono text-xs",children:M.reference_number||"-"}),s.jsx(J,{children:M.received_by||"-"})]},M.id))})]})]})]})]})}),s.jsx(Ye,{open:v,onOpenChange:w,children:s.jsxs(Ue,{children:[s.jsxs(Ke,{children:[s.jsx(He,{children:"Record Payment"}),s.jsxs(xt,{children:["Record a payment from ",a?.name,s.jsxs("div",{className:"mt-2 font-bold text-orange-600",children:["Current Balance: GHS ",(a?.current_balance||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(D,{children:"Payment Amount (GHS) *"}),s.jsx(Q,{type:"number",step:"0.01",placeholder:"0.00",value:S.amount,onChange:M=>I({...S,amount:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Payment Method *"}),s.jsxs(je,{value:S.payment_method,onValueChange:M=>I({...S,payment_method:M}),children:[s.jsx(be,{children:s.jsx(we,{})}),s.jsxs(Ne,{children:[s.jsx(F,{value:"cash",children:"Cash"}),s.jsx(F,{value:"mtn-momo",children:"MTN Mobile Money"}),s.jsx(F,{value:"vodafone-cash",children:"Vodafone Cash"}),s.jsx(F,{value:"airteltigo-money",children:"AirtelTigo Money"}),s.jsx(F,{value:"bank-transfer",children:"Bank Transfer"})]})]})]}),S.payment_method!=="cash"&&s.jsxs("div",{children:[s.jsx(D,{children:"Reference Number (Optional)"}),s.jsx(Q,{placeholder:"Transaction reference",value:S.reference_number,onChange:M=>I({...S,reference_number:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(D,{children:"Notes (Optional)"}),s.jsx(vt,{placeholder:"Any notes about this payment...",value:S.notes,onChange:M=>I({...S,notes:M.target.value})})]}),s.jsxs(B,{onClick:_,className:"w-full",children:[s.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})]})}var Tue=(e,t,r,n,a,i,o,l)=>{let c=document.documentElement,u=["light","dark"];function d(m){(Array.isArray(e)?e:[e]).forEach(j=>{let g=j==="class",x=g&&i?a.map(y=>i[y]||y):a;g?(c.classList.remove(...x),c.classList.add(i&&i[m]?i[m]:m)):c.setAttribute(j,m)}),h(m)}function h(m){l&&u.includes(m)&&(c.style.colorScheme=m)}function f(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let m=localStorage.getItem(t)||r,j=o&&m==="system"?f():m;d(j)}catch{}},Due=p.createContext(void 0),Mue={setTheme:e=>{},themes:[]},Iue=()=>{var e;return(e=p.useContext(Due))!=null?e:Mue};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([r,t,i,e,l,o,n,a]).slice(1,-1);return p.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Tue.toString()})(${d})`}})});const hf=({...e})=>{const{theme:t="system"}=Iue();return s.jsx(xK,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function Rue(){const[e,t]=p.useState(null),[r,n]=p.useState(""),[a,i]=p.useState("dashboard"),[o,l]=p.useState(!1),[c,u]=p.useState(!0),[d,h]=p.useState(window.innerWidth>=768),[f,m]=p.useState(null);p.useEffect(()=>{(async()=>{const{user:w,accessToken:b}=await fa.getSession();w&&b&&(t(w),n(b)),u(!1)})()},[]),p.useEffect(()=>{const v=()=>{h(window.innerWidth>=768)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const j=(v,w,b)=>{t(w),n(b)},g=async()=>{await fa.signOut(),t(null),n(""),i("dashboard"),m(null)},x=v=>{m(v),localStorage.setItem("businessConfig",JSON.stringify(v))};if(p.useEffect(()=>{const v=localStorage.getItem("businessConfig");if(v)try{m(JSON.parse(v))}catch(w){console.error("Error loading business config:",w)}},[]),c)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!e)return s.jsxs(s.Fragment,{children:[s.jsx(gK,{onLogin:j,onBusinessSetupComplete:x}),s.jsx(hf,{})]});if(e.role==="super_admin")return console.log(" Super Admin detected, showing Super Admin Panel"),s.jsxs(s.Fragment,{children:[s.jsx(Sue,{onLogout:g}),s.jsx(hf,{})]});if(console.log(" Current user role:",e.role,"User object:",e),e.role==="cashier")return s.jsxs(s.Fragment,{children:[s.jsx($ie,{user:e,accessToken:r,onLogout:g,selectedFeatures:f?.selectedFeatures}),s.jsx(hf,{})]});const y=()=>{switch(a){case"dashboard":return s.jsx(KP,{});case"products":return s.jsx(Qoe,{});case"suppliers":return s.jsx(kue,{});case"orders":return s.jsx(Zoe,{});case"corrections":return s.jsx(Cue,{});case"customers":return s.jsx(ele,{});case"credit-management":return s.jsx(Oue,{});case"workers":return s.jsx(HP,{});case"payroll":return s.jsx(tle,{});case"reports":return s.jsx(sue,{});case"settings":return s.jsx(aue,{});case"location-management":return s.jsx(iue,{businessConfig:f||void 0});case"workers-management":return s.jsx(HP,{});case"enterprise-analytics":return s.jsx(oue,{businessConfig:f||{businessName:"Business",businessType:"retail",businessSize:"small",ownerName:"Owner",ownerPhone:"",businessEmail:"",businessPhone:"",businessAddress:"",city:"",region:"",registrationNumber:"",tinNumber:"",yearEstablished:"",numberOfEmployees:0,locationCount:1,description:"",productsCount:0,averageMonthlySales:"0",selectedFeatures:[],paymentMethod:"monthly",dashboardType:"simple"}});case"api-access":return s.jsx(Pue,{});case"white-label":return s.jsx(_ue,{});case"priority-support":return s.jsx(Eue,{});case"custom-features":return s.jsx(Aue,{});default:return s.jsx(KP,{})}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex h-screen bg-background",children:[d&&s.jsx("aside",{className:"w-64 flex-shrink-0",children:s.jsx(UP,{activeSection:a,setActiveSection:i,user:e,onLogout:g,businessConfig:f})}),s.jsx(bR,{open:o,onOpenChange:l,children:s.jsx(SR,{side:"left",className:"p-0 w-64","aria-describedby":void 0,children:s.jsx(UP,{activeSection:a,setActiveSection:i,user:e,onLogout:g,onNavigate:()=>l(!1),businessConfig:f})})}),s.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[!d&&s.jsx("div",{className:"p-4 border-b border-border bg-card",children:s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"gap-2",children:[s.jsx(NE,{className:"h-5 w-5"}),s.jsx("span",{children:"Menu"})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:y()})]})]}),s.jsx(hf,{})]})}jE(document.getElementById("root")).render(s.jsx(Rue,{}));
