function q$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Y$(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var a_={exports:{}},tp={},i_={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),G$=Symbol.for("react.portal"),X$=Symbol.for("react.fragment"),J$=Symbol.for("react.strict_mode"),Q$=Symbol.for("react.profiler"),Z$=Symbol.for("react.provider"),eL=Symbol.for("react.context"),tL=Symbol.for("react.forward_ref"),rL=Symbol.for("react.suspense"),nL=Symbol.for("react.memo"),sL=Symbol.for("react.lazy"),AN=Symbol.iterator;function aL(e){return e===null||typeof e!="object"?null:(e=AN&&e[AN]||e["@@iterator"],typeof e=="function"?e:null)}var o_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l_=Object.assign,c_={};function Ac(e,t,r){this.props=e,this.context=t,this.refs=c_,this.updater=r||o_}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ac.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u_(){}u_.prototype=Ac.prototype;function $0(e,t,r){this.props=e,this.context=t,this.refs=c_,this.updater=r||o_}var L0=$0.prototype=new u_;L0.constructor=$0;l_(L0,Ac.prototype);L0.isPureReactComponent=!0;var ON=Array.isArray,d_=Object.prototype.hasOwnProperty,F0={current:null},h_={key:!0,ref:!0,__self:!0,__source:!0};function f_(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)d_.call(t,n)&&!h_.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ad,type:e,key:i,ref:o,props:a,_owner:F0.current}}function iL(e,t){return{$$typeof:Ad,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function B0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ad}function oL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var TN=/\/+/g;function Qx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oL(""+e.key):t.toString(36)}function cf(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ad:case G$:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Qx(o,0):n,ON(a)?(r="",e!=null&&(r=e.replace(TN,"$&/")+"/"),cf(a,t,r,"",function(d){return d})):a!=null&&(B0(a)&&(a=iL(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(TN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",ON(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Qx(i,l);o+=cf(i,t,r,c,a)}else if(c=aL(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Qx(i,l++),o+=cf(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mh(e,t,r){if(e==null)return e;var n=[],a=0;return cf(e,n,"","",function(i){return t.call(r,i,a++)}),n}function lL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gr={current:null},uf={transition:null},cL={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:uf,ReactCurrentOwner:F0};function m_(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:mh,forEach:function(e,t,r){mh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return mh(e,function(){t++}),t},toArray:function(e){return mh(e,function(t){return t})||[]},only:function(e){if(!B0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=Ac;We.Fragment=X$;We.Profiler=Q$;We.PureComponent=$0;We.StrictMode=J$;We.Suspense=rL;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cL;We.act=m_;We.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=l_({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=F0.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)d_.call(t,c)&&!h_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ad,type:e.type,key:a,ref:i,props:n,_owner:o}};We.createContext=function(e){return e={$$typeof:eL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z$,_context:e},e.Consumer=e};We.createElement=f_;We.createFactory=function(e){var t=f_.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:tL,render:e}};We.isValidElement=B0;We.lazy=function(e){return{$$typeof:sL,_payload:{_status:-1,_result:e},_init:lL}};We.memo=function(e,t){return{$$typeof:nL,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=uf.transition;uf.transition={};try{e()}finally{uf.transition=t}};We.unstable_act=m_;We.useCallback=function(e,t){return Gr.current.useCallback(e,t)};We.useContext=function(e){return Gr.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return Gr.current.useDeferredValue(e)};We.useEffect=function(e,t){return Gr.current.useEffect(e,t)};We.useId=function(){return Gr.current.useId()};We.useImperativeHandle=function(e,t,r){return Gr.current.useImperativeHandle(e,t,r)};We.useInsertionEffect=function(e,t){return Gr.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return Gr.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return Gr.current.useMemo(e,t)};We.useReducer=function(e,t,r){return Gr.current.useReducer(e,t,r)};We.useRef=function(e){return Gr.current.useRef(e)};We.useState=function(e){return Gr.current.useState(e)};We.useSyncExternalStore=function(e,t,r){return Gr.current.useSyncExternalStore(e,t,r)};We.useTransition=function(){return Gr.current.useTransition()};We.version="18.3.1";i_.exports=We;var p=i_.exports;const q=ra(p),z0=q$({__proto__:null,default:q},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uL=p,dL=Symbol.for("react.element"),hL=Symbol.for("react.fragment"),fL=Object.prototype.hasOwnProperty,mL=uL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pL={key:!0,ref:!0,__self:!0,__source:!0};function p_(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)fL.call(t,n)&&!pL.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:dL,type:e,key:i,ref:o,props:a,_owner:mL.current}}tp.Fragment=hL;tp.jsx=p_;tp.jsxs=p_;a_.exports=tp;var s=a_.exports,x_={exports:{}},Rn={},g_={exports:{}},v_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,O){var re=_.length;_.push(O);e:for(;0<re;){var H=re-1>>>1,X=_[H];if(0<a(X,O))_[H]=O,_[re]=X,re=H;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var O=_[0],re=_.pop();if(re!==O){_[0]=re;e:for(var H=0,X=_.length,ae=X>>>1;H<ae;){var le=2*(H+1)-1,be=_[le],Ie=le+1,ne=_[Ie];if(0>a(be,re))Ie<X&&0>a(ne,be)?(_[H]=ne,_[Ie]=re,H=Ie):(_[H]=be,_[le]=re,H=le);else if(Ie<X&&0>a(ne,re))_[H]=ne,_[Ie]=re,H=Ie;else break e}}return O}function a(_,O){var re=_.sortIndex-O.sortIndex;return re!==0?re:_.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,v=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var O=r(d);O!==null;){if(O.callback===null)n(d);else if(O.startTime<=_)n(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function b(_){if(x=!1,w(_),!v)if(r(c)!==null)v=!0,L(N);else{var O=r(d);O!==null&&W(b,O.startTime-_)}}function N(_,O){v=!1,x&&(x=!1,y(C),C=-1),f=!0;var re=m;try{for(w(O),h=r(c);h!==null&&(!(h.expirationTime>O)||_&&!D());){var H=h.callback;if(typeof H=="function"){h.callback=null,m=h.priorityLevel;var X=H(h.expirationTime<=O);O=e.unstable_now(),typeof X=="function"?h.callback=X:h===r(c)&&n(c),w(O)}else n(c);h=r(c)}if(h!==null)var ae=!0;else{var le=r(d);le!==null&&W(b,le.startTime-O),ae=!1}return ae}finally{h=null,m=re,f=!1}}var k=!1,S=null,C=-1,A=5,P=-1;function D(){return!(e.unstable_now()-P<A)}function E(){if(S!==null){var _=e.unstable_now();P=_;var O=!0;try{O=S(!0,_)}finally{O?R():(k=!1,S=null)}}else k=!1}var R;if(typeof j=="function")R=function(){j(E)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=E,R=function(){V.postMessage(null)}}else R=function(){g(E,0)};function L(_){S=_,k||(k=!0,R())}function W(_,O){C=g(function(){_(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,L(N))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var re=m;m=O;try{return _()}finally{m=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,O){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var re=m;m=_;try{return O()}finally{m=re}},e.unstable_scheduleCallback=function(_,O,re){var H=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?H+re:H):re=H,_){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,_={id:u++,callback:O,priorityLevel:_,startTime:re,expirationTime:X,sortIndex:-1},re>H?(_.sortIndex=re,t(d,_),r(c)===null&&_===r(d)&&(x?(y(C),C=-1):x=!0,W(b,re-H))):(_.sortIndex=X,t(c,_),v||f||(v=!0,L(N))),_},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(_){var O=m;return function(){var re=m;m=O;try{return _.apply(this,arguments)}finally{m=re}}}})(v_);g_.exports=v_;var xL=g_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gL=p,Tn=xL;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y_=new Set,Yu={};function nl(e,t){ac(e,t),ac(e+"Capture",t)}function ac(e,t){for(Yu[e]=t,e=0;e<t.length;e++)y_.add(t[e])}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nv=Object.prototype.hasOwnProperty,vL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DN={},MN={};function yL(e){return Nv.call(MN,e)?!0:Nv.call(DN,e)?!1:vL.test(e)?MN[e]=!0:(DN[e]=!0,!1)}function jL(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wL(e,t,r,n){if(t===null||typeof t>"u"||jL(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Er[e]=new Xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Er[t]=new Xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Er[e]=new Xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Er[e]=new Xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Er[e]=new Xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Er[e]=new Xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Er[e]=new Xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Er[e]=new Xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Er[e]=new Xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var W0=/[\-:]([a-z])/g;function U0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W0,U0);Er[t]=new Xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W0,U0);Er[t]=new Xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W0,U0);Er[t]=new Xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Er[e]=new Xr(e,1,!1,e.toLowerCase(),null,!1,!1)});Er.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Er[e]=new Xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function K0(e,t,r,n){var a=Er.hasOwnProperty(t)?Er[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wL(t,r,a,n)&&(r=null),n||a===null?yL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ba=gL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ph=Symbol.for("react.element"),Al=Symbol.for("react.portal"),Ol=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),Sv=Symbol.for("react.profiler"),j_=Symbol.for("react.provider"),w_=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),kv=Symbol.for("react.suspense"),Cv=Symbol.for("react.suspense_list"),q0=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),b_=Symbol.for("react.offscreen"),IN=Symbol.iterator;function nu(e){return e===null||typeof e!="object"?null:(e=IN&&e[IN]||e["@@iterator"],typeof e=="function"?e:null)}var Mt=Object.assign,Zx;function Nu(e){if(Zx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zx=t&&t[1]||""}return`
`+Zx+e}var eg=!1;function tg(e,t){if(!e||eg)return"";eg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{eg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Nu(e):""}function bL(e){switch(e.tag){case 5:return Nu(e.type);case 16:return Nu("Lazy");case 13:return Nu("Suspense");case 19:return Nu("SuspenseList");case 0:case 2:case 15:return e=tg(e.type,!1),e;case 11:return e=tg(e.type.render,!1),e;case 1:return e=tg(e.type,!0),e;default:return""}}function Pv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ol:return"Fragment";case Al:return"Portal";case Sv:return"Profiler";case V0:return"StrictMode";case kv:return"Suspense";case Cv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w_:return(e.displayName||"Context")+".Consumer";case j_:return(e._context.displayName||"Context")+".Provider";case H0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q0:return t=e.displayName||null,t!==null?t:Pv(e.type)||"Memo";case ii:t=e._payload,e=e._init;try{return Pv(e(t))}catch{}}return null}function NL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pv(t);case 8:return t===V0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ti(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SL(e){var t=N_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xh(e){e._valueTracker||(e._valueTracker=SL(e))}function S_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=N_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Af(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _v(e,t){var r=t.checked;return Mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function RN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ti(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k_(e,t){t=t.checked,t!=null&&K0(e,"checked",t,!1)}function Ev(e,t){k_(e,t);var r=Ti(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Av(e,t.type,r):t.hasOwnProperty("defaultValue")&&Av(e,t.type,Ti(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $N(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Av(e,t,r){(t!=="number"||Af(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Su=Array.isArray;function Hl(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ti(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ov(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function LN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ie(92));if(Su(r)){if(1<r.length)throw Error(ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ti(r)}}function C_(e,t){var r=Ti(t.value),n=Ti(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function FN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gh,__=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gh=gh||document.createElement("div"),gh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kL=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(e){kL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Du[t]=Du[e]})});function E_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Du.hasOwnProperty(e)&&Du[e]?(""+t).trim():t+"px"}function A_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=E_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var CL=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dv(e,t){if(t){if(CL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function Mv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iv=null;function Y0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rv=null,ql=null,Yl=null;function BN(e){if(e=Dd(e)){if(typeof Rv!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=ip(t),Rv(e.stateNode,e.type,t))}}function O_(e){ql?Yl?Yl.push(e):Yl=[e]:ql=e}function T_(){if(ql){var e=ql,t=Yl;if(Yl=ql=null,BN(e),t)for(e=0;e<t.length;e++)BN(t[e])}}function D_(e,t){return e(t)}function M_(){}var rg=!1;function I_(e,t,r){if(rg)return e(t,r);rg=!0;try{return D_(e,t,r)}finally{rg=!1,(ql!==null||Yl!==null)&&(M_(),T_())}}function Xu(e,t){var r=e.stateNode;if(r===null)return null;var n=ip(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ie(231,t,typeof r));return r}var $v=!1;if(_a)try{var su={};Object.defineProperty(su,"passive",{get:function(){$v=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{$v=!1}function PL(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Mu=!1,Of=null,Tf=!1,Lv=null,_L={onError:function(e){Mu=!0,Of=e}};function EL(e,t,r,n,a,i,o,l,c){Mu=!1,Of=null,PL.apply(_L,arguments)}function AL(e,t,r,n,a,i,o,l,c){if(EL.apply(this,arguments),Mu){if(Mu){var d=Of;Mu=!1,Of=null}else throw Error(ie(198));Tf||(Tf=!0,Lv=d)}}function sl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function R_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zN(e){if(sl(e)!==e)throw Error(ie(188))}function OL(e){var t=e.alternate;if(!t){if(t=sl(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return zN(a),e;if(i===n)return zN(a),t;i=i.sibling}throw Error(ie(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ie(189))}}if(r.alternate!==n)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?e:t}function $_(e){return e=OL(e),e!==null?L_(e):null}function L_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L_(e);if(t!==null)return t;e=e.sibling}return null}var F_=Tn.unstable_scheduleCallback,WN=Tn.unstable_cancelCallback,TL=Tn.unstable_shouldYield,DL=Tn.unstable_requestPaint,Ut=Tn.unstable_now,ML=Tn.unstable_getCurrentPriorityLevel,G0=Tn.unstable_ImmediatePriority,B_=Tn.unstable_UserBlockingPriority,Df=Tn.unstable_NormalPriority,IL=Tn.unstable_LowPriority,z_=Tn.unstable_IdlePriority,rp=null,Vs=null;function RL(e){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(rp,e,void 0,(e.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:FL,$L=Math.log,LL=Math.LN2;function FL(e){return e>>>=0,e===0?32:31-($L(e)/LL|0)|0}var vh=64,yh=4194304;function ku(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=ku(l):(i&=o,i!==0&&(n=ku(i)))}else o=r&~a,o!==0?n=ku(o):i!==0&&(n=ku(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ss(t),a=1<<r,n|=e[r],t&=~a;return n}function BL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ss(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=BL(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Fv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W_(){var e=vh;return vh<<=1,!(vh&4194240)&&(vh=64),e}function ng(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Od(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ss(t),e[t]=r}function WL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ss(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function X0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ss(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var tt=0;function U_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var K_,J0,V_,H_,q_,Bv=!1,jh=[],vi=null,yi=null,ji=null,Ju=new Map,Qu=new Map,ui=[],UL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UN(e,t){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Ju.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(t.pointerId)}}function au(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Dd(t),t!==null&&J0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function KL(e,t,r,n,a){switch(t){case"focusin":return vi=au(vi,e,t,r,n,a),!0;case"dragenter":return yi=au(yi,e,t,r,n,a),!0;case"mouseover":return ji=au(ji,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ju.set(i,au(Ju.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Qu.set(i,au(Qu.get(i)||null,e,t,r,n,a)),!0}return!1}function Y_(e){var t=wo(e.target);if(t!==null){var r=sl(t);if(r!==null){if(t=r.tag,t===13){if(t=R_(r),t!==null){e.blockedOn=t,q_(e.priority,function(){V_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function df(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Iv=n,r.target.dispatchEvent(n),Iv=null}else return t=Dd(r),t!==null&&J0(t),e.blockedOn=r,!1;t.shift()}return!0}function KN(e,t,r){df(e)&&r.delete(t)}function VL(){Bv=!1,vi!==null&&df(vi)&&(vi=null),yi!==null&&df(yi)&&(yi=null),ji!==null&&df(ji)&&(ji=null),Ju.forEach(KN),Qu.forEach(KN)}function iu(e,t){e.blockedOn===t&&(e.blockedOn=null,Bv||(Bv=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,VL)))}function Zu(e){function t(a){return iu(a,e)}if(0<jh.length){iu(jh[0],e);for(var r=1;r<jh.length;r++){var n=jh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(vi!==null&&iu(vi,e),yi!==null&&iu(yi,e),ji!==null&&iu(ji,e),Ju.forEach(t),Qu.forEach(t),r=0;r<ui.length;r++)n=ui[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ui.length&&(r=ui[0],r.blockedOn===null);)Y_(r),r.blockedOn===null&&ui.shift()}var Gl=Ba.ReactCurrentBatchConfig,If=!0;function HL(e,t,r,n){var a=tt,i=Gl.transition;Gl.transition=null;try{tt=1,Q0(e,t,r,n)}finally{tt=a,Gl.transition=i}}function qL(e,t,r,n){var a=tt,i=Gl.transition;Gl.transition=null;try{tt=4,Q0(e,t,r,n)}finally{tt=a,Gl.transition=i}}function Q0(e,t,r,n){if(If){var a=zv(e,t,r,n);if(a===null)fg(e,t,n,Rf,r),UN(e,n);else if(KL(a,e,t,r,n))n.stopPropagation();else if(UN(e,n),t&4&&-1<UL.indexOf(e)){for(;a!==null;){var i=Dd(a);if(i!==null&&K_(i),i=zv(e,t,r,n),i===null&&fg(e,t,n,Rf,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else fg(e,t,n,null,r)}}var Rf=null;function zv(e,t,r,n){if(Rf=null,e=Y0(n),e=wo(e),e!==null)if(t=sl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=R_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rf=e,null}function G_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ML()){case G0:return 1;case B_:return 4;case Df:case IL:return 16;case z_:return 536870912;default:return 16}default:return 16}}var mi=null,Z0=null,hf=null;function X_(){if(hf)return hf;var e,t=Z0,r=t.length,n,a="value"in mi?mi.value:mi.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return hf=a.slice(e,1<n?1-n:void 0)}function ff(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wh(){return!0}function VN(){return!1}function $n(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wh:VN,this.isPropagationStopped=VN,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),t}var Oc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ej=$n(Oc),Td=Mt({},Oc,{view:0,detail:0}),YL=$n(Td),sg,ag,ou,np=Mt({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ou&&(ou&&e.type==="mousemove"?(sg=e.screenX-ou.screenX,ag=e.screenY-ou.screenY):ag=sg=0,ou=e),sg)},movementY:function(e){return"movementY"in e?e.movementY:ag}}),HN=$n(np),GL=Mt({},np,{dataTransfer:0}),XL=$n(GL),JL=Mt({},Td,{relatedTarget:0}),ig=$n(JL),QL=Mt({},Oc,{animationName:0,elapsedTime:0,pseudoElement:0}),ZL=$n(QL),e3=Mt({},Oc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t3=$n(e3),r3=Mt({},Oc,{data:0}),qN=$n(r3),n3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=a3[e])?!!t[e]:!1}function tj(){return i3}var o3=Mt({},Td,{key:function(e){if(e.key){var t=n3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ff(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?s3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tj,charCode:function(e){return e.type==="keypress"?ff(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ff(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l3=$n(o3),c3=Mt({},np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YN=$n(c3),u3=Mt({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tj}),d3=$n(u3),h3=Mt({},Oc,{propertyName:0,elapsedTime:0,pseudoElement:0}),f3=$n(h3),m3=Mt({},np,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p3=$n(m3),x3=[9,13,27,32],rj=_a&&"CompositionEvent"in window,Iu=null;_a&&"documentMode"in document&&(Iu=document.documentMode);var g3=_a&&"TextEvent"in window&&!Iu,J_=_a&&(!rj||Iu&&8<Iu&&11>=Iu),GN=String.fromCharCode(32),XN=!1;function Q_(e,t){switch(e){case"keyup":return x3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tl=!1;function v3(e,t){switch(e){case"compositionend":return Z_(t);case"keypress":return t.which!==32?null:(XN=!0,GN);case"textInput":return e=t.data,e===GN&&XN?null:e;default:return null}}function y3(e,t){if(Tl)return e==="compositionend"||!rj&&Q_(e,t)?(e=X_(),hf=Z0=mi=null,Tl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J_&&t.locale!=="ko"?null:t.data;default:return null}}var j3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j3[e.type]:t==="textarea"}function e2(e,t,r,n){O_(n),t=$f(t,"onChange"),0<t.length&&(r=new ej("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ru=null,ed=null;function w3(e){d2(e,0)}function sp(e){var t=Il(e);if(S_(t))return e}function b3(e,t){if(e==="change")return t}var t2=!1;if(_a){var og;if(_a){var lg="oninput"in document;if(!lg){var QN=document.createElement("div");QN.setAttribute("oninput","return;"),lg=typeof QN.oninput=="function"}og=lg}else og=!1;t2=og&&(!document.documentMode||9<document.documentMode)}function ZN(){Ru&&(Ru.detachEvent("onpropertychange",r2),ed=Ru=null)}function r2(e){if(e.propertyName==="value"&&sp(ed)){var t=[];e2(t,ed,e,Y0(e)),I_(w3,t)}}function N3(e,t,r){e==="focusin"?(ZN(),Ru=t,ed=r,Ru.attachEvent("onpropertychange",r2)):e==="focusout"&&ZN()}function S3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sp(ed)}function k3(e,t){if(e==="click")return sp(t)}function C3(e,t){if(e==="input"||e==="change")return sp(t)}function P3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cs=typeof Object.is=="function"?Object.is:P3;function td(e,t){if(Cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Nv.call(t,a)||!Cs(e[a],t[a]))return!1}return!0}function e1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t1(e,t){var r=e1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=e1(r)}}function n2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s2(){for(var e=window,t=Af();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Af(e.document)}return t}function nj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _3(e){var t=s2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&n2(r.ownerDocument.documentElement,r)){if(n!==null&&nj(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=t1(r,i);var o=t1(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E3=_a&&"documentMode"in document&&11>=document.documentMode,Dl=null,Wv=null,$u=null,Uv=!1;function r1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uv||Dl==null||Dl!==Af(n)||(n=Dl,"selectionStart"in n&&nj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$u&&td($u,n)||($u=n,n=$f(Wv,"onSelect"),0<n.length&&(t=new ej("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Dl)))}function bh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ml={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},cg={},a2={};_a&&(a2=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function ap(e){if(cg[e])return cg[e];if(!Ml[e])return e;var t=Ml[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in a2)return cg[e]=t[r];return e}var i2=ap("animationend"),o2=ap("animationiteration"),l2=ap("animationstart"),c2=ap("transitionend"),u2=new Map,n1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){u2.set(e,t),nl(t,[e])}for(var ug=0;ug<n1.length;ug++){var dg=n1[ug],A3=dg.toLowerCase(),O3=dg[0].toUpperCase()+dg.slice(1);Wi(A3,"on"+O3)}Wi(i2,"onAnimationEnd");Wi(o2,"onAnimationIteration");Wi(l2,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(c2,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nl("onBeforeInput",["compositionend","keypress","textInput","paste"]);nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cu));function s1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,AL(n,t,void 0,e),e.currentTarget=null}function d2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;s1(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;s1(a,l,d),i=c}}}if(Tf)throw e=Lv,Tf=!1,Lv=null,e}function mt(e,t){var r=t[Yv];r===void 0&&(r=t[Yv]=new Set);var n=e+"__bubble";r.has(n)||(h2(t,e,2,!1),r.add(n))}function hg(e,t,r){var n=0;t&&(n|=4),h2(r,e,n,t)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[Nh]){e[Nh]=!0,y_.forEach(function(r){r!=="selectionchange"&&(T3.has(r)||hg(r,!1,e),hg(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nh]||(t[Nh]=!0,hg("selectionchange",!1,t))}}function h2(e,t,r,n){switch(G_(t)){case 1:var a=HL;break;case 4:a=qL;break;default:a=Q0}r=a.bind(null,t,r,e),a=void 0,!$v||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function fg(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=wo(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}I_(function(){var d=i,u=Y0(r),h=[];e:{var m=u2.get(e);if(m!==void 0){var f=ej,v=e;switch(e){case"keypress":if(ff(r)===0)break e;case"keydown":case"keyup":f=l3;break;case"focusin":v="focus",f=ig;break;case"focusout":v="blur",f=ig;break;case"beforeblur":case"afterblur":f=ig;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=HN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=XL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=d3;break;case i2:case o2:case l2:f=ZL;break;case c2:f=f3;break;case"scroll":f=YL;break;case"wheel":f=p3;break;case"copy":case"cut":case"paste":f=t3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=YN}var x=(t&4)!==0,g=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var j=d,w;j!==null;){w=j;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=Xu(j,y),b!=null&&x.push(nd(j,b,w)))),g)break;j=j.return}0<x.length&&(m=new f(m,v,null,r,u),h.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&r!==Iv&&(v=r.relatedTarget||r.fromElement)&&(wo(v)||v[Ea]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=d,v=v?wo(v):null,v!==null&&(g=sl(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=d),f!==v)){if(x=HN,b="onMouseLeave",y="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(x=YN,b="onPointerLeave",y="onPointerEnter",j="pointer"),g=f==null?m:Il(f),w=v==null?m:Il(v),m=new x(b,j+"leave",f,r,u),m.target=g,m.relatedTarget=w,b=null,wo(u)===d&&(x=new x(y,j+"enter",v,r,u),x.target=w,x.relatedTarget=g,b=x),g=b,f&&v)t:{for(x=f,y=v,j=0,w=x;w;w=fl(w))j++;for(w=0,b=y;b;b=fl(b))w++;for(;0<j-w;)x=fl(x),j--;for(;0<w-j;)y=fl(y),w--;for(;j--;){if(x===y||y!==null&&x===y.alternate)break t;x=fl(x),y=fl(y)}x=null}else x=null;f!==null&&a1(h,m,f,x,!1),v!==null&&g!==null&&a1(h,g,v,x,!0)}}e:{if(m=d?Il(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var N=b3;else if(JN(m))if(t2)N=C3;else{N=S3;var k=N3}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=k3);if(N&&(N=N(e,d))){e2(h,N,r,u);break e}k&&k(e,m,d),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Av(m,"number",m.value)}switch(k=d?Il(d):window,e){case"focusin":(JN(k)||k.contentEditable==="true")&&(Dl=k,Wv=d,$u=null);break;case"focusout":$u=Wv=Dl=null;break;case"mousedown":Uv=!0;break;case"contextmenu":case"mouseup":case"dragend":Uv=!1,r1(h,r,u);break;case"selectionchange":if(E3)break;case"keydown":case"keyup":r1(h,r,u)}var S;if(rj)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tl?Q_(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(J_&&r.locale!=="ko"&&(Tl||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tl&&(S=X_()):(mi=u,Z0="value"in mi?mi.value:mi.textContent,Tl=!0)),k=$f(d,C),0<k.length&&(C=new qN(C,e,null,r,u),h.push({event:C,listeners:k}),S?C.data=S:(S=Z_(r),S!==null&&(C.data=S)))),(S=g3?v3(e,r):y3(e,r))&&(d=$f(d,"onBeforeInput"),0<d.length&&(u=new qN("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}d2(h,t)})}function nd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $f(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xu(e,r),i!=null&&n.unshift(nd(e,i,a)),i=Xu(e,t),i!=null&&n.push(nd(e,i,a))),e=e.return}return n}function fl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function a1(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Xu(r,i),c!=null&&o.unshift(nd(r,c,l))):a||(c=Xu(r,i),c!=null&&o.push(nd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var D3=/\r\n?/g,M3=/\u0000|\uFFFD/g;function i1(e){return(typeof e=="string"?e:""+e).replace(D3,`
`).replace(M3,"")}function Sh(e,t,r){if(t=i1(t),i1(e)!==t&&r)throw Error(ie(425))}function Lf(){}var Kv=null,Vv=null;function Hv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qv=typeof setTimeout=="function"?setTimeout:void 0,I3=typeof clearTimeout=="function"?clearTimeout:void 0,o1=typeof Promise=="function"?Promise:void 0,R3=typeof queueMicrotask=="function"?queueMicrotask:typeof o1<"u"?function(e){return o1.resolve(null).then(e).catch($3)}:qv;function $3(e){setTimeout(function(){throw e})}function mg(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Zu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zu(t)}function wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function l1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Bs="__reactFiber$"+Tc,sd="__reactProps$"+Tc,Ea="__reactContainer$"+Tc,Yv="__reactEvents$"+Tc,L3="__reactListeners$"+Tc,F3="__reactHandles$"+Tc;function wo(e){var t=e[Bs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ea]||r[Bs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=l1(e);e!==null;){if(r=e[Bs])return r;e=l1(e)}return t}e=r,r=e.parentNode}return null}function Dd(e){return e=e[Bs]||e[Ea],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Il(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function ip(e){return e[sd]||null}var Gv=[],Rl=-1;function Ui(e){return{current:e}}function xt(e){0>Rl||(e.current=Gv[Rl],Gv[Rl]=null,Rl--)}function ht(e,t){Rl++,Gv[Rl]=e.current,e.current=t}var Di={},Br=Ui(Di),ln=Ui(!1),Lo=Di;function ic(e,t){var r=e.type.contextTypes;if(!r)return Di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function cn(e){return e=e.childContextTypes,e!=null}function Ff(){xt(ln),xt(Br)}function c1(e,t,r){if(Br.current!==Di)throw Error(ie(168));ht(Br,t),ht(ln,r)}function f2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ie(108,NL(e)||"Unknown",a));return Mt({},r,n)}function Bf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,Lo=Br.current,ht(Br,e),ht(ln,ln.current),!0}function u1(e,t,r){var n=e.stateNode;if(!n)throw Error(ie(169));r?(e=f2(e,t,Lo),n.__reactInternalMemoizedMergedChildContext=e,xt(ln),xt(Br),ht(Br,e)):xt(ln),ht(ln,r)}var da=null,op=!1,pg=!1;function m2(e){da===null?da=[e]:da.push(e)}function B3(e){op=!0,m2(e)}function Ki(){if(!pg&&da!==null){pg=!0;var e=0,t=tt;try{var r=da;for(tt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}da=null,op=!1}catch(a){throw da!==null&&(da=da.slice(e+1)),F_(G0,Ki),a}finally{tt=t,pg=!1}}return null}var $l=[],Ll=0,zf=null,Wf=0,Un=[],Kn=0,Fo=null,pa=1,xa="";function ho(e,t){$l[Ll++]=Wf,$l[Ll++]=zf,zf=e,Wf=t}function p2(e,t,r){Un[Kn++]=pa,Un[Kn++]=xa,Un[Kn++]=Fo,Fo=e;var n=pa;e=xa;var a=32-Ss(n)-1;n&=~(1<<a),r+=1;var i=32-Ss(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,pa=1<<32-Ss(t)+a|r<<a|n,xa=i+e}else pa=1<<i|r<<a|n,xa=e}function sj(e){e.return!==null&&(ho(e,1),p2(e,1,0))}function aj(e){for(;e===zf;)zf=$l[--Ll],$l[Ll]=null,Wf=$l[--Ll],$l[Ll]=null;for(;e===Fo;)Fo=Un[--Kn],Un[Kn]=null,xa=Un[--Kn],Un[Kn]=null,pa=Un[--Kn],Un[Kn]=null}var En=null,Pn=null,wt=!1,vs=null;function x2(e,t){var r=qn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function d1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,Pn=wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,Pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fo!==null?{id:pa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,En=e,Pn=null,!0):!1;default:return!1}}function Xv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jv(e){if(wt){var t=Pn;if(t){var r=t;if(!d1(e,t)){if(Xv(e))throw Error(ie(418));t=wi(r.nextSibling);var n=En;t&&d1(e,t)?x2(n,r):(e.flags=e.flags&-4097|2,wt=!1,En=e)}}else{if(Xv(e))throw Error(ie(418));e.flags=e.flags&-4097|2,wt=!1,En=e}}}function h1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function kh(e){if(e!==En)return!1;if(!wt)return h1(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hv(e.type,e.memoizedProps)),t&&(t=Pn)){if(Xv(e))throw g2(),Error(ie(418));for(;t;)x2(e,t),t=wi(t.nextSibling)}if(h1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pn=wi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pn=null}}else Pn=En?wi(e.stateNode.nextSibling):null;return!0}function g2(){for(var e=Pn;e;)e=wi(e.nextSibling)}function oc(){Pn=En=null,wt=!1}function ij(e){vs===null?vs=[e]:vs.push(e)}var z3=Ba.ReactCurrentBatchConfig;function lu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var n=r.stateNode}if(!n)throw Error(ie(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,e))}return e}function Ch(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f1(e){var t=e._init;return t(e._payload)}function v2(e){function t(y,j){if(e){var w=y.deletions;w===null?(y.deletions=[j],y.flags|=16):w.push(j)}}function r(y,j){if(!e)return null;for(;j!==null;)t(y,j),j=j.sibling;return null}function n(y,j){for(y=new Map;j!==null;)j.key!==null?y.set(j.key,j):y.set(j.index,j),j=j.sibling;return y}function a(y,j){return y=ki(y,j),y.index=0,y.sibling=null,y}function i(y,j,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<j?(y.flags|=2,j):w):(y.flags|=2,j)):(y.flags|=1048576,j)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,j,w,b){return j===null||j.tag!==6?(j=bg(w,y.mode,b),j.return=y,j):(j=a(j,w),j.return=y,j)}function c(y,j,w,b){var N=w.type;return N===Ol?u(y,j,w.props.children,b,w.key):j!==null&&(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ii&&f1(N)===j.type)?(b=a(j,w.props),b.ref=lu(y,j,w),b.return=y,b):(b=jf(w.type,w.key,w.props,null,y.mode,b),b.ref=lu(y,j,w),b.return=y,b)}function d(y,j,w,b){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Ng(w,y.mode,b),j.return=y,j):(j=a(j,w.children||[]),j.return=y,j)}function u(y,j,w,b,N){return j===null||j.tag!==7?(j=To(w,y.mode,b,N),j.return=y,j):(j=a(j,w),j.return=y,j)}function h(y,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return j=bg(""+j,y.mode,w),j.return=y,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ph:return w=jf(j.type,j.key,j.props,null,y.mode,w),w.ref=lu(y,null,j),w.return=y,w;case Al:return j=Ng(j,y.mode,w),j.return=y,j;case ii:var b=j._init;return h(y,b(j._payload),w)}if(Su(j)||nu(j))return j=To(j,y.mode,w,null),j.return=y,j;Ch(y,j)}return null}function m(y,j,w,b){var N=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,j,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ph:return w.key===N?c(y,j,w,b):null;case Al:return w.key===N?d(y,j,w,b):null;case ii:return N=w._init,m(y,j,N(w._payload),b)}if(Su(w)||nu(w))return N!==null?null:u(y,j,w,b,null);Ch(y,w)}return null}function f(y,j,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(j,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ph:return y=y.get(b.key===null?w:b.key)||null,c(j,y,b,N);case Al:return y=y.get(b.key===null?w:b.key)||null,d(j,y,b,N);case ii:var k=b._init;return f(y,j,w,k(b._payload),N)}if(Su(b)||nu(b))return y=y.get(w)||null,u(j,y,b,N,null);Ch(j,b)}return null}function v(y,j,w,b){for(var N=null,k=null,S=j,C=j=0,A=null;S!==null&&C<w.length;C++){S.index>C?(A=S,S=null):A=S.sibling;var P=m(y,S,w[C],b);if(P===null){S===null&&(S=A);break}e&&S&&P.alternate===null&&t(y,S),j=i(P,j,C),k===null?N=P:k.sibling=P,k=P,S=A}if(C===w.length)return r(y,S),wt&&ho(y,C),N;if(S===null){for(;C<w.length;C++)S=h(y,w[C],b),S!==null&&(j=i(S,j,C),k===null?N=S:k.sibling=S,k=S);return wt&&ho(y,C),N}for(S=n(y,S);C<w.length;C++)A=f(S,y,C,w[C],b),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?C:A.key),j=i(A,j,C),k===null?N=A:k.sibling=A,k=A);return e&&S.forEach(function(D){return t(y,D)}),wt&&ho(y,C),N}function x(y,j,w,b){var N=nu(w);if(typeof N!="function")throw Error(ie(150));if(w=N.call(w),w==null)throw Error(ie(151));for(var k=N=null,S=j,C=j=0,A=null,P=w.next();S!==null&&!P.done;C++,P=w.next()){S.index>C?(A=S,S=null):A=S.sibling;var D=m(y,S,P.value,b);if(D===null){S===null&&(S=A);break}e&&S&&D.alternate===null&&t(y,S),j=i(D,j,C),k===null?N=D:k.sibling=D,k=D,S=A}if(P.done)return r(y,S),wt&&ho(y,C),N;if(S===null){for(;!P.done;C++,P=w.next())P=h(y,P.value,b),P!==null&&(j=i(P,j,C),k===null?N=P:k.sibling=P,k=P);return wt&&ho(y,C),N}for(S=n(y,S);!P.done;C++,P=w.next())P=f(S,y,C,P.value,b),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?C:P.key),j=i(P,j,C),k===null?N=P:k.sibling=P,k=P);return e&&S.forEach(function(E){return t(y,E)}),wt&&ho(y,C),N}function g(y,j,w,b){if(typeof w=="object"&&w!==null&&w.type===Ol&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ph:e:{for(var N=w.key,k=j;k!==null;){if(k.key===N){if(N=w.type,N===Ol){if(k.tag===7){r(y,k.sibling),j=a(k,w.props.children),j.return=y,y=j;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ii&&f1(N)===k.type){r(y,k.sibling),j=a(k,w.props),j.ref=lu(y,k,w),j.return=y,y=j;break e}r(y,k);break}else t(y,k);k=k.sibling}w.type===Ol?(j=To(w.props.children,y.mode,b,w.key),j.return=y,y=j):(b=jf(w.type,w.key,w.props,null,y.mode,b),b.ref=lu(y,j,w),b.return=y,y=b)}return o(y);case Al:e:{for(k=w.key;j!==null;){if(j.key===k)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){r(y,j.sibling),j=a(j,w.children||[]),j.return=y,y=j;break e}else{r(y,j);break}else t(y,j);j=j.sibling}j=Ng(w,y.mode,b),j.return=y,y=j}return o(y);case ii:return k=w._init,g(y,j,k(w._payload),b)}if(Su(w))return v(y,j,w,b);if(nu(w))return x(y,j,w,b);Ch(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,j!==null&&j.tag===6?(r(y,j.sibling),j=a(j,w),j.return=y,y=j):(r(y,j),j=bg(w,y.mode,b),j.return=y,y=j),o(y)):r(y,j)}return g}var lc=v2(!0),y2=v2(!1),Uf=Ui(null),Kf=null,Fl=null,oj=null;function lj(){oj=Fl=Kf=null}function cj(e){var t=Uf.current;xt(Uf),e._currentValue=t}function Qv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xl(e,t){Kf=e,oj=Fl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function Zn(e){var t=e._currentValue;if(oj!==e)if(e={context:e,memoizedValue:t,next:null},Fl===null){if(Kf===null)throw Error(ie(308));Fl=e,Kf.dependencies={lanes:0,firstContext:e}}else Fl=Fl.next=e;return t}var bo=null;function uj(e){bo===null?bo=[e]:bo.push(e)}function j2(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,uj(t)):(r.next=a.next,a.next=r),t.interleaved=r,Aa(e,n)}function Aa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oi=!1;function dj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,He&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Aa(e,r)}return a=n.interleaved,a===null?(t.next=t,uj(n)):(t.next=a.next,a.next=t),n.interleaved=t,Aa(e,r)}function mf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,X0(e,r)}}function m1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vf(e,t,r,n){var a=e.updateQueue;oi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,f=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(m=t,f=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(f,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(f,h,m):v,m==null)break e;h=Mt({},h,m);break e;case 2:oi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);zo|=o,e.lanes=o,e.memoizedState=h}}function p1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ie(191,a));a.call(n)}}}var Md={},Hs=Ui(Md),ad=Ui(Md),id=Ui(Md);function No(e){if(e===Md)throw Error(ie(174));return e}function hj(e,t){switch(ht(id,t),ht(ad,e),ht(Hs,Md),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tv(t,e)}xt(Hs),ht(Hs,t)}function cc(){xt(Hs),xt(ad),xt(id)}function b2(e){No(id.current);var t=No(Hs.current),r=Tv(t,e.type);t!==r&&(ht(ad,e),ht(Hs,r))}function fj(e){ad.current===e&&(xt(Hs),xt(ad))}var _t=Ui(0);function Hf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xg=[];function mj(){for(var e=0;e<xg.length;e++)xg[e]._workInProgressVersionPrimary=null;xg.length=0}var pf=Ba.ReactCurrentDispatcher,gg=Ba.ReactCurrentBatchConfig,Bo=0,Ot=null,tr=null,ur=null,qf=!1,Lu=!1,od=0,W3=0;function Dr(){throw Error(ie(321))}function pj(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cs(e[r],t[r]))return!1;return!0}function xj(e,t,r,n,a,i){if(Bo=i,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pf.current=e===null||e.memoizedState===null?H3:q3,e=r(n,a),Lu){i=0;do{if(Lu=!1,od=0,25<=i)throw Error(ie(301));i+=1,ur=tr=null,t.updateQueue=null,pf.current=Y3,e=r(n,a)}while(Lu)}if(pf.current=Yf,t=tr!==null&&tr.next!==null,Bo=0,ur=tr=Ot=null,qf=!1,t)throw Error(ie(300));return e}function gj(){var e=od!==0;return od=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Ot.memoizedState=ur=e:ur=ur.next=e,ur}function es(){if(tr===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=tr.next;var t=ur===null?Ot.memoizedState:ur.next;if(t!==null)ur=t,tr=e;else{if(e===null)throw Error(ie(310));tr=e,e={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},ur===null?Ot.memoizedState=ur=e:ur=ur.next=e}return ur}function ld(e,t){return typeof t=="function"?t(e):t}function vg(e){var t=es(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var n=tr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Bo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Ot.lanes|=u,zo|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Cs(n,t.memoizedState)||(sn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ot.lanes|=i,zo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yg(e){var t=es(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Cs(i,t.memoizedState)||(sn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function N2(){}function S2(e,t){var r=Ot,n=es(),a=t(),i=!Cs(n.memoizedState,a);if(i&&(n.memoizedState=a,sn=!0),n=n.queue,vj(P2.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ur!==null&&ur.memoizedState.tag&1){if(r.flags|=2048,cd(9,C2.bind(null,r,n,a,t),void 0,null),mr===null)throw Error(ie(349));Bo&30||k2(r,t,a)}return a}function k2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function C2(e,t,r,n){t.value=r,t.getSnapshot=n,_2(t)&&E2(e)}function P2(e,t,r){return r(function(){_2(t)&&E2(e)})}function _2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cs(e,r)}catch{return!0}}function E2(e){var t=Aa(e,1);t!==null&&ks(t,e,1,-1)}function x1(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:e},t.queue=e,e=e.dispatch=V3.bind(null,Ot,e),[t.memoizedState,e]}function cd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function A2(){return es().memoizedState}function xf(e,t,r,n){var a=Rs();Ot.flags|=e,a.memoizedState=cd(1|t,r,void 0,n===void 0?null:n)}function lp(e,t,r,n){var a=es();n=n===void 0?null:n;var i=void 0;if(tr!==null){var o=tr.memoizedState;if(i=o.destroy,n!==null&&pj(n,o.deps)){a.memoizedState=cd(t,r,i,n);return}}Ot.flags|=e,a.memoizedState=cd(1|t,r,i,n)}function g1(e,t){return xf(8390656,8,e,t)}function vj(e,t){return lp(2048,8,e,t)}function O2(e,t){return lp(4,2,e,t)}function T2(e,t){return lp(4,4,e,t)}function D2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M2(e,t,r){return r=r!=null?r.concat([e]):null,lp(4,4,D2.bind(null,t,e),r)}function yj(){}function I2(e,t){var r=es();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pj(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function R2(e,t){var r=es();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pj(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $2(e,t,r){return Bo&21?(Cs(r,t)||(r=W_(),Ot.lanes|=r,zo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=r)}function U3(e,t){var r=tt;tt=r!==0&&4>r?r:4,e(!0);var n=gg.transition;gg.transition={};try{e(!1),t()}finally{tt=r,gg.transition=n}}function L2(){return es().memoizedState}function K3(e,t,r){var n=Si(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},F2(e))B2(t,r);else if(r=j2(e,t,r,n),r!==null){var a=Yr();ks(r,e,n,a),z2(r,t,n)}}function V3(e,t,r){var n=Si(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(F2(e))B2(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Cs(l,o)){var c=t.interleaved;c===null?(a.next=a,uj(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=j2(e,t,a,n),r!==null&&(a=Yr(),ks(r,e,n,a),z2(r,t,n))}}function F2(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function B2(e,t){Lu=qf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function z2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,X0(e,r)}}var Yf={readContext:Zn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},H3={readContext:Zn,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:Zn,useEffect:g1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xf(4194308,4,D2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xf(4194308,4,e,t)},useInsertionEffect:function(e,t){return xf(4,2,e,t)},useMemo:function(e,t){var r=Rs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=K3.bind(null,Ot,e),[n.memoizedState,e]},useRef:function(e){var t=Rs();return e={current:e},t.memoizedState=e},useState:x1,useDebugValue:yj,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=x1(!1),t=e[0];return e=U3.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ot,a=Rs();if(wt){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=t(),mr===null)throw Error(ie(349));Bo&30||k2(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,g1(P2.bind(null,n,i,e),[e]),n.flags|=2048,cd(9,C2.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Rs(),t=mr.identifierPrefix;if(wt){var r=xa,n=pa;r=(n&~(1<<32-Ss(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=od++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=W3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q3={readContext:Zn,useCallback:I2,useContext:Zn,useEffect:vj,useImperativeHandle:M2,useInsertionEffect:O2,useLayoutEffect:T2,useMemo:R2,useReducer:vg,useRef:A2,useState:function(){return vg(ld)},useDebugValue:yj,useDeferredValue:function(e){var t=es();return $2(t,tr.memoizedState,e)},useTransition:function(){var e=vg(ld)[0],t=es().memoizedState;return[e,t]},useMutableSource:N2,useSyncExternalStore:S2,useId:L2,unstable_isNewReconciler:!1},Y3={readContext:Zn,useCallback:I2,useContext:Zn,useEffect:vj,useImperativeHandle:M2,useInsertionEffect:O2,useLayoutEffect:T2,useMemo:R2,useReducer:yg,useRef:A2,useState:function(){return yg(ld)},useDebugValue:yj,useDeferredValue:function(e){var t=es();return tr===null?t.memoizedState=e:$2(t,tr.memoizedState,e)},useTransition:function(){var e=yg(ld)[0],t=es().memoizedState;return[e,t]},useMutableSource:N2,useSyncExternalStore:S2,useId:L2,unstable_isNewReconciler:!1};function ps(e,t){if(e&&e.defaultProps){t=Mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Zv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cp={isMounted:function(e){return(e=e._reactInternals)?sl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yr(),a=Si(e),i=Na(n,a);i.payload=t,r!=null&&(i.callback=r),t=bi(e,i,a),t!==null&&(ks(t,e,a,n),mf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yr(),a=Si(e),i=Na(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=bi(e,i,a),t!==null&&(ks(t,e,a,n),mf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yr(),n=Si(e),a=Na(r,n);a.tag=2,t!=null&&(a.callback=t),t=bi(e,a,n),t!==null&&(ks(t,e,n,r),mf(t,e,n))}};function v1(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!td(r,n)||!td(a,i):!0}function W2(e,t,r){var n=!1,a=Di,i=t.contextType;return typeof i=="object"&&i!==null?i=Zn(i):(a=cn(t)?Lo:Br.current,n=t.contextTypes,i=(n=n!=null)?ic(e,a):Di),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function y1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cp.enqueueReplaceState(t,t.state,null)}function ey(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},dj(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Zn(i):(i=cn(t)?Lo:Br.current,a.context=ic(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Zv(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&cp.enqueueReplaceState(a,a.state,null),Vf(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function uc(e,t){try{var r="",n=t;do r+=bL(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function jg(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ty(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var G3=typeof WeakMap=="function"?WeakMap:Map;function U2(e,t,r){r=Na(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xf||(Xf=!0,dy=n),ty(e,t)},r}function K2(e,t,r){r=Na(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ty(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ty(e,t),typeof n!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function j1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new G3;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=cF.bind(null,e,t,r),t.then(e,e))}function w1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function b1(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Na(-1,1),t.tag=2,bi(r,t,1))),r.lanes|=1),e)}var X3=Ba.ReactCurrentOwner,sn=!1;function Kr(e,t,r,n){t.child=e===null?y2(t,null,r,n):lc(t,e.child,r,n)}function N1(e,t,r,n,a){r=r.render;var i=t.ref;return Xl(t,a),n=xj(e,t,r,n,i,a),r=gj(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oa(e,t,a)):(wt&&r&&sj(t),t.flags|=1,Kr(e,t,n,a),t.child)}function S1(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Pj(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,V2(e,t,i,n,a)):(e=jf(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:td,r(o,n)&&e.ref===t.ref)return Oa(e,t,a)}return t.flags|=1,e=ki(i,n),e.ref=t.ref,e.return=t,t.child=e}function V2(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(td(i,n)&&e.ref===t.ref)if(sn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,Oa(e,t,a)}return ry(e,t,r,n,a)}function H2(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(zl,wn),wn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(zl,wn),wn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ht(zl,wn),wn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ht(zl,wn),wn|=n;return Kr(e,t,a,r),t.child}function q2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ry(e,t,r,n,a){var i=cn(r)?Lo:Br.current;return i=ic(t,i),Xl(t,a),r=xj(e,t,r,n,i,a),n=gj(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oa(e,t,a)):(wt&&n&&sj(t),t.flags|=1,Kr(e,t,r,a),t.child)}function k1(e,t,r,n,a){if(cn(r)){var i=!0;Bf(t)}else i=!1;if(Xl(t,a),t.stateNode===null)gf(e,t),W2(t,r,n),ey(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Zn(d):(d=cn(r)?Lo:Br.current,d=ic(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&y1(t,o,n,d),oi=!1;var m=t.memoizedState;o.state=m,Vf(t,n,o,a),c=t.memoizedState,l!==n||m!==c||ln.current||oi?(typeof u=="function"&&(Zv(t,r,u,n),c=t.memoizedState),(l=oi||v1(t,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,w2(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ps(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Zn(c):(c=cn(r)?Lo:Br.current,c=ic(t,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&y1(t,o,n,c),oi=!1,m=t.memoizedState,o.state=m,Vf(t,n,o,a);var v=t.memoizedState;l!==h||m!==v||ln.current||oi?(typeof f=="function"&&(Zv(t,r,f,n),v=t.memoizedState),(d=oi||v1(t,r,d,n,m,v,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return ny(e,t,r,n,i,a)}function ny(e,t,r,n,a,i){q2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&u1(t,r,!1),Oa(e,t,i);n=t.stateNode,X3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=lc(t,e.child,null,i),t.child=lc(t,null,l,i)):Kr(e,t,l,i),t.memoizedState=n.state,a&&u1(t,r,!0),t.child}function Y2(e){var t=e.stateNode;t.pendingContext?c1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&c1(e,t.context,!1),hj(e,t.containerInfo)}function C1(e,t,r,n,a){return oc(),ij(a),t.flags|=256,Kr(e,t,r,n),t.child}var sy={dehydrated:null,treeContext:null,retryLane:0};function ay(e){return{baseLanes:e,cachePool:null,transitions:null}}function G2(e,t,r){var n=t.pendingProps,a=_t.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ht(_t,a&1),e===null)return Jv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hp(o,n,0,null),e=To(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ay(r),t.memoizedState=sy,e):jj(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return J3(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ki(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ki(l,i):(i=To(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ay(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=sy,n}return i=e.child,e=i.sibling,n=ki(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jj(e,t){return t=hp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ph(e,t,r,n){return n!==null&&ij(n),lc(t,e.child,null,r),e=jj(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function J3(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=jg(Error(ie(422))),Ph(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=hp({mode:"visible",children:n.children},a,0,null),i=To(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&lc(t,e.child,null,o),t.child.memoizedState=ay(o),t.memoizedState=sy,i);if(!(t.mode&1))return Ph(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ie(419)),n=jg(i,n,void 0),Ph(e,t,o,n)}if(l=(o&e.childLanes)!==0,sn||l){if(n=mr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Aa(e,a),ks(n,e,a,-1))}return Cj(),n=jg(Error(ie(421))),Ph(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=uF.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Pn=wi(a.nextSibling),En=t,wt=!0,vs=null,e!==null&&(Un[Kn++]=pa,Un[Kn++]=xa,Un[Kn++]=Fo,pa=e.id,xa=e.overflow,Fo=t),t=jj(t,n.children),t.flags|=4096,t)}function P1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qv(e.return,t,r)}function wg(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function X2(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Kr(e,t,n.children,r),n=_t.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P1(e,r,t);else if(e.tag===19)P1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ht(_t,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Hf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),wg(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Hf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}wg(t,!0,r,null,i);break;case"together":wg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Oa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,r=ki(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ki(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Q3(e,t,r){switch(t.tag){case 3:Y2(t),oc();break;case 5:b2(t);break;case 1:cn(t.type)&&Bf(t);break;case 4:hj(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ht(Uf,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ht(_t,_t.current&1),t.flags|=128,null):r&t.child.childLanes?G2(e,t,r):(ht(_t,_t.current&1),e=Oa(e,t,r),e!==null?e.sibling:null);ht(_t,_t.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return X2(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ht(_t,_t.current),n)break;return null;case 22:case 23:return t.lanes=0,H2(e,t,r)}return Oa(e,t,r)}var J2,iy,Q2,Z2;J2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};iy=function(){};Q2=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,No(Hs.current);var i=null;switch(r){case"input":a=_v(e,a),n=_v(e,n),i=[];break;case"select":a=Mt({},a,{value:void 0}),n=Mt({},n,{value:void 0}),i=[];break;case"textarea":a=Ov(e,a),n=Ov(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lf)}Dv(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Yu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a?.[d],n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Yu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&mt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Z2=function(e,t,r,n){r!==n&&(t.flags|=4)};function cu(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Z3(e,t,r){var n=t.pendingProps;switch(aj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(t),null;case 1:return cn(t.type)&&Ff(),Mr(t),null;case 3:return n=t.stateNode,cc(),xt(ln),xt(Br),mj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vs!==null&&(my(vs),vs=null))),iy(e,t),Mr(t),null;case 5:fj(t);var a=No(id.current);if(r=t.type,e!==null&&t.stateNode!=null)Q2(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ie(166));return Mr(t),null}if(e=No(Hs.current),kh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Bs]=t,n[sd]=i,e=(t.mode&1)!==0,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(a=0;a<Cu.length;a++)mt(Cu[a],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":RN(n,i),mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},mt("invalid",n);break;case"textarea":LN(n,i),mt("invalid",n)}Dv(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Sh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Sh(n.textContent,l,e),a=["children",""+l]):Yu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&mt("scroll",n)}switch(r){case"input":xh(n),$N(n,i,!0);break;case"textarea":xh(n),FN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Lf)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Bs]=t,e[sd]=n,J2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Mv(r,n),r){case"dialog":mt("cancel",e),mt("close",e),a=n;break;case"iframe":case"object":case"embed":mt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Cu.length;a++)mt(Cu[a],e);a=n;break;case"source":mt("error",e),a=n;break;case"img":case"image":case"link":mt("error",e),mt("load",e),a=n;break;case"details":mt("toggle",e),a=n;break;case"input":RN(e,n),a=_v(e,n),mt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Mt({},n,{value:void 0}),mt("invalid",e);break;case"textarea":LN(e,n),a=Ov(e,n),mt("invalid",e);break;default:a=n}Dv(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?A_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&__(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Gu(e,c):typeof c=="number"&&Gu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&mt("scroll",e):c!=null&&K0(e,i,c,o))}switch(r){case"input":xh(e),$N(e,n,!1);break;case"textarea":xh(e),FN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ti(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Hl(e,!!n.multiple,i,!1):n.defaultValue!=null&&Hl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Lf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mr(t),null;case 6:if(e&&t.stateNode!=null)Z2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ie(166));if(r=No(id.current),No(Hs.current),kh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Bs]=t,(i=n.nodeValue!==r)&&(e=En,e!==null))switch(e.tag){case 3:Sh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bs]=t,t.stateNode=n}return Mr(t),null;case 13:if(xt(_t),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Pn!==null&&t.mode&1&&!(t.flags&128))g2(),oc(),t.flags|=98560,i=!1;else if(i=kh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[Bs]=t}else oc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mr(t),i=!1}else vs!==null&&(my(vs),vs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_t.current&1?nr===0&&(nr=3):Cj())),t.updateQueue!==null&&(t.flags|=4),Mr(t),null);case 4:return cc(),iy(e,t),e===null&&rd(t.stateNode.containerInfo),Mr(t),null;case 10:return cj(t.type._context),Mr(t),null;case 17:return cn(t.type)&&Ff(),Mr(t),null;case 19:if(xt(_t),i=t.memoizedState,i===null)return Mr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)cu(i,!1);else{if(nr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Hf(e),o!==null){for(t.flags|=128,cu(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ht(_t,_t.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ut()>dc&&(t.flags|=128,n=!0,cu(i,!1),t.lanes=4194304)}else{if(!n)if(e=Hf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),cu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!wt)return Mr(t),null}else 2*Ut()-i.renderingStartTime>dc&&r!==1073741824&&(t.flags|=128,n=!0,cu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,r=_t.current,ht(_t,n?r&1|2:r&1),t):(Mr(t),null);case 22:case 23:return kj(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wn&1073741824&&(Mr(t),t.subtreeFlags&6&&(t.flags|=8192)):Mr(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function eF(e,t){switch(aj(t),t.tag){case 1:return cn(t.type)&&Ff(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cc(),xt(ln),xt(Br),mj(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fj(t),null;case 13:if(xt(_t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));oc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xt(_t),null;case 4:return cc(),null;case 10:return cj(t.type._context),null;case 22:case 23:return kj(),null;case 24:return null;default:return null}}var _h=!1,$r=!1,tF=typeof WeakSet=="function"?WeakSet:Set,he=null;function Bl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(e,t,n)}else r.current=null}function oy(e,t,r){try{r()}catch(n){Rt(e,t,n)}}var _1=!1;function rF(e,t){if(Kv=If,e=s2(),nj(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vv={focusedElem:e,selectionRange:r},If=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,g=v.memoizedState,y=t.stateNode,j=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:ps(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(b){Rt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return v=_1,_1=!1,v}function Fu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&oy(t,r,i)}a=a.next}while(a!==n)}}function up(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ly(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function eE(e){var t=e.alternate;t!==null&&(e.alternate=null,eE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bs],delete t[sd],delete t[Yv],delete t[L3],delete t[F3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tE(e){return e.tag===5||e.tag===3||e.tag===4}function E1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lf));else if(n!==4&&(e=e.child,e!==null))for(cy(e,t,r),e=e.sibling;e!==null;)cy(e,t,r),e=e.sibling}function uy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uy(e,t,r),e=e.sibling;e!==null;)uy(e,t,r),e=e.sibling}var Nr=null,xs=!1;function ei(e,t,r){for(r=r.child;r!==null;)rE(e,t,r),r=r.sibling}function rE(e,t,r){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(rp,r)}catch{}switch(r.tag){case 5:$r||Bl(r,t);case 6:var n=Nr,a=xs;Nr=null,ei(e,t,r),Nr=n,xs=a,Nr!==null&&(xs?(e=Nr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nr.removeChild(r.stateNode));break;case 18:Nr!==null&&(xs?(e=Nr,r=r.stateNode,e.nodeType===8?mg(e.parentNode,r):e.nodeType===1&&mg(e,r),Zu(e)):mg(Nr,r.stateNode));break;case 4:n=Nr,a=xs,Nr=r.stateNode.containerInfo,xs=!0,ei(e,t,r),Nr=n,xs=a;break;case 0:case 11:case 14:case 15:if(!$r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&oy(r,t,o),a=a.next}while(a!==n)}ei(e,t,r);break;case 1:if(!$r&&(Bl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Rt(r,t,l)}ei(e,t,r);break;case 21:ei(e,t,r);break;case 22:r.mode&1?($r=(n=$r)||r.memoizedState!==null,ei(e,t,r),$r=n):ei(e,t,r);break;default:ei(e,t,r)}}function A1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tF),t.forEach(function(n){var a=dF.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ds(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Nr=l.stateNode,xs=!1;break e;case 3:Nr=l.stateNode.containerInfo,xs=!0;break e;case 4:Nr=l.stateNode.containerInfo,xs=!0;break e}l=l.return}if(Nr===null)throw Error(ie(160));rE(i,o,a),Nr=null,xs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Rt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nE(t,e),t=t.sibling}function nE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ds(t,e),Is(e),n&4){try{Fu(3,e,e.return),up(3,e)}catch(x){Rt(e,e.return,x)}try{Fu(5,e,e.return)}catch(x){Rt(e,e.return,x)}}break;case 1:ds(t,e),Is(e),n&512&&r!==null&&Bl(r,r.return);break;case 5:if(ds(t,e),Is(e),n&512&&r!==null&&Bl(r,r.return),e.flags&32){var a=e.stateNode;try{Gu(a,"")}catch(x){Rt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&k_(a,i),Mv(l,o);var d=Mv(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?A_(a,h):u==="dangerouslySetInnerHTML"?__(a,h):u==="children"?Gu(a,h):K0(a,u,h,d)}switch(l){case"input":Ev(a,i);break;case"textarea":C_(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Hl(a,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?Hl(a,!!i.multiple,i.defaultValue,!0):Hl(a,!!i.multiple,i.multiple?[]:"",!1))}a[sd]=i}catch(x){Rt(e,e.return,x)}}break;case 6:if(ds(t,e),Is(e),n&4){if(e.stateNode===null)throw Error(ie(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){Rt(e,e.return,x)}}break;case 3:if(ds(t,e),Is(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zu(t.containerInfo)}catch(x){Rt(e,e.return,x)}break;case 4:ds(t,e),Is(e);break;case 13:ds(t,e),Is(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Nj=Ut())),n&4&&A1(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?($r=(d=$r)||u,ds(t,e),$r=d):ds(t,e),Is(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(he=e,u=e.child;u!==null;){for(h=he=u;he!==null;){switch(m=he,f=m.child,m.tag){case 0:case 11:case 14:case 15:Fu(4,m,m.return);break;case 1:Bl(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){Rt(n,r,x)}}break;case 5:Bl(m,m.return);break;case 22:if(m.memoizedState!==null){T1(h);continue}}f!==null?(f.return=m,he=f):T1(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=E_("display",o))}catch(x){Rt(e,e.return,x)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(x){Rt(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ds(t,e),Is(e),n&4&&A1(e);break;case 21:break;default:ds(t,e),Is(e)}}function Is(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tE(r)){var n=r;break e}r=r.return}throw Error(ie(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Gu(a,""),n.flags&=-33);var i=E1(e);uy(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=E1(e);cy(e,l,o);break;default:throw Error(ie(161))}}catch(c){Rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nF(e,t,r){he=e,sE(e)}function sE(e,t,r){for(var n=(e.mode&1)!==0;he!==null;){var a=he,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||_h;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||$r;l=_h;var d=$r;if(_h=o,($r=c)&&!d)for(he=a;he!==null;)o=he,c=o.child,o.tag===22&&o.memoizedState!==null?D1(a):c!==null?(c.return=o,he=c):D1(a);for(;i!==null;)he=i,sE(i),i=i.sibling;he=a,_h=l,$r=d}O1(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,he=i):O1(e)}}function O1(e){for(;he!==null;){var t=he;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$r||up(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$r)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ps(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&p1(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}p1(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Zu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}$r||t.flags&512&&ly(t)}catch(m){Rt(t,t.return,m)}}if(t===e){he=null;break}if(r=t.sibling,r!==null){r.return=t.return,he=r;break}he=t.return}}function T1(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var r=t.sibling;if(r!==null){r.return=t.return,he=r;break}he=t.return}}function D1(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{up(4,t)}catch(c){Rt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Rt(t,a,c)}}var i=t.return;try{ly(t)}catch(c){Rt(t,i,c)}break;case 5:var o=t.return;try{ly(t)}catch(c){Rt(t,o,c)}}}catch(c){Rt(t,t.return,c)}if(t===e){he=null;break}var l=t.sibling;if(l!==null){l.return=t.return,he=l;break}he=t.return}}var sF=Math.ceil,Gf=Ba.ReactCurrentDispatcher,wj=Ba.ReactCurrentOwner,Xn=Ba.ReactCurrentBatchConfig,He=0,mr=null,Yt=null,_r=0,wn=0,zl=Ui(0),nr=0,ud=null,zo=0,dp=0,bj=0,Bu=null,tn=null,Nj=0,dc=1/0,la=null,Xf=!1,dy=null,Ni=null,Eh=!1,pi=null,Jf=0,zu=0,hy=null,vf=-1,yf=0;function Yr(){return He&6?Ut():vf!==-1?vf:vf=Ut()}function Si(e){return e.mode&1?He&2&&_r!==0?_r&-_r:z3.transition!==null?(yf===0&&(yf=W_()),yf):(e=tt,e!==0||(e=window.event,e=e===void 0?16:G_(e.type)),e):1}function ks(e,t,r,n){if(50<zu)throw zu=0,hy=null,Error(ie(185));Od(e,r,n),(!(He&2)||e!==mr)&&(e===mr&&(!(He&2)&&(dp|=r),nr===4&&di(e,_r)),un(e,n),r===1&&He===0&&!(t.mode&1)&&(dc=Ut()+500,op&&Ki()))}function un(e,t){var r=e.callbackNode;zL(e,t);var n=Mf(e,e===mr?_r:0);if(n===0)r!==null&&WN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&WN(r),t===1)e.tag===0?B3(M1.bind(null,e)):m2(M1.bind(null,e)),R3(function(){!(He&6)&&Ki()}),r=null;else{switch(U_(n)){case 1:r=G0;break;case 4:r=B_;break;case 16:r=Df;break;case 536870912:r=z_;break;default:r=Df}r=hE(r,aE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function aE(e,t){if(vf=-1,yf=0,He&6)throw Error(ie(327));var r=e.callbackNode;if(Jl()&&e.callbackNode!==r)return null;var n=Mf(e,e===mr?_r:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qf(e,n);else{t=n;var a=He;He|=2;var i=oE();(mr!==e||_r!==t)&&(la=null,dc=Ut()+500,Oo(e,t));do try{oF();break}catch(l){iE(e,l)}while(1);lj(),Gf.current=i,He=a,Yt!==null?t=0:(mr=null,_r=0,t=nr)}if(t!==0){if(t===2&&(a=Fv(e),a!==0&&(n=a,t=fy(e,a))),t===1)throw r=ud,Oo(e,0),di(e,n),un(e,Ut()),r;if(t===6)di(e,n);else{if(a=e.current.alternate,!(n&30)&&!aF(a)&&(t=Qf(e,n),t===2&&(i=Fv(e),i!==0&&(n=i,t=fy(e,i))),t===1))throw r=ud,Oo(e,0),di(e,n),un(e,Ut()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ie(345));case 2:fo(e,tn,la);break;case 3:if(di(e,n),(n&130023424)===n&&(t=Nj+500-Ut(),10<t)){if(Mf(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qv(fo.bind(null,e,tn,la),t);break}fo(e,tn,la);break;case 4:if(di(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ss(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sF(n/1960))-n,10<n){e.timeoutHandle=qv(fo.bind(null,e,tn,la),n);break}fo(e,tn,la);break;case 5:fo(e,tn,la);break;default:throw Error(ie(329))}}}return un(e,Ut()),e.callbackNode===r?aE.bind(null,e):null}function fy(e,t){var r=Bu;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=Qf(e,t),e!==2&&(t=tn,tn=r,t!==null&&my(t)),e}function my(e){tn===null?tn=e:tn.push.apply(tn,e)}function aF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Cs(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function di(e,t){for(t&=~bj,t&=~dp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ss(t),n=1<<r;e[r]=-1,t&=~n}}function M1(e){if(He&6)throw Error(ie(327));Jl();var t=Mf(e,0);if(!(t&1))return un(e,Ut()),null;var r=Qf(e,t);if(e.tag!==0&&r===2){var n=Fv(e);n!==0&&(t=n,r=fy(e,n))}if(r===1)throw r=ud,Oo(e,0),di(e,t),un(e,Ut()),r;if(r===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fo(e,tn,la),un(e,Ut()),null}function Sj(e,t){var r=He;He|=1;try{return e(t)}finally{He=r,He===0&&(dc=Ut()+500,op&&Ki())}}function Wo(e){pi!==null&&pi.tag===0&&!(He&6)&&Jl();var t=He;He|=1;var r=Xn.transition,n=tt;try{if(Xn.transition=null,tt=1,e)return e()}finally{tt=n,Xn.transition=r,He=t,!(He&6)&&Ki()}}function kj(){wn=zl.current,xt(zl)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,I3(r)),Yt!==null)for(r=Yt.return;r!==null;){var n=r;switch(aj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ff();break;case 3:cc(),xt(ln),xt(Br),mj();break;case 5:fj(n);break;case 4:cc();break;case 13:xt(_t);break;case 19:xt(_t);break;case 10:cj(n.type._context);break;case 22:case 23:kj()}r=r.return}if(mr=e,Yt=e=ki(e.current,null),_r=wn=t,nr=0,ud=null,bj=dp=zo=0,tn=Bu=null,bo!==null){for(t=0;t<bo.length;t++)if(r=bo[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}bo=null}return e}function iE(e,t){do{var r=Yt;try{if(lj(),pf.current=Yf,qf){for(var n=Ot.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}qf=!1}if(Bo=0,ur=tr=Ot=null,Lu=!1,od=0,wj.current=null,r===null||r.return===null){nr=1,ud=t,Yt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=_r,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=w1(o);if(f!==null){f.flags&=-257,b1(f,o,l,i,t),f.mode&1&&j1(i,d,t),t=f,c=d;var v=t.updateQueue;if(v===null){var x=new Set;x.add(c),t.updateQueue=x}else v.add(c);break e}else{if(!(t&1)){j1(i,d,t),Cj();break e}c=Error(ie(426))}}else if(wt&&l.mode&1){var g=w1(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),b1(g,o,l,i,t),ij(uc(c,l));break e}}i=c=uc(c,l),nr!==4&&(nr=2),Bu===null?Bu=[i]:Bu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=U2(i,c,t);m1(i,y);break e;case 1:l=c;var j=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof j.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ni===null||!Ni.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=K2(i,l,t);m1(i,b);break e}}i=i.return}while(i!==null)}cE(r)}catch(N){t=N,Yt===r&&r!==null&&(Yt=r=r.return);continue}break}while(1)}function oE(){var e=Gf.current;return Gf.current=Yf,e===null?Yf:e}function Cj(){(nr===0||nr===3||nr===2)&&(nr=4),mr===null||!(zo&268435455)&&!(dp&268435455)||di(mr,_r)}function Qf(e,t){var r=He;He|=2;var n=oE();(mr!==e||_r!==t)&&(la=null,Oo(e,t));do try{iF();break}catch(a){iE(e,a)}while(1);if(lj(),He=r,Gf.current=n,Yt!==null)throw Error(ie(261));return mr=null,_r=0,nr}function iF(){for(;Yt!==null;)lE(Yt)}function oF(){for(;Yt!==null&&!TL();)lE(Yt)}function lE(e){var t=dE(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?cE(e):Yt=t,wj.current=null}function cE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eF(r,t),r!==null){r.flags&=32767,Yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nr=6,Yt=null;return}}else if(r=Z3(r,t,wn),r!==null){Yt=r;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);nr===0&&(nr=5)}function fo(e,t,r){var n=tt,a=Xn.transition;try{Xn.transition=null,tt=1,lF(e,t,r,n)}finally{Xn.transition=a,tt=n}return null}function lF(e,t,r,n){do Jl();while(pi!==null);if(He&6)throw Error(ie(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(WL(e,i),e===mr&&(Yt=mr=null,_r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Eh||(Eh=!0,hE(Df,function(){return Jl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Xn.transition,Xn.transition=null;var o=tt;tt=1;var l=He;He|=4,wj.current=null,rF(e,r),nE(r,e),_3(Vv),If=!!Kv,Vv=Kv=null,e.current=r,nF(r),DL(),He=l,tt=o,Xn.transition=i}else e.current=r;if(Eh&&(Eh=!1,pi=e,Jf=a),i=e.pendingLanes,i===0&&(Ni=null),RL(r.stateNode),un(e,Ut()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Xf)throw Xf=!1,e=dy,dy=null,e;return Jf&1&&e.tag!==0&&Jl(),i=e.pendingLanes,i&1?e===hy?zu++:(zu=0,hy=e):zu=0,Ki(),null}function Jl(){if(pi!==null){var e=U_(Jf),t=Xn.transition,r=tt;try{if(Xn.transition=null,tt=16>e?16:e,pi===null)var n=!1;else{if(e=pi,pi=null,Jf=0,He&6)throw Error(ie(331));var a=He;for(He|=4,he=e.current;he!==null;){var i=he,o=i.child;if(he.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(he=d;he!==null;){var u=he;switch(u.tag){case 0:case 11:case 15:Fu(8,u,i)}var h=u.child;if(h!==null)h.return=u,he=h;else for(;he!==null;){u=he;var m=u.sibling,f=u.return;if(eE(u),u===d){he=null;break}if(m!==null){m.return=f,he=m;break}he=f}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(x!==null)}}he=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,he=o;else e:for(;he!==null;){if(i=he,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fu(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,he=y;break e}he=i.return}}var j=e.current;for(he=j;he!==null;){o=he;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,he=w;else e:for(o=j;he!==null;){if(l=he,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:up(9,l)}}catch(N){Rt(l,l.return,N)}if(l===o){he=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,he=b;break e}he=l.return}}if(He=a,Ki(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(rp,e)}catch{}n=!0}return n}finally{tt=r,Xn.transition=t}}return!1}function I1(e,t,r){t=uc(r,t),t=U2(e,t,1),e=bi(e,t,1),t=Yr(),e!==null&&(Od(e,1,t),un(e,t))}function Rt(e,t,r){if(e.tag===3)I1(e,e,r);else for(;t!==null;){if(t.tag===3){I1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ni===null||!Ni.has(n))){e=uc(r,e),e=K2(t,e,1),t=bi(t,e,1),e=Yr(),t!==null&&(Od(t,1,e),un(t,e));break}}t=t.return}}function cF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yr(),e.pingedLanes|=e.suspendedLanes&r,mr===e&&(_r&r)===r&&(nr===4||nr===3&&(_r&130023424)===_r&&500>Ut()-Nj?Oo(e,0):bj|=r),un(e,t)}function uE(e,t){t===0&&(e.mode&1?(t=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):t=1);var r=Yr();e=Aa(e,t),e!==null&&(Od(e,t,r),un(e,r))}function uF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uE(e,r)}function dF(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ie(314))}n!==null&&n.delete(t),uE(e,r)}var dE;dE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)sn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sn=!1,Q3(e,t,r);sn=!!(e.flags&131072)}else sn=!1,wt&&t.flags&1048576&&p2(t,Wf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gf(e,t),e=t.pendingProps;var a=ic(t,Br.current);Xl(t,r),a=xj(null,t,n,e,a,r);var i=gj();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(n)?(i=!0,Bf(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,dj(t),a.updater=cp,t.stateNode=a,a._reactInternals=t,ey(t,n,e,r),t=ny(null,t,n,!0,i,r)):(t.tag=0,wt&&i&&sj(t),Kr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=fF(n),e=ps(n,e),a){case 0:t=ry(null,t,n,e,r);break e;case 1:t=k1(null,t,n,e,r);break e;case 11:t=N1(null,t,n,e,r);break e;case 14:t=S1(null,t,n,ps(n.type,e),r);break e}throw Error(ie(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ps(n,a),ry(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ps(n,a),k1(e,t,n,a,r);case 3:e:{if(Y2(t),e===null)throw Error(ie(387));n=t.pendingProps,i=t.memoizedState,a=i.element,w2(e,t),Vf(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=uc(Error(ie(423)),t),t=C1(e,t,n,r,a);break e}else if(n!==a){a=uc(Error(ie(424)),t),t=C1(e,t,n,r,a);break e}else for(Pn=wi(t.stateNode.containerInfo.firstChild),En=t,wt=!0,vs=null,r=y2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oc(),n===a){t=Oa(e,t,r);break e}Kr(e,t,n,r)}t=t.child}return t;case 5:return b2(t),e===null&&Jv(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Hv(n,a)?o=null:i!==null&&Hv(n,i)&&(t.flags|=32),q2(e,t),Kr(e,t,o,r),t.child;case 6:return e===null&&Jv(t),null;case 13:return G2(e,t,r);case 4:return hj(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lc(t,null,n,r):Kr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ps(n,a),N1(e,t,n,a,r);case 7:return Kr(e,t,t.pendingProps,r),t.child;case 8:return Kr(e,t,t.pendingProps.children,r),t.child;case 12:return Kr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ht(Uf,n._currentValue),n._currentValue=o,i!==null)if(Cs(i.value,o)){if(i.children===a.children&&!ln.current){t=Oa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Na(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Qv(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ie(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Qv(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Kr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Xl(t,r),a=Zn(a),n=n(a),t.flags|=1,Kr(e,t,n,r),t.child;case 14:return n=t.type,a=ps(n,t.pendingProps),a=ps(n.type,a),S1(e,t,n,a,r);case 15:return V2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ps(n,a),gf(e,t),t.tag=1,cn(n)?(e=!0,Bf(t)):e=!1,Xl(t,r),W2(t,n,a),ey(t,n,a,r),ny(null,t,n,!0,e,r);case 19:return X2(e,t,r);case 22:return H2(e,t,r)}throw Error(ie(156,t.tag))};function hE(e,t){return F_(e,t)}function hF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,t,r,n){return new hF(e,t,r,n)}function Pj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fF(e){if(typeof e=="function")return Pj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===H0)return 11;if(e===q0)return 14}return 2}function ki(e,t){var r=e.alternate;return r===null?(r=qn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jf(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Pj(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ol:return To(r.children,a,i,t);case V0:o=8,a|=8;break;case Sv:return e=qn(12,r,t,a|2),e.elementType=Sv,e.lanes=i,e;case kv:return e=qn(13,r,t,a),e.elementType=kv,e.lanes=i,e;case Cv:return e=qn(19,r,t,a),e.elementType=Cv,e.lanes=i,e;case b_:return hp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j_:o=10;break e;case w_:o=9;break e;case H0:o=11;break e;case q0:o=14;break e;case ii:o=16,n=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=qn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function To(e,t,r,n){return e=qn(7,e,n,t),e.lanes=r,e}function hp(e,t,r,n){return e=qn(22,e,n,t),e.elementType=b_,e.lanes=r,e.stateNode={isHidden:!1},e}function bg(e,t,r){return e=qn(6,e,null,t),e.lanes=r,e}function Ng(e,t,r){return t=qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mF(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ng(0),this.expirationTimes=ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ng(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _j(e,t,r,n,a,i,o,l,c){return e=new mF(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dj(i),e}function pF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Al,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function fE(e){if(!e)return Di;e=e._reactInternals;e:{if(sl(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var r=e.type;if(cn(r))return f2(e,r,t)}return t}function mE(e,t,r,n,a,i,o,l,c){return e=_j(r,n,!0,e,a,i,o,l,c),e.context=fE(null),r=e.current,n=Yr(),a=Si(r),i=Na(n,a),i.callback=t??null,bi(r,i,a),e.current.lanes=a,Od(e,a,n),un(e,n),e}function fp(e,t,r,n){var a=t.current,i=Yr(),o=Si(a);return r=fE(r),t.context===null?t.context=r:t.pendingContext=r,t=Na(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=bi(a,t,o),e!==null&&(ks(e,a,o,i),mf(e,a,o)),o}function Zf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ej(e,t){R1(e,t),(e=e.alternate)&&R1(e,t)}function xF(){return null}var pE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Aj(e){this._internalRoot=e}mp.prototype.render=Aj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));fp(e,t,null,null)};mp.prototype.unmount=Aj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wo(function(){fp(null,e,null,null)}),t[Ea]=null}};function mp(e){this._internalRoot=e}mp.prototype.unstable_scheduleHydration=function(e){if(e){var t=H_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ui.length&&t!==0&&t<ui[r].priority;r++);ui.splice(r,0,e),r===0&&Y_(e)}};function Oj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $1(){}function gF(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Zf(o);i.call(d)}}var o=mE(t,n,e,0,null,!1,!1,"",$1);return e._reactRootContainer=o,e[Ea]=o.current,rd(e.nodeType===8?e.parentNode:e),Wo(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Zf(c);l.call(d)}}var c=_j(e,0,!1,null,null,!1,!1,"",$1);return e._reactRootContainer=c,e[Ea]=c.current,rd(e.nodeType===8?e.parentNode:e),Wo(function(){fp(t,c,r,n)}),c}function xp(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Zf(o);l.call(c)}}fp(t,o,e,a)}else o=gF(r,t,e,a,n);return Zf(o)}K_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ku(t.pendingLanes);r!==0&&(X0(t,r|1),un(t,Ut()),!(He&6)&&(dc=Ut()+500,Ki()))}break;case 13:Wo(function(){var n=Aa(e,1);if(n!==null){var a=Yr();ks(n,e,1,a)}}),Ej(e,1)}};J0=function(e){if(e.tag===13){var t=Aa(e,134217728);if(t!==null){var r=Yr();ks(t,e,134217728,r)}Ej(e,134217728)}};V_=function(e){if(e.tag===13){var t=Si(e),r=Aa(e,t);if(r!==null){var n=Yr();ks(r,e,t,n)}Ej(e,t)}};H_=function(){return tt};q_=function(e,t){var r=tt;try{return tt=e,t()}finally{tt=r}};Rv=function(e,t,r){switch(t){case"input":if(Ev(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ip(n);if(!a)throw Error(ie(90));S_(n),Ev(n,a)}}}break;case"textarea":C_(e,r);break;case"select":t=r.value,t!=null&&Hl(e,!!r.multiple,t,!1)}};D_=Sj;M_=Wo;var vF={usingClientEntryPoint:!1,Events:[Dd,Il,ip,O_,T_,Sj]},uu={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yF={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ba.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$_(e),e===null?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||xF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{rp=Ah.inject(yF),Vs=Ah}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vF;Rn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oj(t))throw Error(ie(200));return pF(e,t,null,r)};Rn.createRoot=function(e,t){if(!Oj(e))throw Error(ie(299));var r=!1,n="",a=pE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=_j(e,1,!1,null,null,r,!1,n,a),e[Ea]=t.current,rd(e.nodeType===8?e.parentNode:e),new Aj(t)};Rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=$_(t),e=e===null?null:e.stateNode,e};Rn.flushSync=function(e){return Wo(e)};Rn.hydrate=function(e,t,r){if(!pp(t))throw Error(ie(200));return xp(null,e,t,!0,r)};Rn.hydrateRoot=function(e,t,r){if(!Oj(e))throw Error(ie(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=pE;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=mE(t,null,e,1,r??null,a,!1,i,o),e[Ea]=t.current,rd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new mp(t)};Rn.render=function(e,t,r){if(!pp(t))throw Error(ie(200));return xp(null,e,t,!1,r)};Rn.unmountComponentAtNode=function(e){if(!pp(e))throw Error(ie(40));return e._reactRootContainer?(Wo(function(){xp(null,null,e,!1,function(){e._reactRootContainer=null,e[Ea]=null})}),!0):!1};Rn.unstable_batchedUpdates=Sj;Rn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!pp(r))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return xp(e,t,r,!1,n)};Rn.version="18.3.1-next-f1338f8080-20240426";function xE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xE)}catch(e){console.error(e)}}xE(),x_.exports=Rn;var Vi=x_.exports;const gE=ra(Vi);var vE,L1=Vi;vE=L1.createRoot,L1.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>p.createElement("svg",{ref:u,...jF,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${wF(e)}`,l].join(" "),...d},[...t.map(([h,m])=>p.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ue("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ue("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ue("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ue("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ue("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ue("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ue("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ue("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ue("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=ue("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ue("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ue("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ue("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ue("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ue("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=ue("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ue("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ue("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ue("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ue("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=ue("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function K1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kE(...e){return t=>{let r=!1;const n=e.map(a=>{const i=K1(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():K1(e[a],null)}}}}function Ke(...e){return p.useCallback(kE(...e),e)}function Vo(e){const t=$F(e),r=p.forwardRef((n,a)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(FF);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var CE=Vo("Slot");function $F(e){const t=p.forwardRef((r,n)=>{const{children:a,...i}=r;if(p.isValidElement(a)){const o=zF(a),l=BF(i,a.props);return a.type!==p.Fragment&&(l.ref=n?kE(n,o):o),p.cloneElement(a,l)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PE=Symbol("radix.slottable");function LF(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=PE,t}function FF(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PE}function BF(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function zF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _E(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=_E(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ve(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=_E(e))&&(n&&(n+=" "),n+=t);return n}const V1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,H1=Ve,Rj=(e,t)=>r=>{var n;if(t?.variants==null)return H1(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r?.[d],h=i?.[d];if(u===null)return null;const m=V1(u)||V1(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...f}=u;return Object.entries(f).every(v=>{let[x,g]=v;return Array.isArray(g)?g.includes({...i,...l}[x]):{...i,...l}[x]===g})?[...d,h,m]:d},[]);return H1(e,o,c,r?.class,r?.className)},$j="-",WF=e=>{const t=KF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split($j);return l[0]===""&&l.length!==1&&l.shift(),EE(l,t)||UF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},EE=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?EE(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join($j);return t.validators.find(({validator:o})=>o(i))?.classGroupId},q1=/^\[(.+)\]$/,UF=e=>{if(q1.test(e)){const t=q1.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},KF=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)py(r[a],n,a,t);return n},py=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Y1(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(VF(a)){py(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{py(o,Y1(t,i),r,n)})})},Y1=(e,t)=>{let r=e;return t.split($j).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VF=e=>e.isThemeGetter,HF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},xy="!",gy=":",qF=gy.length,YF=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,d;for(let v=0;v<a.length;v++){let x=a[v];if(o===0&&l===0){if(x===gy){i.push(a.slice(c,v)),c=v+qF;continue}if(x==="/"){d=v;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const u=i.length===0?a:a.substring(c),h=GF(u),m=h!==u,f=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:f}};if(t){const a=t+gy,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},GF=e=>e.endsWith(xy)?e.substring(0,e.length-1):e.startsWith(xy)?e.substring(1):e,XF=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},JF=e=>({cache:HF(e.cacheSize),parseClassName:YF(e),sortModifiers:XF(e),...WF(e)}),QF=/\s+/,ZF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(QF);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:h,modifiers:m,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:x}=r(u);if(h){c=u+(c.length>0?" "+c:c);continue}let g=!!x,y=n(g?v.substring(0,x):v);if(!y){if(!g){c=u+(c.length>0?" "+c:c);continue}if(y=n(v),!y){c=u+(c.length>0?" "+c:c);continue}g=!1}const j=i(m).join(":"),w=f?j+xy:j,b=w+y;if(o.includes(b))continue;o.push(b);const N=a(y,g);for(let k=0;k<N.length;++k){const S=N[k];o.push(w+S)}c=u+(c.length>0?" "+c:c)}return c};function e5(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=AE(t))&&(n&&(n+=" "),n+=r);return n}const AE=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=AE(e[n]))&&(r&&(r+=" "),r+=t);return r};function t5(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=JF(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=ZF(c,r);return a(c,u),u}return function(){return i(e5.apply(null,arguments))}}const Zt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},OE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,r5=/^\d+\/\d+$/,n5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,a5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,i5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ml=e=>r5.test(e),ze=e=>!!e&&!Number.isNaN(Number(e)),ti=e=>!!e&&Number.isInteger(Number(e)),Cg=e=>e.endsWith("%")&&ze(e.slice(0,-1)),oa=e=>n5.test(e),l5=()=>!0,c5=e=>s5.test(e)&&!a5.test(e),DE=()=>!1,u5=e=>i5.test(e),d5=e=>o5.test(e),h5=e=>!me(e)&&!pe(e),f5=e=>Dc(e,RE,DE),me=e=>OE.test(e),oo=e=>Dc(e,$E,c5),Pg=e=>Dc(e,v5,ze),G1=e=>Dc(e,ME,DE),m5=e=>Dc(e,IE,d5),Th=e=>Dc(e,LE,u5),pe=e=>TE.test(e),du=e=>Mc(e,$E),p5=e=>Mc(e,y5),X1=e=>Mc(e,ME),x5=e=>Mc(e,RE),g5=e=>Mc(e,IE),Dh=e=>Mc(e,LE,!0),Dc=(e,t,r)=>{const n=OE.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Mc=(e,t,r=!1)=>{const n=TE.exec(e);return n?n[1]?t(n[1]):r:!1},ME=e=>e==="position"||e==="percentage",IE=e=>e==="image"||e==="url",RE=e=>e==="length"||e==="size"||e==="bg-size",$E=e=>e==="length",v5=e=>e==="number",y5=e=>e==="family-name",LE=e=>e==="shadow",j5=()=>{const e=Zt("color"),t=Zt("font"),r=Zt("text"),n=Zt("font-weight"),a=Zt("tracking"),i=Zt("leading"),o=Zt("breakpoint"),l=Zt("container"),c=Zt("spacing"),d=Zt("radius"),u=Zt("shadow"),h=Zt("inset-shadow"),m=Zt("text-shadow"),f=Zt("drop-shadow"),v=Zt("blur"),x=Zt("perspective"),g=Zt("aspect"),y=Zt("ease"),j=Zt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...b(),pe,me],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],C=()=>[pe,me,c],A=()=>[ml,"full","auto",...C()],P=()=>[ti,"none","subgrid",pe,me],D=()=>["auto",{span:["full",ti,pe,me]},ti,pe,me],E=()=>[ti,"auto",pe,me],R=()=>["auto","min","max","fr",pe,me],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...C()],W=()=>[ml,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],_=()=>[e,pe,me],O=()=>[...b(),X1,G1,{position:[pe,me]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",x5,f5,{size:[pe,me]}],X=()=>[Cg,du,oo],ae=()=>["","none","full",d,pe,me],le=()=>["",ze,du,oo],be=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[ze,Cg,X1,G1],Pe=()=>["","none",v,pe,me],$=()=>["none",ze,pe,me],te=()=>["none",ze,pe,me],oe=()=>[ze,pe,me],G=()=>[ml,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[oa],breakpoint:[oa],color:[l5],container:[oa],"drop-shadow":[oa],ease:["in","out","in-out"],font:[h5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[oa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[oa],shadow:[oa],spacing:["px",ze],text:[oa],"text-shadow":[oa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ml,me,pe,g]}],container:["container"],columns:[{columns:[ze,me,pe,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[ti,"auto",pe,me]}],basis:[{basis:[ml,"full","auto",l,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,ml,"auto","initial","none",me]}],grow:[{grow:["",ze,pe,me]}],shrink:[{shrink:["",ze,pe,me]}],order:[{order:[ti,"first","last","none",pe,me]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",r,du,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,pe,Pg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cg,me]}],"font-family":[{font:[p5,me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,pe,me]}],"line-clamp":[{"line-clamp":[ze,"none",pe,Pg]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",pe,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_()}],"text-color":[{text:_()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",pe,oo]}],"text-decoration-color":[{decoration:_()}],"underline-offset":[{"underline-offset":[ze,"auto",pe,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ti,pe,me],radial:["",pe,me],conic:[ti,pe,me]},g5,m5]}],"bg-color":[{bg:_()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:_()}],"gradient-via":[{via:_()}],"gradient-to":[{to:_()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:_()}],"border-color-x":[{"border-x":_()}],"border-color-y":[{"border-y":_()}],"border-color-s":[{"border-s":_()}],"border-color-e":[{"border-e":_()}],"border-color-t":[{"border-t":_()}],"border-color-r":[{"border-r":_()}],"border-color-b":[{"border-b":_()}],"border-color-l":[{"border-l":_()}],"divide-color":[{divide:_()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,pe,me]}],"outline-w":[{outline:["",ze,du,oo]}],"outline-color":[{outline:_()}],shadow:[{shadow:["","none",u,Dh,Th]}],"shadow-color":[{shadow:_()}],"inset-shadow":[{"inset-shadow":["none",h,Dh,Th]}],"inset-shadow-color":[{"inset-shadow":_()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_()}],"ring-offset-w":[{"ring-offset":[ze,oo]}],"ring-offset-color":[{"ring-offset":_()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":_()}],"text-shadow":[{"text-shadow":["none",m,Dh,Th]}],"text-shadow-color":[{"text-shadow":_()}],opacity:[{opacity:[ze,pe,me]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":_()}],"mask-image-linear-to-color":[{"mask-linear-to":_()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":_()}],"mask-image-t-to-color":[{"mask-t-to":_()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":_()}],"mask-image-r-to-color":[{"mask-r-to":_()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":_()}],"mask-image-b-to-color":[{"mask-b-to":_()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":_()}],"mask-image-l-to-color":[{"mask-l-to":_()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":_()}],"mask-image-x-to-color":[{"mask-x-to":_()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":_()}],"mask-image-y-to-color":[{"mask-y-to":_()}],"mask-image-radial":[{"mask-radial":[pe,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":_()}],"mask-image-radial-to-color":[{"mask-radial-to":_()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":_()}],"mask-image-conic-to-color":[{"mask-conic-to":_()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,me]}],filter:[{filter:["","none",pe,me]}],blur:[{blur:Pe()}],brightness:[{brightness:[ze,pe,me]}],contrast:[{contrast:[ze,pe,me]}],"drop-shadow":[{"drop-shadow":["","none",f,Dh,Th]}],"drop-shadow-color":[{"drop-shadow":_()}],grayscale:[{grayscale:["",ze,pe,me]}],"hue-rotate":[{"hue-rotate":[ze,pe,me]}],invert:[{invert:["",ze,pe,me]}],saturate:[{saturate:[ze,pe,me]}],sepia:[{sepia:["",ze,pe,me]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,me]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[ze,pe,me]}],"backdrop-contrast":[{"backdrop-contrast":[ze,pe,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,pe,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,pe,me]}],"backdrop-invert":[{"backdrop-invert":["",ze,pe,me]}],"backdrop-opacity":[{"backdrop-opacity":[ze,pe,me]}],"backdrop-saturate":[{"backdrop-saturate":[ze,pe,me]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,pe,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",pe,me]}],ease:[{ease:["linear","initial",y,pe,me]}],delay:[{delay:[ze,pe,me]}],animate:[{animate:["none",j,pe,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,pe,me]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:$()}],"rotate-x":[{"rotate-x":$()}],"rotate-y":[{"rotate-y":$()}],"rotate-z":[{"rotate-z":$()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:oe()}],"skew-x":[{"skew-x":oe()}],"skew-y":[{"skew-y":oe()}],transform:[{transform:[pe,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:_()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,me]}],fill:[{fill:["none",..._()]}],"stroke-w":[{stroke:[ze,du,oo,Pg]}],stroke:[{stroke:["none",..._()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},w5=t5(j5);function de(...e){return w5(Ve(e))}const hd=Rj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),B=p.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?CE:"button";return s.jsx(o,{"data-slot":"button",className:de(hd({variant:t,size:r,className:e})),ref:i,...a})});B.displayName="Button";function Z({className:e,type:t,...r}){return s.jsx("input",{type:t,"data-slot":"input",className:de("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var b5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=b5.reduce((e,t)=>{const r=Vo(`Primitive.${t}`),n=p.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function N5(e,t){e&&Vi.flushSync(()=>e.dispatchEvent(t))}var S5="Label",FE=p.forwardRef((e,t)=>s.jsx(Ae.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));FE.displayName=S5;var k5=FE;function T({className:e,...t}){return s.jsx(k5,{"data-slot":"label",className:de("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function M({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:de("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function U({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:de("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function K({className:e,...t}){return s.jsx("h4",{"data-slot":"card-title",className:de("leading-none",e),...t})}function _e({className:e,...t}){return s.jsx("p",{"data-slot":"card-description",className:de("text-muted-foreground",e),...t})}function I({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:de("px-6 [&:last-child]:pb-6",e),...t})}function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function C5(e,t){const r=p.createContext(t),n=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ns(e,t=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const d=h=>{const{scope:m,children:f,...v}=h,x=m?.[e]?.[c]||l,g=p.useMemo(()=>v,Object.values(v));return s.jsx(x.Provider,{value:g,children:f})};d.displayName=i+"Provider";function u(h,m){const f=m?.[e]?.[c]||l,v=p.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=l?.[e]||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,P5(a,...t)]}function P5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function BE(e){const t=e+"CollectionProvider",[r,n]=ns(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:y}=x,j=q.useRef(null),w=q.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:w,collectionRef:j,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Vo(l),d=q.forwardRef((x,g)=>{const{scope:y,children:j}=x,w=i(l,y),b=Ke(g,w.collectionRef);return s.jsx(c,{ref:b,children:j})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=Vo(u),f=q.forwardRef((x,g)=>{const{scope:y,children:j,...w}=x,b=q.useRef(null),N=Ke(g,b),k=i(u,y);return q.useEffect(()=>(k.itemMap.set(b,{ref:b,...w}),()=>void k.itemMap.delete(b))),s.jsx(m,{[h]:"",ref:N,children:j})});f.displayName=u;function v(x){const g=i(e+"CollectionConsumer",x);return q.useCallback(()=>{const j=g.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((k,S)=>w.indexOf(k.ref.current)-w.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},v,n]}var Ar=globalThis?.document?p.useLayoutEffect:()=>{},_5=z0[" useId ".trim().toString()]||(()=>{}),E5=0;function Sa(e){const[t,r]=p.useState(_5());return Ar(()=>{e||r(n=>n??String(E5++))},[e]),e||(t?`radix-${t}`:"")}function Hr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>t.current?.(...r),[])}var A5=z0[" useInsertionEffect ".trim().toString()]||Ar;function Ii({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=O5({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=p.useRef(e!==void 0);p.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=p.useCallback(u=>{if(l){const h=T5(u)?u(e):u;h!==e&&o.current?.(h)}else i(u)},[l,e,i,o]);return[c,d]}function O5({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),a=p.useRef(r),i=p.useRef(t);return A5(()=>{i.current=t},[t]),p.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function T5(e){return typeof e=="function"}var D5=p.createContext(void 0);function wp(e){const t=p.useContext(D5);return e||t||"ltr"}var _g="rovingFocusGroup.onEntryFocus",M5={bubbles:!1,cancelable:!0},Rd="RovingFocusGroup",[vy,zE,I5]=BE(Rd),[R5,WE]=ns(Rd,[I5]),[$5,L5]=R5(Rd),UE=p.forwardRef((e,t)=>s.jsx(vy.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(vy.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(F5,{...e,ref:t})})}));UE.displayName=Rd;var F5=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=p.useRef(null),f=Ke(t,m),v=wp(i),[x,g]=Ii({prop:o,defaultProp:l??null,onChange:c,caller:Rd}),[y,j]=p.useState(!1),w=Hr(d),b=zE(r),N=p.useRef(!1),[k,S]=p.useState(0);return p.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(_g,w),()=>C.removeEventListener(_g,w)},[w]),s.jsx($5,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:x,onItemFocus:p.useCallback(C=>g(C),[g]),onItemShiftTab:p.useCallback(()=>j(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>S(C=>C-1),[]),children:s.jsx(Ae.div,{tabIndex:y||k===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{N.current=!0}),onFocus:Ee(e.onFocus,C=>{const A=!N.current;if(C.target===C.currentTarget&&A&&!y){const P=new CustomEvent(_g,M5);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=b().filter(L=>L.focusable),E=D.find(L=>L.active),R=D.find(L=>L.id===x),V=[E,R,...D].filter(Boolean).map(L=>L.ref.current);HE(V,u)}}N.current=!1}),onBlur:Ee(e.onBlur,()=>j(!1))})})}),KE="RovingFocusGroupItem",VE=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Sa(),d=i||c,u=L5(KE,r),h=u.currentTabStopId===d,m=zE(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:x}=u;return p.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),s.jsx(vy.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(Ae.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Ee(e.onMouseDown,g=>{n?u.onItemFocus(d):g.preventDefault()}),onFocus:Ee(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ee(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=W5(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=m().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const b=w.indexOf(g.currentTarget);w=u.loop?U5(w,b+1):w.slice(b+1)}setTimeout(()=>HE(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});VE.displayName=KE;var B5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function W5(e,t,r){const n=z5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return B5[n]}function HE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function U5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var K5=UE,V5=VE;function H5(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var ss=e=>{const{present:t,children:r}=e,n=q5(t),a=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=Ke(n.ref,Y5(a));return typeof r=="function"||n.isPresent?p.cloneElement(a,{ref:i}):null};ss.displayName="Presence";function q5(e){const[t,r]=p.useState(),n=p.useRef(null),a=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=H5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Mh(n.current);i.current=l==="mounted"?d:"none"},[l]),Ar(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,f=Mh(d);e?c("MOUNT"):f==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ar(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=f=>{const x=Mh(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&x&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=f=>{f.target===t&&(i.current=Mh(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Mh(e){return e?.animationName||"none"}function Y5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bp="Tabs",[G5,Ide]=ns(bp,[WE]),qE=WE(),[X5,Lj]=G5(bp),YE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=wp(l),[h,m]=Ii({prop:n,onChange:a,defaultProp:i??"",caller:bp});return s.jsx(X5,{scope:r,baseId:Sa(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(Ae.div,{dir:u,"data-orientation":o,...d,ref:t})})});YE.displayName=bp;var GE="TabsList",XE=p.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Lj(GE,r),o=qE(r);return s.jsx(K5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});XE.displayName=GE;var JE="TabsTrigger",QE=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Lj(JE,r),l=qE(r),c=tA(o.baseId,n),d=rA(o.baseId,n),u=n===o.value;return s.jsx(V5,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Ae.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ee(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ee(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});QE.displayName=JE;var ZE="TabsContent",eA=p.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Lj(ZE,r),c=tA(l.baseId,n),d=rA(l.baseId,n),u=n===l.value,h=p.useRef(u);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(ss,{present:a||u,children:({present:m})=>s.jsx(Ae.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});eA.displayName=ZE;function tA(e,t){return`${e}-trigger-${t}`}function rA(e,t){return`${e}-content-${t}`}var J5=YE,Q5=XE,Z5=QE,eB=eA;function mn({className:e,...t}){return s.jsx(J5,{"data-slot":"tabs",className:de("flex flex-col gap-2",e),...t})}function pn({className:e,...t}){return s.jsx(Q5,{"data-slot":"tabs-list",className:de("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Se({className:e,...t}){return s.jsx(Z5,{"data-slot":"tabs-trigger",className:de("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function ke({className:e,...t}){return s.jsx(eB,{"data-slot":"tabs-content",className:de("flex-1 outline-none",e),...t})}const tB=Rj("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Np({className:e,variant:t,...r}){return s.jsx("div",{"data-slot":"alert",role:"alert",className:de(tB({variant:t}),e),...r})}function Sp({className:e,...t}){return s.jsx("div",{"data-slot":"alert-description",className:de("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function yy(e,[t,r]){return Math.min(r,Math.max(t,e))}function rB(e,t=globalThis?.document){const r=Hr(e);p.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var nB="DismissableLayer",jy="dismissableLayer.update",sB="dismissableLayer.pointerDownOutside",aB="dismissableLayer.focusOutside",J1,nA=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kp=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=p.useContext(nA),[u,h]=p.useState(null),m=u?.ownerDocument??globalThis?.document,[,f]=p.useState({}),v=Ke(t,S=>h(S)),x=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(g),j=u?x.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=j>=y,N=lB(S=>{const C=S.target,A=[...d.branches].some(P=>P.contains(C));!b||A||(a?.(S),o?.(S),S.defaultPrevented||l?.())},m),k=cB(S=>{const C=S.target;[...d.branches].some(P=>P.contains(C))||(i?.(S),o?.(S),S.defaultPrevented||l?.())},m);return rB(S=>{j===d.layers.size-1&&(n?.(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),p.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(J1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Q1(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=J1)}},[u,m,r,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Q1())},[u,d]),p.useEffect(()=>{const S=()=>f({});return document.addEventListener(jy,S),()=>document.removeEventListener(jy,S)},[]),s.jsx(Ae.div,{...c,ref:v,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,N.onPointerDownCapture)})});kp.displayName=nB;var iB="DismissableLayerBranch",oB=p.forwardRef((e,t)=>{const r=p.useContext(nA),n=p.useRef(null),a=Ke(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ae.div,{...e,ref:a})});oB.displayName=iB;function lB(e,t=globalThis?.document){const r=Hr(e),n=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){sA(sB,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function cB(e,t=globalThis?.document){const r=Hr(e),n=p.useRef(!1);return p.useEffect(()=>{const a=i=>{i.target&&!n.current&&sA(aB,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Q1(){const e=new CustomEvent(jy);document.dispatchEvent(e)}function sA(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?N5(a,i):a.dispatchEvent(i)}var Eg=0;function Fj(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Z1()),document.body.insertAdjacentElement("beforeend",e[1]??Z1()),Eg++,()=>{Eg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Eg--}},[])}function Z1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ag="focusScope.autoFocusOnMount",Og="focusScope.autoFocusOnUnmount",eS={bubbles:!1,cancelable:!0},uB="FocusScope",Cp=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=p.useState(null),d=Hr(a),u=Hr(i),h=p.useRef(null),m=Ke(t,x=>c(x)),f=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let x=function(w){if(f.paused||!l)return;const b=w.target;l.contains(b)?h.current=b:si(h.current,{select:!0})},g=function(w){if(f.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||si(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&si(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const j=new MutationObserver(y);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),j.disconnect()}}},[n,l,f.paused]),p.useEffect(()=>{if(l){rS.add(f);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(Ag,eS);l.addEventListener(Ag,d),l.dispatchEvent(y),y.defaultPrevented||(dB(xB(aA(l)),{select:!0}),document.activeElement===x&&si(l))}return()=>{l.removeEventListener(Ag,d),setTimeout(()=>{const y=new CustomEvent(Og,eS);l.addEventListener(Og,u),l.dispatchEvent(y),y.defaultPrevented||si(x??document.body,{select:!0}),l.removeEventListener(Og,u),rS.remove(f)},0)}}},[l,d,u,f]);const v=p.useCallback(x=>{if(!r&&!n||f.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(g&&y){const j=x.currentTarget,[w,b]=hB(j);w&&b?!x.shiftKey&&y===b?(x.preventDefault(),r&&si(w,{select:!0})):x.shiftKey&&y===w&&(x.preventDefault(),r&&si(b,{select:!0})):y===j&&x.preventDefault()}},[r,n,f.paused]);return s.jsx(Ae.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});Cp.displayName=uB;function dB(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(si(n,{select:t}),document.activeElement!==r)return}function hB(e){const t=aA(e),r=tS(t,e),n=tS(t.reverse(),e);return[r,n]}function aA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tS(e,t){for(const r of e)if(!fB(r,{upTo:t}))return r}function fB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mB(e){return e instanceof HTMLInputElement&&"select"in e}function si(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&mB(e)&&t&&e.select()}}var rS=pB();function pB(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=nS(e,t),e.unshift(t)},remove(t){e=nS(e,t),e[0]?.resume()}}}function nS(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function xB(e){return e.filter(t=>t.tagName!=="A")}const gB=["top","right","bottom","left"],Ri=Math.min,Sn=Math.max,rm=Math.round,Ih=Math.floor,Ys=e=>({x:e,y:e}),vB={left:"right",right:"left",bottom:"top",top:"bottom"},yB={start:"end",end:"start"};function wy(e,t,r){return Sn(e,Ri(t,r))}function Ma(e,t){return typeof e=="function"?e(t):e}function Ia(e){return e.split("-")[0]}function Ic(e){return e.split("-")[1]}function Bj(e){return e==="x"?"y":"x"}function zj(e){return e==="y"?"height":"width"}const jB=new Set(["top","bottom"]);function Ws(e){return jB.has(Ia(e))?"y":"x"}function Wj(e){return Bj(Ws(e))}function wB(e,t,r){r===void 0&&(r=!1);const n=Ic(e),a=Wj(e),i=zj(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=nm(o)),[o,nm(o)]}function bB(e){const t=nm(e);return[by(e),t,by(t)]}function by(e){return e.replace(/start|end/g,t=>yB[t])}const sS=["left","right"],aS=["right","left"],NB=["top","bottom"],SB=["bottom","top"];function kB(e,t,r){switch(e){case"top":case"bottom":return r?t?aS:sS:t?sS:aS;case"left":case"right":return t?NB:SB;default:return[]}}function CB(e,t,r,n){const a=Ic(e);let i=kB(Ia(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(by)))),i}function nm(e){return e.replace(/left|right|bottom|top/g,t=>vB[t])}function PB(e){return{top:0,right:0,bottom:0,left:0,...e}}function iA(e){return typeof e!="number"?PB(e):{top:e,right:e,bottom:e,left:e}}function sm(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function iS(e,t,r){let{reference:n,floating:a}=e;const i=Ws(t),o=Wj(t),l=zj(o),c=Ia(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let f;switch(c){case"top":f={x:u,y:n.y-a.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-a.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Ic(t)){case"start":f[o]-=m*(r&&d?-1:1);break;case"end":f[o]+=m*(r&&d?-1:1);break}return f}const _B=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=iS(d,n,c),m=n,f={},v=0;for(let x=0;x<l.length;x++){const{name:g,fn:y}=l[x],{x:j,y:w,data:b,reset:N}=await y({x:u,y:h,initialPlacement:n,placement:m,strategy:a,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=j??u,h=w??h,f={...f,[g]:{...f[g],...b}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:h}=iS(d,m,c)),x=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:f}};async function fd(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=Ma(t,e),v=iA(f),g=l[m?h==="floating"?"reference":"floating":h],y=sm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),j=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=sm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:w,strategy:c}):j);return{top:(y.top-N.top+v.top)/b.y,bottom:(N.bottom-y.bottom+v.bottom)/b.y,left:(y.left-N.left+v.left)/b.x,right:(N.right-y.right+v.right)/b.x}}const EB=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Ma(e,t)||{};if(d==null)return{};const h=iA(u),m={x:r,y:n},f=Wj(a),v=zj(f),x=await o.getDimensions(d),g=f==="y",y=g?"top":"left",j=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[v]+i.reference[f]-m[f]-i.floating[v],N=m[f]-i.reference[f],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=k?k[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=l.floating[w]||i.floating[v]);const C=b/2-N/2,A=S/2-x[v]/2-1,P=Ri(h[y],A),D=Ri(h[j],A),E=P,R=S-x[v]-D,z=S/2-x[v]/2+C,V=wy(E,z,R),L=!c.arrow&&Ic(a)!=null&&z!==V&&i.reference[v]/2-(z<E?P:D)-x[v]/2<0,W=L?z<E?z-E:z-R:0;return{[f]:m[f]+W,data:{[f]:V,centerOffset:z-V-W,...L&&{alignmentOffset:W}},reset:L}}}),AB=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...g}=Ma(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Ia(a),j=Ws(l),w=Ia(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(w||!x?[nm(l)]:bB(l)),k=v!=="none";!m&&k&&N.push(...CB(l,x,v,b));const S=[l,...N],C=await fd(t,g),A=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&A.push(C[y]),h){const z=wB(a,o,b);A.push(C[z[0]],C[z[1]])}if(P=[...P,{placement:a,overflows:A}],!A.every(z=>z<=0)){var D,E;const z=(((D=i.flip)==null?void 0:D.index)||0)+1,V=S[z];if(V&&(!(h==="alignment"?j!==Ws(V):!1)||P.every(_=>Ws(_.placement)===j?_.overflows[0]>0:!0)))return{data:{index:z,overflows:P},reset:{placement:V}};let L=(E=P.filter(W=>W.overflows[0]<=0).sort((W,_)=>W.overflows[1]-_.overflows[1])[0])==null?void 0:E.placement;if(!L)switch(f){case"bestFit":{var R;const W=(R=P.filter(_=>{if(k){const O=Ws(_.placement);return O===j||O==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(O=>O>0).reduce((O,re)=>O+re,0)]).sort((_,O)=>_[1]-O[1])[0])==null?void 0:R[0];W&&(L=W);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function oS(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lS(e){return gB.some(t=>e[t]>=0)}const OB=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Ma(e,t);switch(n){case"referenceHidden":{const i=await fd(t,{...a,elementContext:"reference"}),o=oS(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lS(o)}}}case"escaped":{const i=await fd(t,{...a,altBoundary:!0}),o=oS(i,r.floating);return{data:{escapedOffsets:o,escaped:lS(o)}}}default:return{}}}}},oA=new Set(["left","top"]);async function TB(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Ia(r),l=Ic(r),c=Ws(r)==="y",d=oA.has(o)?-1:1,u=i&&c?-1:1,h=Ma(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),c?{x:f*u,y:m*d}:{x:m*d,y:f*u}}const DB=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await TB(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},MB=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:j}=g;return{x:y,y:j}}},...c}=Ma(e,t),d={x:r,y:n},u=await fd(t,c),h=Ws(Ia(a)),m=Bj(h);let f=d[m],v=d[h];if(i){const g=m==="y"?"top":"left",y=m==="y"?"bottom":"right",j=f+u[g],w=f-u[y];f=wy(j,f,w)}if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",j=v+u[g],w=v-u[y];v=wy(j,v,w)}const x=l.fn({...t,[m]:f,[h]:v});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:i,[h]:o}}}}}},IB=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ma(e,t),u={x:r,y:n},h=Ws(a),m=Bj(h);let f=u[m],v=u[h];const x=Ma(l,t),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const w=m==="y"?"height":"width",b=i.reference[m]-i.floating[w]+g.mainAxis,N=i.reference[m]+i.reference[w]-g.mainAxis;f<b?f=b:f>N&&(f=N)}if(d){var y,j;const w=m==="y"?"width":"height",b=oA.has(Ia(a)),N=i.reference[h]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[h])||0)+(b?0:g.crossAxis),k=i.reference[h]+i.reference[w]+(b?0:((j=o.offset)==null?void 0:j[h])||0)-(b?g.crossAxis:0);v<N?v=N:v>k&&(v=k)}return{[m]:f,[h]:v}}}},RB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Ma(e,t),u=await fd(t,d),h=Ia(a),m=Ic(a),f=Ws(a)==="y",{width:v,height:x}=i.floating;let g,y;h==="top"||h==="bottom"?(g=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,g=m==="end"?"top":"bottom");const j=x-u.top-u.bottom,w=v-u.left-u.right,b=Ri(x-u[g],j),N=Ri(v-u[y],w),k=!t.middlewareData.shift;let S=b,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=j),k&&!m){const P=Sn(u.left,0),D=Sn(u.right,0),E=Sn(u.top,0),R=Sn(u.bottom,0);f?C=v-2*(P!==0||D!==0?P+D:Sn(u.left,u.right)):S=x-2*(E!==0||R!==0?E+R:Sn(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:S});const A=await o.getDimensions(l.floating);return v!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Pp(){return typeof window<"u"}function Rc(e){return lA(e)?(e.nodeName||"").toLowerCase():"#document"}function An(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function na(e){var t;return(t=(lA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lA(e){return Pp()?e instanceof Node||e instanceof An(e).Node:!1}function Ps(e){return Pp()?e instanceof Element||e instanceof An(e).Element:!1}function Js(e){return Pp()?e instanceof HTMLElement||e instanceof An(e).HTMLElement:!1}function cS(e){return!Pp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof An(e).ShadowRoot}const $B=new Set(["inline","contents"]);function $d(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=_s(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!$B.has(a)}const LB=new Set(["table","td","th"]);function FB(e){return LB.has(Rc(e))}const BB=[":popover-open",":modal"];function _p(e){return BB.some(t=>{try{return e.matches(t)}catch{return!1}})}const zB=["transform","translate","scale","rotate","perspective"],WB=["transform","translate","scale","rotate","perspective","filter"],UB=["paint","layout","strict","content"];function Uj(e){const t=Kj(),r=Ps(e)?_s(e):e;return zB.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||WB.some(n=>(r.willChange||"").includes(n))||UB.some(n=>(r.contain||"").includes(n))}function KB(e){let t=$i(e);for(;Js(t)&&!pc(t);){if(Uj(t))return t;if(_p(t))return null;t=$i(t)}return null}function Kj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VB=new Set(["html","body","#document"]);function pc(e){return VB.has(Rc(e))}function _s(e){return An(e).getComputedStyle(e)}function Ep(e){return Ps(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $i(e){if(Rc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cS(e)&&e.host||na(e);return cS(t)?t.host:t}function cA(e){const t=$i(e);return pc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Js(t)&&$d(t)?t:cA(t)}function md(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=cA(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=An(a);if(i){const l=Ny(o);return t.concat(o,o.visualViewport||[],$d(a)?a:[],l&&r?md(l):[])}return t.concat(a,md(a,[],r))}function Ny(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uA(e){const t=_s(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Js(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=rm(r)!==i||rm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Vj(e){return Ps(e)?e:e.contextElement}function Ql(e){const t=Vj(e);if(!Js(t))return Ys(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=uA(t);let o=(i?rm(r.width):r.width)/n,l=(i?rm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const HB=Ys(0);function dA(e){const t=An(e);return!Kj()||!t.visualViewport?HB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qB(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==An(e)?!1:t}function Ho(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Vj(e);let o=Ys(1);t&&(n?Ps(n)&&(o=Ql(n)):o=Ql(e));const l=qB(i,r,n)?dA(i):Ys(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=An(i),f=n&&Ps(n)?An(n):n;let v=m,x=Ny(v);for(;x&&n&&f!==v;){const g=Ql(x),y=x.getBoundingClientRect(),j=_s(x),w=y.left+(x.clientLeft+parseFloat(j.paddingLeft))*g.x,b=y.top+(x.clientTop+parseFloat(j.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,h*=g.y,c+=w,d+=b,v=An(x),x=Ny(v)}}return sm({width:u,height:h,x:c,y:d})}function Ap(e,t){const r=Ep(e).scrollLeft;return t?t.left+r:Ho(na(e)).left+r}function hA(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ap(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function YB(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=na(n),l=t?_p(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Ys(1);const u=Ys(0),h=Js(n);if((h||!h&&!i)&&((Rc(n)!=="body"||$d(o))&&(c=Ep(n)),Js(n))){const f=Ho(n);d=Ql(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const m=o&&!h&&!i?hA(o,c):Ys(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function GB(e){return Array.from(e.getClientRects())}function XB(e){const t=na(e),r=Ep(e),n=e.ownerDocument.body,a=Sn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Sn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ap(e);const l=-r.scrollTop;return _s(n).direction==="rtl"&&(o+=Sn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const uS=25;function JB(e,t){const r=An(e),n=na(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=Kj();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Ap(n);if(d<=0){const u=n.ownerDocument,h=u.body,m=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,v=Math.abs(n.clientWidth-h.clientWidth-f);v<=uS&&(i-=v)}else d<=uS&&(i+=d);return{width:i,height:o,x:l,y:c}}const QB=new Set(["absolute","fixed"]);function ZB(e,t){const r=Ho(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Js(e)?Ql(e):Ys(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function dS(e,t,r){let n;if(t==="viewport")n=JB(e,r);else if(t==="document")n=XB(na(e));else if(Ps(t))n=ZB(t,r);else{const a=dA(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return sm(n)}function fA(e,t){const r=$i(e);return r===t||!Ps(r)||pc(r)?!1:_s(r).position==="fixed"||fA(r,t)}function e6(e,t){const r=t.get(e);if(r)return r;let n=md(e,[],!1).filter(l=>Ps(l)&&Rc(l)!=="body"),a=null;const i=_s(e).position==="fixed";let o=i?$i(e):e;for(;Ps(o)&&!pc(o);){const l=_s(o),c=Uj(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&QB.has(a.position)||$d(o)&&!c&&fA(e,o))?n=n.filter(u=>u!==o):a=l,o=$i(o)}return t.set(e,n),n}function t6(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?_p(t)?[]:e6(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=dS(t,u,a);return d.top=Sn(h.top,d.top),d.right=Ri(h.right,d.right),d.bottom=Ri(h.bottom,d.bottom),d.left=Sn(h.left,d.left),d},dS(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function r6(e){const{width:t,height:r}=uA(e);return{width:t,height:r}}function n6(e,t,r){const n=Js(t),a=na(t),i=r==="fixed",o=Ho(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ys(0);function d(){c.x=Ap(a)}if(n||!n&&!i)if((Rc(t)!=="body"||$d(a))&&(l=Ep(t)),n){const f=Ho(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?hA(a,l):Ys(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function Tg(e){return _s(e).position==="static"}function hS(e,t){if(!Js(e)||_s(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return na(e)===r&&(r=r.ownerDocument.body),r}function mA(e,t){const r=An(e);if(_p(e))return r;if(!Js(e)){let a=$i(e);for(;a&&!pc(a);){if(Ps(a)&&!Tg(a))return a;a=$i(a)}return r}let n=hS(e,t);for(;n&&FB(n)&&Tg(n);)n=hS(n,t);return n&&pc(n)&&Tg(n)&&!Uj(n)?r:n||KB(e)||r}const s6=async function(e){const t=this.getOffsetParent||mA,r=this.getDimensions,n=await r(e.floating);return{reference:n6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function a6(e){return _s(e).direction==="rtl"}const i6={convertOffsetParentRelativeRectToViewportRelativeRect:YB,getDocumentElement:na,getClippingRect:t6,getOffsetParent:mA,getElementRects:s6,getClientRects:GB,getDimensions:r6,getScale:Ql,isElement:Ps,isRTL:a6};function pA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function o6(e,t){let r=null,n;const a=na(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:f}=d;if(l||t(),!m||!f)return;const v=Ih(h),x=Ih(a.clientWidth-(u+m)),g=Ih(a.clientHeight-(h+f)),y=Ih(u),w={rootMargin:-v+"px "+-x+"px "+-g+"px "+-y+"px",threshold:Sn(0,Ri(1,c))||1};let b=!0;function N(k){const S=k[0].intersectionRatio;if(S!==c){if(!b)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!pA(d,e.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),i}function l6(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Vj(e),u=a||i?[...d?md(d):[],...md(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?o6(d,r):null;let m=-1,f=null;o&&(f=new ResizeObserver(y=>{let[j]=y;j&&j.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),r()}),d&&!c&&f.observe(d),f.observe(t));let v,x=c?Ho(e):null;c&&g();function g(){const y=Ho(e);x&&!pA(x,y)&&r(),x=y,v=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),h?.(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(v)}}const c6=DB,u6=MB,d6=AB,h6=RB,f6=OB,fS=EB,m6=IB,p6=(e,t,r)=>{const n=new Map,a={platform:i6,...r},i={...a.platform,_c:n};return _B(e,t,{...a,platform:i})};var x6=typeof document<"u",g6=function(){},wf=x6?p.useLayoutEffect:g6;function am(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!am(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!am(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function xA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mS(e,t){const r=xA(e);return Math.round(t*r)/r}function Dg(e){const t=p.useRef(e);return wf(()=>{t.current=e}),t}function v6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=p.useState(n);am(m,n)||f(n);const[v,x]=p.useState(null),[g,y]=p.useState(null),j=p.useCallback(_=>{_!==k.current&&(k.current=_,x(_))},[]),w=p.useCallback(_=>{_!==S.current&&(S.current=_,y(_))},[]),b=i||v,N=o||g,k=p.useRef(null),S=p.useRef(null),C=p.useRef(u),A=c!=null,P=Dg(c),D=Dg(a),E=Dg(d),R=p.useCallback(()=>{if(!k.current||!S.current)return;const _={placement:t,strategy:r,middleware:m};D.current&&(_.platform=D.current),p6(k.current,S.current,_).then(O=>{const re={...O,isPositioned:E.current!==!1};z.current&&!am(C.current,re)&&(C.current=re,Vi.flushSync(()=>{h(re)}))})},[m,t,r,D,E]);wf(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(_=>({..._,isPositioned:!1})))},[d]);const z=p.useRef(!1);wf(()=>(z.current=!0,()=>{z.current=!1}),[]),wf(()=>{if(b&&(k.current=b),N&&(S.current=N),b&&N){if(P.current)return P.current(b,N,R);R()}},[b,N,R,P,A]);const V=p.useMemo(()=>({reference:k,floating:S,setReference:j,setFloating:w}),[j,w]),L=p.useMemo(()=>({reference:b,floating:N}),[b,N]),W=p.useMemo(()=>{const _={position:r,left:0,top:0};if(!L.floating)return _;const O=mS(L.floating,u.x),re=mS(L.floating,u.y);return l?{..._,transform:"translate("+O+"px, "+re+"px)",...xA(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:re}},[r,l,L.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:R,refs:V,elements:L,floatingStyles:W}),[u,R,V,L,W])}const y6=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?fS({element:n.current,padding:a}).fn(r):{}:n?fS({element:n,padding:a}).fn(r):{}}}},j6=(e,t)=>({...c6(e),options:[e,t]}),w6=(e,t)=>({...u6(e),options:[e,t]}),b6=(e,t)=>({...m6(e),options:[e,t]}),N6=(e,t)=>({...d6(e),options:[e,t]}),S6=(e,t)=>({...h6(e),options:[e,t]}),k6=(e,t)=>({...f6(e),options:[e,t]}),C6=(e,t)=>({...y6(e),options:[e,t]});var P6="Arrow",gA=p.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ae.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});gA.displayName=P6;var _6=gA;function Hj(e){const[t,r]=p.useState(void 0);return Ar(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var qj="Popper",[vA,Op]=ns(qj),[E6,yA]=vA(qj),jA=e=>{const{__scopePopper:t,children:r}=e,[n,a]=p.useState(null);return s.jsx(E6,{scope:t,anchor:n,onAnchorChange:a,children:r})};jA.displayName=qj;var wA="PopperAnchor",bA=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=yA(wA,r),o=p.useRef(null),l=Ke(t,o),c=p.useRef(null);return p.useEffect(()=>{const d=c.current;c.current=n?.current||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Ae.div,{...a,ref:l})});bA.displayName=wA;var Yj="PopperContent",[A6,O6]=vA(Yj),NA=p.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:v,...x}=e,g=yA(Yj,r),[y,j]=p.useState(null),w=Ke(t,ne=>j(ne)),[b,N]=p.useState(null),k=Hj(b),S=k?.width??0,C=k?.height??0,A=n+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],E=D.length>0,R={padding:P,boundary:D.filter(D6),altBoundary:E},{refs:z,floatingStyles:V,placement:L,isPositioned:W,middlewareData:_}=v6({strategy:"fixed",placement:A,whileElementsMounted:(...ne)=>l6(...ne,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[j6({mainAxis:a+C,alignmentAxis:o}),c&&w6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?b6():void 0,...R}),c&&N6({...R}),S6({...R,apply:({elements:ne,rects:Pe,availableWidth:$,availableHeight:te})=>{const{width:oe,height:G}=Pe.reference,Le=ne.floating.style;Le.setProperty("--radix-popper-available-width",`${$}px`),Le.setProperty("--radix-popper-available-height",`${te}px`),Le.setProperty("--radix-popper-anchor-width",`${oe}px`),Le.setProperty("--radix-popper-anchor-height",`${G}px`)}}),b&&C6({element:b,padding:l}),M6({arrowWidth:S,arrowHeight:C}),m&&k6({strategy:"referenceHidden",...R})]}),[O,re]=CA(L),H=Hr(v);Ar(()=>{W&&H?.()},[W,H]);const X=_.arrow?.x,ae=_.arrow?.y,le=_.arrow?.centerOffset!==0,[be,Ie]=p.useState();return Ar(()=>{y&&Ie(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:W?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[_.transformOrigin?.x,_.transformOrigin?.y].join(" "),..._.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(A6,{scope:r,placedSide:O,onArrowChange:N,arrowX:X,arrowY:ae,shouldHideArrow:le,children:s.jsx(Ae.div,{"data-side":O,"data-align":re,...x,ref:w,style:{...x.style,animation:W?void 0:"none"}})})})});NA.displayName=Yj;var SA="PopperArrow",T6={top:"bottom",right:"left",bottom:"top",left:"right"},kA=p.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=O6(SA,n),o=T6[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(_6,{...a,ref:r,style:{...a.style,display:"block"}})})});kA.displayName=SA;function D6(e){return e!==null}var M6=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=CA(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(a.arrow?.x??0)+l/2,f=(a.arrow?.y??0)+c/2;let v="",x="";return d==="bottom"?(v=o?h:`${m}px`,x=`${-c}px`):d==="top"?(v=o?h:`${m}px`,x=`${n.floating.height+c}px`):d==="right"?(v=`${-c}px`,x=o?h:`${f}px`):d==="left"&&(v=`${n.floating.width+c}px`,x=o?h:`${f}px`),{data:{x:v,y:x}}}});function CA(e){const[t,r="center"]=e.split("-");return[t,r]}var PA=jA,Gj=bA,_A=NA,EA=kA,I6="Portal",Tp=p.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=p.useState(!1);Ar(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?gE.createPortal(s.jsx(Ae.div,{...n,ref:t}),o):null});Tp.displayName=I6;function Xj(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var AA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),R6="VisuallyHidden",$6=p.forwardRef((e,t)=>s.jsx(Ae.span,{...e,ref:t,style:{...AA,...e.style}}));$6.displayName=R6;var L6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pl=new WeakMap,Rh=new WeakMap,$h={},Mg=0,OA=function(e){return e&&(e.host||OA(e.parentNode))},F6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=OA(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},B6=function(e,t,r,n){var a=F6(t,Array.isArray(e)?e:[e]);$h[r]||($h[r]=new WeakMap);var i=$h[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var f=m.getAttribute(n),v=f!==null&&f!=="false",x=(pl.get(m)||0)+1,g=(i.get(m)||0)+1;pl.set(m,x),i.set(m,g),o.push(m),x===1&&v&&Rh.set(m,!0),g===1&&m.setAttribute(r,"true"),v||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(t),l.clear(),Mg++,function(){o.forEach(function(h){var m=pl.get(h)-1,f=i.get(h)-1;pl.set(h,m),i.set(h,f),m||(Rh.has(h)||h.removeAttribute(n),Rh.delete(h)),f||h.removeAttribute(r)}),Mg--,Mg||(pl=new WeakMap,pl=new WeakMap,Rh=new WeakMap,$h={})}},Jj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||L6(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),B6(n,a,r,"aria-hidden")):function(){return null}},zs=function(){return zs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zs.apply(this,arguments)};function TA(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function z6(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var bf="right-scroll-bar-position",Nf="width-before-scroll-bar",W6="with-scroll-bars-hidden",U6="--removed-body-scroll-bar-size";function Ig(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function K6(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var V6=typeof window<"u"?p.useLayoutEffect:p.useEffect,pS=new WeakMap;function H6(e,t){var r=K6(t||null,function(n){return e.forEach(function(a){return Ig(a,n)})});return V6(function(){var n=pS.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Ig(l,null)}),i.forEach(function(l){a.has(l)||Ig(l,o)})}pS.set(r,e)},[e]),r}function q6(e){return e}function Y6(e,t){t===void 0&&(t=q6);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function G6(e){e===void 0&&(e={});var t=Y6(null);return t.options=zs({async:!0,ssr:!1},e),t}var DA=function(e){var t=e.sideCar,r=TA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,zs({},r))};DA.isSideCarExport=!0;function X6(e,t){return e.useMedium(t),DA}var MA=G6(),Rg=function(){},Dp=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:Rg,onWheelCapture:Rg,onTouchMoveCapture:Rg}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,f=e.noRelative,v=e.noIsolation,x=e.inert,g=e.allowPinchZoom,y=e.as,j=y===void 0?"div":y,w=e.gapMode,b=TA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,k=H6([r,t]),S=zs(zs({},b),a);return p.createElement(p.Fragment,null,u&&p.createElement(N,{sideCar:MA,removeScrollBar:d,shards:h,noRelative:f,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:w}),o?p.cloneElement(p.Children.only(l),zs(zs({},S),{ref:k})):p.createElement(j,zs({},S,{className:c,ref:k}),l))});Dp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dp.classNames={fullWidth:Nf,zeroRight:bf};var xS,J6=function(){if(xS)return xS;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Q6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=J6();return t&&e.setAttribute("nonce",t),e}function Z6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function e8(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var t8=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Q6())&&(Z6(t,r),e8(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},r8=function(){var e=t8();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},IA=function(){var e=r8(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},n8={left:0,top:0,right:0,gap:0},$g=function(e){return parseInt(e||"",10)||0},s8=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[$g(r),$g(n),$g(a)]},a8=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return n8;var t=s8(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},i8=IA(),Zl="data-scroll-locked",o8=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(W6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bf,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nf,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(bf," .").concat(bf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nf," .").concat(Nf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(U6,": ").concat(l,`px;
  }
`)},gS=function(){var e=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(e)?e:0},l8=function(){p.useEffect(function(){return document.body.setAttribute(Zl,(gS()+1).toString()),function(){var e=gS()-1;e<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,e.toString())}},[])},c8=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;l8();var i=p.useMemo(function(){return a8(a)},[a]);return p.createElement(i8,{styles:o8(i,!t,a,r?"":"!important")})},Sy=!1;if(typeof window<"u")try{var Lh=Object.defineProperty({},"passive",{get:function(){return Sy=!0,!0}});window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{Sy=!1}var xl=Sy?{passive:!1}:!1,u8=function(e){return e.tagName==="TEXTAREA"},RA=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!u8(e)&&r[t]==="visible")},d8=function(e){return RA(e,"overflowY")},h8=function(e){return RA(e,"overflowX")},vS=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=$A(e,n);if(a){var i=LA(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},f8=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},m8=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},$A=function(e,t){return e==="v"?d8(t):h8(t)},LA=function(e,t){return e==="v"?f8(t):m8(t)},p8=function(e,t){return e==="h"&&t==="rtl"?-1:1},x8=function(e,t,r,n,a){var i=p8(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var f=LA(e,l),v=f[0],x=f[1],g=f[2],y=x-g-i*v;(v||y)&&$A(e,l)&&(h+=y,m+=v);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(a&&Math.abs(h)<1||!a&&o>h)||!u&&(a&&Math.abs(m)<1||!a&&-o>m))&&(d=!0),d},Fh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yS=function(e){return[e.deltaX,e.deltaY]},jS=function(e){return e&&"current"in e?e.current:e},g8=function(e,t){return e[0]===t[0]&&e[1]===t[1]},v8=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},y8=0,gl=[];function j8(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),a=p.useState(y8++)[0],i=p.useState(IA)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=z6([e.lockRef.current],(e.shards||[]).map(jS),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=Fh(x),j=r.current,w="deltaX"in x?x.deltaX:j[0]-y[0],b="deltaY"in x?x.deltaY:j[1]-y[1],N,k=x.target,S=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in x&&S==="h"&&k.type==="range")return!1;var C=vS(S,k);if(!C)return!0;if(C?N=S:(N=S==="v"?"h":"v",C=vS(S,k)),!C)return!1;if(!n.current&&"changedTouches"in x&&(w||b)&&(n.current=N),!N)return!0;var A=n.current||N;return x8(A,g,x,A==="h"?w:b,!0)},[]),c=p.useCallback(function(x){var g=x;if(!(!gl.length||gl[gl.length-1]!==i)){var y="deltaY"in g?yS(g):Fh(g),j=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&g8(N.delta,y)})[0];if(j&&j.should){g.cancelable&&g.preventDefault();return}if(!j){var w=(o.current.shards||[]).map(jS).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=p.useCallback(function(x,g,y,j){var w={name:x,delta:g,target:y,should:j,shadowParent:w8(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=p.useCallback(function(x){r.current=Fh(x),n.current=void 0},[]),h=p.useCallback(function(x){d(x.type,yS(x),x.target,l(x,e.lockRef.current))},[]),m=p.useCallback(function(x){d(x.type,Fh(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return gl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,xl),document.addEventListener("touchmove",c,xl),document.addEventListener("touchstart",u,xl),function(){gl=gl.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,xl),document.removeEventListener("touchmove",c,xl),document.removeEventListener("touchstart",u,xl)}},[]);var f=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(i,{styles:v8(a)}):null,f?p.createElement(c8,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function w8(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const b8=X6(MA,j8);var FA=p.forwardRef(function(e,t){return p.createElement(Dp,zs({},e,{ref:t,sideCar:b8}))});FA.classNames=Dp.classNames;const Qj=FA;var N8=[" ","Enter","ArrowUp","ArrowDown"],S8=[" ","Enter"],qo="Select",[Mp,Ip,k8]=BE(qo),[$c,Rde]=ns(qo,[k8,Op]),Rp=Op(),[C8,Yi]=$c(qo),[P8,_8]=$c(qo),BA=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:f,form:v}=e,x=Rp(t),[g,y]=p.useState(null),[j,w]=p.useState(null),[b,N]=p.useState(!1),k=wp(d),[S,C]=Ii({prop:n,defaultProp:a??!1,onChange:i,caller:qo}),[A,P]=Ii({prop:o,defaultProp:l,onChange:c,caller:qo}),D=p.useRef(null),E=g?v||!!g.closest("form"):!0,[R,z]=p.useState(new Set),V=Array.from(R).map(L=>L.props.value).join(";");return s.jsx(PA,{...x,children:s.jsxs(C8,{required:f,scope:t,trigger:g,onTriggerChange:y,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:Sa(),value:A,onValueChange:P,open:S,onOpenChange:C,dir:k,triggerPointerDownPosRef:D,disabled:m,children:[s.jsx(Mp.Provider,{scope:t,children:s.jsx(P8,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(L=>{z(W=>new Set(W).add(L))},[]),onNativeOptionRemove:p.useCallback(L=>{z(W=>{const _=new Set(W);return _.delete(L),_})},[]),children:r})}),E?s.jsxs(lO,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:A,onChange:L=>P(L.target.value),disabled:m,form:v,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},V):null]})})};BA.displayName=qo;var zA="SelectTrigger",WA=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Rp(r),o=Yi(zA,r),l=o.disabled||n,c=Ke(t,o.onTriggerChange),d=Ip(r),u=p.useRef("touch"),[h,m,f]=uO(x=>{const g=d().filter(w=>!w.disabled),y=g.find(w=>w.value===o.value),j=dO(g,x,y);j!==void 0&&o.onValueChange(j.value)}),v=x=>{l||(o.onOpenChange(!0),f()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(Gj,{asChild:!0,...i,children:s.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cO(o.value)?"":void 0,...a,ref:c,onClick:Ee(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&v(x)}),onPointerDown:Ee(a.onPointerDown,x=>{u.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Ee(a.onKeyDown,x=>{const g=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(g&&x.key===" ")&&N8.includes(x.key)&&(v(),x.preventDefault())})})})});WA.displayName=zA;var UA="SelectValue",KA=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Yi(UA,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Ke(t,c.onValueNodeChange);return Ar(()=>{d(u)},[d,u]),s.jsx(Ae.span,{...l,ref:h,style:{pointerEvents:"none"},children:cO(c.value)?s.jsx(s.Fragment,{children:o}):i})});KA.displayName=UA;var E8="SelectIcon",VA=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ae.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});VA.displayName=E8;var A8="SelectPortal",HA=e=>s.jsx(Tp,{asChild:!0,...e});HA.displayName=A8;var Yo="SelectContent",qA=p.forwardRef((e,t)=>{const r=Yi(Yo,e.__scopeSelect),[n,a]=p.useState();if(Ar(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Vi.createPortal(s.jsx(YA,{scope:e.__scopeSelect,children:s.jsx(Mp.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(GA,{...e,ref:t})});qA.displayName=Yo;var ms=10,[YA,Gi]=$c(Yo),O8="SelectContentImpl",T8=Vo("SelectContent.RemoveScroll"),GA=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:v,hideWhenDetached:x,avoidCollisions:g,...y}=e,j=Yi(Yo,r),[w,b]=p.useState(null),[N,k]=p.useState(null),S=Ke(t,ne=>b(ne)),[C,A]=p.useState(null),[P,D]=p.useState(null),E=Ip(r),[R,z]=p.useState(!1),V=p.useRef(!1);p.useEffect(()=>{if(w)return Jj(w)},[w]),Fj();const L=p.useCallback(ne=>{const[Pe,...$]=E().map(G=>G.ref.current),[te]=$.slice(-1),oe=document.activeElement;for(const G of ne)if(G===oe||(G?.scrollIntoView({block:"nearest"}),G===Pe&&N&&(N.scrollTop=0),G===te&&N&&(N.scrollTop=N.scrollHeight),G?.focus(),document.activeElement!==oe))return},[E,N]),W=p.useCallback(()=>L([C,w]),[L,C,w]);p.useEffect(()=>{R&&W()},[R,W]);const{onOpenChange:_,triggerPointerDownPosRef:O}=j;p.useEffect(()=>{if(w){let ne={x:0,y:0};const Pe=te=>{ne={x:Math.abs(Math.round(te.pageX)-(O.current?.x??0)),y:Math.abs(Math.round(te.pageY)-(O.current?.y??0))}},$=te=>{ne.x<=10&&ne.y<=10?te.preventDefault():w.contains(te.target)||_(!1),document.removeEventListener("pointermove",Pe),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",$,{capture:!0})}}},[w,_,O]),p.useEffect(()=>{const ne=()=>_(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[_]);const[re,H]=uO(ne=>{const Pe=E().filter(oe=>!oe.disabled),$=Pe.find(oe=>oe.ref.current===document.activeElement),te=dO(Pe,ne,$);te&&setTimeout(()=>te.ref.current.focus())}),X=p.useCallback((ne,Pe,$)=>{const te=!V.current&&!$;(j.value!==void 0&&j.value===Pe||te)&&(A(ne),te&&(V.current=!0))},[j.value]),ae=p.useCallback(()=>w?.focus(),[w]),le=p.useCallback((ne,Pe,$)=>{const te=!V.current&&!$;(j.value!==void 0&&j.value===Pe||te)&&D(ne)},[j.value]),be=n==="popper"?ky:XA,Ie=be===ky?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:v,hideWhenDetached:x,avoidCollisions:g}:{};return s.jsx(YA,{scope:r,content:w,viewport:N,onViewportChange:k,itemRefCallback:X,selectedItem:C,onItemLeave:ae,itemTextRefCallback:le,focusSelectedItem:W,selectedItemText:P,position:n,isPositioned:R,searchRef:re,children:s.jsx(Qj,{as:T8,allowPinchZoom:!0,children:s.jsx(Cp,{asChild:!0,trapped:j.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ee(a,ne=>{j.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:s.jsx(kp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:s.jsx(be,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ne=>ne.preventDefault(),...y,...Ie,onPlaced:()=>z(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ee(y.onKeyDown,ne=>{const Pe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!Pe&&ne.key.length===1&&H(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let te=E().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const oe=ne.target,G=te.indexOf(oe);te=te.slice(G+1)}setTimeout(()=>L(te)),ne.preventDefault()}})})})})})})});GA.displayName=O8;var D8="SelectItemAlignedPosition",XA=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Yi(Yo,r),o=Gi(Yo,r),[l,c]=p.useState(null),[d,u]=p.useState(null),h=Ke(t,S=>u(S)),m=Ip(r),f=p.useRef(!1),v=p.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:y,focusSelectedItem:j}=o,w=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&g&&y){const S=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(i.dir!=="rtl"){const oe=P.left-C.left,G=A.left-oe,Le=S.left-G,Te=S.width+Le,St=Math.max(Te,C.width),yt=window.innerWidth-ms,lr=yy(G,[ms,Math.max(ms,yt-St)]);l.style.minWidth=Te+"px",l.style.left=lr+"px"}else{const oe=C.right-P.right,G=window.innerWidth-A.right-oe,Le=window.innerWidth-S.right-G,Te=S.width+Le,St=Math.max(Te,C.width),yt=window.innerWidth-ms,lr=yy(G,[ms,Math.max(ms,yt-St)]);l.style.minWidth=Te+"px",l.style.right=lr+"px"}const D=m(),E=window.innerHeight-ms*2,R=x.scrollHeight,z=window.getComputedStyle(d),V=parseInt(z.borderTopWidth,10),L=parseInt(z.paddingTop,10),W=parseInt(z.borderBottomWidth,10),_=parseInt(z.paddingBottom,10),O=V+L+R+_+W,re=Math.min(g.offsetHeight*5,O),H=window.getComputedStyle(x),X=parseInt(H.paddingTop,10),ae=parseInt(H.paddingBottom,10),le=S.top+S.height/2-ms,be=E-le,Ie=g.offsetHeight/2,ne=g.offsetTop+Ie,Pe=V+L+ne,$=O-Pe;if(Pe<=le){const oe=D.length>0&&g===D[D.length-1].ref.current;l.style.bottom="0px";const G=d.clientHeight-x.offsetTop-x.offsetHeight,Le=Math.max(be,Ie+(oe?ae:0)+G+W),Te=Pe+Le;l.style.height=Te+"px"}else{const oe=D.length>0&&g===D[0].ref.current;l.style.top="0px";const Le=Math.max(le,V+x.offsetTop+(oe?X:0)+Ie)+$;l.style.height=Le+"px",x.scrollTop=Pe-le+x.offsetTop}l.style.margin=`${ms}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=E+"px",n?.(),requestAnimationFrame(()=>f.current=!0)}},[m,i.trigger,i.valueNode,l,d,x,g,y,i.dir,n]);Ar(()=>w(),[w]);const[b,N]=p.useState();Ar(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const k=p.useCallback(S=>{S&&v.current===!0&&(w(),j?.(),v.current=!1)},[w,j]);return s.jsx(I8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(Ae.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});XA.displayName=D8;var M8="SelectPopperPosition",ky=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ms,...i}=e,o=Rp(r);return s.jsx(_A,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ky.displayName=M8;var[I8,Zj]=$c(Yo,{}),Cy="SelectViewport",JA=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Gi(Cy,r),o=Zj(Cy,r),l=Ke(t,i.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Mp.Slot,{scope:r,children:s.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ee(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m?.current&&h){const f=Math.abs(c.current-u.scrollTop);if(f>0){const v=window.innerHeight-ms*2,x=parseFloat(h.style.minHeight),g=parseFloat(h.style.height),y=Math.max(x,g);if(y<v){const j=y+f,w=Math.min(v,j),b=j-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});JA.displayName=Cy;var QA="SelectGroup",[R8,$8]=$c(QA),L8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Sa();return s.jsx(R8,{scope:r,id:a,children:s.jsx(Ae.div,{role:"group","aria-labelledby":a,...n,ref:t})})});L8.displayName=QA;var ZA="SelectLabel",F8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=$8(ZA,r);return s.jsx(Ae.div,{id:a.id,...n,ref:t})});F8.displayName=ZA;var im="SelectItem",[B8,eO]=$c(im),tO=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Yi(im,r),c=Gi(im,r),d=l.value===n,[u,h]=p.useState(i??""),[m,f]=p.useState(!1),v=Ke(t,j=>c.itemRefCallback?.(j,n,a)),x=Sa(),g=p.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(B8,{scope:r,value:n,disabled:a,textId:x,isSelected:d,onItemTextChange:p.useCallback(j=>{h(w=>w||(j?.textContent??"").trim())},[]),children:s.jsx(Mp.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(Ae.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:Ee(o.onFocus,()=>f(!0)),onBlur:Ee(o.onBlur,()=>f(!1)),onClick:Ee(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Ee(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Ee(o.onPointerDown,j=>{g.current=j.pointerType}),onPointerMove:Ee(o.onPointerMove,j=>{g.current=j.pointerType,a?c.onItemLeave?.():g.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,j=>{j.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ee(o.onKeyDown,j=>{c.searchRef?.current!==""&&j.key===" "||(S8.includes(j.key)&&y(),j.key===" "&&j.preventDefault())})})})})});tO.displayName=im;var _u="SelectItemText",rO=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Yi(_u,r),l=Gi(_u,r),c=eO(_u,r),d=_8(_u,r),[u,h]=p.useState(null),m=Ke(t,y=>h(y),c.onItemTextChange,y=>l.itemTextRefCallback?.(y,c.value,c.disabled)),f=u?.textContent,v=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return Ar(()=>(x(v),()=>g(v)),[x,g,v]),s.jsxs(s.Fragment,{children:[s.jsx(Ae.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Vi.createPortal(i.children,o.valueNode):null]})});rO.displayName=_u;var nO="SelectItemIndicator",sO=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return eO(nO,r).isSelected?s.jsx(Ae.span,{"aria-hidden":!0,...n,ref:t}):null});sO.displayName=nO;var Py="SelectScrollUpButton",aO=p.forwardRef((e,t)=>{const r=Gi(Py,e.__scopeSelect),n=Zj(Py,e.__scopeSelect),[a,i]=p.useState(!1),o=Ke(t,n.onScrollButtonChange);return Ar(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(oO,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});aO.displayName=Py;var _y="SelectScrollDownButton",iO=p.forwardRef((e,t)=>{const r=Gi(_y,e.__scopeSelect),n=Zj(_y,e.__scopeSelect),[a,i]=p.useState(!1),o=Ke(t,n.onScrollButtonChange);return Ar(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(oO,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});iO.displayName=_y;var oO=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Gi("SelectScrollButton",r),o=p.useRef(null),l=Ip(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Ar(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ae.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ee(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(a.onPointerLeave,()=>{c()})})}),z8="SelectSeparator",W8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ae.div,{"aria-hidden":!0,...n,ref:t})});W8.displayName=z8;var Ey="SelectArrow",U8=p.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Rp(r),i=Yi(Ey,r),o=Gi(Ey,r);return i.open&&o.position==="popper"?s.jsx(EA,{...a,...n,ref:t}):null});U8.displayName=Ey;var K8="SelectBubbleInput",lO=p.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=p.useRef(null),i=Ke(n,a),o=Xj(t);return p.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(Ae.select,{...r,style:{...AA,...r.style},ref:i,defaultValue:t})});lO.displayName=K8;function cO(e){return e===""||e===void 0}function uO(e){const t=Hr(e),r=p.useRef(""),n=p.useRef(0),a=p.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function dO(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=V8(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function V8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var H8=BA,q8=WA,Y8=KA,G8=VA,X8=HA,J8=qA,Q8=JA,Z8=tO,ez=rO,tz=sO,rz=aO,nz=iO;function ve({...e}){return s.jsx(H8,{"data-slot":"select",...e})}function ye({...e}){return s.jsx(Y8,{"data-slot":"select-value",...e})}function je({className:e,size:t="default",children:r,...n}){return s.jsxs(q8,{"data-slot":"select-trigger","data-size":t,className:de("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,s.jsx(G8,{asChild:!0,children:s.jsx(yE,{className:"size-4 opacity-50"})})]})}function we({className:e,children:t,position:r="popper",...n}){return s.jsx(X8,{children:s.jsxs(J8,{"data-slot":"select-content",className:de("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(sz,{}),s.jsx(Q8,{className:de("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(az,{})]})})}function F({className:e,children:t,...r}){return s.jsxs(Z8,{"data-slot":"select-item",className:de("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(tz,{children:s.jsx(Wl,{className:"size-4"})})}),s.jsx(ez,{children:t})]})}function sz({className:e,...t}){return s.jsx(rz,{"data-slot":"select-scroll-up-button",className:de("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(EF,{className:"size-4"})})}function az({className:e,...t}){return s.jsx(nz,{"data-slot":"select-scroll-down-button",className:de("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(yE,{className:"size-4"})})}function Dt({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:de("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function iz({onComplete:e,onBack:t}){const[r,n]=p.useState(1),[a,i]=p.useState({businessName:"",businessType:"",businessSize:"",ownerName:"",ownerPhone:"",businessEmail:"",businessPhone:"",businessAddress:"",city:"",region:"",registrationNumber:"",tinNumber:"",yearEstablished:"",numberOfEmployees:1,locationCount:1,description:"",productsCount:0,averageMonthlySales:"",accountEmail:"",accountPassword:"",confirmPassword:"",selectedFeatures:[],paymentMethod:""}),o=[{value:"retail",label:"Retail Store",icon:mc,description:"Sell products directly to customers"},{value:"wholesale",label:"Wholesale",icon:NE,description:"Bulk sales to retailers"},{value:"manufacturing",label:"Manufacturing",icon:At,description:"Produce and sell products"},{value:"restaurant",label:"Restaurant",icon:$t,description:"Food service business"},{value:"pharmacy",label:"Pharmacy",icon:Kt,description:"Healthcare and medicine"},{value:"other",label:"Other",icon:At,description:"Custom business type"}],l=[{value:"startup",label:"Startup",description:"1-5 employees, just starting"},{value:"small",label:"Small Business",description:"6-20 employees"},{value:"medium",label:"Medium Business",description:"21-50 employees"},{value:"enterprise",label:"Enterprise",description:"50+ employees"}],c=["Greater Accra","Ashanti","Western","Eastern","Central","Northern","Upper East","Upper West","Volta","Bono","Bono East","Ahafo","Savannah","North East","Oti","Western North"],d=()=>({...a,businessSize:a.businessSize||"small",dashboardType:a.businessSize==="enterprise"?"enterprise":a.businessSize==="medium"?"advanced":"simple",accountEmail:a.accountEmail,accountPassword:a.accountPassword}),u=()=>{r<3?(r===1&&i(x=>({...x,accountEmail:x.businessEmail||x.accountEmail})),n(r+1)):e(d())},h=()=>{r>1?n(r-1):r===1&&t&&t()},m=()=>s.jsxs("div",{className:"space-y-4 pb-6 max-h-[65vh] overflow-y-auto pr-2",children:[s.jsxs("div",{className:"text-center sticky top-0 bg-white z-10 pb-2",children:[s.jsx("h2",{className:"text-xl font-bold mb-1",children:"Business Information"}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Tell us about your business"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(At,{className:"h-3 w-3"}),"Basic Information"]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessName",className:"text-xs",children:"Business Name *"}),s.jsx(Z,{id:"businessName",placeholder:"e.g., Accra Foam Center",value:a.businessName,onChange:x=>i({...a,businessName:x.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"description",className:"text-xs",children:"Business Description *"}),s.jsx(Dt,{id:"description",placeholder:"Brief description...",value:a.description,onChange:x=>i({...a,description:x.target.value}),rows:2,required:!0,className:"text-sm"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessType",className:"text-xs",children:"Business Type *"}),s.jsxs(ve,{value:a.businessType,onValueChange:x=>i({...a,businessType:x}),children:[s.jsx(je,{className:"h-8 text-xs",children:s.jsx(ye,{placeholder:"Select type"})}),s.jsx(we,{children:o.map(x=>s.jsx(F,{value:x.value,className:"text-xs",children:x.label},x.value))})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessSize",className:"text-xs",children:"Business Size *"}),s.jsxs(ve,{value:a.businessSize,onValueChange:x=>i({...a,businessSize:x}),children:[s.jsx(je,{className:"h-8 text-xs",children:s.jsx(ye,{placeholder:"Select size"})}),s.jsx(we,{children:l.map(x=>s.jsx(F,{value:x.value,className:"text-xs",children:x.label},x.value))})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx($t,{className:"h-3 w-3"}),"Contact Information"]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"ownerName",className:"text-xs",children:"Owner/Manager Name *"}),s.jsx(Z,{id:"ownerName",placeholder:"Full name",value:a.ownerName,onChange:x=>i({...a,ownerName:x.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"ownerPhone",className:"text-xs",children:"Owner Phone *"}),s.jsx(Z,{id:"ownerPhone",type:"tel",placeholder:"+233 XX XXX XXXX",value:a.ownerPhone,onChange:x=>i({...a,ownerPhone:x.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessPhone",className:"text-xs",children:"Business Phone"}),s.jsx(Z,{id:"businessPhone",type:"tel",placeholder:"+233 XX XXX XXXX",value:a.businessPhone,onChange:x=>i({...a,businessPhone:x.target.value}),className:"text-sm h-8"})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessEmail",className:"text-xs",children:"Business Email"}),s.jsx(Z,{id:"businessEmail",type:"email",placeholder:"business@example.com",value:a.businessEmail,onChange:x=>i({...a,businessEmail:x.target.value}),className:"text-sm h-8"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(Yn,{className:"h-3 w-3"}),"Location"]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessAddress",className:"text-xs",children:"Business Address *"}),s.jsx(Z,{id:"businessAddress",placeholder:"Street address",value:a.businessAddress,onChange:x=>i({...a,businessAddress:x.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"city",className:"text-xs",children:"City/Town *"}),s.jsx(Z,{id:"city",placeholder:"e.g., Accra",value:a.city,onChange:x=>i({...a,city:x.target.value}),required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"region",className:"text-xs",children:"Region *"}),s.jsxs(ve,{value:a.region,onValueChange:x=>i({...a,region:x}),children:[s.jsx(je,{className:"h-8 text-xs",children:s.jsx(ye,{placeholder:"Select region"})}),s.jsx(we,{children:c.map(x=>s.jsx(F,{value:x,className:"text-xs",children:x},x))})]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(mc,{className:"h-3 w-3"}),"Business Details"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"registrationNumber",className:"text-xs",children:"Registration Number"}),s.jsx(Z,{id:"registrationNumber",placeholder:"Company reg. no.",value:a.registrationNumber,onChange:x=>i({...a,registrationNumber:x.target.value}),className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"tinNumber",className:"text-xs",children:"TIN Number"}),s.jsx(Z,{id:"tinNumber",placeholder:"Tax identification",value:a.tinNumber,onChange:x=>i({...a,tinNumber:x.target.value}),className:"text-sm h-8"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"yearEstablished",className:"text-xs",children:"Year Est."}),s.jsx(Z,{id:"yearEstablished",type:"number",placeholder:"2020",value:a.yearEstablished,onChange:x=>i({...a,yearEstablished:x.target.value}),min:"1900",max:new Date().getFullYear(),className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"numberOfEmployees",className:"text-xs",children:"Employees *"}),s.jsx(Z,{id:"numberOfEmployees",type:"number",placeholder:"10",value:a.numberOfEmployees,onChange:x=>i({...a,numberOfEmployees:parseInt(x.target.value)||1}),min:"1",required:!0,className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"locationCount",className:"text-xs",children:"Locations"}),s.jsx(Z,{id:"locationCount",type:"number",placeholder:"1",value:a.locationCount,onChange:x=>i({...a,locationCount:parseInt(x.target.value)||1}),min:"1",className:"text-sm h-8"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-xs text-primary flex items-center gap-1",children:[s.jsx(Kt,{className:"h-3 w-3"}),"Operations"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"productsCount",className:"text-xs",children:"Est. Product Count"}),s.jsx(Z,{id:"productsCount",type:"number",placeholder:"100",value:a.productsCount,onChange:x=>i({...a,productsCount:parseInt(x.target.value)||0}),min:"0",className:"text-sm h-8"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"averageMonthlySales",className:"text-xs",children:"Avg Monthly Sales"}),s.jsxs(ve,{value:a.averageMonthlySales,onValueChange:x=>i({...a,averageMonthlySales:x}),children:[s.jsx(je,{className:"h-8 text-xs",children:s.jsx(ye,{placeholder:"Select range"})}),s.jsxs(we,{children:[s.jsx(F,{value:"0-5000",className:"text-xs",children:"Below GHS 5K"}),s.jsx(F,{value:"5000-20000",className:"text-xs",children:"GHS 5K - 20K"}),s.jsx(F,{value:"20000-50000",className:"text-xs",children:"GHS 20K - 50K"}),s.jsx(F,{value:"50000-100000",className:"text-xs",children:"GHS 50K - 100K"}),s.jsx(F,{value:"100000+",className:"text-xs",children:"Above GHS 100K"})]})]})]})]})]})]})]}),f=()=>s.jsxs("div",{className:"space-y-6 pb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Setup Your Account"}),s.jsx("p",{className:"text-muted-foreground",children:"Create your admin login credentials"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Important:"})," These credentials will be used to log in to your admin dashboard after your account is activated by the Super Admin."]})}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"accountEmail",children:"Email Address *"}),s.jsx(Z,{id:"accountEmail",type:"email",placeholder:"your.email@example.com",value:a.accountEmail,onChange:x=>i({...a,accountEmail:x.target.value}),required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You'll use this email to log in"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"accountPhone",children:"Phone Number (Optional)"}),s.jsx(Z,{id:"accountPhone",type:"tel",placeholder:"+233 XX XXX XXXX",value:a.businessPhone,onChange:x=>i({...a,businessPhone:x.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For account recovery and notifications"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"accountPassword",children:"Password *"}),s.jsx(Z,{id:"accountPassword",type:"password",placeholder:"Create a strong password (min. 8 characters)",value:a.accountPassword,onChange:x=>i({...a,accountPassword:x.target.value}),required:!0,minLength:8}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum 8 characters, include letters and numbers"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"confirmPassword",children:"Confirm Password *"}),s.jsx(Z,{id:"confirmPassword",type:"password",placeholder:"Re-enter your password",value:a.confirmPassword,onChange:x=>i({...a,confirmPassword:x.target.value}),required:!0}),a.confirmPassword&&a.accountPassword!==a.confirmPassword&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Passwords do not match"})]}),s.jsxs("div",{className:"flex items-start space-x-2 pt-4",children:[s.jsx("input",{type:"checkbox",id:"terms",className:"mt-1",required:!0}),s.jsx(T,{htmlFor:"terms",className:"text-sm font-normal cursor-pointer",children:"I agree to the terms and conditions and privacy policy"})]})]})]}),v=()=>s.jsxs("div",{className:"space-y-6 pb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Business Setup Complete!"}),s.jsx("p",{className:"text-muted-foreground",children:"Your business profile has been created successfully"})]}),s.jsx("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Pending Activation"}),s.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"Your business registration has been submitted successfully. Please contact the Super Admin to activate your account."})]})]})}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Available Plans:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Basic Plan:"}),s.jsx("span",{className:"font-semibold",children:"₵1,500 + ₵200 maintenance"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Pro Plan:"}),s.jsx("span",{className:"font-semibold",children:"₵3,000 + ₵400 maintenance"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Enterprise Plan:"}),s.jsx("span",{className:"font-semibold",children:"₵5,000 + ₵800 maintenance"})]})]})]})]});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs(M,{className:"w-full max-w-sm",children:[s.jsx(U,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(K,{className:"text-xl",children:"Business Setup"}),s.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(x=>s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${x<=r?"bg-primary text-white":"bg-muted text-muted-foreground"}`,children:x},x))})]})}),s.jsxs(I,{children:[r===1&&m(),r===2&&f(),r===3&&v(),s.jsxs("div",{className:"flex justify-between mt-12",children:[s.jsx(B,{variant:r===1?"default":"outline",onClick:h,children:"Back"}),s.jsx(B,{onClick:u,disabled:r===1&&(!a.businessName||!a.description||!a.ownerName||!a.ownerPhone||!a.businessAddress||!a.city||!a.region||!a.businessType||!a.businessSize||!a.numberOfEmployees)||r===2&&(!a.accountEmail||!a.accountPassword||!a.confirmPassword||a.accountPassword!==a.confirmPassword||a.accountPassword.length<8),children:r===3?"Complete Setup":"Next"})]})]})]})})}const oz="modulepreload",lz=function(e){return"/"+e},wS={},Ld=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=lz(i),i in wS)return;wS[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let u=a.length-1;u>=0;u--){const h=a[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":oz,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},cz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ld(()=>Promise.resolve().then(()=>Lc),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ew extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class bS extends ew{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class NS extends ew{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class SS extends ew{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ay;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ay||(Ay={}));var uz=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class dz{constructor(t,{headers:r={},customFetch:n,region:a=Ay.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=cz(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return uz(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let d={},{region:u}=n;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(d["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(d["Content-Type"]="application/json",m=JSON.stringify(l)));const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:m,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new bS(y)}),v=f.headers.get("x-relay-error");if(v&&v==="true")throw new NS(f);if(!f.ok)throw new SS(f);let x=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),g;return x==="application/json"?g=yield f.json():x==="application/octet-stream"?g=yield f.blob():x==="text/event-stream"?g=f:x==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new bS(i)}:{data:null,error:i,response:i instanceof SS||i instanceof NS?i.context:void 0}}})}}var rn={},tw={},$p={},Fd={},Lp={},Fp={},hz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xc=hz();const fz=xc.fetch,hO=xc.fetch.bind(xc),fO=xc.Headers,mz=xc.Request,pz=xc.Response,Lc=Object.freeze(Object.defineProperty({__proto__:null,Headers:fO,Request:mz,Response:pz,default:hO,fetch:fz},Symbol.toStringTag,{value:"Module"})),xz=Y$(Lc);var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});let gz=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Bp.default=gz;var mO=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fp,"__esModule",{value:!0});const vz=mO(xz),yz=mO(Bp);let jz=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vz.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,h=null,m=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=j:h=JSON.parse(j))}const g=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&y&&y.length>1&&(m=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,f=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(h=[],u=null,f=200,v="OK")}catch{i.status===404&&g===""?(f=204,v="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((d=u?.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new yz.default(u)}return{error:u,data:h,count:m,status:f,statusText:v}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(l=i?.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Fp.default=jz;var wz=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lp,"__esModule",{value:!0});const bz=wz(Fp);let Nz=class extends bz.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Lp.default=Nz;var Sz=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fd,"__esModule",{value:!0});const kz=Sz(Lp);let Cz=class extends kz.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Fd.default=Cz;var Pz=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($p,"__esModule",{value:!0});const hu=Pz(Fd);let _z=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,r){const{head:n=!1,count:a}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new hu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new hu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new hu.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new hu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new hu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};$p.default=_z;var pO=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tw,"__esModule",{value:!0});const Ez=pO($p),Az=pO(Fd);let Oz=class xO{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Ez.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xO(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new Az.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};tw.default=Oz;var Fc=Qn&&Qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.PostgrestError=rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const gO=Fc(tw);rn.PostgrestClient=gO.default;const vO=Fc($p);rn.PostgrestQueryBuilder=vO.default;const yO=Fc(Fd);rn.PostgrestFilterBuilder=yO.default;const jO=Fc(Lp);rn.PostgrestTransformBuilder=jO.default;const wO=Fc(Fp);rn.PostgrestBuilder=wO.default;const bO=Fc(Bp);rn.PostgrestError=bO.default;var Tz=rn.default={PostgrestClient:gO.default,PostgrestQueryBuilder:vO.default,PostgrestFilterBuilder:yO.default,PostgrestTransformBuilder:jO.default,PostgrestBuilder:wO.default,PostgrestError:bO.default};const{PostgrestClient:Dz,PostgrestQueryBuilder:Wde,PostgrestFilterBuilder:Ude,PostgrestTransformBuilder:Kde,PostgrestBuilder:Vde,PostgrestError:Hde}=Tz;class Mz{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Iz="2.75.0",Rz=`realtime-js/${Iz}`,$z="1.0.0",Oy=1e4,Lz=1e3,Fz=100;var Wu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wu||(Wu={}));var er;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(er||(er={}));var gs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gs||(gs={}));var Ty;(function(e){e.websocket="websocket"})(Ty||(Ty={}));var yo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yo||(yo={}));class Bz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class NO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ut;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ut||(ut={}));const kS=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=zz(o,e,t,a),i),{}):{}},zz=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?SO(i,o):Dy(o)},SO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Vz(t,r)}switch(e){case ut.bool:return Wz(t);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return Uz(t);case ut.json:case ut.jsonb:return Kz(t);case ut.timestamp:return Hz(t);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return Dy(t);default:return Dy(t)}},Dy=e=>e,Wz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Uz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Kz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>SO(t,l))}return e},Hz=e=>typeof e=="string"?e.replace(" ","T"):e,kO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Lg{constructor(t,r,n={},a=Oy){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var CS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(CS||(CS={}));class Uu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uu.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Uu.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Uu.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),v=u.filter(g=>f.indexOf(g.presence_ref)<0),x=h.filter(g=>m.indexOf(g.presence_ref)<0);v.length>0&&(l[d]=v),x.length>0&&(c[d]=x)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PS;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(PS||(PS={}));var Ku;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ku||(Ku={}));var ca;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ca||(ca={}));class rw{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=er.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lg(this,gs.join,this.params,this.timeout),this.rejoinTimer=new NO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=er.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=er.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=er.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Uu(this),this.broadcastEndpointURL=kO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==er.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Ku.PRESENCE]&&this.bindings[Ku.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(ca.CHANNEL_ERROR,f)),this._onClose(()=>t?.(ca.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){t?.(ca.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,g=(v=x?.length)!==null&&v!==void 0?v:0,y=[];for(let j=0;j<g;j++){const w=x[j],{filter:{event:b,schema:N,table:k,filter:S}}=w,C=f&&f[j];if(C&&C.event===b&&C.schema===N&&C.table===k&&C.filter===S)y.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=er.errored,t?.(ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ca.SUBSCRIBED);return}}).receive("error",f=>{this.state=er.errored,t?.(ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===er.joined&&t===Ku.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=er.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Lg(this,gs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=er.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Fz){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=gs;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var v,x,g;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(x=f.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,x,g,y,j,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,N=(v=f.filter)===null||v===void 0?void 0:v.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(N==="*"||N?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const b=(j=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return b==="*"||b===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:x,table:g,commit_timestamp:y,type:j,errors:w}=v;m=Object.assign(Object.assign({},{schema:x,table:g,commit_timestamp:y,eventType:j,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(m,n)})}_isClosed(){return this.state===er.closed}_isJoined(){return this.state===er.joined}_isJoining(){return this.state===er.joining}_isLeaving(){return this.state===er.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&rw.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gs.close,{},t)}_onError(t){this._on(gs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=er.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=kS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=kS(t.columns,t.old_record)),r}}const Fg=()=>{},Bh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qz=[1e3,2e3,5e3,1e4],Yz=1e4,Gz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xz{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oy,this.transport=null,this.heartbeatIntervalMs=Bh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fg,this.ref=0,this.reconnectTimer=null,this.logger=Fg,this.conn=null,this.sendBuffer=[],this.serializer=new Bz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Ld(()=>Promise.resolve().then(()=>Lc),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ty.websocket}`,this.httpEndpoint=kO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mz.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$z}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wu.connecting:return yo.Connecting;case Wu.open:return yo.Open;case Wu.closing:return yo.Closing;default:return yo.Closed}}isConnected(){return this.connectionState()===yo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new rw(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Lz,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Bh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Gz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Rz};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(gs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new NO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Oy,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Bh.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Fg,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:h=>qz[h-1]||Yz,this.encode=(d=t?.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class nw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Jz extends nw{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class My extends nw{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Qz=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const CO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ld(()=>Promise.resolve().then(()=>Lc),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Zz=()=>Qz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ld(()=>Promise.resolve().then(()=>Lc),void 0)).Response:Response}),Iy=e=>{if(Array.isArray(e))return e.map(r=>Iy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Iy(n)}),t},eW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var al=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Bg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tW=(e,t,r)=>al(void 0,void 0,void 0,function*(){const n=yield Zz();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new Jz(Bg(a),i,o))}).catch(a=>{t(new My(Bg(a),a))}):t(new My(Bg(e),e))}),rW=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(eW(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Bd(e,t,r,n,a,i){return al(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,rW(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>tW(c,l,n))})})}function om(e,t,r,n){return al(this,void 0,void 0,function*(){return Bd(e,"GET",t,r,n)})}function $s(e,t,r,n,a){return al(this,void 0,void 0,function*(){return Bd(e,"POST",t,n,a,r)})}function Ry(e,t,r,n,a){return al(this,void 0,void 0,function*(){return Bd(e,"PUT",t,n,a,r)})}function nW(e,t,r,n){return al(this,void 0,void 0,function*(){return Bd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function PO(e,t,r,n,a){return al(this,void 0,void 0,function*(){return Bd(e,"DELETE",t,n,a,r)})}var sW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class aW{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return sW(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qt(t))return{data:null,error:t};throw t}})}}var iW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class oW{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new aW(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return iW(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qt(t))return{data:null,error:t};throw t}})}}var Qr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const lW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_S={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cW{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=CO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Qr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},_S),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?Ry:$s)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Qr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:_S.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Ry(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(qt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Qr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield $s(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new nw("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Qr(this,void 0,void 0,function*(){try{return{data:{path:(yield $s(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Qr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield $s(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Qr(this,void 0,void 0,function*(){try{const a=yield $s(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>om(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new oW(c,this.shouldThrowOnError)}info(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield om(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Iy(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}})}exists(t){return Qr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield nW(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qt(n)&&n instanceof My){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Qr(this,void 0,void 0,function*(){try{return{data:yield PO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},lW),r),{prefix:t||""});return{data:yield $s(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Qr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield $s(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const uW="2.75.0",dW={"X-Client-Info":`storage-js/${uW}`};var vl=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class hW{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dW),r),this.fetch=CO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vl(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qt(t))return{data:null,error:t};throw t}})}getBucket(t){return vl(this,void 0,void 0,function*(){try{return{data:yield om(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}createBucket(t){return vl(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield $s(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return vl(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return vl(this,void 0,void 0,function*(){try{return{data:yield $s(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return vl(this,void 0,void 0,function*(){try{return{data:yield PO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}})}}class fW extends hW{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new cW(this.url,this.headers,t,this.fetch)}}const mW="2.75.0";let Eu="";typeof Deno<"u"?Eu="deno":typeof document<"u"?Eu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Eu="react-native":Eu="node";const pW={"X-Client-Info":`supabase-js-${Eu}/${mW}`},xW={headers:pW},gW={schema:"public"},vW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yW={};var jW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const wW=e=>{let t;return e?t=e:typeof fetch>"u"?t=hO:t=fetch,(...r)=>t(...r)},bW=()=>typeof Headers>"u"?fO:Headers,NW=(e,t,r)=>{const n=wW(r),a=bW();return(i,o)=>jW(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var SW=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function kW(e){return e.endsWith("/")?e:e+"/"}function CW(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>SW(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function PW(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kW(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _O="2.75.0",_l=30*1e3,$y=3,zg=$y*_l,_W="http://localhost:9999",EW="supabase.auth.token",AW={"X-Client-Info":`gotrue-js/${_O}`},Ly="X-Supabase-Api-Version",EO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TW=10*60*1e3;class pd extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DW extends pd{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function MW(e){return Ce(e)&&e.name==="AuthApiError"}class jo extends pd{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Xi extends pd{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ai extends Xi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IW(e){return Ce(e)&&e.name==="AuthSessionMissingError"}class yl extends Xi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zh extends Xi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wh extends Xi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RW(e){return Ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class ES extends Xi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fy extends Xi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Wg(e){return Ce(e)&&e.name==="AuthRetryableFetchError"}class AS extends Xi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class By extends Xi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),OS=` 	
\r=`.split(""),$W=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<OS.length;t+=1)e[OS[t].charCodeAt(0)]=-2;for(let t=0;t<lm.length;t+=1)e[lm[t].charCodeAt(0)]=t;return e})();function TS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lm[n]),t.queuedBits-=6}}function AO(e,t,r){const n=$W[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function DS(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{BW(o,n,r)};for(let o=0;o<e.length;o+=1)AO(e.charCodeAt(o),a,i);return t.join("")}function LW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FW(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}LW(n,t)}}function BW(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ec(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)AO(e.charCodeAt(a),r,n);return new Uint8Array(t)}function zW(e){const t=[];return FW(e,r=>t.push(r)),new Uint8Array(t)}function So(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>TS(a,r,n)),TS(null,r,n),t.join("")}function WW(e){return Math.round(Date.now()/1e3)+e}function UW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vn=()=>typeof window<"u"&&typeof document<"u",lo={tested:!1,writable:!1},OO=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lo.tested)return lo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lo.tested=!0,lo.writable=!0}catch{lo.tested=!0,lo.writable=!1}return lo.writable};function KW(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const TO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ld(()=>Promise.resolve().then(()=>Lc),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},VW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",El=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},co=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ri=async(e,t)=>{await e.removeItem(t)};class zp{constructor(){this.promise=new zp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zp.promiseConstructor=Promise;function Ug(e){const t=e.split(".");if(t.length!==3)throw new By("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!OW.test(t[n]))throw new By("JWT not in base64url format");return{header:JSON.parse(DS(t[0])),payload:JSON.parse(DS(t[1])),signature:ec(t[2]),raw:{header:t[0],payload:t[1]}}}async function HW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qW(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function YW(e){return("0"+e.toString(16)).substr(-2)}function GW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,YW).join("")}async function XW(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function JW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await XW(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jl(e,t,r=!1){const n=GW();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await El(e,`${t}-code-verifier`,a);const i=await JW(n);return[i,n===i?"plain":"s256"]}const QW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZW(e){const t=e.headers.get(Ly);if(!t||!t.match(QW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wl(e){if(!rU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MS(e){return JSON.parse(JSON.stringify(e))}var nU=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const mo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sU=[502,503,504];async function IS(e){var t;if(!VW(e))throw new Fy(mo(e),0);if(sU.includes(e.status))throw new Fy(mo(e),e.status);let r;try{r=await e.json()}catch(i){throw new jo(mo(i),i)}let n;const a=ZW(e);if(a&&a.getTime()>=EO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new AS(mo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ai}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new AS(mo(r),e.status,r.weak_password.reasons);throw new DW(mo(r),e.status||500,n)}const aU=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Re(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[Ly]||(i[Ly]=EO["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await iU(e,t,r+l,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function iU(e,t,r,n,a,i){const o=aU(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Fy(mo(c),0)}if(l.ok||await IS(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await IS(c)}}function fs(e){var t;let r=null;cU(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=WW(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function RS(e){const t=fs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oU(e){return{data:e,error:null}}function lU(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=nU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function $S(e){return e}function cU(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vg=["global","local","others"];var uU=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class dU{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=TO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Vg[0]){if(Vg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vg.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:hi})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=uU(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:lU,redirectTo:r?.redirectTo})}catch(r){if(Ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hi})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:$S});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);d[`${g}Page`]=x}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ce(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){wl(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hi})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){wl(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:hi})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){wl(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:hi})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){wl(t.userId);try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){wl(t.userId),wl(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:$S});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);d[`${g}Page`]=x}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ce(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}}function LS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const bl={debug:!!(globalThis&&OO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hU extends DO{}async function fU(e,t,r){bl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){bl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{bl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw bl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function mU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pU(e){return parseInt(e,16)}function xU(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function gU(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=MO(e.address),v=u?`${u}://${n}`:n,x=e.statement?`${e.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${f}

${x}`;let y=`URI: ${h}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),d){let j=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);j+=`
- ${w}`}y+=j}return`${g}
${y}`}class Ht extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class cm extends Ht{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function vU({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(RO(o)){if(i.rp.id!==o)return new Ht({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yU({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(RO(n)){if(r.rpId!==n)return new Ht({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var IO=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class jU{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const wU=new jU;function bU(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=IO(e,["challenge","user","excludeCredentials"]),i=ec(t).buffer,o=Object.assign(Object.assign({},r),{id:ec(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:ec(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function NU(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=IO(e,["challenge","allowCredentials"]),a=ec(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ec(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function SU(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:So(new Uint8Array(e.response.attestationObject)),clientDataJSON:So(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kU(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:So(new Uint8Array(a.authenticatorData)),clientDataJSON:So(new Uint8Array(a.clientDataJSON)),signature:So(new Uint8Array(a.signature)),userHandle:a.userHandle?So(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function RO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function FS(){var e,t;return!!(vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function CU(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cm("Browser returned unexpected credential type",t)}:{data:null,error:new cm("Empty credential response",t)}}catch(t){return{data:null,error:vU({error:t,options:e})}}}async function PU(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new cm("Browser returned unexpected credential type",t)}:{data:null,error:new cm("Empty credential response",t)}}catch(t){return{data:null,error:yU({error:t,options:e})}}}const _U={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},EU={userVerification:"preferred",hints:["security-key"]};function um(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=um(l,o):n[i]=um(o)}else n[i]=o}return n}function AU(e,t){return um(_U,e,t||{})}function OU(e,t){return um(EU,e,t||{})}class TU{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??wU.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=AU(o.webauthn.credential_options.publicKey,i?.create),{data:u,error:h}=await CU({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=OU(o.webauthn.credential_options.publicKey,i?.request),{data:u,error:h}=await PU(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Ce(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new pd("rpId is required for WebAuthn authentication")};try{if(!FS())return{data:null,error:new jo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ce(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new pd("rpId is required for WebAuthn registration")};try{if(!FS())return{data:null,error:new jo("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Ce(o)?{data:null,error:o}:{data:null,error:new jo("Unexpected error in register",o)}}}}mU();const DU={url:_W,storageKey:EW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function BS(e,t,r){return await r()}const Nl={};class xd{get jwks(){var t,r;return(r=(t=Nl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Nl[this.storageKey]=Object.assign(Object.assign({},Nl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Nl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Nl[this.storageKey]=Object.assign(Object.assign({},Nl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xd.nextInstanceID,xd.nextInstanceID+=1,this.instanceID>0&&vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},DU),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dU({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=TO(a.fetch),this.lock=a.lock||BS,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:vn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=fU:this.lock=BS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new TU(this)},this.persistSession?(a.storage?this.storage=a.storage:OO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LS(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=LS(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_O}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=KW(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),vn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),RW(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ce(r)?{error:r}:{error:new jo("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:fs}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await jl(this.storage,this.storageKey)),i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:u,password:h,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:f,code_challenge_method:v},xform:fs})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(a=m?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:fs})}else throw new zh("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:RS})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:RS})}else throw new zh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new yl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,d,u,h,m;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:x,wallet:g,statement:y,options:j}=t;let w;if(vn())if(typeof g=="object")w=g;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const b=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=MO(N[0]);let S=(n=j?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const A=await w.request({method:"eth_chainId"});S=pU(A)}const C={domain:b.host,address:k,statement:y,uri:b.href,version:"1",chainId:S,nonce:(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=j?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=j?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=gU(C),v=await w.request({method:"personal_sign",params:[xU(f),k]})}try{const{data:x,error:g}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:fs});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new yl}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(Ce(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,h,m,f;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:g,wallet:y,statement:j,options:w}=t;let b;if(vn())if(typeof y=="object")b=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const N=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),j?{statement:j}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:g,error:y}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:So(x)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:fs});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new yl}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(Ce(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await co(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fs});if(await ri(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new yl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ce(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:fs}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new yl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await jl(this.storage,this.storageKey));const{error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new zh("You must provide either an email or phone number.")}catch(l){if(Ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:fs});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await jl(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:oU})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ai;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new zh("You must provide either an email or phone number and a type")}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await co(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await co(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Kg()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hi}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ai}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:hi})})}catch(r){if(Ce(r))return IW(r)&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ai;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await jl(this.storage,this.storageKey));const{data:d,error:u}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:hi});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ai;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Ug(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ce(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ai;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!vn())throw new Wh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ES("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ES("No code detected.");const{data:j,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Wh("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=_l&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=m-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,u);const{data:x,error:g}=await this._getUser(i);if(g)throw g;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Ce(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await co(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(MW(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ri(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=UW(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await jl(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return vn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Ce(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,h=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:fs}),{data:m,error:f}=h;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new yl}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:f})}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qW(async a=>(a>0&&await HW(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fs})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Wg(i)&&Date.now()+o-n<_l})}catch(n){if(this._debug(r,"error",n),Ce(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),vn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await co(this.storage,this.storageKey);if(a&&this.userStorage){let o=await co(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await El(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:Kg()}else if(a&&!a.user&&!a.user){const o=await co(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await ri(this.storage,this.storageKey+"-user"),await El(this.storage,this.storageKey,a)):a.user=Kg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${zg}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Wg(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new zp;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ai;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ce(i)){const o={data:null,error:i};return Wg(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await El(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=MS(a);await El(this.storage,this.storageKey,i)}else{const a=MS(r);await El(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ri(this.storage,this.storageKey),await ri(this.storage,this.storageKey+"-code-verifier"),await ri(this.storage,this.storageKey+"-user"),this.userStorage&&await ri(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_l);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/_l);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_l}ms, refresh threshold is ${$y} ticks`),a<=$y&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof DO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await jl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?SU(t.webauthn.credential_response):kU(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:bU(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:NU(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ug(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+TW>a)return n;const{data:i,error:o}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};n=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Ug(n);r?.allowExpired||eU(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const u=tU(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,zW(`${l}.${c}`)))throw new By("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}xd.nextInstanceID=0;const MU=xd;class IU extends MU{constructor(t){super(t)}}var RU=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class $U{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=PW(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:gW,realtime:yW,auth:Object.assign(Object.assign({},vW),{storageKey:c}),global:xW},u=CW(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=NW(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Dz(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new fW(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new dz(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return RU(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IU({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Xz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $O=(e,t,r)=>new $U(e,t,r);function LU(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}LU()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zt="cddoboboxeangripcqrn",Wt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNkZG9ib2JveGVhbmdyaXBjcXJuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NTgyNTQsImV4cCI6MjA3NTMzNDI1NH0.JS5pdOsT8xocAIA9uPYnWsoE0FwChKJ1jfOIObJRpEo",FU=`https://${zt}.supabase.co`,BU=Wt;let Hg=null;function gi(){return Hg||(Hg=$O(FU,BU)),Hg}const ua={async signIn(e,t){try{console.log("🔐 Starting sign in process for:",e);const r=gi();console.log("📡 Supabase client created, attempting sign in...");const{data:n,error:a}=await r.auth.signInWithPassword({email:e,password:t});if(console.log("🔑 Sign in response:",{data:!!n,error:a?.message}),a)return{user:null,error:a.message};if(!n.user)return{user:null,error:"No user found"};const i={id:n.user.id,email:n.user.email||"",role:n.user.user_metadata?.role||"cashier",name:n.user.user_metadata?.name||"",shopId:n.user.user_metadata?.shopId,shopName:n.user.user_metadata?.shopName,cashierId:n.user.user_metadata?.cashierId,active:n.user.user_metadata?.active!==!1};if(i.role==="cashier"&&i.cashierId){console.log("🔄 Updating last login for cashier...");try{await this.updateLastLogin(i.cashierId)}catch(o){console.warn("⚠️ Failed to update last login (non-critical):",o)}}return console.log("✅ Sign in successful for:",i.email),{user:i,error:null,accessToken:n.session?.access_token}}catch(r){return console.error("💥 Sign in error:",r),console.error("💥 Error type:",typeof r),console.error("💥 Error message:",r.message),console.error("💥 Error stack:",r.stack),{user:null,error:r.message||"Sign in failed"}}},async getSession(){try{const e=gi(),{data:t,error:r}=await e.auth.getSession();return r||!t.session?{user:null,error:r?.message||"No active session"}:{user:{id:t.session.user.id,email:t.session.user.email||"",role:t.session.user.user_metadata?.role||"cashier",name:t.session.user.user_metadata?.name||"",shopId:t.session.user.user_metadata?.shopId,shopName:t.session.user.user_metadata?.shopName,cashierId:t.session.user.user_metadata?.cashierId,active:t.session.user.user_metadata?.active!==!1},error:null,accessToken:t.session.access_token}}catch(e){return{user:null,error:e.message}}},async signOut(){try{const e=gi(),{error:t}=await e.auth.signOut();return{error:t?.message||null}}catch(e){return{error:e.message}}},async updateLastLogin(e){try{console.log("🔄 Updating last login for cashier:",e);const t=`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers/${e}/login`;console.log("📡 Fetching URL:",t);const r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`}});console.log("📊 Update login response:",r.status,r.statusText),r.ok?console.log("✅ Last login updated successfully"):console.error("❌ Failed to update last login:",r.status,r.statusText)}catch(t){console.error("💥 Error updating last login:",t)}},generatePassword(){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%";let r="";for(let n=0;n<10;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r},async signUp(e,t,r){try{const n=gi(),{data:a,error:i}=await n.auth.signUp({email:e,password:t,options:{email_confirm:!1}});if(i||!a.user)return{user:null,error:i?.message||"Failed to create user"};const l=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/auth/create-admin`,{method:"POST",headers:{Authorization:`Bearer ${Wt}`,"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,businessConfig:r})})).json();return l.success?{user:{id:a.user.id,email:a.user.email||e,role:"admin",name:r.businessName},error:null,accessToken:a.session?.access_token}:{user:null,error:l.error||"Failed to create admin account"}}catch(n){return{user:null,error:n.message||"Signup failed"}}}};var zU=e=>{switch(e){case"success":return KU;case"info":return HU;case"warning":return VU;case"error":return qU;default:return null}},WU=Array(12).fill(0),UU=({visible:e,className:t})=>q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},q.createElement("div",{className:"sonner-spinner"},WU.map((r,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),KU=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VU=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HU=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qU=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YU=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GU=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},zy=1,XU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:zy++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],q.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(QU(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||zy++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Zr=new XU,JU=(e,t)=>{let r=t?.id||zy++;return Zr.addToast({title:e,...t,id:r}),r},QU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ZU=JU,eK=()=>Zr.toasts,tK=()=>Zr.getActiveToasts(),J=Object.assign(ZU,{success:Zr.success,info:Zr.info,warning:Zr.warning,error:Zr.error,custom:Zr.custom,message:Zr.message,promise:Zr.promise,dismiss:Zr.dismiss,loading:Zr.loading},{getHistory:eK,getToasts:tK});function rK(e,{insertAt:t}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}rK(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uh(e){return e.label!==void 0}var nK=3,sK="32px",aK="16px",zS=4e3,iK=356,oK=14,lK=20,cK=200;function hs(...e){return e.filter(Boolean).join(" ")}function uK(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var dK=e=>{var t,r,n,a,i,o,l,c,d,u,h;let{invert:m,toast:f,unstyled:v,interacting:x,setHeights:g,visibleToasts:y,heights:j,index:w,toasts:b,expanded:N,removeToast:k,defaultRichColors:S,closeButton:C,style:A,cancelButtonStyle:P,actionButtonStyle:D,className:E="",descriptionClassName:R="",duration:z,position:V,gap:L,loadingIcon:W,expandByDefault:_,classNames:O,icons:re,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:X}=e,[ae,le]=q.useState(null),[be,Ie]=q.useState(null),[ne,Pe]=q.useState(!1),[$,te]=q.useState(!1),[oe,G]=q.useState(!1),[Le,Te]=q.useState(!1),[St,yt]=q.useState(!1),[lr,Os]=q.useState(0),[Zc,ul]=q.useState(0),Ts=q.useRef(f.duration||z||zS),no=q.useRef(null),Jr=q.useRef(null),so=w===0,eu=w+1<=y,Tr=f.type,Ds=f.dismissible!==!1,tu=f.className||"",dl=f.descriptionClassName||"",Xa=q.useMemo(()=>j.findIndex(Me=>Me.toastId===f.id)||0,[j,f.id]),ru=q.useMemo(()=>{var Me;return(Me=f.closeButton)!=null?Me:C},[f.closeButton,C]),hl=q.useMemo(()=>f.duration||z||zS,[f.duration,z]),ao=q.useRef(0),Ms=q.useRef(0),ce=q.useRef(0),ft=q.useRef(null),[Ja,$e]=V.split("-"),ot=q.useMemo(()=>j.reduce((Me,Je,nt)=>nt>=Xa?Me:Me+Je.height,0),[j,Xa]),De=GU(),rt=f.invert||m,wr=Tr==="loading";Ms.current=q.useMemo(()=>Xa*L+ot,[Xa,ot]),q.useEffect(()=>{Ts.current=hl},[hl]),q.useEffect(()=>{Pe(!0)},[]),q.useEffect(()=>{let Me=Jr.current;if(Me){let Je=Me.getBoundingClientRect().height;return ul(Je),g(nt=>[{toastId:f.id,height:Je,position:f.position},...nt]),()=>g(nt=>nt.filter(Ur=>Ur.toastId!==f.id))}},[g,f.id]),q.useLayoutEffect(()=>{if(!ne)return;let Me=Jr.current,Je=Me.style.height;Me.style.height="auto";let nt=Me.getBoundingClientRect().height;Me.style.height=Je,ul(nt),g(Ur=>Ur.find(cs=>cs.toastId===f.id)?Ur.map(cs=>cs.toastId===f.id?{...cs,height:nt}:cs):[{toastId:f.id,height:nt,position:f.position},...Ur])},[ne,f.title,f.description,g,f.id]);let Fe=q.useCallback(()=>{te(!0),Os(Ms.current),g(Me=>Me.filter(Je=>Je.toastId!==f.id)),setTimeout(()=>{k(f)},cK)},[f,k,g,Ms]);q.useEffect(()=>{if(f.promise&&Tr==="loading"||f.duration===1/0||f.type==="loading")return;let Me;return N||x||X&&De?(()=>{if(ce.current<ao.current){let Je=new Date().getTime()-ao.current;Ts.current=Ts.current-Je}ce.current=new Date().getTime()})():Ts.current!==1/0&&(ao.current=new Date().getTime(),Me=setTimeout(()=>{var Je;(Je=f.onAutoClose)==null||Je.call(f,f),Fe()},Ts.current)),()=>clearTimeout(Me)},[N,x,f,Tr,X,De,Fe]),q.useEffect(()=>{f.delete&&Fe()},[Fe,f.delete]);function Jx(){var Me,Je,nt;return re!=null&&re.loading?q.createElement("div",{className:hs(O?.loader,(Me=f?.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Tr==="loading"},re.loading):W?q.createElement("div",{className:hs(O?.loader,(Je=f?.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":Tr==="loading"},W):q.createElement(UU,{className:hs(O?.loader,(nt=f?.classNames)==null?void 0:nt.loader),visible:Tr==="loading"})}return q.createElement("li",{tabIndex:0,ref:Jr,className:hs(E,tu,O?.toast,(t=f?.classNames)==null?void 0:t.toast,O?.default,O?.[Tr],(r=f?.classNames)==null?void 0:r[Tr]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:S,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":ne,"data-promise":!!f.promise,"data-swiped":St,"data-removed":$,"data-visible":eu,"data-y-position":Ja,"data-x-position":$e,"data-index":w,"data-front":so,"data-swiping":oe,"data-dismissible":Ds,"data-type":Tr,"data-invert":rt,"data-swipe-out":Le,"data-swipe-direction":be,"data-expanded":!!(N||_&&ne),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${$?lr:Ms.current}px`,"--initial-height":_?"auto":`${Zc}px`,...A,...f.style},onDragEnd:()=>{G(!1),le(null),ft.current=null},onPointerDown:Me=>{wr||!Ds||(no.current=new Date,Os(Ms.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(G(!0),ft.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,Je,nt,Ur;if(Le||!Ds)return;ft.current=null;let cs=Number(((Me=Jr.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qa=Number(((Je=Jr.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),io=new Date().getTime()-((nt=no.current)==null?void 0:nt.getTime()),us=ae==="x"?cs:Qa,Za=Math.abs(us)/io;if(Math.abs(us)>=lK||Za>.11){Os(Ms.current),(Ur=f.onDismiss)==null||Ur.call(f,f),Ie(ae==="x"?cs>0?"right":"left":Qa>0?"down":"up"),Fe(),Te(!0),yt(!1);return}G(!1),le(null)},onPointerMove:Me=>{var Je,nt,Ur,cs;if(!ft.current||!Ds||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;let Qa=Me.clientY-ft.current.y,io=Me.clientX-ft.current.x,us=(nt=e.swipeDirections)!=null?nt:uK(V);!ae&&(Math.abs(io)>1||Math.abs(Qa)>1)&&le(Math.abs(io)>Math.abs(Qa)?"x":"y");let Za={x:0,y:0};ae==="y"?(us.includes("top")||us.includes("bottom"))&&(us.includes("top")&&Qa<0||us.includes("bottom")&&Qa>0)&&(Za.y=Qa):ae==="x"&&(us.includes("left")||us.includes("right"))&&(us.includes("left")&&io<0||us.includes("right")&&io>0)&&(Za.x=io),(Math.abs(Za.x)>0||Math.abs(Za.y)>0)&&yt(!0),(Ur=Jr.current)==null||Ur.style.setProperty("--swipe-amount-x",`${Za.x}px`),(cs=Jr.current)==null||cs.style.setProperty("--swipe-amount-y",`${Za.y}px`)}},ru&&!f.jsx?q.createElement("button",{"aria-label":H,"data-disabled":wr,"data-close-button":!0,onClick:wr||!Ds?()=>{}:()=>{var Me;Fe(),(Me=f.onDismiss)==null||Me.call(f,f)},className:hs(O?.closeButton,(a=f?.classNames)==null?void 0:a.closeButton)},(i=re?.close)!=null?i:YU):null,f.jsx||p.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:q.createElement(q.Fragment,null,Tr||f.icon||f.promise?q.createElement("div",{"data-icon":"",className:hs(O?.icon,(o=f?.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Jx():null,f.type!=="loading"?f.icon||re?.[Tr]||zU(Tr):null):null,q.createElement("div",{"data-content":"",className:hs(O?.content,(l=f?.classNames)==null?void 0:l.content)},q.createElement("div",{"data-title":"",className:hs(O?.title,(c=f?.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?q.createElement("div",{"data-description":"",className:hs(R,dl,O?.description,(d=f?.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),p.isValidElement(f.cancel)?f.cancel:f.cancel&&Uh(f.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:Me=>{var Je,nt;Uh(f.cancel)&&Ds&&((nt=(Je=f.cancel).onClick)==null||nt.call(Je,Me),Fe())},className:hs(O?.cancelButton,(u=f?.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,p.isValidElement(f.action)?f.action:f.action&&Uh(f.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||D,onClick:Me=>{var Je,nt;Uh(f.action)&&((nt=(Je=f.action).onClick)==null||nt.call(Je,Me),!Me.defaultPrevented&&Fe())},className:hs(O?.actionButton,(h=f?.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function WS(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function hK(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?aK:sK;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var fK=p.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:h,duration:m,style:f,visibleToasts:v=nK,toastOptions:x,dir:g=WS(),gap:y=oK,loadingIcon:j,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:N}=e,[k,S]=q.useState([]),C=q.useMemo(()=>Array.from(new Set([n].concat(k.filter(X=>X.position).map(X=>X.position)))),[k,n]),[A,P]=q.useState([]),[D,E]=q.useState(!1),[R,z]=q.useState(!1),[V,L]=q.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=q.useRef(null),_=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=q.useRef(null),re=q.useRef(!1),H=q.useCallback(X=>{S(ae=>{var le;return(le=ae.find(be=>be.id===X.id))!=null&&le.delete||Zr.dismiss(X.id),ae.filter(({id:be})=>be!==X.id)})},[]);return q.useEffect(()=>Zr.subscribe(X=>{if(X.dismiss){S(ae=>ae.map(le=>le.id===X.id?{...le,delete:!0}:le));return}setTimeout(()=>{gE.flushSync(()=>{S(ae=>{let le=ae.findIndex(be=>be.id===X.id);return le!==-1?[...ae.slice(0,le),{...ae[le],...X},...ae.slice(le+1)]:[X,...ae]})})})}),[]),q.useEffect(()=>{if(u!=="system"){L(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ae})=>{L(ae?"dark":"light")})}catch{X.addListener(({matches:le})=>{try{L(le?"dark":"light")}catch(be){console.error(be)}})}},[u]),q.useEffect(()=>{k.length<=1&&E(!1)},[k]),q.useEffect(()=>{let X=ae=>{var le,be;a.every(Ie=>ae[Ie]||ae.code===Ie)&&(E(!0),(le=W.current)==null||le.focus()),ae.code==="Escape"&&(document.activeElement===W.current||(be=W.current)!=null&&be.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[a]),q.useEffect(()=>{if(W.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,re.current=!1)}},[W.current]),q.createElement("section",{ref:t,"aria-label":`${b} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((X,ae)=>{var le;let[be,Ie]=X.split("-");return k.length?q.createElement("ol",{key:X,dir:g==="auto"?WS():g,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":be,"data-lifted":D&&k.length>1&&!i,"data-x-position":Ie,style:{"--front-toast-height":`${((le=A[0])==null?void 0:le.height)||0}px`,"--width":`${iK}px`,"--gap":`${y}px`,...f,...hK(c,d)},onBlur:ne=>{re.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(re.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||re.current||(re.current=!0,O.current=ne.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{R||E(!1)},onDragEnd:()=>E(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},k.filter(ne=>!ne.position&&ae===0||ne.position===X).map((ne,Pe)=>{var $,te;return q.createElement(dK,{key:ne.id,icons:w,index:Pe,toast:ne,defaultRichColors:h,duration:($=x?.duration)!=null?$:m,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:v,closeButton:(te=x?.closeButton)!=null?te:o,interacting:R,position:X,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:H,toasts:k.filter(oe=>oe.position==ne.position),heights:A.filter(oe=>oe.position==ne.position),setHeights:P,expandByDefault:i,gap:y,loadingIcon:j,expanded:D,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});function mK({onLogin:e,onBusinessSetupComplete:t}){const[r,n]=p.useState(!1),[a,i]=p.useState({email:"",password:""}),[o,l]=p.useState({email:"",password:""}),[c,d]=p.useState({shopId:"",cashierId:"",password:""});p.useState({email:"",password:"",confirmPassword:"",name:""});const[u,h]=p.useState(!1),[m,f]=p.useState(null);p.useState(!1);const v=async w=>{n(!1),t?.(w),h(!0),f(null);try{console.log("Submitting signup request:",{email:w.accountEmail,businessConfig:w});const N=await(await fetch(`https://${zt}.supabase.co/functions/v1/business-signup-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`},body:JSON.stringify({action:"submit-request",email:w.accountEmail,password:w.accountPassword,businessConfig:w})})).json();console.log("Signup response:",N),N.success?(J.success("Registration submitted! Please contact Super Admin for activation."),x()):f(N.error||"Signup request failed")}catch(b){console.error("Signup error:",b),f(b.message||"Signup request failed")}finally{h(!1)}},x=()=>{n(!1)},g=async w=>{w.preventDefault(),h(!0),f(null);try{const{user:b,error:N,accessToken:k}=await ua.signIn(a.email,a.password);if(N||!b){f(N||"Login failed"),h(!1);return}if(b.role!=="admin"){f("Access denied. Admin credentials required."),await ua.signOut(),h(!1);return}e("admin",b,k||"")}catch(b){f(b.message||"Login failed")}finally{h(!1)}},y=async w=>{w.preventDefault(),h(!0),f(null);try{const{user:b,error:N,accessToken:k}=await ua.signIn(o.email,o.password);if(N||!b){f(N||"Login failed"),h(!1);return}if(b.role!=="super_admin"){f("Access denied. Super Admin credentials required."),await ua.signOut(),h(!1);return}e("super_admin",b,k||"")}catch(b){f(b.message||"Login failed")}finally{h(!1)}},j=async w=>{w.preventDefault(),h(!0),f(null);try{const b=`${c.cashierId.toLowerCase()}@${c.shopId.toLowerCase().replace(/\s/g,"")}.local`;console.log("=== Attempting Cashier Login ==="),console.log("Shop ID (raw):",c.shopId),console.log("Cashier ID (raw):",c.cashierId),console.log("Constructed email:",b),console.log("Password length:",c.password.length);const{user:N,error:k,accessToken:S}=await ua.signIn(b,c.password);if(k||!N){console.error("❌ Login failed"),console.error("Error:",k),console.error("User object:",N);try{const A=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/auth/debug-cashier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`},body:JSON.stringify({shopId:c.shopId,cashierId:c.cashierId})})).json();console.log("Debug info:",A),A.found?A.supabaseError?f(`Authentication system error: ${A.supabaseError}. Please contact admin.`):f("Invalid credentials. Please check your Shop ID, Cashier ID, and Password."):f(`Cashier ID "${c.cashierId}" not found. Available IDs: ${A.availableCashierIds?.join(", ")||"none"}`)}catch(C){console.error("Debug endpoint error:",C),f("Invalid credentials. Please check your Shop ID, Cashier ID, and Password.")}h(!1);return}if(console.log("✅ Login successful"),console.log("User role:",N.role),console.log("User active status:",N.active),N.role!=="cashier"){f("Access denied. Cashier credentials required."),await ua.signOut(),h(!1);return}if(!N.active){f("Your account has been deactivated. Please contact your administrator."),await ua.signOut(),h(!1);return}e("cashier",N,S||"")}catch(b){f(b.message||"Login failed")}finally{h(!1)}};return r?s.jsx(iz,{onComplete:v,onBack:x}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:s.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("h1",{className:"text-xl text-gray-900",children:"Foam Shop Manager"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Digital Sales & Management System"})]}),s.jsxs(M,{className:"compact-card",children:[s.jsxs(U,{className:"compact-card-header",children:[s.jsx(K,{className:"text-lg",children:"Login to Dashboard"}),s.jsx(_e,{className:"text-sm",children:"Select your role to continue"})]}),s.jsx(I,{className:"compact-card-content",children:s.jsxs(mn,{defaultValue:"cashier",className:"compact-spacing",children:[s.jsxs(pn,{className:"grid w-full grid-cols-3 h-8",children:[s.jsxs(Se,{value:"cashier",className:"flex items-center gap-1 text-sm h-6",children:[s.jsx(ws,{className:"h-3 w-3"}),"Cashier"]}),s.jsxs(Se,{value:"admin",className:"flex items-center gap-1 text-sm h-6",children:[s.jsx(At,{className:"h-3 w-3"}),"Admin"]}),s.jsxs(Se,{value:"super-admin",className:"flex items-center gap-1 text-sm h-6",children:[s.jsx(tm,{className:"h-3 w-3"}),"Super Admin"]})]}),m&&s.jsxs(Np,{variant:"destructive",className:"mb-3",children:[s.jsx(Ta,{className:"h-4 w-4"}),s.jsx(Sp,{className:"text-sm",children:m})]}),s.jsx(ke,{value:"cashier",children:s.jsxs("form",{onSubmit:j,className:"compact-form",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"shopId",className:"text-sm",children:"Shop ID"}),s.jsx(Z,{id:"shopId",placeholder:"e.g., SHOP001",value:c.shopId,onChange:w=>d(b=>({...b,shopId:w.target.value})),className:"compact-input",required:!0,disabled:u})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"cashierId",className:"text-sm",children:"Cashier ID"}),s.jsx(Z,{id:"cashierId",placeholder:"e.g., CSH123456",value:c.cashierId,onChange:w=>d(b=>({...b,cashierId:w.target.value})),className:"compact-input",required:!0,disabled:u}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Will login as: ",c.cashierId.toLowerCase(),"@",c.shopId.toLowerCase().replace(/\s/g,""),".local"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"cashierPassword",className:"text-sm",children:"Password"}),s.jsx(Z,{id:"cashierPassword",type:"password",placeholder:"Enter password",value:c.password,onChange:w=>d(b=>({...b,password:w.target.value})),className:"compact-input",required:!0,disabled:u})]}),s.jsx(B,{type:"submit",className:"w-full compact-button",disabled:u,children:u?"Logging in...":"Login as Cashier"})]})}),s.jsxs(ke,{value:"admin",children:[s.jsxs("form",{onSubmit:g,className:"compact-form",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"adminEmail",className:"text-sm",children:"Email"}),s.jsx(Z,{id:"adminEmail",type:"email",placeholder:"admin@latexfoam.com",value:a.email,onChange:w=>i(b=>({...b,email:w.target.value})),className:"compact-input",required:!0,disabled:u})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"adminPassword",className:"text-sm",children:"Password"}),s.jsx(Z,{id:"adminPassword",type:"password",placeholder:"Enter password",value:a.password,onChange:w=>i(b=>({...b,password:w.target.value})),className:"compact-input",required:!0,disabled:u})]}),s.jsx(B,{type:"submit",className:"w-full compact-button",disabled:u,children:u?"Logging in...":"Login as Admin"})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-center text-gray-600 mb-3",children:"Don't have an account?"}),s.jsxs(B,{type:"button",variant:"outline",className:"w-full compact-button",onClick:()=>n(!0),children:[s.jsx(tm,{className:"h-4 w-4 mr-2"}),"Sign Up for New Business"]})]})]}),s.jsx(ke,{value:"super-admin",children:s.jsxs("form",{onSubmit:y,className:"compact-form",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"superAdminEmail",className:"text-sm",children:"Email"}),s.jsx(Z,{id:"superAdminEmail",type:"email",placeholder:"admin@rekon360.com",value:o.email,onChange:w=>l(b=>({...b,email:w.target.value})),className:"compact-input",required:!0,disabled:u})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"superAdminPassword",className:"text-sm",children:"Password"}),s.jsx(Z,{id:"superAdminPassword",type:"password",placeholder:"Enter password",value:o.password,onChange:w=>l(b=>({...b,password:w.target.value})),className:"compact-input",required:!0,disabled:u})]}),s.jsx(B,{type:"submit",className:"w-full compact-button",disabled:u,children:u?"Logging in...":"Login as Super Admin"})]})})]})})]})]})})}const pK=[{id:"pos",label:"Point of Sale",icon:yp,feature:"sales"},{id:"inventory",label:"Inventory",icon:mc,feature:"inventory"},{id:"customers",label:"Customers",icon:$t,feature:"customers"},{id:"reports",label:"Reports",icon:Tt,feature:"reports"}];function US({activeSection:e,setActiveSection:t,user:r,onLogout:n,todayTotal:a,todaySalesCount:i,onNavigate:o,selectedFeatures:l=[]}){const c=u=>{t(u),o?.()},d=pK;return s.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b border-border",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary rounded-lg",children:s.jsx(mc,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-foreground",children:"Foam Shop POS"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.shopName})]})]})}),s.jsx("div",{className:"p-4 border-b border-border",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Today's Summary"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-2 rounded-lg",children:[s.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Sales"}),s.jsxs("div",{className:"font-semibold text-green-700 dark:text-green-300",children:["$",a]})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-2 rounded-lg",children:[s.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Orders"}),s.jsx("div",{className:"font-semibold text-blue-700 dark:text-blue-300",children:i})]})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("ul",{className:"space-y-2",children:d.map(u=>{const h=u.icon;return s.jsx("li",{children:s.jsxs("button",{onClick:()=>c(u.id),className:de("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left",e===u.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[s.jsx(h,{className:"h-5 w-5"}),u.label]})},u.id)})})}),s.jsxs("div",{className:"p-4 border-t border-border space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:r.name?.charAt(0)||"C"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:r.name}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["Cashier • ",r.shopId]})]})]}),s.jsxs(B,{onClick:n,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Dj,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}var xK="Separator",KS="horizontal",gK=["horizontal","vertical"],LO=p.forwardRef((e,t)=>{const{decorative:r,orientation:n=KS,...a}=e,i=vK(n)?n:KS,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ae.div,{"data-orientation":i,...l,...a,ref:t})});LO.displayName=xK;function vK(e){return gK.includes(e)}var yK=LO;function Fs({className:e,orientation:t="horizontal",decorative:r=!0,...n}){return s.jsx(yK,{"data-slot":"separator-root",decorative:r,orientation:t,className:de("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}var Wp="Dialog",[FO,BO]=ns(Wp),[jK,Es]=FO(Wp),zO=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[d,u]=Ii({prop:n,defaultProp:a??!1,onChange:i,caller:Wp});return s.jsx(jK,{scope:t,triggerRef:l,contentRef:c,contentId:Sa(),titleId:Sa(),descriptionId:Sa(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};zO.displayName=Wp;var WO="DialogTrigger",UO=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(WO,r),i=Ke(t,a.triggerRef);return s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":iw(a.open),...n,ref:i,onClick:Ee(e.onClick,a.onOpenToggle)})});UO.displayName=WO;var sw="DialogPortal",[wK,KO]=FO(sw,{forceMount:void 0}),VO=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Es(sw,t);return s.jsx(wK,{scope:t,forceMount:r,children:p.Children.map(n,o=>s.jsx(ss,{present:r||i.open,children:s.jsx(Tp,{asChild:!0,container:a,children:o})}))})};VO.displayName=sw;var dm="DialogOverlay",HO=p.forwardRef((e,t)=>{const r=KO(dm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Es(dm,e.__scopeDialog);return i.modal?s.jsx(ss,{present:n||i.open,children:s.jsx(NK,{...a,ref:t})}):null});HO.displayName=dm;var bK=Vo("DialogOverlay.RemoveScroll"),NK=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(dm,r);return s.jsx(Qj,{as:bK,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ae.div,{"data-state":iw(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Go="DialogContent",qO=p.forwardRef((e,t)=>{const r=KO(Go,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Es(Go,e.__scopeDialog);return s.jsx(ss,{present:n||i.open,children:i.modal?s.jsx(SK,{...a,ref:t}):s.jsx(kK,{...a,ref:t})})});qO.displayName=Go;var SK=p.forwardRef((e,t)=>{const r=Es(Go,e.__scopeDialog),n=p.useRef(null),a=Ke(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return Jj(i)},[]),s.jsx(YO,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault())})}),kK=p.forwardRef((e,t)=>{const r=Es(Go,e.__scopeDialog),n=p.useRef(!1),a=p.useRef(!1);return s.jsx(YO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),YO=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Es(Go,r),c=p.useRef(null),d=Ke(t,c);return Fj(),s.jsxs(s.Fragment,{children:[s.jsx(Cp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(kp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iw(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(PK,{titleId:l.titleId}),s.jsx(EK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),aw="DialogTitle",GO=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(aw,r);return s.jsx(Ae.h2,{id:a.titleId,...n,ref:t})});GO.displayName=aw;var XO="DialogDescription",JO=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(XO,r);return s.jsx(Ae.p,{id:a.descriptionId,...n,ref:t})});JO.displayName=XO;var QO="DialogClose",ZO=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Es(QO,r);return s.jsx(Ae.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>a.onOpenChange(!1))})});ZO.displayName=QO;function iw(e){return e?"open":"closed"}var eT="DialogTitleWarning",[CK,tT]=C5(eT,{contentName:Go,titleName:aw,docsSlug:"dialog"}),PK=({titleId:e})=>{const t=tT(eT),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},_K="DialogDescriptionWarning",EK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tT(_K).contentName}}.`;return p.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ow=zO,rT=UO,lw=VO,zd=HO,Up=qO,cw=GO,uw=JO,Kp=ZO;const Qe=ow,Ji=rT,AK=lw,nT=p.forwardRef(({className:e,...t},r)=>s.jsx(zd,{ref:r,className:de("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));nT.displayName=zd.displayName;const Ye=p.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(AK,{children:[s.jsx(nT,{}),s.jsxs(Up,{ref:n,className:de("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,s.jsxs(Kp,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(SE,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ye.displayName=Up.displayName;const Ge=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col gap-2 text-center sm:text-left",e),...t});Ge.displayName="DialogHeader";const nn=({className:e,...t})=>s.jsx("div",{className:de("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t});nn.displayName="DialogFooter";const Xe=p.forwardRef(({className:e,...t},r)=>s.jsx(cw,{ref:r,className:de("text-lg leading-none font-semibold",e),...t}));Xe.displayName=cw.displayName;const Xt=p.forwardRef(({className:e,...t},r)=>s.jsx(uw,{ref:r,className:de("text-muted-foreground text-sm",e),...t}));Xt.displayName=uw.displayName;const OK=`https://${zt}.supabase.co/functions/v1/make-server-86b98184`;class TK{async makeRequest(t,r={}){const n=await fetch(`${OK}${t}`,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`,...r.headers}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n}async saveSale(t){try{const n=await(await this.makeRequest("/sales",{method:"POST",body:JSON.stringify(t)})).json();if(n.success)return n.saleId;throw new Error(n.error)}catch(r){throw console.error("Error saving sale:",r),r}}async getDailySales(t){try{const n=await(await this.makeRequest(`/sales/${t}`)).json();if(n.success)return n.data;throw new Error(n.error)}catch(r){return console.error("Error fetching daily sales:",r),{date:t,totalAmount:0,totalTransactions:0,lastUpdated:new Date().toISOString(),sales:[]}}}async getSalesRange(t,r){try{const a=await(await this.makeRequest(`/sales-range/${t}/${r}`)).json();if(a.success)return a.data;throw new Error(a.error)}catch(n){return console.error("Error fetching sales range:",n),[]}}async downloadDailyReport(t){try{const r=await this.makeRequest(`/daily-report/${t}`,{headers:{Authorization:`Bearer ${Wt}`}});if(r.ok)return await r.blob();{const n=await r.json();throw new Error(n.error)}}catch(r){throw console.error("Error downloading report:",r),r}}async generateAutoReport(t,r){try{const a=await(await this.makeRequest("/generate-auto-report",{method:"POST",body:JSON.stringify({date:t||new Date().toISOString().split("T")[0],shopInfo:r})})).json();if(a.success)return a.report;throw new Error(a.error)}catch(n){return console.error("Error generating auto report:",n),{date:t||new Date().toISOString().split("T")[0],generated:new Date().toISOString(),status:"Generated offline",totalSales:0,totalTransactions:0,csvUrl:null}}}async getAllReports(){try{const r=await(await this.makeRequest("/all-reports")).json();if(r.success)return r.reports;throw new Error(r.error)}catch(t){return console.error("Error fetching all reports:",t),[]}}formatDateForFilename(t){return t.replace(/-/g,"")}generateExcelCSV(t,r){const n=["Time","Receipt ID","Customer Name","Customer Phone","Items Purchased","Payment Method","Total Amount"].join(",")+`
`,a=t.map(l=>{const c=new Date(l.timestamp).toLocaleTimeString(),d=l.items.map(u=>`${u.name} (${u.size}) x${u.quantity} @$${u.price}`).join("; ");return[c,l.receiptId||l.id,l.customer?.name||"Walk-in Customer",l.customer?.phone||"N/A",`"${d}"`,l.paymentMethod,`$${l.total.toFixed(2)}`].join(",")}).join(`
`),o=["","","","","","DAILY TOTAL:",`$${t.reduce((l,c)=>l+c.total,0).toFixed(2)}`].join(",");return n+a+`
`+o}}const Sf=new TK,VS=`https://${zt}.supabase.co/functions/v1/make-server-86b98184`;class DK{async getAuthToken(){const t=gi(),{data:{session:r}}=await t.auth.getSession();if(!r)throw new Error("You must be logged in to perform this action. Please log in and try again.");return r.access_token}async request(t,r={}){const n=`${VS}${t}`,a=await this.getAuthToken(),i=await fetch(n,{...r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...r.headers}});if(!i.ok){const o=await i.text();let l=`HTTP error! status: ${i.status}`;try{const c=JSON.parse(o);c.error&&(l=c.error)}catch{l=o||l}throw new Error(l)}return i.json()}async getProducts(){return this.request("/products")}async saveProduct(t){return this.request("/products",{method:"POST",body:JSON.stringify(t)})}async deleteProduct(t){return this.request(`/products/${t}`,{method:"DELETE"})}async getWorkers(){return this.request("/workers")}async saveWorker(t){console.log("💾 Saving worker:",t);try{const r=await this.request("/workers",{method:"POST",body:JSON.stringify(t)});return console.log("✅ Worker saved successfully:",r),r}catch(r){throw console.error("❌ Failed to save worker:",r),r}}async updateWorker(t,r){return this.request(`/workers/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteWorker(t){return this.request(`/workers/${t}`,{method:"DELETE"})}async getCorrections(){return this.request("/corrections")}async submitCorrection(t){return this.request("/corrections",{method:"POST",body:JSON.stringify(t)})}async updateCorrectionStatus(t,r){return this.request(`/corrections/${t}`,{method:"PUT",body:JSON.stringify(r)})}async getCustomers(){return this.request("/customers")}async saveCustomer(t){return this.request("/customers",{method:"POST",body:JSON.stringify(t)})}async saveSale(t){return this.request("/sales",{method:"POST",body:JSON.stringify(t)})}async getSales(t){return this.request(`/sales/${t}`)}async getSalesRange(t,r){return this.request(`/sales-range/${t}/${r}`)}async getDashboardSummary(){return this.request("/dashboard-summary")}async getAllReports(){return this.request("/all-reports")}async generateDailyReport(t,r){return this.request("/generate-auto-report",{method:"POST",body:JSON.stringify({date:t,shopInfo:r})})}async getDailyReportCSV(t){const r=`${VS}/daily-report/${t}`,n=await fetch(r,{headers:{Authorization:`Bearer ${Wt}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return n.blob()}async getShopSettings(){return this.request("/shop-settings")}async updateShopSettings(t){return this.request("/shop-settings",{method:"POST",body:JSON.stringify(t)})}async getPayroll(){return this.request("/payroll")}async savePayroll(t){return this.request("/payroll",{method:"POST",body:JSON.stringify(t)})}async updatePayroll(t,r){return this.request(`/payroll/${t}`,{method:"PUT",body:JSON.stringify(r)})}async updateInventory(t,r){return this.request("/update-inventory",{method:"POST",body:JSON.stringify({productId:t,quantityChange:r})})}async getProfitAnalysis(t){return this.request(`/profit-analysis/${t}`)}async deleteCustomer(t){return this.request(`/customers/${t}`,{method:"DELETE"})}async deletePayroll(t){return this.request(`/payroll/${t}`,{method:"DELETE"})}async deleteSale(t){return this.request(`/sales/${t}`,{method:"DELETE"})}}const kr=new DK;function HS({onSaleComplete:e,onPrintReceipt:t,recentSales:r=[]}){const[n,a]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState([]),[d,u]=p.useState(void 0),[h,m]=p.useState("cash"),[f,v]=p.useState(!1),[x,g]=p.useState({name:"",phone:"",address:""}),[y,j]=p.useState(""),[w,b]=p.useState(null);p.useState(!1),p.useState(null),p.useState(""),p.useState([]),p.useState(""),p.useEffect(()=>{N()},[]);const N=async()=>{try{o(!0);const R=await kr.getProducts();R.success?a(R.products.filter(z=>z.status!=="Out of Stock")):J.error("Failed to load products")}catch(R){console.error("Error loading products:",R),J.error("Failed to load products")}finally{o(!1)}},k=n.find(R=>R.id===d),S=()=>{if(!d||!k)return;if(l.find(z=>z.id===d))c(l.map(z=>z.id===d?{...z,quantity:z.quantity+1}:z));else{const z={id:d,name:k.name,size:k.sku||"Standard",price:k.price,quantity:1};c([...l,z])}u(void 0)},C=(R,z)=>{c(l.map(V=>{if(V.id===R){const L=Math.max(0,V.quantity+z);return L===0?null:{...V,quantity:L}}return V}).filter(Boolean))},A=R=>{c(l.filter(z=>z.id!==R))},P=()=>l.reduce((R,z)=>R+z.price*z.quantity,0),D=async()=>{if(l.length!==0)try{const R=`RCP${Date.now()}`,z={id:R,time:new Date().toLocaleTimeString(),items:[...l],total:P(),paymentMethod:h,customer:x.name?{...x}:void 0};await Sf.saveSale({receiptId:R,customer:x.name?{name:x.name,phone:x.phone,email:x.address}:void 0,items:l.map(V=>({id:V.id,name:V.name,size:V.size,price:V.price,quantity:V.quantity})),paymentMethod:h,total:P()}),e(z),j(R),b(z),c([]),m("cash"),g({name:"",phone:"",address:""})}catch(R){console.error("Error saving sale to backend:",R);const z=`RCP${Date.now()}`,V={id:z,time:new Date().toLocaleTimeString(),items:[...l],total:P(),paymentMethod:h,customer:x.name?{...x}:void 0};e(V),j(z),b(V),c([]),m("cash"),g({name:"",phone:"",address:""})}},E=()=>{g({name:"",phone:"",address:""})};return s.jsxs("div",{className:"p-4 compact-spacing h-full overflow-auto",children:[s.jsxs(M,{className:"compact-card",children:[s.jsx(U,{className:"compact-card-header",children:s.jsxs(K,{className:"flex items-center gap-2 text-sm",children:[s.jsx(bs,{className:"h-4 w-4"}),"Add Products"]})}),s.jsx(I,{className:"compact-card-content compact-spacing",children:i?s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx(qi,{className:"h-4 w-4 animate-spin mr-2"}),"Loading products..."]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-sm",children:"Product"}),s.jsxs(ve,{value:d,onValueChange:u,children:[s.jsx(je,{className:"compact-input",children:s.jsx(ye,{placeholder:"Select product"})}),s.jsx(we,{children:n.filter(R=>R.status!=="Out of Stock").map(R=>s.jsxs(F,{value:R.id,children:[R.name," - $",R.price]},R.id))})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs(B,{onClick:S,disabled:!d,className:"w-full",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ko,{className:"h-5 w-5"}),"Customer Information"]}),s.jsxs(Qe,{open:f,onOpenChange:v,children:[s.jsx(Ji,{asChild:!0,children:s.jsx(B,{variant:"outline",size:"sm",children:x.name?"Edit Customer":"Add Customer"})}),s.jsxs(Ye,{children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Customer Details"}),s.jsx(Xt,{children:"Add customer information for this sale (optional)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"name",children:"Customer Name"}),s.jsx(Z,{id:"name",value:x.name,onChange:R=>g({...x,name:R.target.value}),placeholder:"Enter customer name"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Z,{id:"phone",value:x.phone,onChange:R=>g({...x,phone:R.target.value}),placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"address",children:"Address"}),s.jsx(Z,{id:"address",value:x.address,onChange:R=>g({...x,address:R.target.value}),placeholder:"Enter address"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{onClick:()=>v(!1),className:"flex-1",children:"Save Customer"}),s.jsx(B,{onClick:E,variant:"outline",children:"Clear"})]})]})]})]})]})}),x.name&&s.jsx(I,{children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:[s.jsx("div",{className:"font-medium",children:x.name}),x.phone&&s.jsx("div",{className:"text-sm text-muted-foreground",children:x.phone}),x.address&&s.jsx("div",{className:"text-sm text-muted-foreground",children:x.address})]})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Shopping Cart"}),s.jsxs(_e,{children:[l.length," items in cart"]})]}),s.jsx(I,{children:l.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"Cart is empty"}):s.jsxs("div",{className:"space-y-4",children:[l.map((R,z)=>s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between p-3 border rounded-lg gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:R.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",R.size]}),s.jsxs("p",{className:"text-sm font-medium",children:["$",R.price," each"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>C(R.id,-1),children:s.jsx(TF,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:R.quantity}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>C(R.id,1),children:s.jsx(pr,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"destructive",onClick:()=>A(R.id),children:s.jsx(za,{className:"h-3 w-3"})})]})]},`${R.id}-${R.size}-${z}`)),s.jsx(Fs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{className:"font-bold",children:["$",P()]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Payment Method"}),s.jsxs(ve,{value:h,onValueChange:m,children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"cash",children:"Cash"}),s.jsx(F,{value:"card",children:"Card"}),s.jsx(F,{value:"mobile",children:"Mobile Payment"})]})]})]}),s.jsxs(B,{onClick:D,className:"w-full",size:"lg",children:[s.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Process Sale"]})]})]})})]}),y&&w&&s.jsxs(Np,{children:[s.jsx(_i,{className:"h-4 w-4"}),s.jsx(Sp,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Sale completed! Receipt #",y," has been generated."]}),s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>t(w),className:"ml-4",children:[s.jsx(_i,{className:"h-3 w-3 mr-1"}),"Print Receipt"]})]})})]})]})}const MK=Rj("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function se({className:e,variant:t,asChild:r=!1,...n}){const a=r?CE:"span";return s.jsx(a,{"data-slot":"badge",className:de(MK({variant:t}),e),...n})}function xr({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:de("w-full caption-bottom text-sm",e),...t})})}function gr({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:de("[&_tr]:border-b",e),...t})}function vr({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:de("[&_tr:last-child]:border-0",e),...t})}function Be({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:de("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ee({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:de("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Q({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:de("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function IK(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("");p.useEffect(()=>{o();const u=setInterval(o,3e4);return()=>clearInterval(u)},[]);const o=async()=>{try{n(!0);const u=await kr.getProducts();u.success?t(u.products):J.error("Failed to load inventory")}catch(u){console.error("Error loading inventory:",u),J.error("Error loading inventory")}finally{n(!1)}},l=e.filter(u=>u.name.toLowerCase().includes(a.toLowerCase())||u.sku.toLowerCase().includes(a.toLowerCase())||u.category.toLowerCase().includes(a.toLowerCase())),c=u=>{switch(u){case"In Stock":return s.jsx(se,{variant:"default",children:"In Stock"});case"Low Stock":return s.jsx(se,{variant:"secondary",children:"Low Stock"});case"Out of Stock":return s.jsx(se,{variant:"destructive",children:"Out of Stock"});default:return s.jsx(se,{variant:"outline",children:u})}},d=u=>u===0?"text-red-600":u<10?"text-yellow-600":"text-green-600";return r?s.jsx("div",{className:"p-4 compact-spacing h-full overflow-auto",children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading inventory..."})]})})}):s.jsxs("div",{className:"p-4 compact-spacing h-full overflow-auto",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl",children:"Inventory"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Available products for sale"})]}),s.jsxs(M,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-sm",children:"Search Products"})}),s.jsx(I,{className:"compact-card-content",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search by name, SKU, or category...",className:"pl-10 compact-input",value:a,onChange:u=>i(u.target.value)})]})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs(M,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-xs",children:"Total Products"})}),s.jsx(I,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold",children:e.length})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-xs",children:"In Stock"})}),s.jsx(I,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.filter(u=>u.status==="In Stock").length})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-xs",children:"Low/Out Stock"})}),s.jsx(I,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold text-red-600",children:e.filter(u=>u.status==="Low Stock"||u.status==="Out of Stock").length})})]})]}),s.jsxs(M,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsxs(K,{className:"flex items-center gap-2 text-sm",children:[s.jsx(Jn,{className:"h-4 w-4"}),"Products (",l.length,")"]})}),s.jsx(I,{className:"compact-card-content",children:l.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jn,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"No products found"})]}):s.jsxs(xr,{className:"compact-table",children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{className:"compact-table",children:"Product"}),s.jsx(ee,{className:"compact-table",children:"Price"}),s.jsx(ee,{className:"compact-table",children:"Stock"}),s.jsx(ee,{className:"compact-table",children:"Status"})]})}),s.jsx(vr,{children:l.map(u=>s.jsxs(Be,{children:[s.jsx(Q,{className:"compact-table",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:u.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.sku}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.category})]})}),s.jsx(Q,{className:"compact-table",children:s.jsxs("span",{className:"font-medium",children:["$",u.price]})}),s.jsx(Q,{className:"compact-table",children:s.jsx("span",{className:`font-medium ${d(u.stock)}`,children:u.stock})}),s.jsx(Q,{className:"compact-table",children:c(u.status)})]},u.id))})]})})]}),e.filter(u=>u.status==="Low Stock"||u.status==="Out of Stock").length>0&&s.jsxs(M,{className:"border-yellow-200",children:[s.jsx(U,{className:"compact-card-header",children:s.jsxs(K,{className:"flex items-center gap-2 text-sm text-yellow-700",children:[s.jsx(Ta,{className:"h-4 w-4"}),"Stock Alerts"]})}),s.jsx(I,{className:"compact-card-content",children:s.jsx("div",{className:"space-y-2",children:e.filter(u=>u.status==="Low Stock"||u.status==="Out of Stock").slice(0,5).map(u=>s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:u.name}),s.jsxs(se,{variant:u.status==="Out of Stock"?"destructive":"secondary",className:"text-xs",children:[u.stock," left"]})]},u.id))})})]})]})}function RK({sales:e,onPrintReceipt:t}){const r=e.reduce((n,a)=>n+a.total,0);return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sales"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",r]})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ko,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"With Customer Info"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.filter(n=>n.customer?.name).length})]})]})})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Today's Sales History"})}),s.jsx(I,{children:e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_i,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No sales recorded today"})]}):s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Receipt #"}),s.jsx(ee,{children:"Time"}),s.jsx(ee,{children:"Customer"}),s.jsx(ee,{children:"Items"}),s.jsx(ee,{children:"Payment"}),s.jsx(ee,{children:"Total"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:e.map(n=>s.jsxs(Be,{children:[s.jsx(Q,{className:"font-mono text-sm",children:n.id}),s.jsx(Q,{children:n.time}),s.jsx(Q,{children:n.customer?.name?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:n.customer.name}),n.customer.phone&&s.jsx("div",{className:"text-sm text-muted-foreground",children:n.customer.phone})]}):s.jsx("span",{className:"text-muted-foreground",children:"Walk-in"})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-1",children:n.items.map((a,i)=>s.jsxs("div",{className:"text-sm",children:[a.quantity,"x ",a.name," (",a.size,")"]},i))})}),s.jsx(Q,{children:s.jsx(se,{variant:"secondary",children:n.paymentMethod.toUpperCase()})}),s.jsxs(Q,{className:"font-bold",children:["$",n.total]}),s.jsx(Q,{children:s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>t(n),children:[s.jsx(_i,{className:"h-3 w-3 mr-1"}),"Print"]})})]},n.id))})]})})]})]})}function $K({sales:e}){const[t,r]=p.useState(""),n=e.reduce((i,o)=>{if(o.customer?.name){const l=i.find(c=>c.name===o.customer.name);l?(l.totalSpent+=o.total,l.visits+=1,l.lastVisit=o.time):i.push({name:o.customer.name,phone:o.customer.phone||"",address:o.customer.address||"",totalSpent:o.total,visits:1,lastVisit:o.time})}return i},[]),a=n.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.phone.includes(t));return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ko,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Customers"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.length})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dd,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"With Phone Numbers"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(i=>i.phone).length})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"With Addresses"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.filter(i=>i.address).length})]})]})})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Customer Search"})}),s.jsx(I,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search by name or phone number...",value:t,onChange:i=>r(i.target.value),className:"pl-10"})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Customer Database"})}),s.jsx(I,{children:a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ko,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:n.length===0?"No customers recorded yet":"No customers match your search"})]}):s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Customer Name"}),s.jsx(ee,{children:"Phone"}),s.jsx(ee,{children:"Address"}),s.jsx(ee,{children:"Visits"}),s.jsx(ee,{children:"Total Spent"}),s.jsx(ee,{children:"Last Visit"})]})}),s.jsx(vr,{children:a.map((i,o)=>s.jsxs(Be,{children:[s.jsx(Q,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:i.name.charAt(0)})}),i.name]})}),s.jsx(Q,{children:i.phone?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dd,{className:"h-3 w-3 text-muted-foreground"}),i.phone]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Q,{children:i.address?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"max-w-xs truncate",children:i.address})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(Q,{children:s.jsxs(se,{variant:"secondary",children:[i.visits," visit",i.visits>1?"s":""]})}),s.jsxs(Q,{className:"font-bold text-green-600",children:["$",i.totalSpent]}),s.jsx(Q,{className:"text-sm text-muted-foreground",children:i.lastVisit})]},o))})]})})]})]})}var dw="Progress",hw=100,[LK,qde]=ns(dw),[FK,BK]=LK(dw),sT=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=zK,...o}=e;(a||a===0)&&!qS(a)&&console.error(WK(`${a}`,"Progress"));const l=qS(a)?a:hw;n!==null&&!YS(n,l)&&console.error(UK(`${n}`,"Progress"));const c=YS(n,l)?n:null,d=hm(c)?i(c,l):void 0;return s.jsx(FK,{scope:r,value:c,max:l,children:s.jsx(Ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hm(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":oT(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});sT.displayName=dw;var aT="ProgressIndicator",iT=p.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=BK(aT,r);return s.jsx(Ae.div,{"data-state":oT(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});iT.displayName=aT;function zK(e,t){return`${Math.round(e/t*100)}%`}function oT(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function hm(e){return typeof e=="number"}function qS(e){return hm(e)&&!isNaN(e)&&e>0}function YS(e,t){return hm(e)&&!isNaN(e)&&e<=t&&e>=0}function WK(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hw}\`.`}function UK(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lT=sT,KK=iT;const fw=p.forwardRef(({className:e,value:t,...r},n)=>s.jsx(lT,{ref:n,className:de("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(KK,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));fw.displayName=lT.displayName;var Vp={},cT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(cT);var mw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(mw);var Hp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Hp);var qp={},uT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(uT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT,r=Hp;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,c="",d="",u=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const h=a[l];d?h==="\\"&&l+1<o?(l++,c+=a[l]):h===d?d="":c+=h:u?h==='"'||h==="'"?d=h:h==="]"?(u=!1,i.push(c),c=""):c+=h:h==="["?(u=!0,c&&(i.push(c),c="")):h==="."?c&&(i.push(c),c=""):c+=h,l++}return c&&i.push(c),i}e.toPath=n})(qp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cT,r=mw,n=Hp,a=qp;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let h=0;h<c.length;h++){if(u==null||t.isUnsafeProperty(c[h]))return d;u=u[c[h]]}return u===void 0?d:u}e.get=i})(Vp);var VK=Vp.get;const Xo=ra(VK);var dT={exports:{}},ct={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=Symbol.for("react.transitional.element"),xw=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),Jp=Symbol.for("react.consumer"),Qp=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),ex=Symbol.for("react.suspense"),tx=Symbol.for("react.suspense_list"),rx=Symbol.for("react.memo"),nx=Symbol.for("react.lazy"),HK=Symbol.for("react.view_transition"),qK=Symbol.for("react.client.reference");function as(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pw:switch(e=e.type,e){case Yp:case Xp:case Gp:case ex:case tx:case HK:return e;default:switch(e=e&&e.$$typeof,e){case Qp:case Zp:case nx:case rx:return e;case Jp:return e;default:return t}}case xw:return t}}}ct.ContextConsumer=Jp;ct.ContextProvider=Qp;ct.Element=pw;ct.ForwardRef=Zp;ct.Fragment=Yp;ct.Lazy=nx;ct.Memo=rx;ct.Portal=xw;ct.Profiler=Xp;ct.StrictMode=Gp;ct.Suspense=ex;ct.SuspenseList=tx;ct.isContextConsumer=function(e){return as(e)===Jp};ct.isContextProvider=function(e){return as(e)===Qp};ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pw};ct.isForwardRef=function(e){return as(e)===Zp};ct.isFragment=function(e){return as(e)===Yp};ct.isLazy=function(e){return as(e)===nx};ct.isMemo=function(e){return as(e)===rx};ct.isPortal=function(e){return as(e)===xw};ct.isProfiler=function(e){return as(e)===Xp};ct.isStrictMode=function(e){return as(e)===Gp};ct.isSuspense=function(e){return as(e)===ex};ct.isSuspenseList=function(e){return as(e)===tx};ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yp||e===Xp||e===Gp||e===ex||e===tx||typeof e=="object"&&e!==null&&(e.$$typeof===nx||e.$$typeof===rx||e.$$typeof===Qp||e.$$typeof===Jp||e.$$typeof===Zp||e.$$typeof===qK||e.getModuleId!==void 0)};ct.typeOf=as;dT.exports=ct;var YK=dT.exports,fr=e=>e===0?0:e>0?1:-1,fn=e=>typeof e=="number"&&e!=+e,ko=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ge=e=>(typeof e=="number"||e instanceof Number)&&!fn(e),Qs=e=>ge(e)||typeof e=="string",GK=0,gd=e=>{var t=++GK;return"".concat(e||"").concat(t)},Fr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&typeof t!="string")return n;var i;if(ko(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return fn(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},hT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function st(e,t,r){return ge(e)&&ge(t)?e+r*(t-e):t}function fT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Xo(n,t))===r)}var gt=e=>e===null||typeof e>"u",Wd=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),XK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gw(e){if(typeof e!="string")return!1;var t=XK;return t.includes(e)}var JK=["viewBox","children"],GS=["points","pathLength"],qg={svg:JK,polygon:GS,polyline:GS},vw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{gw(a)&&(n[a]=t||(i=>r[a](r,i)))}),n},QK=(e,t,r)=>n=>(e(t,r,n),null),Ud=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];gw(a)&&typeof i=="function"&&(n||(n={}),n[a]=QK(i,t,r))}),n},ZK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mT(e){if(typeof e!="string")return!1;var t=ZK;return t.includes(e)}function is(e){var t=Object.entries(e).filter(r=>{var[n]=r;return mT(n)});return Object.fromEntries(t)}var XS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",JS=null,Yg=null,pT=e=>{if(e===JS&&Array.isArray(Yg))return Yg;var t=[];return p.Children.forEach(e,r=>{gt(r)||(YK.isFragment(r)?t=t.concat(pT(r.props.children)):t.push(r))}),Yg=t,JS=e,t};function yw(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>XS(a)):n=[XS(t)],pT(e).forEach(a=>{var i=Xo(a,"type.displayName")||Xo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var sx=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,e7=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&qg?.[n])!==null&&a!==void 0?a:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||mT(t)),c=!!r&&gw(t);return o||l||c},vt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;e7((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},t7=["children","width","height","viewBox","className","style","title","desc"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function r7(e,t){if(e==null)return{};var r,n,a=n7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function n7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jw=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=r7(e,t7),h=i||{width:n,height:a,x:0,y:0},m=Ve("recharts-surface",o);return p.createElement("svg",Wy({},vt(u,!0,"svg"),{className:m,width:n,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,d),r)}),s7=["children","className"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function a7(e,t){if(e==null)return{};var r,n,a=i7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function i7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lt=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=a7(e,s7),i=Ve("recharts-layer",n);return p.createElement("g",Uy({className:i},vt(a,!0),{ref:t}),r)}),xT=p.createContext(null),o7=()=>p.useContext(xT);function dt(e){return function(){return e}}const gT=Math.cos,fm=Math.sin,As=Math.sqrt,mm=Math.PI,ax=2*mm,Ky=Math.PI,Vy=2*Ky,po=1e-6,l7=Vy-po;function vT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function c7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vT;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class u7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vT:c7(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=a-r,u=o-t,h=l-r,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>po)if(!(Math.abs(h*c-d*u)>po)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-o,v=a-l,x=c*c+d*d,g=f*f+v*v,y=Math.sqrt(x),j=Math.sqrt(m),w=i*Math.tan((Ky-Math.acos((x+m-g)/(2*y*j)))/2),b=w/j,N=w/y;Math.abs(b-1)>po&&this._append`L${t+b*u},${r+b*h}`,this._append`A${i},${i},0,0,${+(h*f>u*v)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>po||Math.abs(this._y1-u)>po)&&this._append`L${d},${u}`,n&&(m<0&&(m=m%Vy+Vy),m>l7?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=u}`:m>po&&this._append`A${n},${n},0,${+(m>=Ky)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ww(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new u7(t)}function bw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yT(e){this._context=e}yT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ix(e){return new yT(e)}function jT(e){return e[0]}function wT(e){return e[1]}function bT(e,t){var r=dt(!0),n=null,a=ix,i=null,o=ww(l);e=typeof e=="function"?e:e===void 0?jT:dt(e),t=typeof t=="function"?t:t===void 0?wT:dt(t);function l(c){var d,u=(c=bw(c)).length,h,m=!1,f;for(n==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,c),+t(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:dt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:dt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Kh(e,t,r){var n=null,a=dt(!0),i=null,o=ix,l=null,c=ww(d);e=typeof e=="function"?e:e===void 0?jT:dt(+e),t=typeof t=="function"?t:dt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?wT:dt(+r);function d(h){var m,f,v,x=(h=bw(h)).length,g,y=!1,j,w=new Array(x),b=new Array(x);for(i==null&&(l=o(j=c())),m=0;m<=x;++m){if(!(m<x&&a(g=h[m],m,h))===y)if(y=!y)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=m-1;v>=f;--v)l.point(w[v],b[v]);l.lineEnd(),l.areaEnd()}y&&(w[m]=+e(g,m,h),b[m]=+t(g,m,h),l.point(n?+n(g,m,h):w[m],r?+r(g,m,h):b[m]))}if(j)return l=null,j+""||null}function u(){return bT().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:dt(+h),n=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:dt(+h),d):e},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:dt(+h),d):n},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:dt(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:dt(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:dt(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:dt(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class NT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function d7(e){return new NT(e,!0)}function h7(e){return new NT(e,!1)}const Nw={draw(e,t){const r=As(t/mm);e.moveTo(r,0),e.arc(0,0,r,0,ax)}},f7={draw(e,t){const r=As(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ST=As(1/3),m7=ST*2,p7={draw(e,t){const r=As(t/m7),n=r*ST;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},x7={draw(e,t){const r=As(t),n=-r/2;e.rect(n,n,r,r)}},g7=.8908130915292852,kT=fm(mm/10)/fm(7*mm/10),v7=fm(ax/10)*kT,y7=-gT(ax/10)*kT,j7={draw(e,t){const r=As(t*g7),n=v7*r,a=y7*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=ax*i/5,l=gT(o),c=fm(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Gg=As(3),w7={draw(e,t){const r=-As(t/(Gg*3));e.moveTo(0,r*2),e.lineTo(-Gg*r,-r),e.lineTo(Gg*r,-r),e.closePath()}},Fn=-.5,Bn=As(3)/2,Hy=1/As(12),b7=(Hy/2+1)*3,N7={draw(e,t){const r=As(t/b7),n=r/2,a=r*Hy,i=n,o=r*Hy+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Fn*n-Bn*a,Bn*n+Fn*a),e.lineTo(Fn*i-Bn*o,Bn*i+Fn*o),e.lineTo(Fn*l-Bn*c,Bn*l+Fn*c),e.lineTo(Fn*n+Bn*a,Fn*a-Bn*n),e.lineTo(Fn*i+Bn*o,Fn*o-Bn*i),e.lineTo(Fn*l+Bn*c,Fn*c-Bn*l),e.closePath()}};function S7(e,t){let r=null,n=ww(a);e=typeof e=="function"?e:dt(e||Nw),t=typeof t=="function"?t:dt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:dt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function pm(){}function xm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CT(e){this._context=e}CT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k7(e){return new CT(e)}function PT(e){this._context=e}PT.prototype={areaStart:pm,areaEnd:pm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C7(e){return new PT(e)}function _T(e){this._context=e}_T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P7(e){return new _T(e)}function ET(e){this._context=e}ET.prototype={areaStart:pm,areaEnd:pm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _7(e){return new ET(e)}function QS(e){return e<0?-1:1}function ZS(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(QS(i)+QS(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ek(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Xg(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function gm(e){this._context=e}gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xg(this,this._t0,ek(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xg(this,ek(this,r=ZS(this,e,t)),r);break;default:Xg(this,this._t0,r=ZS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function AT(e){this._context=new OT(e)}(AT.prototype=Object.create(gm.prototype)).point=function(e,t){gm.prototype.point.call(this,t,e)};function OT(e){this._context=e}OT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function E7(e){return new gm(e)}function A7(e){return new AT(e)}function TT(e){this._context=e}TT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=tk(e),a=tk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function O7(e){return new TT(e)}function ox(e,t){this._context=e,this._t=t}ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function T7(e){return new ox(e,.5)}function D7(e){return new ox(e,0)}function M7(e){return new ox(e,1)}function gc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function qy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function I7(e,t){return e[t]}function R7(e){const t=[];return t.key=e,t}function $7(){var e=dt([]),t=qy,r=gc,n=I7;function a(i){var o=Array.from(e.apply(this,arguments),R7),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(h,o[l].key,d,i)]).data=h;for(l=0,u=bw(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:dt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?qy:typeof i=="function"?i:dt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??gc,a):r},a}function L7(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}gc(e,t)}}function F7(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}gc(e,t)}}function B7(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[n][1]||0,m=u[n-1][1]||0,f=(h-m)/2,v=0;v<l;++v){var x=e[t[v]],g=x[n][1]||0,y=x[n-1][1]||0;f+=g-y}c+=h,d+=f*h}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,gc(e,t)}}var z7=["type","size","sizeType"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){W7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W7(e,t,r){return(t=U7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V7(e,t){if(e==null)return{};var r,n,a=H7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function H7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DT={symbolCircle:Nw,symbolCross:f7,symbolDiamond:p7,symbolSquare:x7,symbolStar:j7,symbolTriangle:w7,symbolWye:N7},q7=Math.PI/180,Y7=e=>{var t="symbol".concat(Wd(e));return DT[t]||Nw},G7=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*q7;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},X7=(e,t)=>{DT["symbol".concat(Wd(e))]=t},Sw=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=V7(e,z7),i=nk(nk({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var m=Y7(o),f=S7().type(m).size(G7(r,n,o));return f()},{className:c,cx:d,cy:u}=i,h=vt(i,!0);return d===+d&&u===+u&&r===+r?p.createElement("path",Yy({},h,{className:Ve("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};Sw.registerSymbol=X7;function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(null,arguments)}function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){kw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kw(e,t,r){return(t=Q7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7(e){var t=Z7(e,"string");return typeof t=="symbol"?t:t+""}function Z7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zn=32;class Cw extends p.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=zn/2,i=zn/6,o=zn/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return p.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:zn,y2:a,className:"recharts-legend-icon"});if(c==="line")return p.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(zn,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return p.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(zn/8,"h").concat(zn,"v").concat(zn*3/4,"h").concat(-zn,"z"),className:"recharts-legend-icon"});if(p.isValidElement(t.legendIcon)){var d=J7({},t);return delete d.legendIcon,p.cloneElement(t.legendIcon,d)}return p.createElement(Sw,{fill:l,cx:a,cy:a,size:zn,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:zn,height:zn},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,h)=>{var m=u.formatter||a,f=Ve({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:u.inactive});if(u.type==="none")return null;var v=u.inactive?i:u.color,x=m?m(u.value,u,h):u.value;return p.createElement("li",Gy({className:f,style:c,key:"legend-item-".concat(h)},Ud(this.props,u,h)),p.createElement(jw,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(x," legend icon")},this.renderIcon(u,o)),p.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return p.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}kw(Cw,"displayName","Legend");kw(Cw,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var MT={},IT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(IT);var Pw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Pw);var RT={},lx={},$T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})($T);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(lx);var LT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(LT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lx,r=LT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(RT);var FT={},BT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vp;function r(n){return function(a){return t.get(a,n)}}e.property=r})(BT);var zT={},Jg={},Qg={},_w={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(_w);var Ew={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ew);var Aw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Aw);var ak;function eV(){return ak||(ak=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow(),r=_w,n=Ew,a=Aw;function i(h,m,f){return typeof f!="function"?t.isMatch(h,m):o(h,m,function v(x,g,y,j,w,b){const N=f(x,g,y,j,w,b);return N!==void 0?!!N:o(x,g,v,b)},new Map)}function o(h,m,f,v){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,f,v);case"function":return Object.keys(m).length>0?o(h,{...m},f,v):a.eq(h,m);default:return r.isObject(h)?typeof m=="string"?m==="":!0:a.eq(h,m)}}function l(h,m,f,v){if(m==null)return!0;if(Array.isArray(m))return d(h,m,f,v);if(m instanceof Map)return c(h,m,f,v);if(m instanceof Set)return u(h,m,f,v);const x=Object.keys(m);if(h==null)return x.length===0;if(x.length===0)return!0;if(v&&v.has(m))return v.get(m)===h;v&&v.set(m,h);try{for(let g=0;g<x.length;g++){const y=x[g];if(!n.isPrimitive(h)&&!(y in h)||m[y]===void 0&&h[y]!==void 0||m[y]===null&&h[y]!==null||!f(h[y],m[y],y,h,m,v))return!1}return!0}finally{v&&v.delete(m)}}function c(h,m,f,v){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[x,g]of m.entries()){const y=h.get(x);if(f(y,g,x,h,m,v)===!1)return!1}return!0}function d(h,m,f,v){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const x=new Set;for(let g=0;g<m.length;g++){const y=m[g];let j=!1;for(let w=0;w<h.length;w++){if(x.has(w))continue;const b=h[w];let N=!1;if(f(b,y,g,h,m,v)&&(N=!0),N){x.add(w),j=!0;break}}if(!j)return!1}return!0}function u(h,m,f,v){return m.size===0?!0:h instanceof Set?d([...h],[...m],f,v):!1}e.isMatchWith=i,e.isSetMatch=u}(Qg)),Qg}var ik;function Ow(){return ik||(ik=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eV();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(Jg)),Jg}var WT={},Tw={},UT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(UT);var Dw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Dw);var Mw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",h="[object Function]",m="[object ArrayBuffer]",f="[object Object]",v="[object Error]",x="[object DataView]",g="[object Uint8Array]",y="[object Uint8ClampedArray]",j="[object Uint16Array]",w="[object Uint32Array]",b="[object BigUint64Array]",N="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",C="[object BigInt64Array]",A="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=b,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=v,e.float32ArrayTag=A,e.float64ArrayTag=P,e.functionTag=h,e.int16ArrayTag=k,e.int32ArrayTag=S,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=f,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=j,e.uint32ArrayTag=w,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=y})(Mw);var KT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(KT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT,r=Dw,n=Mw,a=Ew,i=KT;function o(u,h){return l(u,void 0,u,new Map,h)}function l(u,h,m,f=new Map,v=void 0){const x=v?.(u,h,m,f);if(x!==void 0)return x;if(a.isPrimitive(u))return u;if(f.has(u))return f.get(u);if(Array.isArray(u)){const g=new Array(u.length);f.set(u,g);for(let y=0;y<u.length;y++)g[y]=l(u[y],y,m,f,v);return Object.hasOwn(u,"index")&&(g.index=u.index),Object.hasOwn(u,"input")&&(g.input=u.input),g}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const g=new RegExp(u.source,u.flags);return g.lastIndex=u.lastIndex,g}if(u instanceof Map){const g=new Map;f.set(u,g);for(const[y,j]of u)g.set(y,l(j,y,m,f,v));return g}if(u instanceof Set){const g=new Set;f.set(u,g);for(const y of u)g.add(l(y,void 0,m,f,v));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const g=new(Object.getPrototypeOf(u)).constructor(u.length);f.set(u,g);for(let y=0;y<u.length;y++)g[y]=l(u[y],y,m,f,v);return g}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const g=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return f.set(u,g),c(g,u,m,f,v),g}if(typeof File<"u"&&u instanceof File){const g=new File([u],u.name,{type:u.type});return f.set(u,g),c(g,u,m,f,v),g}if(typeof Blob<"u"&&u instanceof Blob){const g=new Blob([u],{type:u.type});return f.set(u,g),c(g,u,m,f,v),g}if(u instanceof Error){const g=new u.constructor;return f.set(u,g),g.message=u.message,g.name=u.name,g.stack=u.stack,g.cause=u.cause,c(g,u,m,f,v),g}if(u instanceof Boolean){const g=new Boolean(u.valueOf());return f.set(u,g),c(g,u,m,f,v),g}if(u instanceof Number){const g=new Number(u.valueOf());return f.set(u,g),c(g,u,m,f,v),g}if(u instanceof String){const g=new String(u.valueOf());return f.set(u,g),c(g,u,m,f,v),g}if(typeof u=="object"&&d(u)){const g=Object.create(Object.getPrototypeOf(u));return f.set(u,g),c(g,u,m,f,v),g}return u}function c(u,h,m=u,f,v){const x=[...Object.keys(h),...t.getSymbols(h)];for(let g=0;g<x.length;g++){const y=x[g],j=Object.getOwnPropertyDescriptor(u,y);(j==null||j.writable)&&(u[y]=l(h[y],y,m,f,v))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(Tw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tw;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(WT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow(),r=WT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(zT);var VT={},HT={},qT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tw,r=Mw;function n(a,i){return t.cloneDeepWith(a,(o,l,c,d)=>{const u=i?.(o,l,c,d);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a?.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(qT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(HT);var YT={},Iw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Iw);var GT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(GT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mw,r=Iw,n=GT,a=qp;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?c=a.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const h=c[u];if((d==null||!Object.hasOwn(d,h))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(h)&&h<d.length))return!1;d=d[h]}return!0}e.has=i})(YT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow(),r=Hp,n=HT,a=Vp,i=YT;function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=a.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(VT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pw,r=BT,n=zT,a=VT;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(FT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT,r=Pw,n=RT,a=FT;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(MT);var tV=MT.uniqBy;const ok=ra(tV);function XT(e,t,r){return t===!0?ok(e,r):typeof t=="function"?ok(e,t):e}var JT={exports:{}},QT={},ZT={exports:{}},eD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=p;function rV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nV=typeof Object.is=="function"?Object.is:rV,sV=vc.useState,aV=vc.useEffect,iV=vc.useLayoutEffect,oV=vc.useDebugValue;function lV(e,t){var r=t(),n=sV({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return iV(function(){a.value=r,a.getSnapshot=t,Zg(a)&&i({inst:a})},[e,r,t]),aV(function(){return Zg(a)&&i({inst:a}),e(function(){Zg(a)&&i({inst:a})})},[e]),oV(r),r}function Zg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nV(e,r)}catch{return!0}}function cV(e,t){return t()}var uV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cV:lV;eD.useSyncExternalStore=vc.useSyncExternalStore!==void 0?vc.useSyncExternalStore:uV;ZT.exports=eD;var dV=ZT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=p,hV=dV;function fV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mV=typeof Object.is=="function"?Object.is:fV,pV=hV.useSyncExternalStore,xV=cx.useRef,gV=cx.useEffect,vV=cx.useMemo,yV=cx.useDebugValue;QT.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=xV(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=vV(function(){function c(f){if(!d){if(d=!0,u=f,f=n(f),a!==void 0&&o.hasValue){var v=o.value;if(a(v,f))return h=v}return h=f}if(v=h,mV(u,f))return v;var x=n(f);return a!==void 0&&a(v,x)?(u=f,v):(u=f,h=x)}var d=!1,u,h,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=pV(e,i[0],i[1]);return gV(function(){o.hasValue=!0,o.value=l},[l]),yV(l),l};JT.exports=QT;var jV=JT.exports,Rw=p.createContext(null),wV=e=>e,It=()=>{var e=p.useContext(Rw);return e?e.store.dispatch:wV},kf=()=>{},bV=()=>kf,NV=(e,t)=>e===t;function xe(e){var t=p.useContext(Rw);return jV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:bV,t?t.store.getState:kf,t?t.store.getState:kf,t?e:kf,NV)}function SV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function kV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function CV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var lk=e=>Array.isArray(e)?e:[e];function PV(e){const t=Array.isArray(e[0])?e[0]:e;return CV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _V(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var EV=class{constructor(e){this.value=e}deref(){return this.value}},AV=typeof WeakRef<"u"?WeakRef:EV,OV=0,ck=1;function Vh(){return{s:OV,v:void 0,o:null,p:null}}function tD(e,t={}){let r=Vh();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const f=arguments[h];if(typeof f=="function"||typeof f=="object"&&f!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const x=v.get(f);x===void 0?(l=Vh(),v.set(f,l)):l=x}else{let v=l.p;v===null&&(l.p=v=new Map);const x=v.get(f);x===void 0?(l=Vh(),v.set(f,l)):l=x}}const d=l;let u;if(l.s===ck)u=l.v;else if(u=e.apply(null,arguments),i++,n){const h=a?.deref?.()??a;h!=null&&n(h,u)&&(u=h,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new AV(u):u}return d.s=ck,d.v=u,u}return o.clearCache=()=>{r=Vh(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function TV(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),SV(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:f=tD,argsMemoizeOptions:v=[],devModeChecks:x={}}=u,g=lk(m),y=lk(v),j=PV(a),w=h(function(){return i++,d.apply(null,arguments)},...g),b=f(function(){o++;const k=_V(j,arguments);return l=w.apply(null,k),l},...y);return Object.assign(b,{resultFunc:d,memoizedResultFunc:w,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var Y=TV(tD),DV=Object.assign((e,t=Y)=>{kV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>DV}),rD={},nD={},sD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(sD);var aD={},$w={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})($w);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(aD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sD,r=aD,n=qp;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(f=>String(f));const d=(f,v)=>{let x=f;for(let g=0;g<v.length&&x!=null;++g)x=x[v[g]];return x},u=(f,v)=>v==null||f==null?v:typeof f=="object"&&"key"in f?Object.hasOwn(v,f.key)?v[f.key]:d(v,f.path):typeof f=="function"?f(v):Array.isArray(f)?d(v,f):typeof v=="object"?v[f]:v,h=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||r.isKey(f)?f:{key:f,path:n.toPath(f)}));return i.map(f=>({original:f,criteria:h.map(v=>u(v,f))})).slice().sort((f,v)=>{for(let x=0;x<h.length;x++){const g=t.compareValues(f.criteria[x],v.criteria[x],l[x]);if(g!==0)return g}return 0}).map(f=>f.original)}e.orderBy=a})(nD);var iD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):a.push(u)}};return o(r,0),a}e.flatten=t})(iD);var Lw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iw,r=lx,n=_w,a=Aw;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(Lw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nD,r=iD,n=Lw;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(rD);var MV=rD.sortBy;const ux=ra(MV);var oD=e=>e.legend.settings,IV=e=>e.legend.size,RV=e=>e.legend.payload,$V=Y([RV,oD],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ux(n,r):n});function LV(){return xe($V)}var Hh=1;function lD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Hh||Math.abs(o.left-t.left)>Hh||Math.abs(o.top-t.top)>Hh||Math.abs(o.width-t.width)>Hh)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function br(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var FV=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),uk=FV,ev=()=>Math.random().toString(36).substring(7).split("").join("."),BV={INIT:`@@redux/INIT${ev()}`,REPLACE:`@@redux/REPLACE${ev()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ev()}`},vm=BV;function Fw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function cD(e,t,r){if(typeof e!="function")throw new Error(br(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(br(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(br(1));return r(cD)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,y)=>{o.set(y,g)}))}function u(){if(c)throw new Error(br(3));return a}function h(g){if(typeof g!="function")throw new Error(br(4));if(c)throw new Error(br(5));let y=!0;d();const j=l++;return o.set(j,g),function(){if(y){if(c)throw new Error(br(6));y=!1,d(),o.delete(j),i=null}}}function m(g){if(!Fw(g))throw new Error(br(7));if(typeof g.type>"u")throw new Error(br(8));if(typeof g.type!="string")throw new Error(br(17));if(c)throw new Error(br(9));try{c=!0,a=n(a,g)}finally{c=!1}return(i=o).forEach(j=>{j()}),g}function f(g){if(typeof g!="function")throw new Error(br(10));n=g,m({type:vm.REPLACE})}function v(){const g=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(br(11));function j(){const b=y;b.next&&b.next(u())}return j(),{unsubscribe:g(j)}},[uk](){return this}}}return m({type:vm.INIT}),{dispatch:m,subscribe:h,getState:u,replaceReducer:f,[uk]:v}}function zV(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:vm.INIT})>"u")throw new Error(br(12));if(typeof r(void 0,{type:vm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(br(13))})}function uD(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{zV(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const d={};for(let u=0;u<n.length;u++){const h=n[u],m=r[h],f=o[h],v=m(f,l);if(typeof v>"u")throw l&&l.type,new Error(br(14));d[h]=v,c=c||v!==f}return c=c||n.length!==Object.keys(o).length,c?d:o}}function ym(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function WV(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(br(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=ym(...l)(a.dispatch),{...a,dispatch:i}}}function dD(e){return Fw(e)&&"type"in e&&typeof e.type=="string"}var hD=Symbol.for("immer-nothing"),dk=Symbol.for("immer-draftable"),Mn=Symbol.for("immer-state");function ys(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yc=Object.getPrototypeOf;function Jo(e){return!!e&&!!e[Mn]}function Ra(e){return e?fD(e)||Array.isArray(e)||!!e[dk]||!!e.constructor?.[dk]||Kd(e)||hx(e):!1}var UV=Object.prototype.constructor.toString();function fD(e){if(!e||typeof e!="object")return!1;const t=yc(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===UV}function jm(e,t){dx(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function dx(e){const t=e[Mn];return t?t.type_:Array.isArray(e)?1:Kd(e)?2:hx(e)?3:0}function Xy(e,t){return dx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mD(e,t,r){const n=dx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function KV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Kd(e){return e instanceof Map}function hx(e){return e instanceof Set}function xo(e){return e.copy_||e.base_}function Jy(e,t){if(Kd(e))return new Map(e);if(hx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=fD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Mn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(yc(e),n)}else{const n=yc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Bw(e,t=!1){return fx(e)||Jo(e)||!Ra(e)||(dx(e)>1&&Object.defineProperties(e,{set:{value:qh},add:{value:qh},clear:{value:qh},delete:{value:qh}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Bw(r,!0))),e}function qh(){ys(2)}function fx(e){return Object.isFrozen(e)}var VV={};function Qo(e){const t=VV[e];return t||ys(0,e),t}var vd;function pD(){return vd}function HV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hk(e,t){t&&(Qo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Qy(e){Zy(e),e.drafts_.forEach(qV),e.drafts_=null}function Zy(e){e===vd&&(vd=e.parent_)}function fk(e){return vd=HV(vd,e)}function qV(e){const t=e[Mn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Mn].modified_&&(Qy(t),ys(4)),Ra(e)&&(e=wm(t,e),t.parent_||bm(t,e)),t.patches_&&Qo("Patches").generateReplacementPatches_(r[Mn].base_,e,t.patches_,t.inversePatches_)):e=wm(t,r,[]),Qy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hD?e:void 0}function wm(e,t,r){if(fx(t))return t;const n=t[Mn];if(!n)return jm(t,(a,i)=>pk(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return bm(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),jm(i,(l,c)=>pk(e,n,a,l,c,r,o)),bm(e,a,!1),r&&e.patches_&&Qo("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function pk(e,t,r,n,a,i,o){if(Jo(a)){const l=i&&t&&t.type_!==3&&!Xy(t.assigned_,n)?i.concat(n):void 0,c=wm(e,a,l);if(mD(r,n,c),Jo(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ra(a)&&!fx(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Kd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&bm(e,a)}}function bm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bw(t,r)}function YV(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:pD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=zw;r&&(a=[n],i=yd);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var zw={get(e,t){if(t===Mn)return e;const r=xo(e);if(!Xy(r,t))return GV(e,r,t);const n=r[t];return e.finalized_||!Ra(n)?n:n===tv(e.base_,t)?(rv(e),e.copy_[t]=t0(n,e)):n},has(e,t){return t in xo(e)},ownKeys(e){return Reflect.ownKeys(xo(e))},set(e,t,r){const n=xD(xo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=tv(xo(e),t),i=a?.[Mn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(KV(r,a)&&(r!==void 0||Xy(e.base_,t)))return!0;rv(e),e0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rv(e),e0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=xo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ys(11)},getPrototypeOf(e){return yc(e.base_)},setPrototypeOf(){ys(12)}},yd={};jm(zw,(e,t)=>{yd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yd.deleteProperty=function(e,t){return yd.set.call(this,e,t,void 0)};yd.set=function(e,t,r){return zw.set.call(this,e[0],t,r,e[0])};function tv(e,t){const r=e[Mn];return(r?xo(r):e)[t]}function GV(e,t,r){const n=xD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function xD(e,t){if(!(t in e))return;let r=yc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yc(r)}}function e0(e){e.modified_||(e.modified_=!0,e.parent_&&e0(e.parent_))}function rv(e){e.copy_||(e.copy_=Jy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var XV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&ys(6),n!==void 0&&typeof n!="function"&&ys(7);let a;if(Ra(t)){const i=fk(this),o=t0(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Qy(i):Zy(i)}return hk(i,n),mk(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===hD&&(a=void 0),this.autoFreeze_&&Bw(a,!0),n){const i=[],o=[];Qo("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else ys(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ra(e)||ys(8),Jo(e)&&(e=ka(e));const t=fk(this),r=t0(e,void 0);return r[Mn].isManual_=!0,Zy(t),r}finishDraft(e,t){const r=e&&e[Mn];(!r||!r.isManual_)&&ys(9);const{scope_:n}=r;return hk(n,t),mk(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Qo("Patches").applyPatches_;return Jo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function t0(e,t){const r=Kd(e)?Qo("MapSet").proxyMap_(e,t):hx(e)?Qo("MapSet").proxySet_(e,t):YV(e,t);return(t?t.scope_:pD()).drafts_.push(r),r}function ka(e){return Jo(e)||ys(10,e),gD(e)}function gD(e){if(!Ra(e)||fx(e))return e;const t=e[Mn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Jy(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Jy(e,!0);return jm(r,(n,a)=>{mD(r,n,gD(a))}),t&&(t.finalized_=!1),r}var JV=new XV,vD=JV.produce;function yD(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var QV=yD(),ZV=yD,eH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ym:ym.apply(null,arguments)};function ts(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(On(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>dD(n)&&n.type===e,r}var jD=class Au extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Au.prototype)}static get[Symbol.species](){return Au}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Au(...t[0].concat(this)):new Au(...t.concat(this))}};function xk(e){return Ra(e)?vD(e,()=>{}):e}function Yh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function tH(e){return typeof e=="boolean"}var rH=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new jD;return r&&(tH(r)?o.push(QV):o.push(ZV(r.extraArgument))),o},nH="RTK_autoBatch",gk=e=>t=>{setTimeout(t,e)},sH=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gk(10):e.type==="callback"?e.queueNotification:gk(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const h=()=>a&&u(),m=n.subscribe(h);return l.add(u),()=>{m(),l.delete(u)}},dispatch(u){try{return a=!u?.meta?.[nH],i=!a,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{a=!0}}})},aH=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new jD(e);return n&&a.push(sH(typeof n=="object"?n:void 0)),a};function iH(e){const t=rH(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Fw(r))c=uD(r);else throw new Error(On(1));let d;typeof n=="function"?d=n(t):d=t();let u=ym;a&&(u=eH({trace:!1,...typeof a=="object"&&a}));const h=WV(...d),m=aH(h);let f=typeof l=="function"?l(m):m();const v=u(...f);return cD(c,o,v)}function wD(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(On(28));if(l in t)throw new Error(On(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function oH(e){return typeof e=="function"}function lH(e,t){let[r,n,a]=wD(t),i;if(oH(e))i=()=>xk(e());else{const l=xk(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,h)=>{if(h)if(Jo(u)){const f=h(u,c);return f===void 0?u:f}else{if(Ra(u))return vD(u,m=>h(m,c));{const m=h(u,c);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},l)}return o.getInitialState=i,o}var cH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uH=(e=21)=>{let t="",r=e;for(;r--;)t+=cH[Math.random()*64|0];return t},dH=Symbol.for("rtk-slice-createasyncthunk");function hH(e,t){return`${e}/${t}`}function fH({creators:e}={}){const t=e?.asyncThunk?.[dH];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(On(11));typeof process<"u";const o=(typeof n.reducers=="function"?n.reducers(pH()):n.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,b){const N=typeof w=="string"?w:w.type;if(!N)throw new Error(On(12));if(N in c.sliceCaseReducersByType)throw new Error(On(13));return c.sliceCaseReducersByType[N]=b,d},addMatcher(w,b){return c.sliceMatchers.push({matcher:w,reducer:b}),d},exposeAction(w,b){return c.actionCreators[w]=b,d},exposeCaseReducer(w,b){return c.sliceCaseReducersByName[w]=b,d}};l.forEach(w=>{const b=o[w],N={reducerName:w,type:hH(a,w),createNotation:typeof n.reducers=="function"};gH(b)?yH(N,b,d,t):xH(N,b,d)});function u(){const[w={},b=[],N=void 0]=typeof n.extraReducers=="function"?wD(n.extraReducers):[n.extraReducers],k={...w,...c.sliceCaseReducersByType};return lH(n.initialState,S=>{for(let C in k)S.addCase(C,k[C]);for(let C of c.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of b)S.addMatcher(C.matcher,C.reducer);N&&S.addDefaultCase(N)})}const h=w=>w,m=new Map,f=new WeakMap;let v;function x(w,b){return v||(v=u()),v(w,b)}function g(){return v||(v=u()),v.getInitialState()}function y(w,b=!1){function N(S){let C=S[w];return typeof C>"u"&&b&&(C=Yh(f,N,g)),C}function k(S=h){const C=Yh(m,b,()=>new WeakMap);return Yh(C,S,()=>{const A={};for(const[P,D]of Object.entries(n.selectors??{}))A[P]=mH(D,S,()=>Yh(f,S,g),b);return A})}return{reducerPath:w,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const j={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...y(i),injectInto(w,{reducerPath:b,...N}={}){const k=b??i;return w.inject({reducerPath:k,reducer:x},N),{...j,...y(k,!0)}}};return j}}function mH(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Ln=fH();function pH(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xH({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!vH(n))throw new Error(On(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ts(e,o):ts(e))}function gH(e){return e._reducerDefinitionType==="asyncThunk"}function vH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yH({type:e,reducerName:t},r,n,a){if(!a)throw new Error(On(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,h=a(e,i,u);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),d&&n.addMatcher(h.settled,d),n.exposeCaseReducer(t,{fulfilled:o||Gh,pending:l||Gh,rejected:c||Gh,settled:d||Gh})}function Gh(){}var jH="task",bD="listener",ND="completed",Ww="cancelled",wH=`task-${Ww}`,bH=`task-${ND}`,r0=`${bD}-${Ww}`,NH=`${bD}-${ND}`,mx=class{constructor(e){this.code=e,this.message=`${jH} ${Ww} (reason: ${e})`}name="TaskAbortError";message},Uw=(e,t)=>{if(typeof e!="function")throw new TypeError(On(32))},Nm=()=>{},SD=(e,t=Nm)=>(e.catch(t),e),kD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Mo=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Io=e=>{if(e.aborted){const{reason:t}=e;throw new mx(t)}};function CD(e,t){let r=Nm;return new Promise((n,a)=>{const i=()=>a(new mx(e.reason));if(e.aborted){i();return}r=kD(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Nm})}var SH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof mx?"cancelled":"rejected",error:r}}finally{t?.()}},Sm=e=>t=>SD(CD(e,t).then(r=>(Io(e),r))),PD=e=>{const t=Sm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:tc}=Object,vk={},px="listenerMiddleware",kH=(e,t)=>{const r=n=>kD(e,()=>Mo(n,e.reason));return(n,a)=>{Uw(n);const i=new AbortController;r(i);const o=SH(async()=>{Io(e),Io(i.signal);const l=await n({pause:Sm(i.signal),delay:PD(i.signal),signal:i.signal});return Io(i.signal),l},()=>Mo(i,bH));return a?.autoJoin&&t.push(o.catch(Nm)),{result:Sm(e)(o),cancel(){Mo(i,wH)}}}},CH=(e,t)=>{const r=async(n,a)=>{Io(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});i=()=>{u(),d()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await CD(t,Promise.race(l));return Io(t),c}finally{i()}};return(n,a)=>SD(r(n,a))},_D=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=ts(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(On(21));return Uw(i),{predicate:a,type:t,effect:i}},ED=tc(e=>{const{type:t,predicate:r,effect:n}=_D(e);return{id:uH(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(On(22))}}},{withTypes:()=>ED}),yk=(e,t)=>{const{type:r,effect:n,predicate:a}=_D(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},n0=e=>{e.pending.forEach(t=>{Mo(t,r0)})},PH=e=>()=>{e.forEach(n0),e.clear()},jk=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},AD=tc(ts(`${px}/add`),{withTypes:()=>AD}),_H=ts(`${px}/removeAll`),OD=tc(ts(`${px}/remove`),{withTypes:()=>OD}),EH=(...e)=>{console.error(`${px}/error`,...e)},Vd=(e={})=>{const t=new Map,{extra:r,onError:n=EH}=e;Uw(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),h=>{u.unsubscribe(),h?.cancelActive&&n0(u)}),i=u=>{const h=yk(t,u)??ED(u);return a(h)};tc(i,{withTypes:()=>i});const o=u=>{const h=yk(t,u);return h&&(h.unsubscribe(),u.cancelActive&&n0(h)),!!h};tc(o,{withTypes:()=>o});const l=async(u,h,m,f)=>{const v=new AbortController,x=CH(i,v.signal),g=[];try{u.pending.add(v),await Promise.resolve(u.effect(h,tc({},m,{getOriginalState:f,condition:(y,j)=>x(y,j).then(Boolean),take:x,delay:PD(v.signal),pause:Sm(v.signal),extra:r,signal:v.signal,fork:kH(v.signal,g),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,j,w)=>{y!==v&&(Mo(y,r0),w.delete(y))})},cancel:()=>{Mo(v,r0),u.pending.delete(v)},throwIfCancelled:()=>{Io(v.signal)}})))}catch(y){y instanceof mx||jk(n,y,{raisedBy:"effect"})}finally{await Promise.all(g),Mo(v,NH),u.pending.delete(v)}},c=PH(t);return{middleware:u=>h=>m=>{if(!dD(m))return h(m);if(AD.match(m))return i(m.payload);if(_H.match(m)){c();return}if(OD.match(m))return o(m.payload);let f=u.getState();const v=()=>{if(f===vk)throw new Error(On(23));return f};let x;try{if(x=h(m),t.size>0){const g=u.getState(),y=Array.from(t.values());for(const j of y){let w=!1;try{w=j.predicate(m,g,f)}catch(b){w=!1,jk(n,b,{raisedBy:"predicate"})}w&&l(j,m,u,v)}}}finally{f=vk}return x},startListening:i,stopListening:o,clearListeners:c}};function On(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var AH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TD=Ln({name:"chartLayout",initialState:AH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:OH,setLayout:TH,setChartSize:DH,setScale:MH}=TD.actions,IH=TD.reducer;function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var km=Math.PI/180,FH=e=>e*180/Math.PI,Gt=(e,t,r,n)=>({x:e+Math.cos(-km*n)*r,y:t+Math.sin(-km*n)*r}),DD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},BH=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},zH=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=BH({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:FH(c),angleInRadian:c}},WH=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},UH=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},KH=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=zH({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:d}=WH(t),u=i,h;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;h=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;h=u>=d&&u<=c}return h?bk(bk({},t),{},{radius:a,angle:UH(u,t)}):null};function MD(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){VH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VH(e,t,r){return(t=HH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=qH(e,"string");return typeof t=="symbol"?t:t+""}function qH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function at(e,t,r){return gt(e)||gt(t)?r:Qs(t)?Xo(e,t,r):typeof t=="function"?t(e):r}var YH=(e,t,r,n,a)=>{var i,o=-1,l=(i=t?.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,h=c>=l-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(fr(u-d)!==fr(h-u)){var f=[];if(fr(h-u)===fr(a[1]-a[0])){m=h;var v=u+a[1]-a[0];f[0]=Math.min(v,(v+d)/2),f[1]=Math.max(v,(v+d)/2)}else{m=d;var x=h+a[1]-a[0];f[0]=Math.min(u,(x+u)/2),f[1]=Math.max(u,(x+u)/2)}var g=[Math.min(u,(m+u)/2),Math.max(u,(m+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){({index:o}=r[c]);break}}else{var y=Math.min(d,h),j=Math.max(d,h);if(e>(y+u)/2&&e<=(j+u)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},GH=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ge(e[i]))return Vn(Vn({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ge(e[o]))return Vn(Vn({},e),{},{[o]:e[o]+(a||0)})}return e},sa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ID=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},RD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:h,niceTicks:m,axisType:f}=e;if(!o)return null;var v=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=(t||r)&&a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(x=f==="angleAxis"&&i&&i.length>=2?fr(i[0]-i[1])*2*x:x,t&&(h||m)){var g=(h||m||[]).map((y,j)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+x,value:y,offset:x,index:j}});return g.filter(y=>!fn(y.coordinate))}return c&&d?d.map((y,j)=>({coordinate:o(y)+x,value:y,index:j,offset:x})):o.ticks&&!r&&u!=null?o.ticks(u).map((y,j)=>({coordinate:o(y)+x,value:y,offset:x,index:j})):o.domain().map((y,j)=>({coordinate:o(y)+x,value:n?n[y]:y,index:j,offset:x}))},Sk=1e-4,XH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Sk,i=Math.max(n[0],n[1])+Sk,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},JH=(e,t)=>{if(!t||t.length!==2||!ge(t[0])||!ge(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(a[0]=r),(!ge(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},QH=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=fn(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},ZH=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=fn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},e9={sign:QH,expand:L7,none:gc,silhouette:F7,wiggle:B7,positive:ZH},t9=(e,t,r)=>{var n=e9[r],a=$7().keys(t).value((i,o)=>+at(i,o,0)).order(qy).offset(n);return a(e)};function $D(e){return e==null?void 0:String(e)}function Cm(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gt(a[t.dataKey])){var l=fT(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=at(a,gt(o)?t.dataKey:o);return gt(c)?null:t.scale(c)}var kk=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=at(i,t.dataKey,t.scale.domain()[o]);return gt(l)?null:t.scale(l)-a/2+n},r9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},n9=e=>{var t=e.flat(2).filter(ge);return[Math.min(...t),Math.max(...t)]},s9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],a9=(e,t,r)=>{if(e!=null)return s9(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=MD(d,t,r),h=n9(u);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Ck=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ux(t,u=>u.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function _k(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Vn(Vn({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Qi(e,t){if(e)return String(e);if(typeof t=="string")return t}function i9(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?KH({x:e,y:t},n):null}var o9=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Vn(Vn(Vn({},n),Gt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return Vn(Vn(Vn({},n),Gt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},l9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Wa=e=>e.layout.width,Ua=e=>e.layout.height,c9=e=>e.layout.scale,LD=e=>e.layout.margin,xx=Y(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),gx=Y(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),FD="data-recharts-item-index",BD="data-recharts-item-data-key",Hd=60;function Ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(r),!0).forEach(function(n){u9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u9(e,t,r){return(t=d9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f9=e=>e.brush.height;function m9(e){var t=gx(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Hd;return r+a}return r},0)}function p9(e){var t=gx(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Hd;return r+a}return r},0)}function x9(e){var t=xx(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function g9(e){var t=xx(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var sr=Y([Wa,Ua,LD,f9,m9,p9,x9,g9,oD,IV],(e,t,r,n,a,i,o,l,c,d)=>{var u={left:(r.left||0)+a,right:(r.right||0)+i},h={top:(r.top||0)+o,bottom:(r.bottom||0)+l},m=Xh(Xh({},h),u),f=m.bottom;m.bottom+=n,m=GH(m,c,d);var v=e-m.left-m.right,x=t-m.top-m.bottom;return Xh(Xh({brushBottom:f},m),{},{width:Math.max(v,0),height:Math.max(x,0)})}),v9=Y(sr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Kw=Y(Wa,Ua,(e,t)=>({x:0,y:0,width:e,height:t})),y9=p.createContext(null),Wr=()=>p.useContext(y9)!=null,vx=e=>e.brush,yx=Y([vx,sr,LD],(e,t,r)=>({height:e.height,x:ge(e.x)?e.x:t.left,y:ge(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ge(e.width)?e.width:t.width})),Vw=()=>{var e,t=Wr(),r=xe(v9),n=xe(yx),a=(e=xe(vx))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},j9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zD=()=>{var e;return(e=xe(sr))!==null&&e!==void 0?e:j9},Hw=()=>xe(Wa),qw=()=>xe(Ua),w9=()=>xe(e=>e.layout.margin),Ue=e=>e.layout.layoutType,qd=()=>xe(Ue),b9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WD=Ln({name:"legend",initialState:b9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ka(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Ak,setLegendSettings:N9,addLegendPayload:UD,removeLegendPayload:KD}=WD.actions,S9=WD.reducer,k9=["contextPayload"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(n){Yw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yw(e,t,r){return(t=C9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=P9(e,"string");return typeof t=="symbol"?t:t+""}function P9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _9(e,t){if(e==null)return{};var r,n,a=E9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function E9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A9(e){return e.value}function O9(e){var{contextPayload:t}=e,r=_9(e,k9),n=XT(t,e.payloadUniqBy,A9),a=jc(jc({},r),{},{payload:n});return p.isValidElement(e.content)?p.cloneElement(e.content,a):typeof e.content=="function"?p.createElement(e.content,a):p.createElement(Cw,a)}function T9(e,t,r,n,a,i){var{layout:o,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((a||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),jc(jc({},d),u)}function D9(e){var t=It();return p.useEffect(()=>{t(N9(e))},[t,e]),null}function M9(e){var t=It();return p.useEffect(()=>(t(Ak(e)),()=>{t(Ak({width:0,height:0}))}),[t,e]),null}function I9(e){var t=LV(),r=o7(),n=w9(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[c,d]=lD([t]),u=Hw(),h=qw();if(u==null||h==null)return null;var m=u-(n.left||0)-(n.right||0),f=il.getWidthOrHeight(e.layout,i,a,m),v=l?o:jc(jc({position:"absolute",width:f?.width||a||"auto",height:f?.height||i||"auto"},T9(o,e,n,u,h,c)),o),x=l??r;if(x==null)return null;var g=p.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},p.createElement(D9,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),p.createElement(M9,{width:c.width,height:c.height}),p.createElement(O9,s0({},e,f,{margin:n,chartWidth:u,chartHeight:h,contextPayload:t})));return Vi.createPortal(g,x)}class il extends p.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&ge(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return p.createElement(I9,this.props)}}Yw(il,"displayName","Legend");Yw(il,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(n){R9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F9(e){return Array.isArray(e)&&Qs(e[0])&&Qs(e[1])?e.join(" ~ "):e}var B9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:h,accessibilityLayer:m=!1}=e,f=()=>{if(i&&i.length){var N={padding:0,margin:0},k=(l?ux(i,l):i).map((S,C)=>{if(S.type==="none")return null;var A=S.formatter||o||F9,{value:P,name:D}=S,E=P,R=D;if(A){var z=A(P,D,S,C,i);if(Array.isArray(z))[E,R]=z;else if(z!=null)E=z;else return null}var V=nv({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:V},Qs(R)?p.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Qs(R)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},E),p.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},v=nv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=nv({margin:0},a),g=!gt(u),y=g?u:"",j=Ve("recharts-default-tooltip",c),w=Ve("recharts-tooltip-label",d);g&&h&&i!==void 0&&i!==null&&(y=h(u,i));var b=m?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",a0({className:j,style:v},b),p.createElement("p",{className:w,style:x},p.isValidElement(y)?y:"".concat(y)),f())},fu="recharts-tooltip-wrapper",z9={visibility:"hidden"};function W9(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ve(fu,{["".concat(fu,"-right")]:ge(r)&&t&&ge(t.x)&&r>=t.x,["".concat(fu,"-left")]:ge(r)&&t&&ge(t.x)&&r<t.x,["".concat(fu,"-bottom")]:ge(n)&&t&&ge(t.y)&&n>=t.y,["".concat(fu,"-top")]:ge(n)&&t&&ge(t.y)&&n<t.y})}function Dk(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&ge(i[n]))return i[n];var u=r[n]-l-(a>0?a:0),h=r[n]+a;if(t[n])return o[n]?u:h;var m=c[n];if(m==null)return 0;if(o[n]){var f=u,v=m;return f<v?Math.max(h,m):Math.max(u,m)}if(d==null)return 0;var x=h+l,g=m+d;return x>g?Math.max(u,m):Math.max(h,m)}function U9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function K9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,h;return o.height>0&&o.width>0&&r?(u=Dk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=Dk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=U9({translateX:u,translateY:h,useTranslate3d:l})):d=z9,{cssProperties:d,cssClasses:W9({translateX:u,translateY:h,coordinate:r})}}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){i0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i0(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=H9(e,"string");return typeof t=="symbol"?t:t+""}function H9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q9 extends p.PureComponent{constructor(){super(...arguments),i0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),i0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:h,useTranslate3d:m,viewBox:f,wrapperStyle:v,lastBoundingBox:x,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:j,cssProperties:w}=K9({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:h,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:f}),b=y?{}:Jh(Jh({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Jh(Jh({},b),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:N,ref:g},i)}}var Y9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ka={devToolsEnabled:!1,isSsr:Y9()},VD=()=>xe(e=>e.rootProps.accessibilityLayer);function Or(e){return Number.isFinite(e)}function wc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(null,arguments)}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){G9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G9(e,t,r){return(t=X9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $k={curveBasisClosed:C7,curveBasisOpen:P7,curveBasis:k7,curveBumpX:d7,curveBumpY:h7,curveLinearClosed:_7,curveLinear:ix,curveMonotoneX:E7,curveMonotoneY:A7,curveNatural:O7,curveStep:T7,curveStepAfter:M7,curveStepBefore:D7},Qh=e=>Or(e.x)&&Or(e.y),mu=e=>e.x,pu=e=>e.y,Q9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Wd(e));return(r==="curveMonotone"||r==="curveBump")&&t?$k["".concat(r).concat(t==="vertical"?"Y":"X")]:$k[r]||ix},Z9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=Q9(t,a),l=i?r.filter(Qh):r,c;if(Array.isArray(n)){var d=i?n.filter(h=>Qh(h)):n,u=l.map((h,m)=>Rk(Rk({},h),{},{base:d[m]}));return a==="vertical"?c=Kh().y(pu).x1(mu).x0(h=>h.base.x):c=Kh().x(mu).y1(pu).y0(h=>h.base.y),c.defined(Qh).curve(o),c(u)}return a==="vertical"&&ge(n)?c=Kh().y(pu).x1(mu).x0(n):ge(n)?c=Kh().x(mu).y1(pu).y0(n):c=bT().x(mu).y(pu),c.defined(Qh).curve(o),c(l)},rc=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Z9(e):n;return p.createElement("path",o0({},is(e),vw(e),{className:Ve("recharts-curve",t),d:i===null?void 0:i,ref:a}))},eq=["x","y","top","left","width","height","className"];function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(n){rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rq(e,t,r){return(t=nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aq(e,t){if(e==null)return{};var r,n,a=iq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oq=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),lq=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=aq(e,eq),d=tq({x:t,y:r,top:n,left:a,width:i,height:o},c);return!ge(t)||!ge(r)||!ge(i)||!ge(o)||!ge(n)||!ge(a)?null:p.createElement("path",l0({},vt(d,!0),{className:Ve("recharts-cross",l),d:oq(t,r,i,o,n,a)}))};function cq(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t){var r=uq({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function mq(){}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return(t=xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),HD=(e,t,r)=>e.map(n=>"".concat(vq(n)," ").concat(t,"ms ").concat(r)).join(","),yq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),jd=(e,t)=>Object.keys(t).reduce((r,n)=>zk(zk({},r),{},{[n]:e(n,t[n])}),{});function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){jq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jq(e,t,r){return(t=wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=bq(e,"string");return typeof t=="symbol"?t:t+""}function bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pm=(e,t,r)=>e+(t-e)*r,c0=e=>{var{from:t,to:r}=e;return t!==r},qD=(e,t,r)=>{var n=jd((a,i)=>{if(c0(i)){var[o,l]=e(i.from,i.to,i.velocity);return Sr(Sr({},i),{},{from:o,velocity:l})}return i},t);return r<1?jd((a,i)=>c0(i)?Sr(Sr({},i),{},{velocity:Pm(i.velocity,n[a].velocity,r),from:Pm(i.from,n[a].from,r)}):i,t):qD(e,n,r-1)};function Nq(e,t,r,n,a,i){var o,l=n.reduce((m,f)=>Sr(Sr({},m),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),c=()=>jd((m,f)=>f.from,l),d=()=>!Object.values(l).filter(c0).length,u=null,h=m=>{o||(o=m);var f=m-o,v=f/r.dt;l=qD(r,l,v),a(Sr(Sr(Sr({},e),t),c())),o=m,d()||(u=i.setTimeout(h))};return()=>(u=i.setTimeout(h),()=>{u()})}function Sq(e,t,r,n,a,i,o){var l=null,c=a.reduce((h,m)=>Sr(Sr({},h),{},{[m]:[e[m],t[m]]}),{}),d,u=h=>{d||(d=h);var m=(h-d)/n,f=jd((x,g)=>Pm(...g,r(m)),c);if(i(Sr(Sr(Sr({},e),t),f)),m<1)l=o.setTimeout(u);else{var v=jd((x,g)=>Pm(...g,r(1)),c);i(Sr(Sr(Sr({},e),t),v))}};return()=>(l=o.setTimeout(u),()=>{l()})}const kq=(e,t,r,n,a,i)=>{var o=yq(e,t);return r.isStepper===!0?Nq(e,t,r,o,a,i):Sq(e,t,r,n,o,a,i)};var _m=1e-4,YD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],GD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Uk=(e,t)=>r=>{var n=YD(e,t);return GD(n,r)},Cq=(e,t)=>r=>{var n=YD(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return GD(a,r)},Kk=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else o.length===4&&([t,n,r,a]=o);var d=Uk(t,r),u=Uk(n,a),h=Cq(t,r),m=v=>v>1?1:v<0?0:v,f=v=>{for(var x=v>1?1:v,g=x,y=0;y<8;++y){var j=d(g)-x,w=h(g);if(Math.abs(j-x)<_m||w<_m)return u(g);g=m(g-j/w)}return u(g)};return f.isStepper=!1,f},Pq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,h=c+(d-u)*a/1e3,m=c*a/1e3+o;return Math.abs(m-l)<_m&&Math.abs(h)<_m?[l,0]:[m,h]};return i.isStepper=!0,i.dt=a,i},_q=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kk(e);case"spring":return Pq();default:if(e.split("(")[0]==="cubic-bezier")return Kk(e)}return typeof e=="function"?e:null};function Eq(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Aq{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function Oq(){return Eq(new Aq)}var Tq=p.createContext(Oq);function Dq(e,t){var r=p.useContext(Tq);return p.useMemo(()=>t??r(e),[e,t,r])}var Mq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vk={t:0},sv={t:1};function Bc(e){var t=ar(e,Mq),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=Dq(t.animationId,t.animationManager),[h,m]=p.useState(r?Vk:sv),f=p.useRef(null);return p.useEffect(()=>{r||m(sv)},[r]),p.useEffect(()=>{if(!r||!n)return mq;var v=kq(Vk,sv,_q(i),a,m,u.getTimeoutController()),x=()=>{f.current=v()};return u.start([c,o,x,a,l]),()=>{u.stop(),f.current&&f.current(),l()}},[r,n,a,i,o,c,l,u]),d(h.t)}function zc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(gd(t)),n=p.useRef(e);return n.current!==e&&(r.current=gd(t),n.current=e),r.current}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){Iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t,r){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(null,arguments)}var Yk=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],h=0,m=4;h<m;h++)u[h]=a[h]>i?i:a[h];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var f=Math.min(i,a);d="M ".concat(e,",").concat(t+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,`
            L `).concat(e+r-l*f,",").concat(t,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*f,`
            L `).concat(e+r,",").concat(t+n-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+n,`
            L `).concat(e+l*f,",").concat(t+n,`
            A `).concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*f," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},Lq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XD=e=>{var t=ar(e,Lq),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var z=r.current.getTotalLength();z&&a(z)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:h,animationDuration:m,animationBegin:f,isAnimationActive:v,isUpdateAnimationActive:x}=t,g=p.useRef(l),y=p.useRef(c),j=p.useRef(i),w=p.useRef(o),b=p.useMemo(()=>({x:i,y:o,width:l,height:c,radius:d}),[i,o,l,c,d]),N=zc(b,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var k=Ve("recharts-rectangle",u);if(!x)return p.createElement("path",Em({},vt(t,!0),{className:k,d:Yk(i,o,l,c,d)}));var S=g.current,C=y.current,A=j.current,P=w.current,D="0px ".concat(n===-1?1:n,"px"),E="".concat(n,"px 0px"),R=HD(["strokeDasharray"],m,typeof h=="string"?h:void 0);return p.createElement(Bc,{animationId:N,key:N,canBegin:n>0,duration:m,easing:h,isActive:x,begin:f},z=>{var V=st(S,l,z),L=st(C,c,z),W=st(A,i,z),_=st(P,o,z);r.current&&(g.current=V,y.current=L,j.current=W,w.current=_);var O;return v?z>0?O={transition:R,strokeDasharray:E}:O={strokeDasharray:D}:O={strokeDasharray:E},p.createElement("path",Em({},vt(t,!0),{className:k,d:Yk(W,_,V,L,d),ref:r,style:qk(qk({},O),t.style)}))})};function JD(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Gt(t,r,n,a),l=Gt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}var Fq=(e,t)=>{var r=fr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Zh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/km,h=c?a:a+i*u,m=Gt(t,r,d,h),f=Gt(t,r,n,h),v=c?a-i*u:a,x=Gt(t,r,d*Math.cos(u*km),v);return{center:m,circleTangency:f,lineTangency:x,theta:u}},QD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=Fq(i,o),c=i+l,d=Gt(t,r,a,i),u=Gt(t,r,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var m=Gt(t,r,n,i),f=Gt(t,r,n,c);h+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},Bq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=fr(d-c),{circleTangency:h,lineTangency:m,theta:f}=Zh({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:v,lineTangency:x,theta:g}=Zh({cx:t,cy:r,radius:a,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-d):Math.abs(c-d)-f-g;if(y<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):QD({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:b,theta:N}=Zh({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:k,lineTangency:S,theta:C}=Zh({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(c-d):Math.abs(c-d)-N-C;if(A<0&&i===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(b.x,",").concat(b.y,"Z")}else j+="L".concat(t,",").concat(r,"Z");return j},zq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZD=e=>{var t=ar(e,zq),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:h}=t;if(i<a||d===u)return null;var m=Ve("recharts-sector",h),f=i-a,v=Fr(o,f,0,!0),x;return v>0&&Math.abs(d-u)<360?x=Bq({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):x=QD({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),p.createElement("path",u0({},vt(t,!0),{className:m,d:x}))};function Wq(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:h}=t,m=Gt(l,c,d,h),f=Gt(l,c,u,h);n=m.x,a=m.y,i=f.x,o=f.y}else return JD(t);return[{x:n,y:a},{x:i,y:o}]}var eM={},tM={},rM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lw,r=tM;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=a,a+=o;return c}e.range=n})(eM);var Uq=eM.range;const nM=ra(Uq);function Ai(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gw(e){let t,r,n;e.length!==2?(t=Ai,r=(l,c)=>Ai(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ai||e===Kq?e:Vq,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function Vq(){return 0}function sM(e){return e===null?NaN:+e}function*Hq(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const qq=Gw(Ai),Yq=qq.right;Gw(sM).center;const Yd=Yq;class Gk extends Map{constructor(t,r=Jq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Xk(this,t))}has(t){return super.has(Xk(this,t))}set(t,r){return super.set(Gq(this,t),r)}delete(t){return super.delete(Xq(this,t))}}function Xk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Gq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Xq({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Qq(e=Ai){if(e===Ai)return aM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function aM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Zq=Math.sqrt(50),eY=Math.sqrt(10),tY=Math.sqrt(2);function Am(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Zq?10:i>=eY?5:i>=tY?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Am(e,t,r*2):[l,c,d]}function d0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Am(t,e,r):Am(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function h0(e,t,r){return t=+t,e=+e,r=+r,Am(e,t,r)[2]}function f0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?h0(t,e,r):h0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Jk(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function Qk(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function iM(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?aM:Qq(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(t-d*h/c+m)),v=Math.min(n,Math.floor(t+(c-d)*h/c+m));iM(e,t,f,v,a)}const i=e[t];let o=r,l=n;for(xu(e,r,t),a(e[n],i)>0&&xu(e,r,n);o<l;){for(xu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?xu(e,r,l):(++l,xu(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function xu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function rY(e,t,r){if(e=Float64Array.from(Hq(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Qk(e);if(t>=1)return Jk(e);var n,a=(n-1)*t,i=Math.floor(a),o=Jk(iM(e,i).subarray(0,i+1)),l=Qk(e.subarray(i+1));return o+(l-o)*(a-i)}}function nY(e,t,r=sM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function sY(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function os(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Va(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const m0=Symbol("implicit");function Xw(){var e=new Gk,t=[],r=[],n=m0;function a(i){let o=e.get(i);if(o===void 0){if(n!==m0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Gk;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Xw(t,r).unknown(n)},os.apply(a,arguments),a}function Jw(){var e=Xw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var m=t().length,f=a<n,v=f?a:n,x=f?n:a;i=(x-v)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),v+=(x-v-i*(m-c))*u,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var g=sY(m).map(function(y){return v+i*y});return r(f?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},e.copy=function(){return Jw(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},os.apply(h(),arguments)}function oM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oM(t())},e}function aY(){return oM(Jw.apply(null,arguments).paddingInner(1))}function Qw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Gd(){}var wd=.7,Om=1/wd,nc="\\s*([+-]?\\d+)\\s*",bd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iY=/^#([0-9a-f]{3,8})$/,oY=new RegExp(`^rgb\\(${nc},${nc},${nc}\\)$`),lY=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),cY=new RegExp(`^rgba\\(${nc},${nc},${nc},${bd}\\)$`),uY=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${bd}\\)$`),dY=new RegExp(`^hsl\\(${bd},${Gs},${Gs}\\)$`),hY=new RegExp(`^hsla\\(${bd},${Gs},${Gs},${bd}\\)$`),Zk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qw(Gd,Nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eC,formatHex:eC,formatHex8:fY,formatHsl:mY,formatRgb:tC,toString:tC});function eC(){return this.rgb().formatHex()}function fY(){return this.rgb().formatHex8()}function mY(){return cM(this).formatHsl()}function tC(){return this.rgb().formatRgb()}function Nd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iY.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?rC(t):r===3?new an(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ef(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ef(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oY.exec(e))?new an(t[1],t[2],t[3],1):(t=lY.exec(e))?new an(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cY.exec(e))?ef(t[1],t[2],t[3],t[4]):(t=uY.exec(e))?ef(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dY.exec(e))?aC(t[1],t[2]/100,t[3]/100,1):(t=hY.exec(e))?aC(t[1],t[2]/100,t[3]/100,t[4]):Zk.hasOwnProperty(e)?rC(Zk[e]):e==="transparent"?new an(NaN,NaN,NaN,0):null}function rC(e){return new an(e>>16&255,e>>8&255,e&255,1)}function ef(e,t,r,n){return n<=0&&(e=t=r=NaN),new an(e,t,r,n)}function pY(e){return e instanceof Gd||(e=Nd(e)),e?(e=e.rgb(),new an(e.r,e.g,e.b,e.opacity)):new an}function p0(e,t,r,n){return arguments.length===1?pY(e):new an(e,t,r,n??1)}function an(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Qw(an,p0,lM(Gd,{brighter(e){return e=e==null?Om:Math.pow(Om,e),new an(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wd:Math.pow(wd,e),new an(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new an(Ro(this.r),Ro(this.g),Ro(this.b),Tm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nC,formatHex:nC,formatHex8:xY,formatRgb:sC,toString:sC}));function nC(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function xY(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function sC(){const e=Tm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ro(this.r)}, ${Ro(this.g)}, ${Ro(this.b)}${e===1?")":`, ${e})`}`}function Tm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=Ro(e),(e<16?"0":"")+e.toString(16)}function aC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new js(e,t,r,n)}function cM(e){if(e instanceof js)return new js(e.h,e.s,e.l,e.opacity);if(e instanceof Gd||(e=Nd(e)),!e)return new js;if(e instanceof js)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new js(o,l,c,e.opacity)}function gY(e,t,r,n){return arguments.length===1?cM(e):new js(e,t,r,n??1)}function js(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Qw(js,gY,lM(Gd,{brighter(e){return e=e==null?Om:Math.pow(Om,e),new js(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wd:Math.pow(wd,e),new js(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new an(av(e>=240?e-240:e+120,a,n),av(e,a,n),av(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new js(iC(this.h),tf(this.s),tf(this.l),Tm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tm(this.opacity);return`${e===1?"hsl(":"hsla("}${iC(this.h)}, ${tf(this.s)*100}%, ${tf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iC(e){return e=(e||0)%360,e<0?e+360:e}function tf(e){return Math.max(0,Math.min(1,e||0))}function av(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Zw=e=>()=>e;function vY(e,t){return function(r){return e+r*t}}function yY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function jY(e){return(e=+e)==1?uM:function(t,r){return r-t?yY(t,r,e):Zw(isNaN(t)?r:t)}}function uM(e,t){var r=t-e;return r?vY(e,r):Zw(isNaN(e)?t:e)}const oC=function e(t){var r=jY(t);function n(a,i){var o=r((a=p0(a)).r,(i=p0(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=uM(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function wY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function bY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Wc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function SY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Dm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kY(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Wc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var x0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iv=new RegExp(x0.source,"g");function CY(e){return function(){return e}}function PY(e){return function(t){return e(t)+""}}function _Y(e,t){var r=x0.lastIndex=iv.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=x0.exec(e))&&(a=iv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Dm(n,a)})),r=iv.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?PY(c[0].x):CY(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Wc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Zw(t):(r==="number"?Dm:r==="string"?(n=Nd(t))?(t=n,oC):_Y:t instanceof Nd?oC:t instanceof Date?SY:bY(t)?wY:Array.isArray(t)?NY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kY:Dm)(e,t)}function eb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function EY(e,t){t===void 0&&(t=e,e=Wc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function AY(e){return function(){return e}}function Mm(e){return+e}var lC=[0,1];function qr(e){return e}function g0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:AY(isNaN(t)?NaN:.5)}function OY(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function TY(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=g0(a,n),i=r(o,i)):(n=g0(n,a),i=r(i,o)),function(l){return i(n(l))}}function DY(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=g0(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Yd(e,l,1,n)-1;return i[c](a[c](l))}}function Xd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jx(){var e=lC,t=lC,r=Wc,n,a,i,o=qr,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==qr&&(o=OY(e[0],e[m-1])),l=m>2?DY:TY,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(n),t,r)))(n(o(m)))}return h.invert=function(m){return o(a((d||(d=l(t,e.map(n),Dm)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,Mm),u()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=eb,u()},h.clamp=function(m){return arguments.length?(o=m?!0:qr,u()):o!==qr},h.interpolate=function(m){return arguments.length?(r=m,u()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,f){return n=m,a=f,u()}}function tb(){return jx()(qr,qr)}function MY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Im(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bc(e){return e=Im(Math.abs(e)),e?e[1]:NaN}function IY(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function RY(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $Y=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sd(e){if(!(t=$Y.exec(e)))throw new Error("invalid format: "+e);var t;return new rb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sd.prototype=rb.prototype;function rb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LY(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var dM;function FY(e,t){var r=Im(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(dM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Im(e,Math.max(0,t+i-1))[0]}function cC(e,t){var r=Im(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const uC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cC(e*100,t),r:cC,s:FY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dC(e){return e}var hC=Array.prototype.map,fC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function BY(e){var t=e.grouping===void 0||e.thousands===void 0?dC:IY(hC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?dC:RY(hC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Sd(h);var m=h.fill,f=h.align,v=h.sign,x=h.symbol,g=h.zero,y=h.width,j=h.comma,w=h.precision,b=h.trim,N=h.type;N==="n"?(j=!0,N="g"):uC[N]||(w===void 0&&(w=12),b=!0,N="g"),(g||m==="0"&&f==="=")&&(g=!0,m="0",f="=");var k=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=x==="$"?n:/[%p]/.test(N)?o:"",C=uC[N],A=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(D){var E=k,R=S,z,V,L;if(N==="c")R=C(D)+R,D="";else{D=+D;var W=D<0||1/D<0;if(D=isNaN(D)?c:C(Math.abs(D),w),b&&(D=LY(D)),W&&+D==0&&v!=="+"&&(W=!1),E=(W?v==="("?v:l:v==="-"||v==="("?"":v)+E,R=(N==="s"?fC[8+dM/3]:"")+R+(W&&v==="("?")":""),A){for(z=-1,V=D.length;++z<V;)if(L=D.charCodeAt(z),48>L||L>57){R=(L===46?a+D.slice(z+1):D.slice(z))+R,D=D.slice(0,z);break}}}j&&!g&&(D=t(D,1/0));var _=E.length+D.length+R.length,O=_<y?new Array(y-_+1).join(m):"";switch(j&&g&&(D=t(O+D,O.length?y-R.length:1/0),O=""),f){case"<":D=E+D+R+O;break;case"=":D=E+O+D+R;break;case"^":D=O.slice(0,_=O.length>>1)+E+D+R+O.slice(_);break;default:D=O+E+D+R;break}return i(D)}return P.toString=function(){return h+""},P}function u(h,m){var f=d((h=Sd(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(bc(m)/3)))*3,x=Math.pow(10,-v),g=fC[8+v/3];return function(y){return f(x*y)+g}}return{format:d,formatPrefix:u}}var rf,nb,hM;zY({thousands:",",grouping:[3],currency:["$",""]});function zY(e){return rf=BY(e),nb=rf.format,hM=rf.formatPrefix,rf}function WY(e){return Math.max(0,-bc(Math.abs(e)))}function UY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bc(t)/3)))*3-bc(Math.abs(e)))}function KY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bc(t)-bc(e))+1}function fM(e,t,r,n){var a=f0(e,t,r),i;switch(n=Sd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=UY(a,o))&&(n.precision=i),hM(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=KY(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=WY(a))&&(n.precision=i-(n.type==="%")*2);break}}return nb(n)}function Zi(e){var t=e.domain;return e.ticks=function(r){var n=t();return d0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return fM(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=h0(o,l,r),d===c)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function mM(){var e=tb();return e.copy=function(){return Xd(e,mM())},os.apply(e,arguments),Zi(e)}function pM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Mm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pM(e).unknown(t)},e=arguments.length?Array.from(e,Mm):[0,1],Zi(r)}function xM(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function mC(e){return Math.log(e)}function pC(e){return Math.exp(e)}function VY(e){return-Math.log(-e)}function HY(e){return-Math.exp(-e)}function qY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YY(e){return e===10?qY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xC(e){return(t,r)=>-e(-t,r)}function sb(e){const t=e(mC,pC),r=t.domain;let n=10,a,i;function o(){return a=GY(n),i=YY(n),r()[0]<0?(a=xC(a),i=xC(i),e(VY,HY)):e(mC,pC),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=a(d),f=a(u),v,x;const g=l==null?10:+l;let y=[];if(!(n%1)&&f-m<g){if(m=Math.floor(m),f=Math.ceil(f),d>0){for(;m<=f;++m)for(v=1;v<n;++v)if(x=m<0?v/i(-m):v*i(m),!(x<d)){if(x>u)break;y.push(x)}}else for(;m<=f;++m)for(v=n-1;v>=1;--v)if(x=m>0?v/i(-m):v*i(m),!(x<d)){if(x>u)break;y.push(x)}y.length*2<g&&(y=d0(d,u,g))}else y=d0(m,f,Math.min(f-m,g)).map(i);return h?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sd(c)).precision==null&&(c.trim=!0),c=nb(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*n<n-.5&&(h*=n),h<=d?c(u):""}},t.nice=()=>r(xM(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function gM(){const e=sb(jx()).domain([1,10]);return e.copy=()=>Xd(e,gM()).base(e.base()),os.apply(e,arguments),e}function gC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ab(e){var t=1,r=e(gC(t),vC(t));return r.constant=function(n){return arguments.length?e(gC(t=+n),vC(t)):t},Zi(r)}function vM(){var e=ab(jx());return e.copy=function(){return Xd(e,vM()).constant(e.constant())},os.apply(e,arguments)}function yC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JY(e){return e<0?-e*e:e*e}function ib(e){var t=e(qr,qr),r=1;function n(){return r===1?e(qr,qr):r===.5?e(XY,JY):e(yC(r),yC(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Zi(t)}function ob(){var e=ib(jx());return e.copy=function(){return Xd(e,ob()).exponent(e.exponent())},os.apply(e,arguments),e}function QY(){return ob.apply(null,arguments).exponent(.5)}function jC(e){return Math.sign(e)*e*e}function ZY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yM(){var e=tb(),t=[0,1],r=!1,n;function a(i){var o=ZY(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(jC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Mm)).map(jC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},os.apply(a,arguments),Zi(a)}function jM(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=nY(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Yd(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ai),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return jM().domain(e).range(t).unknown(n)},os.apply(i,arguments)}function wM(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Yd(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return wM().domain([e,t]).range(a).unknown(i)},os.apply(Zi(o),arguments)}function bM(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Yd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return bM().domain(e).range(t).unknown(r)},os.apply(a,arguments)}const ov=new Date,lv=new Date;function ir(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>ir(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(ov.setTime(+i),lv.setTime(+o),e(ov),e(lv),Math.floor(r(ov,lv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Rm=ir(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Rm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ir(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Rm);Rm.range;const va=1e3,Gn=va*60,ya=Gn*60,$a=ya*24,lb=$a*7,wC=$a*30,cv=$a*365,Po=ir(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*va)},(e,t)=>(t-e)/va,e=>e.getUTCSeconds());Po.range;const cb=ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*va)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getMinutes());cb.range;const ub=ir(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCMinutes());ub.range;const db=ir(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*va-e.getMinutes()*Gn)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getHours());db.range;const hb=ir(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCHours());hb.range;const Jd=ir(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/$a,e=>e.getDate()-1);Jd.range;const wx=ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>e.getUTCDate()-1);wx.range;const NM=ir(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>Math.floor(e/$a));NM.range;function ol(e){return ir(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/lb)}const bx=ol(0),$m=ol(1),eG=ol(2),tG=ol(3),Nc=ol(4),rG=ol(5),nG=ol(6);bx.range;$m.range;eG.range;tG.range;Nc.range;rG.range;nG.range;function ll(e){return ir(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/lb)}const Nx=ll(0),Lm=ll(1),sG=ll(2),aG=ll(3),Sc=ll(4),iG=ll(5),oG=ll(6);Nx.range;Lm.range;sG.range;aG.range;Sc.range;iG.range;oG.range;const fb=ir(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fb.range;const mb=ir(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mb.range;const La=ir(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());La.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ir(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});La.range;const Fa=ir(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ir(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Fa.range;function SM(e,t,r,n,a,i){const o=[[Po,1,va],[Po,5,5*va],[Po,15,15*va],[Po,30,30*va],[i,1,Gn],[i,5,5*Gn],[i,15,15*Gn],[i,30,30*Gn],[a,1,ya],[a,3,3*ya],[a,6,6*ya],[a,12,12*ya],[n,1,$a],[n,2,2*$a],[r,1,lb],[t,1,wC],[t,3,3*wC],[e,1,cv]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),v=f?f.range(d,+u+1):[];return m?v.reverse():v}function c(d,u,h){const m=Math.abs(u-d)/h,f=Gw(([,,g])=>g).right(o,m);if(f===o.length)return e.every(f0(d/cv,u/cv,h));if(f===0)return Rm.every(Math.max(f0(d,u,h),1));const[v,x]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return v.every(x)}return[l,c]}const[lG,cG]=SM(Fa,mb,Nx,NM,hb,ub),[uG,dG]=SM(La,fb,bx,Jd,db,cb);function uv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hG(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=vu(a),u=yu(a),h=vu(i),m=yu(i),f=vu(o),v=yu(o),x=vu(l),g=yu(l),y=vu(c),j=yu(c),w={a:W,A:_,b:O,B:re,c:null,d:PC,e:PC,f:IG,g:VG,G:qG,H:TG,I:DG,j:MG,L:kM,m:RG,M:$G,p:H,q:X,Q:AC,s:OC,S:LG,u:FG,U:BG,V:zG,w:WG,W:UG,x:null,X:null,y:KG,Y:HG,Z:YG,"%":EC},b={a:ae,A:le,b:be,B:Ie,c:null,d:_C,e:_C,f:QG,g:lX,G:uX,H:GG,I:XG,j:JG,L:PM,m:ZG,M:eX,p:ne,q:Pe,Q:AC,s:OC,S:tX,u:rX,U:nX,V:sX,w:aX,W:iX,x:null,X:null,y:oX,Y:cX,Z:dX,"%":EC},N={a:P,A:D,b:E,B:R,c:z,d:kC,e:kC,f:_G,g:SC,G:NC,H:CC,I:CC,j:SG,L:PG,m:NG,M:kG,p:A,q:bG,Q:AG,s:OG,S:CG,u:gG,U:vG,V:yG,w:xG,W:jG,x:V,X:L,y:SC,Y:NC,Z:wG,"%":EG};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),b.x=k(r,b),b.X=k(n,b),b.c=k(t,b);function k($,te){return function(oe){var G=[],Le=-1,Te=0,St=$.length,yt,lr,Os;for(oe instanceof Date||(oe=new Date(+oe));++Le<St;)$.charCodeAt(Le)===37&&(G.push($.slice(Te,Le)),(lr=bC[yt=$.charAt(++Le)])!=null?yt=$.charAt(++Le):lr=yt==="e"?" ":"0",(Os=te[yt])&&(yt=Os(oe,lr)),G.push(yt),Te=Le+1);return G.push($.slice(Te,Le)),G.join("")}}function S($,te){return function(oe){var G=gu(1900,void 0,1),Le=C(G,$,oe+="",0),Te,St;if(Le!=oe.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(te&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Te=dv(gu(G.y,0,1)),St=Te.getUTCDay(),Te=St>4||St===0?Lm.ceil(Te):Lm(Te),Te=wx.offset(Te,(G.V-1)*7),G.y=Te.getUTCFullYear(),G.m=Te.getUTCMonth(),G.d=Te.getUTCDate()+(G.w+6)%7):(Te=uv(gu(G.y,0,1)),St=Te.getDay(),Te=St>4||St===0?$m.ceil(Te):$m(Te),Te=Jd.offset(Te,(G.V-1)*7),G.y=Te.getFullYear(),G.m=Te.getMonth(),G.d=Te.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),St="Z"in G?dv(gu(G.y,0,1)).getUTCDay():uv(gu(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(St+5)%7:G.w+G.U*7-(St+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,dv(G)):uv(G)}}function C($,te,oe,G){for(var Le=0,Te=te.length,St=oe.length,yt,lr;Le<Te;){if(G>=St)return-1;if(yt=te.charCodeAt(Le++),yt===37){if(yt=te.charAt(Le++),lr=N[yt in bC?te.charAt(Le++):yt],!lr||(G=lr($,oe,G))<0)return-1}else if(yt!=oe.charCodeAt(G++))return-1}return G}function A($,te,oe){var G=d.exec(te.slice(oe));return G?($.p=u.get(G[0].toLowerCase()),oe+G[0].length):-1}function P($,te,oe){var G=f.exec(te.slice(oe));return G?($.w=v.get(G[0].toLowerCase()),oe+G[0].length):-1}function D($,te,oe){var G=h.exec(te.slice(oe));return G?($.w=m.get(G[0].toLowerCase()),oe+G[0].length):-1}function E($,te,oe){var G=y.exec(te.slice(oe));return G?($.m=j.get(G[0].toLowerCase()),oe+G[0].length):-1}function R($,te,oe){var G=x.exec(te.slice(oe));return G?($.m=g.get(G[0].toLowerCase()),oe+G[0].length):-1}function z($,te,oe){return C($,t,te,oe)}function V($,te,oe){return C($,r,te,oe)}function L($,te,oe){return C($,n,te,oe)}function W($){return o[$.getDay()]}function _($){return i[$.getDay()]}function O($){return c[$.getMonth()]}function re($){return l[$.getMonth()]}function H($){return a[+($.getHours()>=12)]}function X($){return 1+~~($.getMonth()/3)}function ae($){return o[$.getUTCDay()]}function le($){return i[$.getUTCDay()]}function be($){return c[$.getUTCMonth()]}function Ie($){return l[$.getUTCMonth()]}function ne($){return a[+($.getUTCHours()>=12)]}function Pe($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var te=k($+="",w);return te.toString=function(){return $},te},parse:function($){var te=S($+="",!1);return te.toString=function(){return $},te},utcFormat:function($){var te=k($+="",b);return te.toString=function(){return $},te},utcParse:function($){var te=S($+="",!0);return te.toString=function(){return $},te}}}var bC={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,fG=/^%/,mG=/[\\^$*+?|[\]().{}]/g;function qe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function pG(e){return e.replace(mG,"\\$&")}function vu(e){return new RegExp("^(?:"+e.map(pG).join("|")+")","i")}function yu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function xG(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function gG(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vG(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yG(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function jG(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function NC(e,t,r){var n=yr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function SC(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wG(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bG(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function NG(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kC(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function SG(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function CC(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kG(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function CG(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function PG(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _G(e,t,r){var n=yr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function EG(e,t,r){var n=fG.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function AG(e,t,r){var n=yr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function OG(e,t,r){var n=yr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function PC(e,t){return qe(e.getDate(),t,2)}function TG(e,t){return qe(e.getHours(),t,2)}function DG(e,t){return qe(e.getHours()%12||12,t,2)}function MG(e,t){return qe(1+Jd.count(La(e),e),t,3)}function kM(e,t){return qe(e.getMilliseconds(),t,3)}function IG(e,t){return kM(e,t)+"000"}function RG(e,t){return qe(e.getMonth()+1,t,2)}function $G(e,t){return qe(e.getMinutes(),t,2)}function LG(e,t){return qe(e.getSeconds(),t,2)}function FG(e){var t=e.getDay();return t===0?7:t}function BG(e,t){return qe(bx.count(La(e)-1,e),t,2)}function CM(e){var t=e.getDay();return t>=4||t===0?Nc(e):Nc.ceil(e)}function zG(e,t){return e=CM(e),qe(Nc.count(La(e),e)+(La(e).getDay()===4),t,2)}function WG(e){return e.getDay()}function UG(e,t){return qe($m.count(La(e)-1,e),t,2)}function KG(e,t){return qe(e.getFullYear()%100,t,2)}function VG(e,t){return e=CM(e),qe(e.getFullYear()%100,t,2)}function HG(e,t){return qe(e.getFullYear()%1e4,t,4)}function qG(e,t){var r=e.getDay();return e=r>=4||r===0?Nc(e):Nc.ceil(e),qe(e.getFullYear()%1e4,t,4)}function YG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qe(t/60|0,"0",2)+qe(t%60,"0",2)}function _C(e,t){return qe(e.getUTCDate(),t,2)}function GG(e,t){return qe(e.getUTCHours(),t,2)}function XG(e,t){return qe(e.getUTCHours()%12||12,t,2)}function JG(e,t){return qe(1+wx.count(Fa(e),e),t,3)}function PM(e,t){return qe(e.getUTCMilliseconds(),t,3)}function QG(e,t){return PM(e,t)+"000"}function ZG(e,t){return qe(e.getUTCMonth()+1,t,2)}function eX(e,t){return qe(e.getUTCMinutes(),t,2)}function tX(e,t){return qe(e.getUTCSeconds(),t,2)}function rX(e){var t=e.getUTCDay();return t===0?7:t}function nX(e,t){return qe(Nx.count(Fa(e)-1,e),t,2)}function _M(e){var t=e.getUTCDay();return t>=4||t===0?Sc(e):Sc.ceil(e)}function sX(e,t){return e=_M(e),qe(Sc.count(Fa(e),e)+(Fa(e).getUTCDay()===4),t,2)}function aX(e){return e.getUTCDay()}function iX(e,t){return qe(Lm.count(Fa(e)-1,e),t,2)}function oX(e,t){return qe(e.getUTCFullYear()%100,t,2)}function lX(e,t){return e=_M(e),qe(e.getUTCFullYear()%100,t,2)}function cX(e,t){return qe(e.getUTCFullYear()%1e4,t,4)}function uX(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sc(e):Sc.ceil(e),qe(e.getUTCFullYear()%1e4,t,4)}function dX(){return"+0000"}function EC(){return"%"}function AC(e){return+e}function OC(e){return Math.floor(+e/1e3)}var Sl,EM,AM;hX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hX(e){return Sl=hG(e),EM=Sl.format,Sl.parse,AM=Sl.utcFormat,Sl.utcParse,Sl}function fX(e){return new Date(e)}function mX(e){return e instanceof Date?+e:+new Date(+e)}function pb(e,t,r,n,a,i,o,l,c,d){var u=tb(),h=u.invert,m=u.domain,f=d(".%L"),v=d(":%S"),x=d("%I:%M"),g=d("%I %p"),y=d("%a %d"),j=d("%b %d"),w=d("%B"),b=d("%Y");function N(k){return(c(k)<k?f:l(k)<k?v:o(k)<k?x:i(k)<k?g:n(k)<k?a(k)<k?y:j:r(k)<k?w:b)(k)}return u.invert=function(k){return new Date(h(k))},u.domain=function(k){return arguments.length?m(Array.from(k,mX)):m().map(fX)},u.ticks=function(k){var S=m();return e(S[0],S[S.length-1],k??10)},u.tickFormat=function(k,S){return S==null?N:d(S)},u.nice=function(k){var S=m();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?m(xM(S,k)):u},u.copy=function(){return Xd(u,pb(e,t,r,n,a,i,o,l,c,d))},u}function pX(){return os.apply(pb(uG,dG,La,fb,bx,Jd,db,cb,Po,EM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xX(){return os.apply(pb(lG,cG,Fa,mb,Nx,wx,hb,ub,Po,AM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sx(){var e=0,t=1,r,n,a,i,o=qr,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var f,v;return arguments.length?([f,v]=m,o=h(f,v),d):[o(0),o(1)]}}return d.range=u(Wc),d.rangeRound=u(eb),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),d}}function eo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OM(){var e=Zi(Sx()(qr));return e.copy=function(){return eo(e,OM())},Va.apply(e,arguments)}function TM(){var e=sb(Sx()).domain([1,10]);return e.copy=function(){return eo(e,TM()).base(e.base())},Va.apply(e,arguments)}function DM(){var e=ab(Sx());return e.copy=function(){return eo(e,DM()).constant(e.constant())},Va.apply(e,arguments)}function xb(){var e=ib(Sx());return e.copy=function(){return eo(e,xb()).exponent(e.exponent())},Va.apply(e,arguments)}function gX(){return xb.apply(null,arguments).exponent(.5)}function MM(){var e=[],t=qr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ai),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>rY(e,i/n))},r.copy=function(){return MM(t).domain(e)},Va.apply(r,arguments)}function kx(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,d=qr,u,h=!1,m;function f(x){return isNaN(x=+x)?m:(x=.5+((x=+u(x))-i)*(n*x<n*i?l:c),d(h?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([e,t,r]=x,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f):[e,t,r]},f.clamp=function(x){return arguments.length?(h=!!x,f):h},f.interpolator=function(x){return arguments.length?(d=x,f):d};function v(x){return function(g){var y,j,w;return arguments.length?([y,j,w]=g,d=EY(x,[y,j,w]),f):[d(0),d(.5),d(1)]}}return f.range=v(Wc),f.rangeRound=v(eb),f.unknown=function(x){return arguments.length?(m=x,f):m},function(x){return u=x,a=x(e),i=x(t),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f}}function IM(){var e=Zi(kx()(qr));return e.copy=function(){return eo(e,IM())},Va.apply(e,arguments)}function RM(){var e=sb(kx()).domain([.1,1,10]);return e.copy=function(){return eo(e,RM()).base(e.base())},Va.apply(e,arguments)}function $M(){var e=ab(kx());return e.copy=function(){return eo(e,$M()).constant(e.constant())},Va.apply(e,arguments)}function gb(){var e=ib(kx());return e.copy=function(){return eo(e,gb()).exponent(e.exponent())},Va.apply(e,arguments)}function vX(){return gb.apply(null,arguments).exponent(.5)}const Ou=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jw,scaleDiverging:IM,scaleDivergingLog:RM,scaleDivergingPow:gb,scaleDivergingSqrt:vX,scaleDivergingSymlog:$M,scaleIdentity:pM,scaleImplicit:m0,scaleLinear:mM,scaleLog:gM,scaleOrdinal:Xw,scalePoint:aY,scalePow:ob,scaleQuantile:jM,scaleQuantize:wM,scaleRadial:yM,scaleSequential:OM,scaleSequentialLog:TM,scaleSequentialPow:xb,scaleSequentialQuantile:MM,scaleSequentialSqrt:gX,scaleSequentialSymlog:DM,scaleSqrt:QY,scaleSymlog:vM,scaleThreshold:bM,scaleTime:pX,scaleUtc:xX,tickFormat:fM},Symbol.toStringTag,{value:"Module"}));var to=e=>e.chartData,vb=Y([to],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Qd=(e,t,r,n)=>n?vb(e):to(e);function kc(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Or(t)&&Or(r))return!0}return!1}function TC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yX(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Or(r))a=r;else if(typeof r=="function")return;if(Or(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(kc(o))return o}}function jX(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(kc(n))return TC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ge(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&Ck.test(a)){var c=Ck.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t?.[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ge(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t?.[1]))}catch{}else if(typeof i=="string"&&Pk.test(i)){var u=Pk.exec(i);if(u==null||t==null)l=void 0;else{var h=+u[1];l=t[1]+h}}else l=t?.[1];var m=[o,l];if(kc(m))return t==null?m:TC(m,t,r)}}}var Uc=1e9,wX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jb,bt=!0,rs="[DecimalError] ",$o=rs+"Invalid argument: ",yb=rs+"Exponent out of range: ",Kc=Math.floor,go=Math.pow,bX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cn,cr=1e7,pt=7,LM=9007199254740991,Fm=Kc(LM/pt),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*pt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};fe.dividedBy=fe.div=function(e){return Ca(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,r=t.constructor;return lt(Ca(t,new r(e),0,1),r.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return Jt(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cn))throw Error(rs+"NaN");if(r.s<1)throw Error(rs+(r.s?"NaN":"-Infinity"));return r.eq(Cn)?new n(0):(bt=!1,t=Ca(kd(r,i),kd(e,i),i),bt=!0,lt(t,a))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zM(t,e):FM(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(rs+"NaN");return r.s?(bt=!1,t=Ca(r,e,0,1).times(e),bt=!0,r.minus(t)):lt(new n(r),a)};fe.naturalExponential=fe.exp=function(){return BM(this)};fe.naturalLogarithm=fe.ln=function(){return kd(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FM(t,e):zM(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($o+e);if(t=Jt(a)+1,n=a.d.length-1,r=n*pt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};fe.squareRoot=fe.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(rs+"NaN")}for(e=Jt(l),bt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Us(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Kc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ca(l,i,o+2)).times(.5),Us(i.d).slice(0,o)===(t=Us(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(lt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return bt=!0,lt(n,r)};fe.times=fe.mul=function(e){var t,r,n,a,i,o,l,c,d,u=this,h=u.constructor,m=u.d,f=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=f.length,c<d&&(i=m,m=f,f=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+f[n]*m[a-n-1]+t,i[a--]=l%cr|0,t=l/cr|0;i[a]=(i[a]+t)%cr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,bt?lt(e,h.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zs(e,0,Uc),t===void 0?t=n.rounding:Zs(t,0,8),lt(r,e+Jt(r)+1,t))};fe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=el(n,!0):(Zs(e,0,Uc),t===void 0?t=a.rounding:Zs(t,0,8),n=lt(new a(n),e+1,t),r=el(n,!0,e+1)),r};fe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?el(a):(Zs(e,0,Uc),t===void 0?t=i.rounding:Zs(t,0,8),n=lt(new i(a),e+Jt(a)+1,t),r=el(n.abs(),!1,e+Jt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return lt(new t(e),Jt(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Cn);if(l=new c(l),!l.s){if(e.s<1)throw Error(rs+"Infinity");return l}if(l.eq(Cn))return l;if(n=c.precision,e.eq(Cn))return lt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=LM){for(a=new c(Cn),t=Math.ceil(n/pt+4),bt=!1;r%2&&(a=a.times(l),MC(a.d,t)),r=Kc(r/2),r!==0;)l=l.times(l),MC(l.d,t);return bt=!0,e.s<0?new c(Cn).div(a):lt(a,n)}}else if(i<0)throw Error(rs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,bt=!1,a=e.times(kd(l,n+d)),bt=!0,a=BM(a),a.s=i,a};fe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Jt(a),n=el(a,r<=i.toExpNeg||r>=i.toExpPos)):(Zs(e,1,Uc),t===void 0?t=i.rounding:Zs(t,0,8),a=lt(new i(a),e,t),r=Jt(a),n=el(a,e<=r||r<=i.toExpNeg,e)),n};fe.toSignificantDigits=fe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zs(e,1,Uc),t===void 0?t=n.rounding:Zs(t,0,8)),lt(new n(r),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jt(e),r=e.constructor;return el(e,t<=r.toExpNeg||t>=r.toExpPos)};function FM(e,t){var r,n,a,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),bt?lt(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(h/pt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/cr|0,c[i]%=cr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,bt?lt(t,h):t}function Zs(e,t,r){if(e!==~~e||e<t||e>r)throw Error($o+e)}function Us(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=pt-n.length,r&&(i+=li(r)),i+=n;o=e[t],n=o+"",r=pt-n.length,r&&(i+=li(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ca=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%cr|0,o=i/cr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*cr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,h,m,f,v,x,g,y,j,w,b,N,k,S,C,A=n.constructor,P=n.s==a.s?1:-1,D=n.d,E=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(rs+"Division by zero");for(c=n.e-a.e,S=E.length,N=D.length,f=new A(P),v=f.d=[],d=0;E[d]==(D[d]||0);)++d;if(E[d]>(D[d]||0)&&--c,i==null?j=i=A.precision:o?j=i+(Jt(n)-Jt(a))+1:j=i,j<0)return new A(0);if(j=j/pt+2|0,d=0,S==1)for(u=0,E=E[0],j++;(d<N||u)&&j--;d++)w=u*cr+(D[d]||0),v[d]=w/E|0,u=w%E|0;else{for(u=cr/(E[0]+1)|0,u>1&&(E=e(E,u),D=e(D,u),S=E.length,N=D.length),b=S,x=D.slice(0,S),g=x.length;g<S;)x[g++]=0;C=E.slice(),C.unshift(0),k=E[0],E[1]>=cr/2&&++k;do u=0,l=t(E,x,S,g),l<0?(y=x[0],S!=g&&(y=y*cr+(x[1]||0)),u=y/k|0,u>1?(u>=cr&&(u=cr-1),h=e(E,u),m=h.length,g=x.length,l=t(h,x,m,g),l==1&&(u--,r(h,S<m?C:E,m))):(u==0&&(l=u=1),h=E.slice()),m=h.length,m<g&&h.unshift(0),r(x,h,g),l==-1&&(g=x.length,l=t(E,x,S,g),l<1&&(u++,r(x,S<g?C:E,g))),g=x.length):l===0&&(u++,x=[0]),v[d++]=u,l&&x[0]?x[g++]=D[b]||0:(x=[D[b]],g=1);while((b++<N||x[0]!==void 0)&&j--)}return v[0]||v.shift(),f.e=c,lt(f,o?i+Jt(f)+1:i)}}();function BM(e,t){var r,n,a,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(Jt(e)>16)throw Error(yb+Jt(e));if(!e.s)return new u(Cn);for(t==null?(bt=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(go(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(Cn),u.precision=l;;){if(a=lt(a.times(e),l),r=r.times(++c),o=i.plus(Ca(a,r,l)),Us(o.d).slice(0,l)===Us(i.d).slice(0,l)){for(;d--;)i=lt(i.times(i),l);return u.precision=h,t==null?(bt=!0,lt(i,h)):i}i=o}}function Jt(e){for(var t=e.e*pt,r=e.d[0];r>=10;r/=10)t++;return t}function hv(e,t,r){if(t>e.LN10.sd())throw bt=!0,r&&(e.precision=r),Error(rs+"LN10 precision limit exceeded");return lt(new e(e.LN10),t)}function li(e){for(var t="";e--;)t+="0";return t}function kd(e,t){var r,n,a,i,o,l,c,d,u,h=1,m=10,f=e,v=f.d,x=f.constructor,g=x.precision;if(f.s<1)throw Error(rs+(f.s?"NaN":"-Infinity"));if(f.eq(Cn))return new x(0);if(t==null?(bt=!1,d=g):d=t,f.eq(10))return t==null&&(bt=!0),hv(x,d);if(d+=m,x.precision=d,r=Us(v),n=r.charAt(0),i=Jt(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=Us(f.d),n=r.charAt(0),h++;i=Jt(f),n>1?(f=new x("0."+r),i++):f=new x(n+"."+r.slice(1))}else return c=hv(x,d+2,g).times(i+""),f=kd(new x(n+"."+r.slice(1)),d-m).plus(c),x.precision=g,t==null?(bt=!0,lt(f,g)):f;for(l=o=f=Ca(f.minus(Cn),f.plus(Cn),d),u=lt(f.times(f),d),a=3;;){if(o=lt(o.times(u),d),c=l.plus(Ca(o,new x(a),d)),Us(c.d).slice(0,d)===Us(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(hv(x,d+2,g).times(i+""))),l=Ca(l,new x(h),d),x.precision=g,t==null?(bt=!0,lt(l,g)):l;l=c,a+=2}}function DC(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Kc(r/pt),e.d=[],n=(r+1)%pt,r<0&&(n+=pt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=pt;n<a;)e.d.push(+t.slice(n,n+=pt));t=t.slice(n),n=pt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),bt&&(e.e>Fm||e.e<-Fm))throw Error(yb+r)}else e.s=0,e.e=0,e.d=[0];return e}function lt(e,t,r){var n,a,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=pt,a=t,d=h[u=0];else{if(u=Math.ceil((n+1)/pt),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;n%=pt,a=n-pt+o}if(r!==void 0&&(i=go(10,o-a-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/go(10,o-a):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=Jt(e),h.length=1,t=t-i-1,h[0]=go(10,(pt-t%pt)%pt),e.e=Kc(-t/pt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=u,i=1,u--):(h.length=u+1,i=go(10,pt-n),h[u]=a>0?(d/go(10,o-a)%go(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==cr&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=cr)break;h[u--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(bt&&(e.e>Fm||e.e<-Fm))throw Error(yb+Jt(e));return e}function zM(e,t){var r,n,a,i,o,l,c,d,u,h,m=e.constructor,f=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),bt?lt(t,f):t;if(c=e.d,h=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,n=d,l=c.length),a=Math.max(Math.ceil(f/pt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=cr-1;--c[i],c[a]+=cr}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,bt?lt(t,f):t):new m(0)}function el(e,t,r){var n,a=Jt(e),i=Us(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+li(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+li(-a-1)+i,r&&(n=r-o)>0&&(i+=li(n))):a>=o?(i+=li(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+li(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=li(n))),e.s<0?"-"+i:i}function MC(e,t){if(e.length>t)return e.length=t,!0}function WM(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error($o+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return DC(o,i.toString())}else if(typeof i!="string")throw Error($o+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,bX.test(i))DC(o,i);else throw Error($o+i)}if(a.prototype=fe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=WM,a.config=a.set=NX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function NX(e){if(!e||typeof e!="object")throw Error(rs+"Object expected");var t,r,n,a=["precision",1,Uc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Kc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error($o+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($o+r+": "+n);return this}var jb=WM(wX);Cn=new jb(1);const et=jb;var SX=e=>e,UM={"@@functional/placeholder":!0},KM=e=>e===UM,IC=e=>function t(){return arguments.length===0||arguments.length===1&&KM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},VM=(e,t)=>e===1?t:IC(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==UM).length;return i>=e?t(...n):VM(e-i,IC(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>KM(u)?l.shift():u);return t(...d,...l)}))}),Cx=e=>VM(e.length,e),v0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},kX=Cx((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),CX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return SX;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},y0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),HM=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function qM(e){var t;return e===0?t=1:t=Math.floor(new et(e).abs().log(10).toNumber())+1,t}function YM(e,t,r){for(var n=new et(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Cx((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Cx((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Cx((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var GM=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},XM=(e,t,r)=>{if(e.lte(0))return new et(0);var n=qM(e.toNumber()),a=new et(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new et(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new et(c.toNumber()):new et(Math.ceil(c.toNumber()))},PX=(e,t,r)=>{var n=new et(1),a=new et(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new et(10).pow(qM(e)-1),a=new et(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new et(Math.floor(e)))}else e===0?a=new et(Math.floor((t-1)/2)):r||(a=new et(Math.floor(e)));var o=Math.floor((t-1)/2),l=CX(kX(c=>a.add(new et(c-o).mul(n)).toNumber()),v0);return l(0,t)},JM=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var o=XM(new et(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new et(0):(l=new et(t).add(r).div(2),l=l.sub(new et(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new et(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?JM(t,r,n,a,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new et(c).mul(o)),tickMax:l.add(new et(d).mul(o))})};function _X(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=GM([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...v0(0,n-1).map(()=>1/0)]:[...v0(0,n-1).map(()=>-1/0),l];return t>r?y0(c):c}if(o===l)return PX(o,n,a);var{step:d,tickMin:u,tickMax:h}=JM(o,l,i,a,0),m=YM(u,h.add(new et(.1).mul(d)),d);return t>r?y0(m):m}function EX(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=GM([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=XM(new et(o).sub(i).div(l-1),a,0),d=[...YM(new et(i),new et(o),c),o];return a===!1&&(d=d.map(u=>Math.round(u))),r>n?y0(d):d}var AX=HM(_X),OX=HM(EX),QM=e=>e.rootProps.maxBarSize,TX=e=>e.rootProps.barGap,ZM=e=>e.rootProps.barCategoryGap,DX=e=>e.rootProps.barSize,Zd=e=>e.rootProps.stackOffset,wb=e=>e.options.chartName,bb=e=>e.rootProps.syncId,eI=e=>e.rootProps.syncMethod,Nb=e=>e.options.eventEmitter,fa={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Nn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Px=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},MX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fa.angleAxisId,includeHidden:!1,name:void 0,reversed:fa.reversed,scale:fa.scale,tick:fa.tick,tickCount:void 0,ticks:void 0,type:fa.type,unit:void 0},IX={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,ticks:void 0,type:Nn.type,unit:void 0},RX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fa.scale,tick:fa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$X={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,ticks:void 0,type:"category",unit:void 0},Sb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?RX:MX,kb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$X:IX,_x=e=>e.polarOptions,Cb=Y([Wa,Ua,sr],DD),tI=Y([_x,Cb],(e,t)=>{if(e!=null)return Fr(e.innerRadius,t,0)}),rI=Y([_x,Cb],(e,t)=>{if(e!=null)return Fr(e.outerRadius,t,t*.8)}),LX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},nI=Y([_x],LX);Y([Sb,nI],Px);var sI=Y([Cb,tI,rI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Y([kb,sI],Px);var aI=Y([Ue,_x,tI,rI,Wa,Ua],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:Fr(o,a,a/2),cy:Fr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Nt=(e,t)=>t,eh=(e,t,r)=>r;function Ex(e){return e?.id}var or=e=>{var t=Ue(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vc=e=>e.tooltip.settings.axisId,jr=e=>{var t=or(e),r=Vc(e);return th(e,t,r)},iI=Y([jr],e=>e?.dataKey);function oI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=Ex(l);d.forEach((h,m)=>{var f=i==null||a?m:String(at(h,i,null)),v=at(h,l.dataKey,0),x;o.has(f)?x=o.get(f):x={},Object.assign(x,{[u]:v}),o.set(f,x)})}}),Array.from(o.values())}function Ax(e){return e.stackId!=null&&e.dataKey!=null}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j0=[0,"auto"],yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lI=(e,t)=>e.cartesianAxis.xAxis[t],Ha=(e,t)=>{var r=lI(e,t);return r??yn},jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Hd},cI=(e,t)=>e.cartesianAxis.yAxis[t],qa=(e,t)=>{var r=cI(e,t);return r??jn},WX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Pb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??WX},Vt=(e,t,r)=>{switch(t){case"xAxis":return Ha(e,r);case"yAxis":return qa(e,r);case"zAxis":return Pb(e,r);case"angleAxis":return Sb(e,r);case"radiusAxis":return kb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},UX=(e,t,r)=>{switch(t){case"xAxis":return Ha(e,r);case"yAxis":return qa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},th=(e,t,r)=>{switch(t){case"xAxis":return Ha(e,r);case"yAxis":return qa(e,r);case"angleAxis":return Sb(e,r);case"radiusAxis":return kb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _b(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var rh=e=>e.graphicalItems.cartesianItems,KX=Y([Nt,eh],_b),Eb=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),nh=Y([rh,Vt,KX],Eb),dI=Y([nh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ax)),hI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),fI=Y([nh],hI),Ab=e=>e.map(t=>t.data).filter(Boolean).flat(1),VX=Y([nh],Ab),Ob=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Tb=Y([VX,Qd],Ob),Db=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:at(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:at(a,n)}))):e.map(n=>({value:n})),Ox=Y([Tb,Vt,nh],Db);function mI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cl(e){return e.filter(t=>Qs(t)||t instanceof Date).map(Number).filter(t=>fn(t)===!1)}function HX(e,t,r){return!r||typeof t!="number"||fn(t)?[]:r.length?cl(r.flatMap(n=>{var a=at(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Or(i)||!Or(o)))return[t-i,t+o]})):[]}var qX=Y([dI,Qd,jr],oI),pI=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(Ex);return[o,{stackedData:t9(e,c,r),graphicalItems:l}]}))},Cd=Y([qX,dI,Zd],pI),xI=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=a9(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},YX=Y([Cd,to,Nt],xI),gI=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,d=(l=n[o.id])===null||l===void 0?void 0:l.filter(h=>mI(a,h)),u=at(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:HX(i,u,d)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:at(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Tx=e=>e.errorBars,vI=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>mI(r,n));Y([fI,Tx,Nt],vI);var GX=Y([Tb,Vt,fI,Tx,Nt],gI);function XX(e){var{value:t}=e;if(Qs(t)||t instanceof Date)return t}var $C=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=cl(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},JX=(e,t,r)=>{var n=e.map(XX).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hT(n))?nM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Mb=e=>{var t;if(e==null||!("domain"in e))return j0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=cl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:j0},zm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},yI=e=>e.referenceElements.dots,Hc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),QX=Y([yI,Nt,eh],Hc),jI=e=>e.referenceElements.areas,ZX=Y([jI,Nt,eh],Hc),wI=e=>e.referenceElements.lines,eJ=Y([wI,Nt,eh],Hc),bI=(e,t)=>{var r=cl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tJ=Y(QX,Nt,bI),NI=(e,t)=>{var r=cl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rJ=Y([ZX,Nt],NI),SI=(e,t)=>{var r=cl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nJ=Y(eJ,Nt,SI),sJ=Y(tJ,nJ,rJ,(e,t,r)=>zm(e,r,t)),kI=Y([Vt],Mb),Ib=(e,t,r,n,a,i,o)=>{var l=yX(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?zm(r,a,$C(n)):zm(a,$C(n));return jX(t,d,e.allowDataOverflow)},aJ=Y([Vt,kI,YX,GX,sJ,Ue,Nt],Ib),iJ=[0,1],Rb=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=sa(t,i);return d&&l==null?nM(0,r.length):c==="category"?JX(n,e,d):a==="expand"?iJ:o}},$b=Y([Vt,Ue,Tb,Ox,Zd,Nt,aJ],Rb),CI=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Wd(i));return l in Ou?l:"point"}}},qc=Y([Vt,Ue,uI,wb,Nt],CI);function oJ(e){if(e!=null){if(e in Ou)return Ou[e]();var t="scale".concat(Wd(e));if(t in Ou)return Ou[t]()}}function Lb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=oJ(t);if(a!=null){var i=a.domain(r).range(n);return XH(i),i}}}var Fb=(e,t,r)=>{var n=Mb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&kc(e))return AX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&kc(e))return OX(e,t.tickCount,t.allowDecimals)}},Bb=Y([$b,th,qc],Fb),zb=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&kc(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},lJ=Y([Vt,$b,Bb,Nt],zb),cJ=Y(Ox,Vt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(cl(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),PI=Y(cJ,Ue,ZM,sr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Or(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Fr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),uJ=(e,t)=>{var r=Ha(e,t);return r==null||typeof r.padding!="string"?0:PI(e,"xAxis",t,r.padding)},dJ=(e,t)=>{var r=qa(e,t);return r==null||typeof r.padding!="string"?0:PI(e,"yAxis",t,r.padding)},hJ=Y(Ha,uJ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),fJ=Y(qa,dJ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),mJ=Y([sr,hJ,yx,vx,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),pJ=Y([sr,Ue,fJ,yx,vx,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),sh=(e,t,r,n)=>{var a;switch(t){case"xAxis":return mJ(e,r,n);case"yAxis":return pJ(e,r,n);case"zAxis":return(a=Pb(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return nI(e);case"radiusAxis":return sI(e,r);default:return}},_I=Y([Vt,sh],Px),Yc=Y([Vt,qc,lJ,_I],Lb);Y([nh,Tx,Nt],vI);function EI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Dx=(e,t)=>t,Mx=(e,t,r)=>r,xJ=Y(xx,Dx,Mx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EI)),gJ=Y(gx,Dx,Mx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EI)),AI=(e,t)=>({width:e.width,height:t.height}),vJ=(e,t)=>{var r=typeof t.width=="number"?t.width:Hd;return{width:r,height:e.height}},OI=Y(sr,Ha,AI),yJ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},jJ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},wJ=Y(Ua,sr,xJ,Dx,Mx,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=AI(t,l);o==null&&(o=yJ(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),bJ=Y(Wa,sr,gJ,Dx,Mx,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=vJ(t,l);o==null&&(o=jJ(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),NJ=(e,t)=>{var r=Ha(e,t);if(r!=null)return wJ(e,r.orientation,r.mirror)},SJ=Y([sr,Ha,NJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),kJ=(e,t)=>{var r=qa(e,t);if(r!=null)return bJ(e,r.orientation,r.mirror)},CJ=Y([sr,qa,kJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),TI=Y(sr,qa,(e,t)=>{var r=typeof t.width=="number"?t.width:Hd;return{width:r,height:e.height}}),LC=(e,t,r)=>{switch(t){case"xAxis":return OI(e,r).width;case"yAxis":return TI(e,r).height;default:return}},DI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=sa(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&a&&hT(c))return c}},Wb=Y([Ue,Ox,Vt,Nt],DI),MI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=sa(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Ub=Y([Ue,Ox,th,Nt],MI),FC=Y([Ue,UX,qc,Yc,Wb,Ub,sh,Bb,Nt],(e,t,r,n,a,i,o,l,c)=>{if(t==null)return null;var d=sa(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),PJ=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var d=sa(e,c),{type:u,ticks:h,tickCount:m}=t,f=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=u==="category"&&n.bandwidth?n.bandwidth()/f:0;v=c==="angleAxis"&&i!=null&&i.length>=2?fr(i[0]-i[1])*2*v:v;var x=h||a;if(x){var g=x.map((y,j)=>{var w=o?o.indexOf(y):y;return{index:j,coordinate:n(w)+v,value:y,offset:v}});return g.filter(y=>!fn(y.coordinate))}return d&&l?l.map((y,j)=>({coordinate:n(y)+v,value:y,index:j,offset:v})):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,j)=>({coordinate:n(y)+v,value:o?o[y]:y,index:j,offset:v}))}},II=Y([Ue,th,qc,Yc,Bb,sh,Wb,Ub,Nt],PJ),_J=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=sa(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&n?.length>=2?fr(n[0]-n[1])*2*d:d,l&&i?i.map((u,h)=>({coordinate:r(u)+d,value:u,index:h,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,h)=>({coordinate:r(u)+d,value:a?a[u]:u,index:h,offset:d}))}},ea=Y([Ue,th,Yc,sh,Wb,Ub,Nt],_J),ta=Y(Vt,Yc,(e,t)=>{if(!(e==null||t==null))return Bm(Bm({},e),{},{scale:t})}),EJ=Y([Vt,qc,$b,_I],Lb);Y((e,t,r)=>Pb(e,r),EJ,(e,t)=>{if(!(e==null||t==null))return Bm(Bm({},e),{},{scale:t})});var AJ=Y([Ue,xx,gx],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RI=e=>e.options.defaultTooltipEventType,$I=e=>e.options.validateTooltipEventTypes;function LI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Kb(e,t){var r=RI(e),n=$I(e);return LI(t,r,n)}function OJ(e){return xe(t=>Kb(t,e))}var FI=(e,t)=>{var r,n=Number(t);if(!(fn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},TJ=e=>e.tooltip.settings,fi={active:!1,index:null,dataKey:void 0,coordinate:void 0},DJ={itemInteraction:{click:fi,hover:fi},axisInteraction:{click:fi,hover:fi},keyboardInteraction:fi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},BI=Ln({name:"tooltip",initialState:DJ,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ka(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:MJ,removeTooltipEntrySettings:IJ,setTooltipSettingsState:RJ,setActiveMouseOverItemIndex:zI,mouseLeaveItem:$J,mouseLeaveChart:WI,setActiveClickItemIndex:LJ,setMouseOverAxisIndex:UI,setMouseClickAxisIndex:FJ,setSyncInteraction:w0,setKeyboardInteraction:b0}=BI.actions,BJ=BI.reducer;function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){zJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zJ(e,t,r){return(t=WJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WJ(e){var t=UJ(e,"string");return typeof t=="symbol"?t:t+""}function UJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KJ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function VJ(e){return e.index!=null}var KI=(e,t,r,n)=>{if(t==null)return fi;var a=KJ(e,t,r);if(a==null)return fi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(VJ(a)){if(i)return nf(nf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return nf(nf({},fi),{},{coordinate:a.coordinate})},Vb=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!Or(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},VI=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=a?.[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},HI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},ah=e=>e.options.tooltipPayloadSearcher,Gc=e=>e.tooltip;function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return(t=qJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GJ(e,t){return e??t}var qI=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,h=[];return e.reduce((m,f)=>{var v,{dataDefinedOnItem:x,settings:g}=f,y=GJ(x,l),j=Array.isArray(y)?MD(y,d,u):y,w=(v=g?.dataKey)!==null&&v!==void 0?v:n,b=g?.nameKey,N;if(n&&Array.isArray(j)&&!Array.isArray(j[0])&&o==="axis"?N=fT(j,n,a):N=i(j,t,c,b),Array.isArray(N))N.forEach(S=>{var C=WC(WC({},g),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});m.push(_k({tooltipEntrySettings:C,dataKey:S.dataKey,payload:S.payload,value:at(S.payload,S.dataKey),name:S.name}))});else{var k;m.push(_k({tooltipEntrySettings:g,dataKey:w,payload:N,value:at(N,w),name:(k=at(N,b))!==null&&k!==void 0?k:g?.name}))}return m},h)}},Hb=Y([jr,Ue,uI,wb,or],CI),XJ=Y([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),JJ=Y([or,Vc],_b),ih=Y([XJ,jr,JJ],Eb),QJ=Y([ih],e=>e.filter(Ax)),ZJ=Y([ih],Ab),Xc=Y([ZJ,to],Ob),eQ=Y([QJ,to,jr],oI),qb=Y([Xc,jr,ih],Db),tQ=Y([jr],Mb),rQ=Y([ih],e=>e.filter(Ax)),nQ=Y([eQ,rQ,Zd],pI),sQ=Y([nQ,to,or],xI),aQ=Y([ih],hI),iQ=Y([Xc,jr,aQ,Tx,or],gI),oQ=Y([yI,or,Vc],Hc),lQ=Y([oQ,or],bI),cQ=Y([jI,or,Vc],Hc),uQ=Y([cQ,or],NI),dQ=Y([wI,or,Vc],Hc),hQ=Y([dQ,or],SI),fQ=Y([lQ,hQ,uQ],zm),mQ=Y([jr,tQ,sQ,iQ,fQ,Ue,or],Ib),YI=Y([jr,Ue,Xc,qb,Zd,or,mQ],Rb),pQ=Y([YI,jr,Hb],Fb),xQ=Y([jr,YI,pQ,or],zb),GI=e=>{var t=or(e),r=Vc(e),n=!1;return sh(e,t,r,n)},XI=Y([jr,GI],Px),JI=Y([jr,Hb,xQ,XI],Lb),gQ=Y([Ue,qb,jr,or],DI),vQ=Y([Ue,qb,jr,or],MI),yQ=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,d=sa(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return h=l==="angleAxis"&&a!=null&&a?.length>=2?fr(a[0]-a[1])*2*h:h,d&&o?o.map((m,f)=>({coordinate:n(m)+h,value:m,index:f,offset:h})):n.domain().map((m,f)=>({coordinate:n(m)+h,value:i?i[m]:m,index:f,offset:h}))}}},Ya=Y([Ue,jr,Hb,JI,GI,gQ,vQ,or],yQ),Yb=Y([RI,$I,TJ],(e,t,r)=>LI(r.shared,e,t)),QI=e=>e.tooltip.settings.trigger,Gb=e=>e.tooltip.settings.defaultIndex,Ix=Y([Gc,Yb,QI,Gb],KI),Li=Y([Ix,Xc],Vb),ZI=Y([Ya,Li],FI),eR=Y([Ix],e=>{if(e)return e.dataKey}),tR=Y([Gc,Yb,QI,Gb],HI),jQ=Y([Wa,Ua,Ue,sr,Ya,Gb,tR,ah],VI),wQ=Y([Ix,jQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bQ=Y([Ix],e=>e.active),NQ=Y([tR,Li,to,iI,ZI,ah,Yb],qI),SQ=Y([NQ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){kQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kQ(e,t,r){return(t=CQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Q=()=>xe(jr),EQ=()=>{var e=_Q(),t=xe(Ya),r=xe(JI);return Zo(KC(KC({},e),{},{scale:r}),t)},rR=()=>xe(wb),Xb=(e,t)=>t,nR=(e,t,r)=>r,Jb=(e,t,r,n)=>n,AQ=Y(Ya,e=>ux(e,t=>t.coordinate)),Qb=Y([Gc,Xb,nR,Jb],KI),sR=Y([Qb,Xc],Vb),OQ=(e,t,r)=>{if(t!=null){var n=Gc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aR=Y([Gc,Xb,nR,Jb],HI),Wm=Y([Wa,Ua,Ue,sr,Ya,Jb,aR,ah],VI),TQ=Y([Qb,Wm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),iR=Y(Ya,sR,FI),DQ=Y([aR,sR,to,iI,iR,ah,Xb],qI),MQ=Y([Qb],e=>({isActive:e.active,activeIndex:e.index})),IQ=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var c=i9(e.chartX,e.chartY,t,r,l);if(c){var d=l9(c,t),u=YH(d,o,i,n,a),h=o9(t,i,u,c);return{activeIndex:String(u),activeCoordinate:h}}}};function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(null,arguments)}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){RQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RQ(e,t,r){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Q(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FQ(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,h=r,m=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var f,v;if(d==="ScatterChart")f=u,v=lq;else if(d==="BarChart")f=cq(o,u,a,i),v=XD;else if(o==="radial"){var{cx:x,cy:g,radius:y,startAngle:j,endAngle:w}=JD(u);f={cx:x,cy:g,startAngle:j,endAngle:w,innerRadius:y,outerRadius:y},v=ZD}else f={points:Wq(o,u,a)},v=rc;var b=typeof l=="object"&&"className"in l?l.className:void 0,N=sf(sf(sf(sf({stroke:"#ccc",pointerEvents:"none"},a),f),vt(l,!1)),{},{payload:h,payloadIndex:m,className:Ve("recharts-tooltip-cursor",b)});return p.isValidElement(l)?p.cloneElement(l,N):p.createElement(v,N)}function BQ(e){var t=EQ(),r=zD(),n=qd(),a=rR();return p.createElement(FQ,N0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var oR=p.createContext(null),zQ=()=>p.useContext(oR),lR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,m),v=r?r+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],f]:c._events[v].push(f):(c._events[v]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,v=new Array(f);m<f;m++)v[m]=h[m].fn;return v},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,f,v){var x=r?r+d:d;if(!this._events[x])return!1;var g=this._events[x],y=arguments.length,j,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,m),!0;case 5:return g.fn.call(g.context,u,h,m,f),!0;case 6:return g.fn.call(g.context,u,h,m,f,v),!0}for(w=1,j=new Array(y-1);w<y;w++)j[w-1]=arguments[w];g.fn.apply(g.context,j)}else{var b=g.length,N;for(w=0;w<b;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),y){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,h);break;case 4:g[w].fn.call(g[w].context,u,h,m);break;default:if(!j)for(N=1,j=new Array(y-1);N<y;N++)j[N-1]=arguments[N];g[w].fn.apply(g[w].context,j)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var v=this._events[f];if(v.fn)v.fn===u&&(!m||v.once)&&(!h||v.context===h)&&o(this,f);else{for(var x=0,g=[],y=v.length;x<y;x++)(v[x].fn!==u||m&&!v[x].once||h&&v[x].context!==h)&&g.push(v[x]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(lR);var WQ=lR.exports;const UQ=ra(WQ);var Pd=new UQ,S0="recharts.syncEvent.tooltip",HC="recharts.syncEvent.brush";function oh(e,t){if(t){var r=Number.parseInt(t,10);if(!fn(r))return e?.[r]}}var KQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cR=Ln({name:"options",initialState:KQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),VQ=cR.reducer,{createEventEmitter:HQ}=cR.actions;function qQ(e){return e.tooltip.syncInteraction}var YQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},uR=Ln({name:"chartData",initialState:YQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:qC,setDataStartEndIndexes:GQ,setComputedData:Yde}=uR.actions,XQ=uR.reducer,JQ=["x","y"];function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){QQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QQ(e,t,r){return(t=ZQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZQ(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tZ(e,t){if(e==null)return{};var r,n,a=rZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dR=()=>{};function nZ(){var e=xe(bb),t=xe(Nb),r=It(),n=xe(eI),a=xe(Ya),i=qd(),o=Vw(),l=xe(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return dR;var c=(d,u,h)=>{if(t!==h&&e===d){if(n==="index"){var m;if(o&&u!==null&&u!==void 0&&(m=u.payload)!==null&&m!==void 0&&m.coordinate){var f=u.payload.coordinate,{x:v,y:x}=f,g=tZ(f,JQ),y=uo(uo(uo({},g),typeof v=="number"&&{x:Math.max(o.x,Math.min(v,o.x+o.width))}),typeof x=="number"&&{y:Math.max(o.y,Math.min(x,o.y+o.height))}),j=uo(uo({},u),{},{payload:uo(uo({},u.payload),{},{coordinate:y})});r(j)}else r(u);return}if(a!=null){var w;if(typeof n=="function"){var b={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},N=n(a,b);w=a[N]}else n==="value"&&(w=a.find(R=>String(R.value)===u.payload.label));var{coordinate:k}=u.payload;if(w==null||u.payload.active===!1||k==null||o==null){r(w0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:C}=k,A=Math.min(S,o.x+o.width),P=Math.min(C,o.y+o.height),D={x:i==="horizontal"?w.coordinate:A,y:i==="horizontal"?P:w.coordinate},E=w0({active:u.payload.active,coordinate:D,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});r(E)}}};return Pd.on(S0,c),()=>{Pd.off(S0,c)}},[l,r,t,e,n,a,i,o])}function sZ(){var e=xe(bb),t=xe(Nb),r=It();p.useEffect(()=>{if(e==null)return dR;var n=(a,i,o)=>{t!==o&&e===a&&r(GQ(i))};return Pd.on(HC,n),()=>{Pd.off(HC,n)}},[r,t,e])}function aZ(){var e=It();p.useEffect(()=>{e(HQ())},[e]),nZ(),sZ()}function iZ(e,t,r,n,a,i){var o=xe(m=>OQ(m,e,t)),l=xe(Nb),c=xe(bb),d=xe(eI),u=xe(qQ),h=u?.active;p.useEffect(()=>{if(!h&&c!=null&&l!=null){var m=w0({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});Pd.emit(S0,c,m,l)}},[h,r,o,a,n,l,c,d,i])}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){oZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t,r){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uZ(e){return e.dataKey}function dZ(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(B9,t)}var JC=[],hZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ka.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function on(e){var t=ar(e,hZ),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:h,reverseDirection:m,useTranslate3d:f,wrapperStyle:v,cursor:x,shared:g,trigger:y,defaultIndex:j,portal:w,axisId:b}=t,N=It(),k=typeof j=="number"?String(j):j;p.useEffect(()=>{N(RJ({shared:g,trigger:y,axisId:b,active:r,defaultIndex:k}))},[N,g,y,b,r,k]);var S=Vw(),C=VD(),A=OJ(g),{activeIndex:P,isActive:D}=xe(be=>MQ(be,A,y,k)),E=xe(be=>DQ(be,A,y,k)),R=xe(be=>iR(be,A,y,k)),z=xe(be=>TQ(be,A,y,k)),V=E,L=zQ(),W=r??D,[_,O]=lD([V,W]),re=A==="axis"?R:void 0;iZ(A,y,z,re,P,W);var H=w??L;if(H==null)return null;var X=V??JC;W||(X=JC),l&&X.length&&(X=XT(V.filter(be=>be.value!=null&&(be.hide!==!0||t.includeHidden)),u,uZ));var ae=X.length>0,le=p.createElement(q9,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:W,coordinate:z,hasPayload:ae,offset:d,position:h,reverseDirection:m,useTranslate3d:f,viewBox:S,wrapperStyle:v,lastBoundingBox:_,innerRef:O,hasPortalFromProps:!!w},dZ(o,XC(XC({},t),{},{payload:X,label:re,active:W,coordinate:z,accessibilityLayer:C})));return p.createElement(p.Fragment,null,Vi.createPortal(le,H),W&&p.createElement(BQ,{cursor:x,tooltipEventType:A,coordinate:z,payload:V,index:P}))}var hR={},fR={},mR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},h=()=>{d&&u(),x()};let m=null;const f=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},n)},v=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{v(),o=void 0,l=null},g=()=>{u()},y=function(...j){if(a?.aborted)return;o=this,l=j;const w=m==null;f(),c&&w&&u()};return y.schedule=f,y.cancel=x,y.flush=g,a?.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(mR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mR;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,h=null;const m=t.debounce(function(...x){u=n.apply(this,x),h=null},a,{edges:d}),f=function(...x){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(u=n.apply(this,x),h=Date.now(),m.cancel(),m.schedule(),u):(m.apply(this,x),u)},v=()=>(m.flush(),u);return f.cancel=m.cancel,f.flush=v,f}e.debounce=r})(fR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fR;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(hR);var fZ=hR.throttle;const mZ=ra(fZ);var Vu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){pZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pZ(e,t,r){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _n=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:h,className:m,onResize:f,style:v={}}=e,x=p.useRef(null),g=p.useRef();g.current=f,p.useImperativeHandle(t,()=>x.current);var[y,j]=p.useState({containerWidth:n.width,containerHeight:n.height}),w=p.useCallback((N,k)=>{j(S=>{var C=Math.round(N),A=Math.round(k);return S.containerWidth===C&&S.containerHeight===A?S:{containerWidth:C,containerHeight:A}})},[]);p.useEffect(()=>{var N=A=>{var P,{width:D,height:E}=A[0].contentRect;w(D,E),(P=g.current)===null||P===void 0||P.call(g,D,E)};u>0&&(N=mZ(N,u,{trailing:!0,leading:!1}));var k=new ResizeObserver(N),{width:S,height:C}=x.current.getBoundingClientRect();return w(S,C),k.observe(x.current),()=>{k.disconnect()}},[w,u]);var b=p.useMemo(()=>{var{containerWidth:N,containerHeight:k}=y;if(N<0||k<0)return null;Vu(ko(a)||ko(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Vu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var S=ko(a)?N:a,C=ko(i)?k:i;return r&&r>0&&(S?C=S/r:C&&(S=C*r),c&&C>c&&(C=c)),Vu(S>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,C,a,i,o,l,r),p.Children.map(d,A=>p.cloneElement(A,{width:S,height:C,style:fv({width:S,height:C},A.props.style)}))},[r,d,i,c,l,o,y,a]);return p.createElement("div",{id:h?"".concat(h):void 0,className:Ve("recharts-responsive-container",m),style:fv(fv({},v),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:x},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},b))}),Jc=e=>null;Jc.displayName="Cell";function vZ(e,t,r){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wZ{constructor(t){vZ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){NZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NZ(e,t,r){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CZ={cacheSize:2e3,enableCache:!0},pR=bZ({},CZ),eP=new wZ(pR.cacheSize),PZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tP="recharts_measurement_span";function _Z(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var rP=(e,t)=>{try{var r=document.getElementById(tP);r||(r=document.createElement("span"),r.setAttribute("id",tP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,PZ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Hu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ka.isSsr)return{width:0,height:0};if(!pR.enableCache)return rP(t,r);var n=_Z(t,r),a=eP.get(n);if(a)return a;var i=rP(t,r);return eP.set(n,i),i},nP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,AZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OZ=Object.keys(xR),Ul="NaN";function TZ(e,t){return e*xR[t]}class en{static parse(t){var r,[,n,a]=(r=AZ.exec(t))!==null&&r!==void 0?r:[];return new en(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,fn(t)&&(this.unit=""),r!==""&&!EZ.test(r)&&(this.num=NaN,this.unit=""),OZ.includes(r)&&(this.num=TZ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fn(this.num)}}function gR(e){if(e.includes(Ul))return Ul;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=nP.exec(t))!==null&&r!==void 0?r:[],o=en.parse(n??""),l=en.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Ul;t=t.replace(nP,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,h,m]=(d=sP.exec(t))!==null&&d!==void 0?d:[],f=en.parse(u??""),v=en.parse(m??""),x=h==="+"?f.add(v):f.subtract(v);if(x.isNaN())return Ul;t=t.replace(sP,x.toString())}return t}var aP=/\(([^()]*)\)/;function DZ(e){for(var t=e,r;(r=aP.exec(t))!=null;){var[,n]=r;t=t.replace(aP,gR(n))}return t}function MZ(e){var t=e.replace(/\s+/g,"");return t=DZ(t),t=gR(t),t}function IZ(e){try{return MZ(e)}catch{return Ul}}function mv(e){var t=IZ(e.slice(5,-1));return t===Ul?"":t}var RZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$Z=["dx","dy","angle","className","breakAll"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function iP(e,t){if(e==null)return{};var r,n,a=LZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vR=/[ \f\n\r\t\v\u2028\u2029]+/,yR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(vR));var i=a.map(l=>({word:l,width:Hu(l,n).width})),o=r?0:Hu(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},FZ=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=ge(i),u=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((E,R)=>{var{word:z,width:V}=R,L=E[E.length-1];if(L&&(n==null||a||L.width+V+r<Number(n)))L.words.push(z),L.width+=V+r;else{var W={words:[z],width:V};E.push(W)}return E},[])},m=h(t),f=P=>P.reduce((D,E)=>D.width>E.width?D:E);if(!d||a)return m;var v=m.length>i||f(m).width>Number(n);if(!v)return m;for(var x="…",g=P=>{var D=u.slice(0,P),E=yR({breakAll:c,style:l,children:D+x}).wordsWithComputedWidth,R=h(E),z=R.length>i||f(R).width>Number(n);return[z,R]},y=0,j=u.length-1,w=0,b;y<=j&&w<=u.length-1;){var N=Math.floor((y+j)/2),k=N-1,[S,C]=g(k),[A]=g(N);if(!S&&!A&&(y=N+1),S&&A&&(j=N-1),!S&&A){b=C;break}w++}return b||m},oP=e=>{var t=gt(e)?[]:e.toString().split(vR);return[{words:t}]},BZ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Ka.isSsr){var l,c,d=yR({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:h}=d;l=u,c=h}else return oP(n);return FZ({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return oP(n)},lP="#808080",Rx=p.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=lP}=e,u=iP(e,RZ),h=p.useMemo(()=>BZ({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:m,dy:f,angle:v,className:x,breakAll:g}=u,y=iP(u,$Z);if(!Qs(r)||!Qs(n)||h.length===0)return null;var j=r+(ge(m)?m:0),w=n+(ge(f)?f:0),b;switch(c){case"start":b=mv("calc(".concat(i,")"));break;case"middle":b=mv("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:b=mv("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(o){var k=h[0].width,{width:S}=u;N.push("scale(".concat(ge(S)?S/k:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(j,", ").concat(w,")")),N.length&&(y.transform=N.join(" ")),p.createElement("text",k0({},vt(y,!0),{ref:t,x:j,y:w,className:Ve("recharts-text",x),textAnchor:l,fill:d.includes("url")?lP:d}),h.map((C,A)=>{var P=C.words.join(g?"":" ");return p.createElement("tspan",{x:j,dy:A===0?b:a,key:"".concat(P,"-").concat(A)},P)}))});Rx.displayName="Text";var zZ=["labelRef"];function WZ(e,t){if(e==null)return{};var r,n,a=UZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ma.apply(null,arguments)}var jR=p.createContext(null),qZ=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,o=p.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return p.createElement(jR.Provider,{value:o},i)},wR=()=>{var e=p.useContext(jR),t=Vw();return e||t},YZ=p.createContext(null),GZ=()=>{var e=p.useContext(YZ),t=xe(aI);return e||t},XZ=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Zb=e=>e!=null&&typeof e=="function",JZ=(e,t)=>{var r=fr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},QZ=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:h,endAngle:m,clockWise:f}=a,v=(d+u)/2,x=JZ(h,m),g=x>=0?1:-1,y,j;switch(t){case"insideStart":y=h+g*i,j=f;break;case"insideEnd":y=m-g*i,j=!f;break;case"end":y=m+g*i,j=f;break;default:throw new Error("Unsupported position ".concat(t))}j=x<=0?j:!j;var w=Gt(l,c,v,y),b=Gt(l,c,v,y+(j?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(b.x,",").concat(b.y),k=gt(e.id)?gd("recharts-radial-line-"):e.id;return p.createElement("text",ma({},n,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:k,d:N})),p.createElement("textPath",{xlinkHref:"#".concat(k)},r))},ZZ=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:h}=Gt(n,a,o+t,d);return{x:u,y:h,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+o)/2,{x:f,y:v}=Gt(n,a,m,d);return{x:f,y:v,textAnchor:"middle",verticalAnchor:"middle"}},bR=e=>"cx"in e&&ge(e.cx),eee=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!bR(r)&&(i=r);var{x:o,y:l,width:c,height:d}=t,u=d>=0?1:-1,h=u*n,m=u>0?"end":"start",f=u>0?"start":"end",v=c>=0?1:-1,x=v*n,g=v>0?"end":"start",y=v>0?"start":"end";if(a==="top"){var j={x:o+c/2,y:l-u*n,textAnchor:"middle",verticalAnchor:m};return Bt(Bt({},j),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:f};return Bt(Bt({},w),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(a==="left"){var b={x:o-x,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return Bt(Bt({},b),i?{width:Math.max(b.x-i.x,0),height:d}:{})}if(a==="right"){var N={x:o+c+x,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Bt(Bt({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:d}:{})}var k=i?{width:c,height:d}:{};return a==="insideLeft"?Bt({x:o+x,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},k):a==="insideRight"?Bt({x:o+c-x,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},k):a==="insideTop"?Bt({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:f},k):a==="insideBottom"?Bt({x:o+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},k):a==="insideTopLeft"?Bt({x:o+x,y:l+h,textAnchor:y,verticalAnchor:f},k):a==="insideTopRight"?Bt({x:o+c-x,y:l+h,textAnchor:g,verticalAnchor:f},k):a==="insideBottomLeft"?Bt({x:o+x,y:l+d-h,textAnchor:y,verticalAnchor:m},k):a==="insideBottomRight"?Bt({x:o+c-x,y:l+d-h,textAnchor:g,verticalAnchor:m},k):a&&typeof a=="object"&&(ge(a.x)||ko(a.x))&&(ge(a.y)||ko(a.y))?Bt({x:o+Fr(a.x,c),y:l+Fr(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):Bt({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},tee={offset:5};function ci(e){var t=ar(e,tee),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:c,labelRef:d}=t,u=GZ(),h=wR(),m=n==="center"?h:u??h,f=r||m;if(!f||gt(a)&&gt(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var v=Bt(Bt({},t),{},{viewBox:f});if(p.isValidElement(o)){var x=WZ(v,zZ);return p.cloneElement(o,x)}var g;if(typeof o=="function"){if(g=p.createElement(o,v),p.isValidElement(g))return g}else g=XZ(t);var y=bR(f),j=vt(t,!0);if(y&&(n==="insideStart"||n==="insideEnd"||n==="end"))return QZ(t,n,g,j,f);var w=y?ZZ(f,t.offset,t.position):eee(t,f);return p.createElement(Rx,ma({ref:d,className:Ve("recharts-label",l)},j,w,{breakAll:c}),g)}ci.displayName="Label";var ree=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(ci,ma({key:"label-implicit"},n)):Qs(e)?p.createElement(ci,ma({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===ci?p.cloneElement(e,Bt({key:"label-implicit"},n)):p.createElement(ci,ma({key:"label-implicit",content:e},n)):Zb(e)?p.createElement(ci,ma({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(ci,ma({},e,{key:"label-implicit"},n)):null};function nee(e){var{label:t}=e,r=wR();return ree(t,r)||null}var NR={},SR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(SR);var kR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(kR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SR,r=kR,n=lx;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(NR);var see=NR.last;const aee=ra(see);var iee=["valueAccessor"],oee=["dataKey","clockWise","id","textBreakAll"];function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(null,arguments)}function uP(e,t){if(e==null)return{};var r,n,a=lee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cee=e=>Array.isArray(e.value)?aee(e.value):e.value,CR=p.createContext(void 0),eN=CR.Provider,PR=p.createContext(void 0),uee=PR.Provider;function dee(){return p.useContext(CR)}function hee(){return p.useContext(PR)}function Cf(e){var{valueAccessor:t=cee}=e,r=uP(e,iee),{dataKey:n,clockWise:a,id:i,textBreakAll:o}=r,l=uP(r,oee),c=dee(),d=hee(),u=c||d;return!u||!u.length?null:p.createElement(Lt,{className:"recharts-label-list"},u.map((h,m)=>{var f,v=gt(n)?t(h,m):at(h&&h.payload,n),x=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return p.createElement(ci,Um({},vt(h,!0),l,x,{fill:(f=r.fill)!==null&&f!==void 0?f:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:o,viewBox:h.viewBox,key:"label-".concat(m),index:m}))}))}Cf.displayName="LabelList";function $x(e){var{label:t}=e;return t?t===!0?p.createElement(Cf,{key:"labelList-implicit"}):p.isValidElement(t)||Zb(t)?p.createElement(Cf,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Cf,Um({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(null,arguments)}var tN=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Ve("recharts-dot",a);return t===+t&&r===+r&&n===+n?p.createElement("circle",C0({},is(e),vw(e),{className:i,cx:t,cy:r,r:n})):null},_R=e=>e.graphicalItems.polarItems,fee=Y([Nt,eh],_b),rN=Y([_R,Vt,fee],Eb),mee=Y([rN],Ab),nN=Y([mee,vb],Ob),pee=Y([nN,Vt,rN],Db),xee=Y([nN,Vt,rN],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=at(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:at(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),dP=()=>{},gee=Y([Vt,kI,dP,xee,dP,Ue,Nt],Ib),ER=Y([Vt,Ue,nN,pee,Zd,Nt,gee],Rb),vee=Y([ER,Vt,qc],Fb);Y([Vt,ER,vee,Nt],zb);var yee={radiusAxis:{},angleAxis:{}},AR=Ln({name:"polarAxis",initialState:yee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}});AR.actions;var jee=AR.reducer;function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wee(e,t,r){return(t=bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var See=(e,t)=>t,sN=Y([_R,See],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),kee=[],aN=(e,t,r)=>r?.length===0?kee:r,OR=Y([vb,sN,aN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>fP(fP({},t.presentationProps),i.props))),a!=null)return a}}),Cee=Y([OR,sN,aN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=at(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:Qi(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),Pee=Y([OR,sN,aN,sr],(e,t,r,n)=>{if(!(t==null||e==null))return bte({offset:n,pieSettings:t,displayedData:e,cells:r})}),TR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(TR);var _ee=TR.isPlainObject;const Eee=ra(_ee);function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return(t=Oee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oee(e){var t=Tee(e,"string");return typeof t=="symbol"?t:t+""}function Tee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(null,arguments)}var xP=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Dee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mee=e=>{var t=ar(e,Dee),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:h}=t,m=p.useRef(),[f,v]=p.useState(-1),x=p.useRef(a),g=p.useRef(i),y=p.useRef(o),j=p.useRef(r),w=p.useRef(n),b=zc(e,"trapezoid-");if(p.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var z=m.current.getTotalLength();z&&v(z)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var N=Ve("recharts-trapezoid",l);if(!h)return p.createElement("g",null,p.createElement("path",Km({},vt(t,!0),{className:N,d:xP(r,n,a,i,o)})));var k=x.current,S=g.current,C=y.current,A=j.current,P=w.current,D="0px ".concat(f===-1?1:f,"px"),E="".concat(f,"px 0px"),R=HD(["strokeDasharray"],d,c);return p.createElement(Bc,{animationId:b,key:b,canBegin:f>0,duration:d,easing:c,isActive:h,begin:u},z=>{var V=st(k,a,z),L=st(S,i,z),W=st(C,o,z),_=st(A,r,z),O=st(P,n,z);m.current&&(x.current=V,g.current=L,y.current=W,j.current=_,w.current=O);var re=z>0?{transition:R,strokeDasharray:E}:{strokeDasharray:D};return p.createElement("path",Km({},vt(t,!0),{className:N,d:xP(_,O,V,L,W),ref:m,style:pP(pP({},re),t.style)}))})},Iee=["option","shapeType","propTransformer","activeClassName","isActive"];function Ree(e,t){if(e==null)return{};var r,n,a=$ee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $ee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Lee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lee(e,t,r){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zee(e,t){return Vm(Vm({},t),e)}function Wee(e,t){return e==="symbols"}function vP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(XD,r);case"trapezoid":return p.createElement(Mee,r);case"sector":return p.createElement(ZD,r);case"symbols":if(Wee(t))return p.createElement(Sw,r);break;default:return null}}function Uee(e){return p.isValidElement(e)?e.props:e}function DR(e){var{option:t,shapeType:r,propTransformer:n=zee,activeClassName:a="recharts-active-shape",isActive:i}=e,o=Ree(e,Iee),l;if(p.isValidElement(t))l=p.cloneElement(t,Vm(Vm({},o),Uee(t)));else if(typeof t=="function")l=t(o);else if(Eee(t)&&typeof t!="boolean"){var c=n(t,o);l=p.createElement(vP,{shapeType:r,elementProps:c})}else{var d=o;l=p.createElement(vP,{shapeType:r,elementProps:d})}return i?p.createElement(Lt,{className:a},l):l}var iN=(e,t)=>{var r=It();return(n,a)=>i=>{e?.(n,a,i),r(zI({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},oN=e=>{var t=It();return(r,n)=>a=>{e?.(r,n,a),t($J())}},lN=(e,t)=>{var r=It();return(n,a)=>i=>{e?.(n,a,i),r(LJ({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Lx(e){var{fn:t,args:r}=e,n=It(),a=Wr();return p.useEffect(()=>{if(!a){var i=t(r);return n(MJ(i)),()=>{n(IJ(i))}}},[t,r,n,a]),null}var MR=()=>{};function cN(e){var{legendPayload:t}=e,r=It(),n=Wr();return p.useEffect(()=>n?MR:(r(UD(t)),()=>{r(KD(t))}),[r,n,t]),null}function Kee(e){var{legendPayload:t}=e,r=It(),n=xe(Ue);return p.useEffect(()=>n!=="centric"&&n!=="radial"?MR:(r(UD(t)),()=>{r(KD(t))}),[r,n,t]),null}var pv,Vee=()=>{var[e]=p.useState(()=>gd("uid-"));return e},Hee=(pv=z0["useId".toString()])!==null&&pv!==void 0?pv:Vee;function qee(e,t){var r=Hee();return t||(e?"".concat(e,"-").concat(r):r)}var Yee=p.createContext(void 0),Fx=e=>{var{id:t,type:r,children:n}=e,a=qee("recharts-".concat(r),t);return p.createElement(Yee.Provider,{value:a},n(a))},Gee={cartesianItems:[],polarItems:[]},IR=Ln({name:"graphicalItems",initialState:Gee,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=ka(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=ka(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ka(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Xee,replaceCartesianGraphicalItem:Jee,removeCartesianGraphicalItem:Qee,addPolarGraphicalItem:Zee,removePolarGraphicalItem:ete}=IR.actions,tte=IR.reducer;function uN(e){var t=It(),r=p.useRef(null);return p.useEffect(()=>{r.current===null?t(Xee(e)):r.current!==e&&t(Jee({prev:r.current,next:e})),r.current=e},[t,e]),p.useEffect(()=>()=>{r.current&&(t(Qee(r.current)),r.current=null)},[t]),null}function rte(e){var t=It();return p.useEffect(()=>(t(Zee(e)),()=>{t(ete(e))}),[t,e]),null}var nte=["onMouseEnter","onClick","onMouseLeave"],ste=["id"],ate=["id"];function dN(e,t){if(e==null)return{};var r,n,a=ite(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ite(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){ote(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ote(e,t,r){return(t=lte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lte(e){var t=cte(e,"string");return typeof t=="symbol"?t:t+""}function cte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(null,arguments)}function ute(e){var t=p.useMemo(()=>yw(e.children,Jc),[e.children]),r=xe(n=>Cee(n,e.id,t));return r==null?null:p.createElement(Kee,{legendPayload:r})}function dte(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:Qi(l,t),hide:c,type:d,color:o,unit:""}}}var hte=(e,t)=>e>t?"start":e<t?"end":"middle",fte=(e,t,r)=>Fr(typeof t=="function"?t(e):t,r,r*.8),mte=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=DD(i,o),c=a+Fr(e.cx,i,i/2),d=n+Fr(e.cy,o,o/2),u=Fr(e.innerRadius,l,0),h=fte(r,e.outerRadius,l),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:h,maxRadius:m}},pte=(e,t)=>{var r=fr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function xte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var gte=(e,t)=>{if(p.isValidElement(e))return p.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ve("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return p.createElement(rc,Fi({},t,{type:"linear",className:r}))},vte=(e,t,r)=>{if(p.isValidElement(e))return p.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),p.isValidElement(n)))return n;var a=Ve("recharts-pie-label-text",xte(e));return p.createElement(Rx,Fi({},t,{alignmentBaseline:"middle",className:a}),n)};function yte(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=is(r),c=vt(a,!1),d=vt(i,!1),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,h=t.map((m,f)=>{var v=(m.startAngle+m.endAngle)/2,x=Gt(m.cx,m.cy,m.outerRadius+u,v),g=jt(jt(jt(jt({},l),m),{},{stroke:"none"},c),{},{index:f,textAnchor:hte(x.x,m.cx)},x),y=jt(jt(jt(jt({},l),m),{},{fill:"none",stroke:m.fill},d),{},{index:f,points:[Gt(m.cx,m.cy,m.outerRadius,v),x],key:"line"});return p.createElement(Lt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(f)},i&&gte(i,y),vte(a,g,at(m,o)))});return p.createElement(Lt,{className:"recharts-pie-labels"},h)}function jte(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?p.createElement($x,{label:a}):p.createElement(yte,{sectors:t,props:r,showLabels:n})}function wte(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=xe(Li),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,d=dN(a,nte),u=iN(o,a.dataKey),h=oN(c),m=lN(l,a.dataKey);return t==null||t.length===0?null:p.createElement(p.Fragment,null,t.map((f,v)=>{if(f?.startAngle===0&&f?.endAngle===0&&t.length!==1)return null;var x=r&&String(v)===i,g=i?n:null,y=x?r:g,j=jt(jt({},f),{},{stroke:f.stroke,tabIndex:-1,[FD]:v,[BD]:a.dataKey});return p.createElement(Lt,Fi({tabIndex:-1,className:"recharts-pie-sector"},Ud(d,f,v),{onMouseEnter:u(f,v),onMouseLeave:h(f,v),onClick:m(f,v),key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(v)}),p.createElement(DR,Fi({option:y,isActive:x,shapeType:"sector"},j)))}))}function bte(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:h}=r,m=Math.abs(r.minAngle),f=pte(l,c),v=Math.abs(f),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(k=>at(k,d,0)!==0).length,y=(v>=360?g:g-1)*x,j=v-g*m-y,w=n.reduce((k,S)=>{var C=at(S,d,0);return k+(ge(C)?C:0)},0),b;if(w>0){var N;b=n.map((k,S)=>{var C=at(k,d,0),A=at(k,u,S),P=mte(r,i,k),D=(ge(C)?C:0)/w,E,R=jt(jt({},k),a&&a[S]&&a[S].props);S?E=N.endAngle+fr(f)*x*(C!==0?1:0):E=l;var z=E+fr(f)*((C!==0?m:0)+D*j),V=(E+z)/2,L=(P.innerRadius+P.outerRadius)/2,W=[{name:A,value:C,payload:R,dataKey:d,type:h}],_=Gt(P.cx,P.cy,L,V);return N=jt(jt(jt(jt({},r.presentationProps),{},{percent:D,cornerRadius:o,name:A,tooltipPayload:W,midAngle:V,middleRadius:L,tooltipPosition:_},R),P),{},{value:C,startAngle:E,endAngle:z,payload:R,paddingAngle:fr(f)*x}),N})}return b}function Nte(e){var{showLabels:t,sectors:r,children:n}=e,a=p.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return p.createElement(uee,{value:t?a:void 0},n)}function Ste(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:h}=t,m=zc(t,"recharts-pie-"),f=r.current,[v,x]=p.useState(!1),g=p.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),y=p.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return p.createElement(Nte,{showLabels:!v,sectors:n},p.createElement(Bc,{animationId:m,begin:i,duration:o,isActive:a,easing:l,onAnimationStart:y,onAnimationEnd:g,key:m},j=>{var w=[],b=n&&n[0],N=b?.startAngle;return n?.forEach((k,S)=>{var C=f&&f[S],A=S>0?Xo(k,"paddingAngle",0):0;if(C){var P=st(C.endAngle-C.startAngle,k.endAngle-k.startAngle,j),D=jt(jt({},k),{},{startAngle:N+A,endAngle:N+P+A});w.push(D),N=D.endAngle}else{var{endAngle:E,startAngle:R}=k,z=st(0,E-R,j),V=jt(jt({},k),{},{startAngle:N+A,endAngle:N+z+A});w.push(V),N=V.endAngle}}),r.current=w,p.createElement(Lt,null,p.createElement(wte,{sectors:w,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),p.createElement(jte,{showLabels:!v,sectors:n,props:t}),t.children)}var kte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ka.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Cte(e){var{id:t}=e,r=dN(e,ste),{hide:n,className:a,rootTabIndex:i}=e,o=p.useMemo(()=>yw(e.children,Jc),[e.children]),l=xe(u=>Pee(u,t,o)),c=p.useRef(null),d=Ve("recharts-pie",a);return n||l==null?(c.current=null,p.createElement(Lt,{tabIndex:i,className:d})):p.createElement(p.Fragment,null,p.createElement(Lx,{fn:dte,args:jt(jt({},e),{},{sectors:l})}),p.createElement(Lt,{tabIndex:i,className:d},p.createElement(Ste,{props:jt(jt({},r),{},{sectors:l}),previousSectorsRef:c})))}function Bx(e){var t=ar(e,kte),{id:r}=t,n=dN(t,ate),a=is(n);return p.createElement(Fx,{id:r,type:"pie"},i=>p.createElement(p.Fragment,null,p.createElement(rte,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),p.createElement(ute,Fi({},n,{id:i})),p.createElement(Cte,Fi({},n,{id:i}))))}Bx.displayName="Pie";function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){Pte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pte(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ate={xAxis:{},yAxis:{},zAxis:{}},RR=Ln({name:"cartesianAxis",initialState:Ate,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=wP(wP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Ote,removeXAxis:Tte,addYAxis:Dte,removeYAxis:Mte,addZAxis:Gde,removeZAxis:Xde,updateYAxisWidth:Ite}=RR.actions,Rte=RR.reducer,$te=Y([sr],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Lte=Y([$te,Wa,Ua],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),zx=()=>xe(Lte),Fte=()=>xe(SQ);function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){Bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bte(e,t,r){return(t=zte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zte(e){var t=Wte(e,"string");return typeof t=="symbol"?t:t+""}function Wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ute=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=NP(NP({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},vt(a,!1)),vw(a)),l;return p.isValidElement(a)?l=p.cloneElement(a,o):typeof a=="function"?l=a(o):l=p.createElement(tN,o),p.createElement(Lt,{className:"recharts-active-dot"},l)};function P0(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=xe(Li),o=Fte();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return gt(l)?null:Ute({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Kte=!0,xv="Invariant failed";function Vte(e,t){if(!e){if(Kte)throw new Error(xv);var r=typeof t=="function"?t():t,n=r?"".concat(xv,": ").concat(r):xv;throw new Error(n)}}var Hte=["x","y"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(null,arguments)}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){qte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qte(e,t,r){return(t=Yte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yte(e){var t=Gte(e,"string");return typeof t=="symbol"?t:t+""}function Gte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xte(e,t){if(e==null)return{};var r,n,a=Jte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qte(e,t){var{x:r,y:n}=e,a=Xte(e,Hte),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),h="".concat(t.width||a.width),m=parseInt(h,10);return ju(ju(ju(ju(ju({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function hN(e){return p.createElement(DR,_0({shapeType:"rectangle",propTransformer:Qte,activeClassName:"recharts-active-bar"},e))}var Zte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ge(t))return t;var i=ge(n)||gt(n);return i?t(n,a):(i||Vte(!1),r)}},ere={},$R=Ln({name:"errorBars",initialState:ere,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}});$R.actions;var tre=$R.reducer,rre=["children"];function nre(e,t){if(e==null)return{};var r,n,a=sre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var are={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ire=p.createContext(are);function LR(e){var{children:t}=e,r=nre(e,rre);return p.createElement(ire.Provider,{value:r},t)}function Wx(e,t){var r,n,a=xe(d=>Ha(d,e)),i=xe(d=>qa(d,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:yn.allowDataOverflow,l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:jn.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function fN(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=zx(),{needClipX:i,needClipY:o,needClip:l}=Wx(t,r);if(!l)return null;var{x:c,y:d,width:u,height:h}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-u/2,y:o?d:d-h/2,width:i?u:u*2,height:o?h:h*2}))}var ore=["onMouseEnter","onMouseLeave","onClick"],lre=["value","background","tooltipPosition"],cre=["id"],ure=["onMouseEnter","onClick","onMouseLeave"];function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(null,arguments)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dre(e,t,r){return(t=hre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hm(e,t){if(e==null)return{};var r,n,a=mre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pre=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Qi(r,t),payload:e}]};function xre(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Qi(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function gre(e){var t=xe(Li),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=Hm(i,ore),u=iN(o,n),h=oN(l),m=lN(c,n);if(!a||r==null)return null;var f=vt(a,!1);return p.createElement(p.Fragment,null,r.map((v,x)=>{var{value:g,background:y,tooltipPosition:j}=v,w=Hm(v,lre);if(!y)return null;var b=u(v,x),N=h(v,x),k=m(v,x),S=Vr(Vr(Vr(Vr(Vr({option:a,isActive:String(x)===t},w),{},{fill:"#eee"},y),f),Ud(d,v,x)),{},{onMouseEnter:b,onMouseLeave:N,onClick:k,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return p.createElement(hN,Bi({key:"background-bar-".concat(S.index)},S))}))}function vre(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return Vr(Vr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(eN,{value:t?a:void 0},r)}function yre(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=xe(Li),c=xe(eR),d=r&&String(i)===l&&(c==null||o===c),u=d?r:t;return p.createElement(hN,Bi({},n,a,{isActive:d,option:u,index:i,dataKey:o}))}function jre(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return p.createElement(hN,Bi({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function wre(e){var{data:t,props:r}=e,n=is(r),a=Hm(n,cre),{shape:i,dataKey:o,activeBar:l}=r,{onMouseEnter:c,onClick:d,onMouseLeave:u}=r,h=Hm(r,ure),m=iN(c,o),f=oN(u),v=lN(d,o);return t?p.createElement(p.Fragment,null,t.map((x,g)=>p.createElement(Lt,Bi({className:"recharts-bar-rectangle"},Ud(h,x,g),{onMouseEnter:m(x,g),onMouseLeave:f(x,g),onClick:v(x,g),key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(g)}),l?p.createElement(yre,{shape:i,activeBar:l,baseProps:a,entry:x,index:g,dataKey:o}):p.createElement(jre,{shape:i,baseProps:a,entry:x,index:g,dataKey:o})))):null}function bre(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,h=r.current,m=zc(t,"recharts-bar-"),[f,v]=p.useState(!1),x=!f,g=p.useCallback(()=>{typeof d=="function"&&d(),v(!1)},[d]),y=p.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return p.createElement(vre,{showLabels:x,rects:n},p.createElement(Bc,{animationId:m,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:g,onAnimationStart:y,key:m},j=>{var w=j===1?n:n?.map((b,N)=>{var k=h&&h[N];if(k)return Vr(Vr({},b),{},{x:st(k.x,b.x,j),y:st(k.y,b.y,j),width:st(k.width,b.width,j),height:st(k.height,b.height,j)});if(a==="horizontal"){var S=st(0,b.height,j);return Vr(Vr({},b),{},{y:b.y+b.height-S,height:S})}var C=st(0,b.width,j);return Vr(Vr({},b),{},{width:C})});return j>0&&(r.current=w??null),w==null?null:p.createElement(Lt,null,p.createElement(wre,{props:t,data:w}))}),p.createElement($x,{label:t.label}),t.children)}function Nre(e){var t=p.useRef(null);return p.createElement(bre,{previousRectanglesRef:t,props:e})}var FR=0,Sre=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:at(e,t)}};class kre extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d}=this.props;if(t||r==null)return null;var u=Ve("recharts-bar",a),h=d;return p.createElement(Lt,{className:u,id:d},l&&p.createElement("defs",null,p.createElement(fN,{clipPathId:h,xAxisId:i,yAxisId:o})),p.createElement(Lt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},p.createElement(gre,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(Nre,this.props)))}}var Cre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ka.isSsr,legendType:"rect",minPointSize:FR,xAxisId:0,yAxisId:0};function Pre(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:h}=Wx(t,r),m=qd(),f=Wr(),v=yw(e.children,Jc),x=xe(j=>tne(j,t,r,f,e.id,v));if(m!=="vertical"&&m!=="horizontal")return null;var g,y=x?.[0];return y==null||y.height==null||y.width==null?g=0:g=m==="vertical"?y.height/2:y.width/2,p.createElement(LR,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Sre,errorBarOffset:g},p.createElement(kre,Bi({},e,{layout:m,needClip:h,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function _re(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:h,offset:m,cells:f,parentViewBox:v}=e,x=t==="horizontal"?l:o,g=u?x.scale.domain():null,y=r9({numericAxis:x});return h.map((j,w)=>{var b,N,k,S,C,A;u?b=JH(u[w],g):(b=at(j,r),Array.isArray(b)||(b=[y,b]));var P=Zte(n,FR)(b[1],w);if(t==="horizontal"){var D,[E,R]=[l.scale(b[0]),l.scale(b[1])];N=kk({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:j,index:w}),k=(D=R??E)!==null&&D!==void 0?D:void 0,S=a.size;var z=E-R;if(C=fn(z)?0:z,A={x:N,y:m.top,width:S,height:m.height},Math.abs(P)>0&&Math.abs(C)<Math.abs(P)){var V=fr(C||P)*(Math.abs(P)-Math.abs(C));k-=V,C+=V}}else{var[L,W]=[o.scale(b[0]),o.scale(b[1])];if(N=L,k=kk({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:j,index:w}),S=W-L,C=a.size,A={x:m.left,y:k,width:m.width,height:C},Math.abs(P)>0&&Math.abs(S)<Math.abs(P)){var _=fr(S||P)*(Math.abs(P)-Math.abs(S));S+=_}}if(N==null||k==null||S==null||C==null)return null;var O=Vr(Vr({},j),{},{x:N,y:k,width:S,height:C,value:u?b:b[1],payload:j,background:A,tooltipPosition:{x:N+S/2,y:k+C/2},parentViewBox:v},f&&f[w]&&f[w].props);return O}).filter(Boolean)}function Ere(e){var t=ar(e,Cre),r=Wr();return p.createElement(Fx,{id:t.id,type:"bar"},n=>p.createElement(p.Fragment,null,p.createElement(cN,{legendPayload:pre(t)}),p.createElement(Lx,{fn:xre,args:t}),p.createElement(uN,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:$D(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),p.createElement(Pre,Bi({},t,{id:n}))))}var dr=p.memo(Ere);dr.displayName="Bar";function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Are(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Are(e,t,r){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ore(e){var t=Tre(e,"string");return typeof t=="symbol"?t:t+""}function Tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dre=(e,t)=>t,Mre=(e,t,r)=>r,Ire=(e,t,r,n)=>n,Rre=(e,t,r,n,a)=>a,lh=Y([rh,Rre],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),$re=Y([lh],e=>e?.maxBarSize),Lre=(e,t,r,n,a,i)=>i,PP=(e,t,r)=>{var n=r??e;if(!gt(n))return Fr(n,t,0)},Fre=Y([Ue,rh,Dre,Mre,Ire],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Bre=(e,t,r,n)=>{var a=Ue(e);return a==="horizontal"?Cd(e,"yAxis",r,n):Cd(e,"xAxis",t,n)},zre=(e,t,r)=>{var n=Ue(e);return n==="horizontal"?LC(e,"xAxis",t):LC(e,"yAxis",r)},Wre=(e,t,r)=>{var n={},a=e.filter(Ax),i=e.filter(d=>d.stackId==null),o=a.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),l=Object.entries(o).map(d=>{var[u,h]=d,m=h.map(v=>v.dataKey),f=PP(t,r,h[0].barSize);return{stackId:u,dataKeys:m,barSize:f}}),c=i.map(d=>{var u=[d.dataKey].filter(m=>m!=null),h=PP(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:h}});return[...l,...c]},Ure=Y([Fre,DX,zre],Wre),Kre=(e,t,r,n,a)=>{var i,o,l=lh(e,t,r,n,a);if(l!=null){var c=Ue(e),d=QM(e),{maxBarSize:u}=l,h=gt(u)?d:u,m,f;return c==="horizontal"?(m=ta(e,"xAxis",t,n),f=ea(e,"xAxis",t,n)):(m=ta(e,"yAxis",r,n),f=ea(e,"yAxis",r,n)),(i=(o=Zo(m,f,!0))!==null&&o!==void 0?o:h)!==null&&i!==void 0?i:0}},BR=(e,t,r,n)=>{var a=Ue(e),i,o;return a==="horizontal"?(i=ta(e,"xAxis",t,n),o=ea(e,"xAxis",t,n)):(i=ta(e,"yAxis",r,n),o=ea(e,"yAxis",r,n)),Zo(i,o)};function Vre(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Fr(e,r,0,!0),l,c=[];if(Or(n[0].barSize)){var d=!1,u=r/i,h=n.reduce((y,j)=>y+(j.barSize||0),0);h+=(i-1)*o,h>=r&&(h-=(i-1)*o,o=0),h>=r&&u>0&&(d=!0,u*=.9,h=i*u);var m=(r-h)/2>>0,f={offset:m-o,size:0};l=n.reduce((y,j)=>{var w,b={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:f.offset+f.size+o,size:d?u:(w=j.barSize)!==null&&w!==void 0?w:0}},N=[...y,b];return f=N[N.length-1].position,N},c)}else{var v=Fr(t,r,0,!0);r-2*v-(i-1)*o<=0&&(o=0);var x=(r-2*v-(i-1)*o)/i;x>1&&(x>>=0);var g=Or(a)?Math.min(x,a):x;l=n.reduce((y,j,w)=>[...y,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:v+(x+o)*w+(x-g)/2,size:g}}],c)}return l}}var Hre=(e,t,r,n,a,i,o)=>{var l=gt(o)?t:o,c=Vre(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(d=>af(af({},d),{},{position:af(af({},d.position),{},{offset:d.position.offset-a/2})}))),c},qre=Y([Ure,QM,TX,ZM,Kre,BR,$re],Hre),Yre=(e,t,r,n)=>ta(e,"xAxis",t,n),Gre=(e,t,r,n)=>ta(e,"yAxis",r,n),Xre=(e,t,r,n)=>ea(e,"xAxis",t,n),Jre=(e,t,r,n)=>ea(e,"yAxis",r,n),Qre=Y([qre,lh],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Zre=(e,t)=>{var r=Ex(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},ene=Y([Bre,lh],Zre),tne=Y([sr,Kw,Yre,Gre,Xre,Jre,Qre,Ue,Qd,BR,ene,lh,Lre],(e,t,r,n,a,i,o,l,c,d,u,h,m)=>{var{chartData:f,dataStartIndex:v,dataEndIndex:x}=c;if(!(h==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||d==null)){var{data:g}=h,y;if(g!=null&&g.length>0?y=g:y=f?.slice(v,x+1),y!=null)return _re({layout:l,barSettings:h,pos:o,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:u,displayedData:y,offset:e,cells:m})}}),zR=e=>{var{chartData:t}=e,r=It(),n=Wr();return p.useEffect(()=>n?()=>{}:(r(qC(t)),()=>{r(qC(void 0))}),[t,r,n]),null},_P={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},WR=Ln({name:"brush",initialState:_P,reducers:{setBrushSettings(e,t){return t.payload==null?_P:t.payload}}});WR.actions;var rne=WR.reducer;function nne(e,t,r){return(t=sne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sne(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mN{static create(t){return new mN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}nne(mN,"EPS",1e-4);function ine(e){return(e%180+180)%180}var one=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ine(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},lne={dots:[],areas:[],lines:[]},UR=Ln({name:"referenceElements",initialState:lne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ka(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ka(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ka(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}});UR.actions;var cne=UR.reducer,une=p.createContext(void 0),dne=e=>{var{children:t}=e,[r]=p.useState("".concat(gd("recharts"),"-clip")),n=zx();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return p.createElement(une.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function Cc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function KR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function hne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return one(n,r)}function fne(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function qm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function mne(e,t){return KR(e,t+1)}function pne(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,h=function(){var v=n?.[c];if(v===void 0)return{v:KR(n,d)};var x=c,g,y=()=>(g===void 0&&(g=r(v,x)),g),j=v.coordinate,w=c===0||qm(e,j,y,u,l);w||(c=0,u=o,d+=1),w&&(u=j+e*(y()/2+a),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){xne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xne(e,t,r){return(t=gne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yne(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(m){var f=i[m],v,x=()=>(v===void 0&&(v=r(f,m)),v);if(m===o-1){var g=e*(f.coordinate+e*x()/2-c);i[m]=f=Ir(Ir({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate})}else i[m]=f=Ir(Ir({},f),{},{tickCoord:f.coordinate});var y=qm(e,f.tickCoord,x,l,c);y&&(c=f.tickCoord-e*(x()/2+a),i[m]=Ir(Ir({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function jne(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],h=r(u,l-1),m=e*(u.coordinate+e*h/2-d);o[l-1]=u=Ir(Ir({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var f=qm(e,u.tickCoord,()=>h,c,d);f&&(d=u.tickCoord-e*(h/2+a),o[l-1]=Ir(Ir({},u),{},{isShow:!0}))}for(var v=i?l-1:l,x=function(j){var w=o[j],b,N=()=>(b===void 0&&(b=r(w,j)),b);if(j===0){var k=e*(w.coordinate-e*N()/2-c);o[j]=w=Ir(Ir({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[j]=w=Ir(Ir({},w),{},{tickCoord:w.coordinate});var S=qm(e,w.tickCoord,N,c,d);S&&(c=w.tickCoord+e*(N()/2+a),o[j]=Ir(Ir({},w),{},{isShow:!0}))},g=0;g<v;g++)x(g);return o}function pN(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:h}=e;if(!a||!a.length||!n)return[];if(ge(c)||Ka.isSsr){var m;return(m=mne(a,ge(c)?c:0))!==null&&m!==void 0?m:[]}var f=[],v=l==="top"||l==="bottom"?"width":"height",x=u&&v==="width"?Hu(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(w,b)=>{var N=typeof d=="function"?d(w.value,b):w.value;return v==="width"?hne(Hu(N,{fontSize:t,letterSpacing:r}),x,h):Hu(N,{fontSize:t,letterSpacing:r})[v]},y=a.length>=2?fr(a[1].coordinate-a[0].coordinate):1,j=fne(i,y,v);return c==="equidistantPreserveStart"?pne(y,j,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=jne(y,j,g,a,o,c==="preserveStartEnd"):f=yne(y,j,g,a,o),f.filter(w=>w.isShow))}var wne=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var h=u.getBoundingClientRect();h.width>o&&(o=h.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},bne=["axisLine","width","height","className","hide","ticks"],Nne=["viewBox"],Sne=["viewBox"];function E0(e,t){if(e==null)return{};var r,n,a=kne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tl(){return tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tl.apply(null,arguments)}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){Cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cne(e,t,r){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Ene(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=rr(rr(rr({},c),vt(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);d=rr(rr({},d),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var h=+(i==="left"&&!o||i==="right"&&o);d=rr(rr({},d),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+a})}return p.createElement("line",tl({},d,{className:Ve("recharts-cartesian-axis-line",Xo(l,"className"))}))}function Ane(e,t,r,n,a,i,o,l,c){var d,u,h,m,f,v,x=l?-1:1,g=e.tickSize||o,y=ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,m=r+ +!l*a,h=m-x*g,v=h-x*c,f=y;break;case"left":h=m=e.coordinate,u=t+ +!l*n,d=u-x*g,f=d-x*c,v=y;break;case"right":h=m=e.coordinate,u=t+ +l*n,d=u+x*g,f=d+x*c,v=y;break;default:d=u=e.coordinate,m=r+ +l*a,h=m+x*g,v=h+x*c,f=y;break}return{line:{x1:d,y1:h,x2:u,y2:m},tick:{x:f,y:v}}}function One(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Tne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Dne(e){var{option:t,tickProps:r,value:n}=e,a,i=Ve(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,rr(rr({},r),{},{className:i}));else if(typeof t=="function")a=t(rr(rr({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ve(o,t?.className)),a=p.createElement(Rx,tl({},r,{className:o}),n)}return a}function Mne(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:u,x:h,y:m,width:f,height:v,tickSize:x,tickMargin:g,fontSize:y,letterSpacing:j,getTicksConfig:w,events:b}=e,N=pN(rr(rr({},w),{},{ticks:t}),y,j),k=One(d,u),S=Tne(d,u),C=is(w),A=vt(r,!1),P=rr(rr({},C),{},{fill:"none"},vt(n,!1)),D=N.map((E,R)=>{var{line:z,tick:V}=Ane(E,h,m,f,v,d,x,u,g),L=rr(rr(rr(rr({textAnchor:k,verticalAnchor:S},C),{},{stroke:"none",fill:a},A),V),{},{index:R,payload:E,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return p.createElement(Lt,tl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Ud(b,E,R)),n&&p.createElement("line",tl({},P,z,{className:Ve("recharts-cartesian-axis-tick-line",Xo(n,"className"))})),r&&p.createElement(Dne,{option:r,tickProps:L,value:"".concat(typeof i=="function"?i(E.value,R):E.value).concat(o||"")}))});return D.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},D):null}var Ine=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l}=e,c=E0(e,bne),[d,u]=p.useState(""),[h,m]=p.useState(""),f=p.useRef([]);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return wne({ticks:f.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=p.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");f.current=Array.from(g);var y=g[0];if(y){var j=window.getComputedStyle(y),w=j.fontSize,b=j.letterSpacing;(w!==d||b!==h)&&(u(w),m(b))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(Lt,{className:Ve("recharts-cartesian-axis",i),ref:v},p.createElement(Ene,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:is(e)}),p.createElement(Mne,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:h,getTicksConfig:e,events:c}),p.createElement(qZ,{x:e.x,y:e.y,width:e.width,height:e.height},p.createElement(nee,{label:e.label}),e.children))}),Rne=p.memo(Ine,(e,t)=>{var{viewBox:r}=e,n=E0(e,Nne),{viewBox:a}=t,i=E0(t,Sne);return Cc(r,a)&&Cc(n,i)}),gN=p.forwardRef((e,t)=>{var r=ar(e,xN);return p.createElement(Rne,tl({},r,{ref:t}))});gN.displayName="CartesianAxis";var $ne=["x1","y1","x2","y2","key"],Lne=["offset"],Fne=["xAxisId","yAxisId"],Bne=["xAxisId","yAxisId"];function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zne(e,t,r){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_o.apply(null,arguments)}function Ym(e,t){if(e==null)return{};var r,n,a=Kne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return p.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function VR(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=Ym(t,$ne),d=is(c),u=Ym(d,Lne);r=p.createElement("line",_o({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Hne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Ym(e,Fne),o=a.map((l,c)=>{var d=Lr(Lr({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return VR(n,d)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function qne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=Ym(e,Bne),o=a.map((l,c)=>{var d=Lr(Lr({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return VR(n,d)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Yne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(h=>Math.round(h+a-a)).sort((h,m)=>h-m);a!==d[0]&&d.unshift(0);var u=d.map((h,m)=>{var f=!d[m+1],v=f?a+o-h:d[m+1]-h;if(v<=0)return null;var x=m%t.length;return p.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:v,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Gne(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(h=>Math.round(h+a-a)).sort((h,m)=>h-m);a!==d[0]&&d.unshift(0);var u=d.map((h,m)=>{var f=!d[m+1],v=f?a+o-h:d[m+1]-h;if(v<=0)return null;var x=m%r.length;return p.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:v,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Xne=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return ID(pN(Lr(Lr(Lr({},xN),r),{},{ticks:RD(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Jne=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return ID(pN(Lr(Lr(Lr({},xN),r),{},{ticks:RD(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Qne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Cr(e){var t=Hw(),r=qw(),n=zD(),a=Lr(Lr({},ar(e,Qne)),{},{x:ge(e.x)?e.x:n.left,y:ge(e.y)?e.y:n.top,width:ge(e.width)?e.width:n.width,height:ge(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:h,horizontalValues:m,verticalValues:f}=a,v=Wr(),x=xe(A=>FC(A,"xAxis",i,v)),g=xe(A=>FC(A,"yAxis",o,v));if(!ge(d)||d<=0||!ge(u)||u<=0||!ge(l)||l!==+l||!ge(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||Xne,j=a.horizontalCoordinatesGenerator||Jne,{horizontalPoints:w,verticalPoints:b}=a;if((!w||!w.length)&&typeof j=="function"){var N=m&&m.length,k=j({yAxis:g?Lr(Lr({},g),{},{ticks:N?m:g.ticks}):void 0,width:t,height:r,offset:n},N?!0:h);Vu(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!b||!b.length)&&typeof y=="function"){var S=f&&f.length,C=y({xAxis:x?Lr(Lr({},x),{},{ticks:S?f:x.ticks}):void 0,width:t,height:r,offset:n},S?!0:h);Vu(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Vne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(Yne,_o({},a,{horizontalPoints:w})),p.createElement(Gne,_o({},a,{verticalPoints:b})),p.createElement(Hne,_o({},a,{offset:n,horizontalPoints:w,xAxis:x,yAxis:g})),p.createElement(qne,_o({},a,{offset:n,verticalPoints:b,xAxis:x,yAxis:g})))}Cr.displayName="CartesianGrid";var HR=(e,t,r,n)=>ta(e,"xAxis",t,n),qR=(e,t,r,n)=>ea(e,"xAxis",t,n),YR=(e,t,r,n)=>ta(e,"yAxis",r,n),GR=(e,t,r,n)=>ea(e,"yAxis",r,n),Zne=Y([Ue,HR,YR,qR,GR],(e,t,r,n,a)=>sa(e,"xAxis")?Zo(t,n,!1):Zo(r,a,!1)),ese=(e,t,r,n,a)=>a;function tse(e){return e.type==="line"}var rse=Y([rh,ese],(e,t)=>e.filter(tse).find(r=>r.id===t)),nse=Y([Ue,HR,YR,qR,GR,rse,Zne,Qd],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:h,data:m}=i,f;if(m!=null&&m.length>0?f=m:f=c?.slice(d,u+1),f!=null)return kse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:o,displayedData:f})}}),sse=["id"],ase=["type","layout","connectNulls","needClip"],ise=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){ose(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ose(e,t,r){return(t=lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lse(e){var t=cse(e,"string");return typeof t=="symbol"?t:t+""}function cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vN(e,t){if(e==null)return{};var r,n,a=use(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function use(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rl.apply(null,arguments)}var dse=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Qi(r,t),payload:e}]};function hse(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Qi(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var XR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function fse(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var mse=(e,t,r)=>{var n=r.reduce((h,m)=>h+m);if(!n)return XR(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...fse(r,a),...l,...u].map(h=>"".concat(h,"px")).join(", ")};function pse(e,t){var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ve("recharts-line-dot",typeof e!="boolean"?e.className:"");r=p.createElement(tN,rl({},t,{className:n}))}return r}function xse(e,t){return e==null?!1:t?!0:e.length===1}function gse(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!xse(r,a))return null;var l=vN(n,sse),c=sx(a),d=is(l),u=vt(a,!0),h=r.map((f,v)=>{var x=kn(kn(kn({key:"dot-".concat(v),r:3},d),u),{},{index:v,cx:f.x,cy:f.y,dataKey:i,value:f.value,payload:f.payload,points:r});return pse(a,x)}),m={clipPath:o?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return p.createElement(Lt,rl({className:"recharts-line-dots",key:"dots"},m),h)}function vse(e){var{showLabels:t,children:r,points:n}=e,a=p.useMemo(()=>n?.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return kn(kn({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return p.createElement(eN,{value:t?a:null},r)}function DP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:d}=i,u=vN(i,ase),h=kn(kn({},vt(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return p.createElement(p.Fragment,null,n?.length>1&&p.createElement(rc,rl({},h,{pathRef:r})),p.createElement(gse,{points:n,clipPathId:t,props:i}))}function yse(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function jse(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:h,animateNewValues:m,width:f,height:v,onAnimationEnd:x,onAnimationStart:g}=r,y=a.current,j=zc(r,"recharts-line-"),[w,b]=p.useState(!1),N=!w,k=p.useCallback(()=>{typeof x=="function"&&x(),b(!1)},[x]),S=p.useCallback(()=>{typeof g=="function"&&g(),b(!0)},[g]),C=yse(n.current),A=i.current;return p.createElement(vse,{points:o,showLabels:N},r.children,p.createElement(Bc,{animationId:j,begin:d,duration:u,isActive:c,easing:h,onAnimationEnd:k,onAnimationStart:S,key:j},P=>{var D=st(A,C+A,P),E=Math.min(D,C),R;if(c)if(l){var z="".concat(l).split(/[,\s]+/gim).map(W=>parseFloat(W));R=mse(E,C,z)}else R=XR(C,E);else R=l==null?void 0:String(l);if(y){var V=y.length/o.length,L=P===1?o:o.map((W,_)=>{var O=Math.floor(_*V);if(y[O]){var re=y[O];return kn(kn({},W),{},{x:st(re.x,W.x,P),y:st(re.y,W.y,P)})}return m?kn(kn({},W),{},{x:st(f*2,W.x,P),y:st(v/2,W.y,P)}):kn(kn({},W),{},{x:W.x,y:W.y})});return a.current=L,p.createElement(DP,{props:r,points:L,clipPathId:t,pathRef:n,strokeDasharray:R})}return P>0&&C>0&&(a.current=o,i.current=E),p.createElement(DP,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:R})}),p.createElement($x,{label:r.label}))}function wse(e){var{clipPathId:t,props:r}=e,n=p.useRef(null),a=p.useRef(0),i=p.useRef(null);return p.createElement(jse,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var bse=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:at(e.payload,t)});class Nse extends p.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:h,id:m,needClip:f}=this.props;if(r)return null;var v=Ve("recharts-line",i),x=m,{r:g=3,strokeWidth:y=2}=(t=vt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},j=sx(n),w=g*2+y;return p.createElement(p.Fragment,null,p.createElement(Lt,{className:v},f&&p.createElement("defs",null,p.createElement(fN,{clipPathId:x,xAxisId:o,yAxisId:l}),!j&&p.createElement("clipPath",{id:"clipPath-dots-".concat(x)},p.createElement("rect",{x:d-w/2,y:c-w/2,width:u+w,height:h+w}))),p.createElement(LR,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:bse,errorBarOffset:0},p.createElement(wse,{props:this.props,clipPathId:x}))),p.createElement(P0,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var JR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ka.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Sse(e){var t=ar(e,JR),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:h,legendType:m,xAxisId:f,yAxisId:v,id:x}=t,g=vN(t,ise),{needClip:y}=Wx(f,v),j=zx(),w=qd(),b=Wr(),N=xe(P=>nse(P,f,v,b,x));if(w!=="horizontal"&&w!=="vertical"||N==null||j==null)return null;var{height:k,width:S,x:C,y:A}=j;return p.createElement(Nse,rl({},g,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:h,legendType:m,xAxisId:f,yAxisId:v,points:N,layout:w,height:k,width:S,left:C,top:A,needClip:y}))}function kse(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var h=at(d,o);if(t==="horizontal"){var m=Cm({axis:r,ticks:a,bandSize:l,entry:d,index:u}),f=gt(h)?null:n.scale(h);return{x:m,y:f,value:h,payload:d}}var v=gt(h)?null:r.scale(h),x=Cm({axis:n,ticks:i,bandSize:l,entry:d,index:u});return v==null||x==null?null:{x:v,y:x,value:h,payload:d}}).filter(Boolean)}function Cse(e){var t=ar(e,JR),r=Wr();return p.createElement(Fx,{id:t.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(cN,{legendPayload:dse(t)}),p.createElement(Lx,{fn:hse,args:t}),p.createElement(uN,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),p.createElement(Sse,rl({},t,{id:n}))))}var zi=p.memo(Cse);zi.displayName="Line";var QR=(e,t,r,n)=>ta(e,"xAxis",t,n),ZR=(e,t,r,n)=>ea(e,"xAxis",t,n),e4=(e,t,r,n)=>ta(e,"yAxis",r,n),t4=(e,t,r,n)=>ea(e,"yAxis",r,n),Pse=Y([Ue,QR,e4,ZR,t4],(e,t,r,n,a)=>sa(e,"xAxis")?Zo(t,n,!1):Zo(r,a,!1)),_se=(e,t,r,n,a)=>a,r4=Y([rh,_se],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Ese=(e,t,r,n,a)=>{var i,o=r4(e,t,r,n,a);if(o!=null){var l=Ue(e),c=sa(l,"xAxis"),d;if(c?d=Cd(e,"yAxis",r,n):d=Cd(e,"xAxis",t,n),d!=null){var{stackId:u}=o,h=Ex(o);if(!(u==null||h==null)){var m=(i=d[u])===null||i===void 0?void 0:i.stackedData;return m?.find(f=>f.key===h)}}}},Ase=Y([Ue,QR,e4,ZR,t4,Ese,Qd,Pse,r4],(e,t,r,n,a,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:m}=c,f;if(m&&m.length>0?f=m:f=d?.slice(u,h+1),f!=null){var v=void 0;return Jse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:f,chartBaseValue:v,bandSize:l})}}}),Ose=["id"],Tse=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function n4(e,t){if(e==null)return{};var r,n,a=Dse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){Mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mse(e,t,r){return(t=Ise(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ise(e){var t=Rse(e,"string");return typeof t=="symbol"?t:t+""}function Rse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pa.apply(null,arguments)}function Gm(e,t){return e&&e!=="none"?e:t}var $se=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Gm(n,a),value:Qi(r,t),payload:e}]};function Lse(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Qi(o,t),hide:l,type:e.tooltipType,color:Gm(n,i),unit:c}}}var Fse=(e,t)=>{var r;if(p.isValidElement(e))r=p.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ve("recharts-area-dot",typeof e!="boolean"?e.className:"");r=p.createElement(tN,Pa({},t,{className:n}))}return r};function Bse(e,t){return e==null?!1:t?!0:e.length===1}function zse(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!Bse(r,i))return null;var l=sx(i),c=is(n),d=vt(i,!0),u=r.map((m,f)=>{var v=ja(ja(ja({key:"dot-".concat(f),r:3},c),d),{},{index:f,cx:m.x,cy:m.y,dataKey:o,value:m.value,payload:m.payload,points:r});return Fse(i,v)}),h={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return p.createElement(Lt,Pa({className:"recharts-area-dots"},h),u)}function Wse(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return ja(ja({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return p.createElement(eN,{value:t?a:null},r)}function IP(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:d,isRange:u}=i,{id:h}=i,m=n4(i,Ose),f=is(m);return p.createElement(p.Fragment,null,t?.length>1&&p.createElement(Lt,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},p.createElement(rc,Pa({},f,{id:h,points:t,connectNulls:d,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&p.createElement(rc,Pa({},f,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),c!=="none"&&u&&p.createElement(rc,Pa({},f,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:r}))),p.createElement(zse,{points:t,props:m,clipPathId:a}))}function Use(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!Or(i)||!Or(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return ge(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),ge(c)?p.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function Kse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!Or(i)||!Or(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return ge(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),ge(c)?p.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function Vse(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?p.createElement(Use,{alpha:t,points:n,baseLine:a,strokeWidth:i}):p.createElement(Kse,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function Hse(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:h,onAnimationStart:m,onAnimationEnd:f}=n,v=zc(n,"recharts-area-"),[x,g]=p.useState(!1),y=!x,j=p.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),w=p.useCallback(()=>{typeof m=="function"&&m(),g(!0)},[m]),b=a.current,N=i.current;return p.createElement(Wse,{showLabels:y,points:o},n.children,p.createElement(Bc,{animationId:v,begin:d,duration:u,isActive:c,easing:h,onAnimationEnd:j,onAnimationStart:w,key:v},k=>{if(b){var S=b.length/o.length,C=k===1?o:o.map((P,D)=>{var E=Math.floor(D*S);if(b[E]){var R=b[E];return ja(ja({},P),{},{x:st(R.x,P.x,k),y:st(R.y,P.y,k)})}return P}),A;return ge(l)?A=st(N,l,k):gt(l)||fn(l)?A=st(N,0,k):A=l.map((P,D)=>{var E=Math.floor(D*S);if(Array.isArray(N)&&N[E]){var R=N[E];return ja(ja({},P),{},{x:st(R.x,P.x,k),y:st(R.y,P.y,k)})}return P}),k>0&&(a.current=C,i.current=A),p.createElement(IP,{points:C,baseLine:A,needClip:t,clipPathId:r,props:n})}return k>0&&(a.current=o,i.current=l),p.createElement(Lt,null,c&&p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(r)},p.createElement(Vse,{alpha:k,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),p.createElement(Lt,{clipPath:"url(#animationClipPath-".concat(r,")")},p.createElement(IP,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),p.createElement($x,{label:n.label}))}function qse(e){var{needClip:t,clipPathId:r,props:n}=e,a=p.useRef(null),i=p.useRef();return p.createElement(Hse,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class Yse extends p.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:h,height:m,id:f,baseLine:v}=this.props;if(r)return null;var x=Ve("recharts-area",i),g=f,{r:y=3,strokeWidth:j=2}=(t=vt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=sx(n),b=y*2+j;return p.createElement(p.Fragment,null,p.createElement(Lt,{className:x},c&&p.createElement("defs",null,p.createElement(fN,{clipPathId:g,xAxisId:d,yAxisId:u}),!w&&p.createElement("clipPath",{id:"clipPath-dots-".concat(g)},p.createElement("rect",{x:l-b/2,y:o-b/2,width:h+b,height:m+b}))),p.createElement(qse,{needClip:c,clipPathId:g,props:this.props})),p.createElement(P0,{points:a,mainColor:Gm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&p.createElement(P0,{points:v,mainColor:Gm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var s4={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ka.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Gse(e){var t,r=ar(e,s4),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:h,isAnimationActive:m,legendType:f,stroke:v,xAxisId:x,yAxisId:g}=r,y=n4(r,Tse),j=qd(),w=rR(),{needClip:b}=Wx(x,g),N=Wr(),{points:k,isRange:S,baseLine:C}=(t=xe(z=>Ase(z,x,g,N,e.id)))!==null&&t!==void 0?t:{},A=zx();if(j!=="horizontal"&&j!=="vertical"||A==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:P,width:D,x:E,y:R}=A;return!k||!k.length?null:p.createElement(Yse,Pa({},y,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:C,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:P,hide:h,layout:j,isAnimationActive:m,isRange:S,legendType:f,needClip:b,points:k,stroke:v,width:D,left:E,top:R,xAxisId:x,yAxisId:g}))}var Xse=(e,t,r,n,a)=>{var i=r??t;if(ge(i))return i;var o=e==="horizontal"?a:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function Jse(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:h,yAxisTicks:m,bandSize:f}=e,v=a&&a.length,x=Xse(i,o,r,l,c),g=i==="horizontal",y=!1,j=d.map((b,N)=>{var k;v?k=a[u+N]:(k=at(b,n),Array.isArray(k)?y=!0:k=[x,k]);var S=k[1]==null||v&&!t&&at(b,n)==null;return g?{x:Cm({axis:l,ticks:h,bandSize:f,entry:b,index:N}),y:S?null:c.scale(k[1]),value:k,payload:b}:{x:S?null:l.scale(k[1]),y:Cm({axis:c,ticks:m,bandSize:f,entry:b,index:N}),value:k,payload:b}}),w;return v||y?w=j.map(b=>{var N=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:N!=null&&b.y!=null?c.scale(N):null,payload:b.payload}:{x:N!=null?l.scale(N):null,y:b.y,payload:b.payload}}):w=g?c.scale(x):l.scale(x),{points:j,baseLine:w,isRange:y}}function Qse(e){var t=ar(e,s4),r=Wr();return p.createElement(Fx,{id:t.id,type:"area"},n=>p.createElement(p.Fragment,null,p.createElement(cN,{legendPayload:$se(t)}),p.createElement(Lx,{fn:Lse,args:t}),p.createElement(uN,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:$D(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),p.createElement(Gse,Pa({},t,{id:n}))))}var a4=p.memo(Qse);a4.displayName="Area";var Zse=["dangerouslySetInnerHTML","ticks"],eae=["id"],tae=["domain"],rae=["domain"];function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(null,arguments)}function Xm(e,t){if(e==null)return{};var r,n,a=nae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sae(e){var t=It();return p.useEffect(()=>(t(Ote(e)),()=>{t(Tte(e))}),[e,t]),null}var aae=e=>{var{xAxisId:t,className:r}=e,n=xe(Kw),a=Wr(),i="xAxis",o=xe(f=>Yc(f,i,t,a)),l=xe(f=>II(f,i,t,a)),c=xe(f=>OI(f,t)),d=xe(f=>SJ(f,t)),u=xe(f=>lI(f,t));if(c==null||d==null||u==null)return null;var h=Xm(e,Zse),m=Xm(u,eae);return p.createElement(gN,A0({},h,m,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:Ve("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},iae={allowDataOverflow:yn.allowDataOverflow,allowDecimals:yn.allowDecimals,allowDuplicatedCategory:yn.allowDuplicatedCategory,height:yn.height,hide:!1,mirror:yn.mirror,orientation:yn.orientation,padding:yn.padding,reversed:yn.reversed,scale:yn.scale,tickCount:yn.tickCount,type:yn.type,xAxisId:0},oae=e=>{var t,r,n,a,i,o=ar(e,iae);return p.createElement(p.Fragment,null,p.createElement(sae,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(aae,o))},lae=(e,t)=>{var{domain:r}=e,n=Xm(e,tae),{domain:a}=t,i=Xm(t,rae);return Cc(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Cc({domain:r},{domain:a}):!1},Pr=p.memo(oae,lae);Pr.displayName="XAxis";var cae=["dangerouslySetInnerHTML","ticks"],uae=["id"],dae=["domain"],hae=["domain"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(null,arguments)}function Jm(e,t){if(e==null)return{};var r,n,a=fae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mae(e){var t=It();return p.useEffect(()=>(t(Dte(e)),()=>{t(Mte(e))}),[e,t]),null}var pae=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=p.useRef(null),o=p.useRef(null),l=xe(Kw),c=Wr(),d=It(),u="yAxis",h=xe(j=>Yc(j,u,t,c)),m=xe(j=>TI(j,t)),f=xe(j=>CJ(j,t)),v=xe(j=>II(j,u,t,c)),x=xe(j=>cI(j,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!m||Zb(a)||p.isValidElement(a)||x==null)){var j=i.current;if(j){var w=j.getCalculatedWidth();Math.round(m.width)!==Math.round(w)&&d(Ite({id:t,width:w}))}}},[v,m,d,a,t,n,x]),m==null||f==null||x==null)return null;var g=Jm(e,cae),y=Jm(x,uae);return p.createElement(gN,O0({},g,y,{ref:i,labelRef:o,scale:h,x:f.x,y:f.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Ve("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:v}))},xae={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,hide:!1,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tickCount:jn.tickCount,type:jn.type,width:jn.width,yAxisId:0},gae=e=>{var t,r,n,a,i,o=ar(e,xae);return p.createElement(p.Fragment,null,p.createElement(mae,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(a=o.minTickGap)!==null&&a!==void 0?a:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),p.createElement(pae,o))},vae=(e,t)=>{var{domain:r}=e,n=Jm(e,dae),{domain:a}=t,i=Jm(t,hae);return Cc(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Cc({domain:r},{domain:a}):!1},hr=p.memo(gae,vae);hr.displayName="YAxis";var yae={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=p;function jae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wae=typeof Object.is=="function"?Object.is:jae,bae=ch.useSyncExternalStore,Nae=ch.useRef,Sae=ch.useEffect,kae=ch.useMemo,Cae=ch.useDebugValue;yae.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Nae(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=kae(function(){function c(f){if(!d){if(d=!0,u=f,f=n(f),a!==void 0&&o.hasValue){var v=o.value;if(a(v,f))return h=v}return h=f}if(v=h,wae(u,f))return v;var x=n(f);return a!==void 0&&a(v,x)?(u=f,v):(u=f,h=x)}var d=!1,u,h,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var l=bae(e,i[0],i[1]);return Sae(function(){o.hasValue=!0,o.value=l},[l]),Cae(l),l};function Pae(e){e()}function _ae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Pae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var RP={notify(){},get:()=>[]};function Eae(e,t){let r,n=RP,a=0,i=!1;function o(x){u();const g=n.subscribe(x);let y=!1;return()=>{y||(y=!0,g(),h())}}function l(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function d(){return i}function u(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=_ae())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=RP)}function m(){i||(i=!0,u())}function f(){i&&(i=!1,h())}const v={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>n};return v}var Aae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oae=Aae(),Tae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dae=Tae(),Mae=()=>Oae||Dae?p.useLayoutEffect:p.useEffect,Iae=Mae(),Rae=Symbol.for("react-redux-context"),$ae=typeof globalThis<"u"?globalThis:{};function Lae(){if(!p.createContext)return{};const e=$ae[Rae]??=new Map;let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var Fae=Lae();function Bae(e){const{children:t,context:r,serverState:n,store:a}=e,i=p.useMemo(()=>{const c=Eae(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);Iae(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||Fae;return p.createElement(l.Provider,{value:i},t)}var zae=Bae,Wae=(e,t)=>t,yN=Y([Wae,Ue,aI,or,XI,Ya,AQ,sr],IQ),jN=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},i4=ts("mouseClick"),o4=Vd();o4.startListening({actionCreator:i4,effect:(e,t)=>{var r=e.payload,n=yN(t.getState(),jN(r));n?.activeIndex!=null&&t.dispatch(FJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var T0=ts("mouseMove"),l4=Vd();l4.startListening({actionCreator:T0,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Kb(n,n.tooltip.settings.shared),i=yN(n,jN(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(UI({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(WI()))}});var $P={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},c4=Ln({name:"rootProps",initialState:$P,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$P.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Uae=c4.reducer,{updateOptions:Kae}=c4.actions,u4=Ln({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Vae}=u4.actions,Hae=u4.reducer,d4=ts("keyDown"),h4=ts("focus"),wN=Vd();wN.startListening({actionCreator:d4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(Vb(a,Xc(r))),l=Ya(r);if(i==="Enter"){var c=Wm(r,"axis","hover",String(a.index));t.dispatch(b0({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=AJ(r),u=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=o+h*u;if(!(l==null||m>=l.length||m<0)){var f=Wm(r,"axis","hover",String(m));t.dispatch(b0({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:f}))}}}}});wN.startListening({actionCreator:h4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Wm(r,"axis","hover",String(i));t.dispatch(b0({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Wn=ts("externalEvent"),f4=Vd();f4.startListening({actionCreator:Wn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:wQ(r),activeDataKey:eR(r),activeIndex:Li(r),activeLabel:ZI(r),activeTooltipIndex:Li(r),isTooltipActive:bQ(r)};e.payload.handler(n,e.payload.reactEvent)}}});var qae=Y([Gc],e=>e.tooltipItemPayloads),Yae=Y([qae,ah,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),m4=ts("touchMove"),p4=Vd();p4.startListening({actionCreator:m4,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Kb(n,n.tooltip.settings.shared);if(a==="axis"){var i=yN(n,jN({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(UI({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(FD),u=(o=c.getAttribute(BD))!==null&&o!==void 0?o:void 0,h=Yae(t.getState(),d,u);t.dispatch(zI({activeDataKey:u,activeIndex:d,activeCoordinate:h}))}}});var Gae=uD({brush:rne,cartesianAxis:Rte,chartData:XQ,errorBars:tre,graphicalItems:tte,layout:IH,legend:S9,options:VQ,polarAxis:jee,polarOptions:Hae,referenceElements:cne,rootProps:Uae,tooltip:BJ}),Xae=function(t){return iH({reducer:Gae,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([o4.middleware,l4.middleware,wN.middleware,f4.middleware,p4.middleware]),devTools:Ka.devToolsEnabled})};function x4(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Wr(),i=p.useRef(null);if(a)return r;i.current==null&&(i.current=Xae(t));var o=Rw;return p.createElement(zae,{context:o,store:i.current},r)}function g4(e){var{layout:t,width:r,height:n,margin:a}=e,i=It(),o=Wr();return p.useEffect(()=>{o||(i(TH(t)),i(DH({width:r,height:n})),i(OH(a)))},[i,o,t,r,n,a]),null}function v4(e){var t=It();return p.useEffect(()=>{t(Kae(e))},[t,e]),null}var Jae=["children"];function Qae(e,t){if(e==null)return{};var r,n,a=Zae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(null,arguments)}var eie={width:"100%",height:"100%"},tie=p.forwardRef((e,t)=>{var r=Hw(),n=qw(),a=VD();if(!wc(r)||!wc(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?u=o.role:u=a?"application":void 0,p.createElement(jw,Qm({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:eie,ref:t}),i)}),rie=e=>{var{children:t}=e,r=xe(yx);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return p.createElement(jw,{width:n,height:a,x:o,y:i},t)},LP=p.forwardRef((e,t)=>{var{children:r}=e,n=Qae(e,Jae),a=Wr();return a?p.createElement(rie,null,r):p.createElement(tie,Qm({ref:t},n),r)});function nie(){var e=It(),[t,r]=p.useState(null),n=xe(c9);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Or(i)&&i!==n&&e(MH(i))}},[t,e,n]),r}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aie(e,t,r){return(t=iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iie(e){var t=oie(e,"string");return typeof t=="symbol"?t:t+""}function oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lie=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:h,onMouseUp:m,onTouchEnd:f,onTouchMove:v,onTouchStart:x,style:g,width:y}=e,j=It(),[w,b]=p.useState(null),[N,k]=p.useState(null);aZ();var S=nie(),C=p.useCallback(X=>{S(X),typeof t=="function"&&t(X),b(X),k(X)},[S,t,b,k]),A=p.useCallback(X=>{j(i4(X)),j(Wn({handler:i,reactEvent:X}))},[j,i]),P=p.useCallback(X=>{j(T0(X)),j(Wn({handler:d,reactEvent:X}))},[j,d]),D=p.useCallback(X=>{j(WI()),j(Wn({handler:u,reactEvent:X}))},[j,u]),E=p.useCallback(X=>{j(T0(X)),j(Wn({handler:h,reactEvent:X}))},[j,h]),R=p.useCallback(()=>{j(h4())},[j]),z=p.useCallback(X=>{j(d4(X.key))},[j]),V=p.useCallback(X=>{j(Wn({handler:o,reactEvent:X}))},[j,o]),L=p.useCallback(X=>{j(Wn({handler:l,reactEvent:X}))},[j,l]),W=p.useCallback(X=>{j(Wn({handler:c,reactEvent:X}))},[j,c]),_=p.useCallback(X=>{j(Wn({handler:m,reactEvent:X}))},[j,m]),O=p.useCallback(X=>{j(Wn({handler:x,reactEvent:X}))},[j,x]),re=p.useCallback(X=>{j(m4(X)),j(Wn({handler:v,reactEvent:X}))},[j,v]),H=p.useCallback(X=>{j(Wn({handler:f,reactEvent:X}))},[j,f]);return p.createElement(oR.Provider,{value:w},p.createElement(xT.Provider,{value:N},p.createElement("div",{className:Ve("recharts-wrapper",n),style:sie({position:"relative",cursor:"default",width:y,height:a},g),onClick:A,onContextMenu:V,onDoubleClick:L,onFocus:R,onKeyDown:z,onMouseDown:W,onMouseEnter:P,onMouseLeave:D,onMouseMove:E,onMouseUp:_,onTouchEnd:H,onTouchMove:re,onTouchStart:O,ref:C},r)))}),cie=["children","className","width","height","style","compact","title","desc"];function uie(e,t){if(e==null)return{};var r,n,a=die(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function die(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y4=p.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:o,compact:l,title:c,desc:d}=e,u=uie(e,cie),h=is(u);return l?p.createElement(LP,{otherAttributes:h,title:c,desc:d},r):p.createElement(lie,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(LP,{otherAttributes:h,title:c,desc:d,ref:t},p.createElement(dne,null,r)))}),hie=["width","height"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(null,arguments)}function fie(e,t){if(e==null)return{};var r,n,a=mie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pie={top:5,right:5,bottom:5,left:5},xie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pie,reverseStackOrder:!1,syncMethod:"index"},Ux=p.forwardRef(function(t,r){var n,a=ar(t.categoricalChartProps,xie),{width:i,height:o}=a,l=fie(a,hie);if(!wc(i)||!wc(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:m}=t,f={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(x4,{preloadedState:{options:f},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:c},p.createElement(zR,{chartData:m.data}),p.createElement(g4,{width:i,height:o,layout:a.layout,margin:a.margin}),p.createElement(v4,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(y4,D0({},l,{width:i,height:o,ref:r})))}),gie=["axis"],Kx=p.forwardRef((e,t)=>p.createElement(Ux,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gie,tooltipPayloadSearcher:oh,categoricalChartProps:e,ref:t})),vie=["axis","item"],Xs=p.forwardRef((e,t)=>p.createElement(Ux,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vie,tooltipPayloadSearcher:oh,categoricalChartProps:e,ref:t}));function yie(e){var t=It();return p.useEffect(()=>{t(Vae(e))},[t,e]),null}var jie=["width","height","layout"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(null,arguments)}function wie(e,t){if(e==null)return{};var r,n,a=bie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nie={top:5,right:5,bottom:5,left:5},Sie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Nie,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},kie=p.forwardRef(function(t,r){var n,a=ar(t.categoricalChartProps,Sie),{width:i,height:o,layout:l}=a,c=wie(a,jie);if(!wc(i)||!wc(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=t,f={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return p.createElement(x4,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},p.createElement(zR,{chartData:a.data}),p.createElement(g4,{width:i,height:o,layout:l,margin:a.margin}),p.createElement(v4,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),p.createElement(yie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),p.createElement(y4,M0({width:i,height:o},c,{ref:r})))}),Cie=["item"],Pie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bN=p.forwardRef((e,t)=>{var r=ar(e,Pie);return p.createElement(kie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Cie,tooltipPayloadSearcher:oh,categoricalChartProps:r,ref:t})}),_ie=["axis"],Eie=p.forwardRef((e,t)=>p.createElement(Ux,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_ie,tooltipPayloadSearcher:oh,categoricalChartProps:e,ref:t})),Aie=["axis"],Oie=p.forwardRef((e,t)=>p.createElement(Ux,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Aie,tooltipPayloadSearcher:oh,categoricalChartProps:e,ref:t}));const BP=["#0088FE","#00C49F","#FFBB28","#FF8042"];function Tie({sales:e}){const[t,r]=p.useState("daily"),a=(()=>{const x=new Date,g=new Date(x.getFullYear(),x.getMonth(),x.getDate());switch(t){case"daily":return e.filter(w=>{const b=new Date;return b.setHours(0,0,0,0),b.getTime()===g.getTime()});case"weekly":const y=new Date(g);return y.setDate(g.getDate()-g.getDay()),e.filter(w=>new Date>=y);case"monthly":const j=new Date(g.getFullYear(),g.getMonth(),1);return e.filter(w=>new Date>=j);default:return e}})(),i=a.reduce((x,g)=>x+g.total,0),o=a.length>0?i/a.length:0,l=a.reduce((x,g)=>(x[g.paymentMethod]=(x[g.paymentMethod]||0)+1,x),{}),c=Object.entries(l).map(([x,g])=>({name:x.charAt(0).toUpperCase()+x.slice(1),value:g,percentage:a.length>0?Math.round(g/a.length*100):0})),d=a.reduce((x,g)=>(g.items.forEach(y=>{const j=`${y.name} (${y.size})`;x[j]||(x[j]={name:j,quantity:0,revenue:0}),x[j].quantity+=y.quantity,x[j].revenue+=y.price*y.quantity}),x),{}),u=Object.values(d).sort((x,g)=>g.revenue-x.revenue).slice(0,5),m=(()=>{if(t==="daily"){const x=a.reduce((g,y)=>{const w=`${new Date(`2024-01-01 ${y.time}`).getHours()}:00`;return g[w]=(g[w]||0)+y.total,g},{});return Object.entries(x).map(([g,y])=>({period:g,amount:y})).sort((g,y)=>parseInt(g.period)-parseInt(y.period))}else if(t==="weekly"){const x=a.reduce((g,y)=>{const j=new Date().toLocaleDateString("en-US",{weekday:"short"});return g[j]=(g[j]||0)+y.total,g},{});return Object.entries(x).map(([g,y])=>({period:g,amount:y}))}else{const x=a.reduce((g,y)=>{const w=`Week ${Math.ceil(new Date().getDate()/7)}`;return g[w]=(g[w]||0)+y.total,g},{});return Object.entries(x).map(([g,y])=>({period:g,amount:y}))}})(),f=()=>{switch(t){case"daily":return"Hourly Sales";case"weekly":return"Daily Sales";case"monthly":return"Weekly Sales";default:return"Sales"}},v=x=>{switch(x.toLowerCase()){case"cash":return s.jsx(SF,{className:"h-4 w-4"});case"card":return s.jsx(ws,{className:"h-4 w-4"});case"mobile":return s.jsx(bE,{className:"h-4 w-4"});default:return s.jsx(Tt,{className:"h-4 w-4"})}};return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Hn,{className:"h-5 w-5 text-blue-600"}),s.jsx(T,{className:"text-sm font-medium",children:"Report Period:"}),s.jsxs(ve,{value:t,onValueChange:r,children:[s.jsx(je,{className:"w-32",children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"daily",children:"Daily"}),s.jsx(F,{value:"weekly",children:"Weekly"}),s.jsx(F,{value:"monthly",children:"Monthly"})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t," data (",a.length," sales)"]})]})})}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sales"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",i]})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.length})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Sale"}),s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",o.toFixed(0)]})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Time"}),s.jsx("div",{className:"text-lg font-bold text-orange-600",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:f()})}),s.jsx(I,{children:m.length>0?s.jsx(_n,{width:"100%",height:300,children:s.jsxs(Xs,{data:m,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"period"}),s.jsx(hr,{}),s.jsx(on,{formatter:x=>[`${x}`,"Sales"]}),s.jsx(dr,{dataKey:"amount",fill:"#8884d8"})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No sales data available for this period"})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Payment Methods"})}),s.jsx(I,{children:c.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx(_n,{width:"100%",height:200,children:s.jsxs(bN,{children:[s.jsx(Bx,{data:c,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:x,percentage:g})=>`${x} ${g}%`,children:c.map((x,g)=>s.jsx(Jc,{fill:BP[g%BP.length]},`cell-${g}`))}),s.jsx(on,{})]})}),s.jsx("div",{className:"space-y-2",children:c.map((x,g)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[v(x.name),s.jsx("span",{children:x.name})]}),s.jsxs(se,{variant:"secondary",children:[x.value," orders (",x.percentage,"%)"]})]},x.name))})]}):s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No payment data available"})})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Top Selling Products"})}),s.jsx(I,{children:u.length>0?s.jsx("div",{className:"space-y-4",children:u.map((x,g)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:g+1})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[x.quantity," units sold"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold text-green-600",children:["$",x.revenue]}),s.jsx(fw,{value:x.revenue/u[0].revenue*100,className:"w-24 h-2 mt-1"})]})]},x.name))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No product sales data available"})})]})]})}function j4({...e}){return s.jsx(ow,{"data-slot":"sheet",...e})}function Die({...e}){return s.jsx(lw,{"data-slot":"sheet-portal",...e})}const w4=p.forwardRef(({className:e,...t},r)=>s.jsx(zd,{ref:r,"data-slot":"sheet-overlay",className:de("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));w4.displayName=zd.displayName;function b4({className:e,children:t,side:r="right",...n}){return s.jsxs(Die,{children:[s.jsx(w4,{}),s.jsxs(Up,{"data-slot":"sheet-content",className:de("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,s.jsxs(Kp,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(SE,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Mie({user:e,accessToken:t,onLogout:r,selectedFeatures:n=[]}){const[a,i]=p.useState("pos"),[o,l]=p.useState([]),[c,d]=p.useState(!1),[u,h]=p.useState(window.innerWidth>=768);p.useEffect(()=>{const g=()=>{h(window.innerWidth>=768)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const m=g=>{l([g,...o])},f=g=>{const y=`
      =====================================
      ${e.shopName}
      Receipt #: ${g.id}
      Time: ${g.time}
      Date: ${new Date().toLocaleDateString()}
      Cashier: ${e.name}
      =====================================
      
      ${g.items.map(j=>`${j.name} (${j.size})
${j.quantity} x ${j.price} = ${j.quantity*j.price}`).join(`

`)}
      
      ${g.customer?`
Customer: ${g.customer.name}
${g.customer.phone?`Phone: ${g.customer.phone}
`:""}${g.customer.address?`Address: ${g.customer.address}
`:""}`:""}
      =====================================
      Total: ${g.total}
      Payment: ${g.paymentMethod.toUpperCase()}
      =====================================
      Thank you for your business!
    `;console.log("Printing receipt:",y),alert("Receipt sent to printer!")},v=o.reduce((g,y)=>g+y.total,0),x=()=>{switch(a){case"pos":return s.jsx(HS,{onSaleComplete:m,onPrintReceipt:f});case"inventory":return s.jsx(IK,{});case"sales":return s.jsx(RK,{sales:o,onPrintReceipt:f});case"customers":return s.jsx($K,{sales:o});case"reports":return s.jsx(Tie,{sales:o});default:return s.jsx(HS,{onSaleComplete:m,onPrintReceipt:f})}};return s.jsxs("div",{className:"flex h-screen bg-background",children:[u&&s.jsx("div",{className:"w-64 flex-shrink-0",children:s.jsx(US,{activeSection:a,setActiveSection:i,user:e,onLogout:r,todayTotal:v,todaySalesCount:o.length,selectedFeatures:n})}),s.jsx(j4,{open:c,onOpenChange:d,children:s.jsx(b4,{side:"left",className:"p-0 w-64","aria-describedby":void 0,children:s.jsx(US,{activeSection:a,setActiveSection:i,user:e,onLogout:r,todayTotal:v,todaySalesCount:o.length,onNavigate:()=>d(!1),selectedFeatures:n})})}),s.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[!u&&s.jsx("div",{className:"p-4 border-b border-border bg-card",children:s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>d(!0),className:"gap-2",children:[s.jsx(wE,{className:"h-5 w-5"}),s.jsx("span",{children:"Menu"})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:x()})]})]})}var Vx="Popover",[N4,Jde]=ns(Vx,[Op]),uh=Op(),[Iie,ro]=N4(Vx),S4=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=uh(t),c=p.useRef(null),[d,u]=p.useState(!1),[h,m]=Ii({prop:n,defaultProp:a??!1,onChange:i,caller:Vx});return s.jsx(PA,{...l,children:s.jsx(Iie,{scope:t,contentId:Sa(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>u(!0),[]),onCustomAnchorRemove:p.useCallback(()=>u(!1),[]),modal:o,children:r})})};S4.displayName=Vx;var k4="PopoverAnchor",Rie=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ro(k4,r),i=uh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return p.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Gj,{...i,...n,ref:t})});Rie.displayName=k4;var C4="PopoverTrigger",P4=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ro(C4,r),i=uh(r),o=Ke(t,a.triggerRef),l=s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":T4(a.open),...n,ref:o,onClick:Ee(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Gj,{asChild:!0,...i,children:l})});P4.displayName=C4;var NN="PopoverPortal",[$ie,Lie]=N4(NN,{forceMount:void 0}),_4=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=ro(NN,t);return s.jsx($ie,{scope:t,forceMount:r,children:s.jsx(ss,{present:r||i.open,children:s.jsx(Tp,{asChild:!0,container:a,children:n})})})};_4.displayName=NN;var Pc="PopoverContent",E4=p.forwardRef((e,t)=>{const r=Lie(Pc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=ro(Pc,e.__scopePopover);return s.jsx(ss,{present:n||i.open,children:i.modal?s.jsx(Bie,{...a,ref:t}):s.jsx(zie,{...a,ref:t})})});E4.displayName=Pc;var Fie=Vo("PopoverContent.RemoveScroll"),Bie=p.forwardRef((e,t)=>{const r=ro(Pc,e.__scopePopover),n=p.useRef(null),a=Ke(t,n),i=p.useRef(!1);return p.useEffect(()=>{const o=n.current;if(o)return Jj(o)},[]),s.jsx(Qj,{as:Fie,allowPinchZoom:!0,children:s.jsx(A4,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),zie=p.forwardRef((e,t)=>{const r=ro(Pc,e.__scopePopover),n=p.useRef(!1),a=p.useRef(!1);return s.jsx(A4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),A4=p.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=ro(Pc,r),f=uh(r);return Fj(),s.jsx(Cp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(kp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(_A,{"data-state":T4(m.open),role:"dialog",id:m.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),O4="PopoverClose",Wie=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ro(O4,r);return s.jsx(Ae.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>a.onOpenChange(!1))})});Wie.displayName=O4;var Uie="PopoverArrow",Kie=p.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=uh(r);return s.jsx(EA,{...a,...n,ref:t})});Kie.displayName=Uie;function T4(e){return e?"open":"closed"}var Vie=S4,Hie=P4,qie=_4,Yie=E4;function Pf({...e}){return s.jsx(Vie,{"data-slot":"popover",...e})}function _f({...e}){return s.jsx(Hie,{"data-slot":"popover-trigger",...e})}function Ef({className:e,align:t="center",sideOffset:r=4,...n}){return s.jsx(qie,{children:s.jsx(Yie,{"data-slot":"popover-content",align:t,sideOffset:r,className:de("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function Gie(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var SN="ScrollArea",[D4,Qde]=ns(SN),[Xie,ls]=D4(SN),M4=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=p.useState(null),[d,u]=p.useState(null),[h,m]=p.useState(null),[f,v]=p.useState(null),[x,g]=p.useState(null),[y,j]=p.useState(0),[w,b]=p.useState(0),[N,k]=p.useState(!1),[S,C]=p.useState(!1),A=Ke(t,D=>c(D)),P=wp(a);return s.jsx(Xie,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:x,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:C,onCornerWidthChange:j,onCornerHeightChange:b,children:s.jsx(Ae.div,{dir:P,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});M4.displayName=SN;var I4="ScrollAreaViewport",R4=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=ls(I4,r),l=p.useRef(null),c=Ke(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});R4.displayName=I4;var aa="ScrollAreaScrollbar",$4=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ls(aa,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Jie,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Qie,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(L4,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(kN,{...n,ref:t}):null});$4.displayName=aa;var Jie=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ls(aa,e.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(ss,{present:r||i,children:s.jsx(L4,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Qie=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ls(aa,e.__scopeScrollArea),i=e.orientation==="horizontal",o=qx(()=>c("SCROLL_END"),100),[l,c]=Gie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const f=d[u];h!==f&&(c("SCROLL"),o()),h=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(ss,{present:r||l!=="hidden",children:s.jsx(kN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),L4=p.forwardRef((e,t)=>{const r=ls(aa,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=p.useState(!1),l=e.orientation==="horizontal",c=qx(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return _c(r.viewport,c),_c(r.content,c),s.jsx(ss,{present:n||i,children:s.jsx(kN,{"data-state":i?"visible":"hidden",...a,ref:t})})}),kN=p.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ls(aa,e.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=U4(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,f){return soe(m,o.current,l,f)}return r==="horizontal"?s.jsx(Zie,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,f=zP(m,l,a.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?s.jsx(eoe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,f=zP(m,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),Zie=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ls(aa,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=Ke(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(B4,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hx(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),V4(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ep(o.paddingLeft),paddingEnd:ep(o.paddingRight)}})}})}),eoe=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ls(aa,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=Ke(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(B4,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hx(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),V4(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ep(o.paddingTop),paddingEnd:ep(o.paddingBottom)}})}})}),[toe,F4]=D4(aa),B4=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,f=ls(aa,r),[v,x]=p.useState(null),g=Ke(t,A=>x(A)),y=p.useRef(null),j=p.useRef(""),w=f.viewport,b=n.content-n.viewport,N=Hr(u),k=Hr(c),S=qx(h,10);function C(A){if(y.current){const P=A.clientX-y.current.left,D=A.clientY-y.current.top;d({x:P,y:D})}}return p.useEffect(()=>{const A=P=>{const D=P.target;v?.contains(D)&&N(P,b)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,v,b,N]),p.useEffect(k,[n,k]),_c(v,S),_c(f.content,S),s.jsx(toe,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:Hr(i),onThumbPointerUp:Hr(o),onThumbPositionChange:k,onThumbPointerDown:Hr(l),children:s.jsx(Ae.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:Ee(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),y.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:Ee(e.onPointerMove,C),onPointerUp:Ee(e.onPointerUp,A=>{const P=A.target;P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=j.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),Zm="ScrollAreaThumb",z4=p.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=F4(Zm,e.__scopeScrollArea);return s.jsx(ss,{present:r||a.hasThumb,children:s.jsx(roe,{ref:t,...n})})}),roe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ls(Zm,r),o=F4(Zm,r),{onThumbPositionChange:l}=o,c=Ke(t,h=>o.onThumbChange(h)),d=p.useRef(void 0),u=qx(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const f=aoe(h,l);d.current=f,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),v=h.clientX-f.left,x=h.clientY-f.top;o.onThumbPointerDown({x:v,y:x})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});z4.displayName=Zm;var CN="ScrollAreaCorner",W4=p.forwardRef((e,t)=>{const r=ls(CN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(noe,{...e,ref:t}):null});W4.displayName=CN;var noe=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ls(CN,r),[i,o]=p.useState(0),[l,c]=p.useState(0),d=!!(i&&l);return _c(a.scrollbarX,()=>{const u=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(u),c(u)}),_c(a.scrollbarY,()=>{const u=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(Ae.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ep(e){return e?parseInt(e,10):0}function U4(e,t){const r=e/t;return isNaN(r)?0:r}function Hx(e){const t=U4(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function soe(e,t,r,n="ltr"){const a=Hx(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return K4([c,d],h)(e)}function zP(e,t,r="ltr"){const n=Hx(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=yy(e,c);return K4([0,o],[0,l])(d)}function K4(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function V4(e,t){return e>0&&e<t}var aoe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function qx(e,t){const r=Hr(e),n=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(n.current),[]),p.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function _c(e,t){const r=Hr(t);Ar(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var ioe=M4,ooe=R4,loe=W4;function coe({className:e,children:t,...r}){return s.jsxs(ioe,{"data-slot":"scroll-area",className:de("relative",e),...r,children:[s.jsx(ooe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),s.jsx(uoe,{}),s.jsx(loe,{})]})}function uoe({className:e,orientation:t="vertical",...r}){return s.jsx($4,{"data-slot":"scroll-area-scrollbar",orientation:t,className:de("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:s.jsx(z4,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function doe(){const[e,t]=p.useState([]),[r,n]=p.useState(0),[a,i]=p.useState(new Date().toISOString());p.useEffect(()=>{},[a]);const o=c=>{c&&(n(0),i(new Date().toISOString()))},l=c=>{const d=new Date(c),h=new Date().getTime()-d.getTime(),m=Math.floor(h/6e4);if(m<1)return"Just now";if(m<60)return`${m}m ago`;const f=Math.floor(m/60);return f<24?`${f}h ago`:d.toLocaleDateString()};return s.jsxs(Pf,{onOpenChange:o,children:[s.jsx(_f,{asChild:!0,children:s.jsxs(B,{variant:"outline",size:"icon",className:"relative",children:[s.jsx(gp,{className:"h-4 w-4"}),r>0&&s.jsx(se,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r>9?"9+":r})]})}),s.jsxs(Ef,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsx("h3",{className:"font-semibold",children:"Recent Sales"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Real-time notifications from all shops"})]}),s.jsx(coe,{className:"h-[300px]",children:e.length===0?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No new notifications"}):s.jsx("div",{className:"divide-y",children:e.map(c=>s.jsxs("div",{className:"p-4 hover:bg-accent cursor-pointer",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:c.shopName}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l(c.timestamp)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.message})]},c.id))})})]})]})}const hoe=[{id:"dashboard",label:"Dashboard",icon:yp,show:!0,feature:null},{id:"products",label:"Inventory",icon:Jn,show:!1,feature:"inventory"},{id:"suppliers",label:"Suppliers",icon:CF,show:!1,feature:"inventory"},{id:"orders",label:"Sales",icon:bs,show:!1,feature:"sales"},{id:"corrections",label:"Corrections",icon:Ta,show:!1,feature:"sales"},{id:"workers",label:"Workers",icon:tm,show:!1,feature:"workers"},{id:"payroll",label:"Payroll",icon:Tt,show:!1,feature:"workers"},{id:"reports",label:"Reports",icon:Mi,show:!1,feature:"reports"},{id:"customers",label:"Customer Management",icon:$t,show:!1,feature:"customers",addon:!0},{id:"analytics",label:"Analytics",icon:Kt,show:!1,feature:"analytics",addon:!0},{id:"locations",label:"Locations",icon:Yn,show:!1,feature:"multi-location",addon:!0},{id:"api-access",label:"API Access",icon:Id,show:!1,feature:"api",addon:!0},{id:"white-label",label:"White Label",icon:ga,show:!1,feature:"white-label",addon:!0},{id:"priority-support",label:"Priority Support",icon:qs,show:!1,feature:"priority-support",addon:!0},{id:"custom-features",label:"Custom Features",icon:Uo,show:!1,feature:"custom-features",addon:!0},{id:"settings",label:"Settings",icon:hn,show:!0,feature:null}];function WP({activeSection:e,setActiveSection:t,user:r,onLogout:n,onNavigate:a,businessConfig:i}){const[o,l]=p.useState("Loading...");p.useEffect(()=>{(async()=>{try{const m=gi(),{data:{user:f}}=await m.auth.getUser();if(console.log("Current user:",f),console.log("Business ID from metadata:",f?.user_metadata?.business_id),f?.user_metadata?.business_id){const{data:v,error:x}=await m.from("businesses").select("business_name").eq("id",f.user_metadata.business_id).single();console.log("Business data:",v),console.log("Business error:",x),!x&&v?.business_name?l(v.business_name):l("My Business")}else l("My Business")}catch(m){console.error("Error loading business name:",m),l("My Business")}})()},[r]),p.useEffect(()=>{i?.businessName&&l(i.businessName)},[i]);const d=(()=>{const h=r?.user_metadata?.features||[],m=r?.user_metadata?.role||"admin";return console.log("👤 User features:",h),console.log("👤 User role:",m),hoe.map(f=>{if(!f.feature&&!f.addon)return{...f,show:!0};if(m==="admin"&&!f.addon)return{...f,show:!0};const v=h.includes(f.feature);return{...f,show:v}}).filter(f=>f.show)})(),u=h=>{t(h),a?.()};return s.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col h-full",children:[s.jsxs("div",{className:"p-6 border-b border-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-primary rounded-lg",children:s.jsx(mc,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"font-semibold text-foreground",children:o}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Admin Dashboard"})]})]}),s.jsx(doe,{})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("ul",{className:"space-y-2",children:d.map(h=>{const m=h.icon;return s.jsx("li",{children:s.jsxs("button",{onClick:()=>u(h.id),className:de("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left",e===h.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[s.jsx(m,{className:"h-5 w-5"}),h.label]})},h.id)})})}),s.jsxs("div",{className:"p-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:r?.name?.slice(0,2).toUpperCase()||"AD"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:r?.name||"Administrator"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r?.role||"Admin"})]})]}),n&&s.jsxs(B,{onClick:n,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Dj,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}function foe({onOpenSettings:e}){const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,o]=p.useState(!0),[l,c]=p.useState(null);p.useEffect(()=>{d(),u(),h()},[]);const d=async()=>{try{const v=new Date().toISOString().split("T")[0],x=await Sf.getDailySales(v);r(x)}catch(v){console.error("Error loading today's sales:",v),r({date:new Date().toISOString().split("T")[0],totalSales:0,totalTransactions:0,averageTransaction:0,sales:[]})}},u=async()=>{try{const v=await Sf.getAllReports();v.length>0&&a(v[0])}catch(v){console.error("Error loading latest report:",v),a({date:new Date().toISOString().split("T")[0],generated:new Date().toISOString(),status:"No reports available",totalSales:0})}},h=async()=>{try{c({managerEmail:"uncle@latexfoam.com",managerPhone:"+1234567890",reportTime:"18:00",autoReportEnabled:!0})}catch(v){console.error("Error loading shop settings:",v)}finally{o(!1)}},m=async()=>{try{o(!0);const v=new Date().toISOString().split("T")[0],x=await Sf.generateAutoReport(v);await u()}catch(v){console.error("Error triggering daily report:",v)}finally{o(!1)}},f=()=>l?l.autoReportEnabled?s.jsxs(se,{variant:"default",className:"bg-green-500",children:[s.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Active"]}):s.jsxs(se,{variant:"secondary",children:[s.jsx(zr,{className:"h-3 w-3 mr-1"}),"Disabled"]}):s.jsx(se,{variant:"secondary",children:"Loading..."});return i?s.jsx(M,{children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),s.jsx("span",{className:"ml-2",children:"Loading reporting status..."})]})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(K,{className:"flex items-center gap-2 text-lg",children:[s.jsx(gp,{className:"h-5 w-5"}),"Automatic Reporting"]}),f()]}),s.jsx(_e,{children:"Daily sales reports for Uncle's review"})]}),s.jsxs(I,{className:"space-y-4",children:[l&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:l.managerEmail})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Report Time:"}),s.jsx("br",{}),s.jsxs("span",{className:"font-medium",children:[l.reportTime||"18:00"," daily"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:m,disabled:i,size:"sm",children:[s.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Generate Report Now"]}),e&&s.jsxs(B,{variant:"outline",onClick:e,size:"sm",children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})]}),t&&s.jsxs(M,{children:[s.jsxs(U,{className:"pb-3",children:[s.jsx(K,{className:"text-lg",children:"Today's Sales"}),s.jsxs(_e,{children:["Real-time sales data for ",new Date().toLocaleDateString()]})]}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.totalAmount||0]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sales"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.totalTransactions||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Transactions"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",t.totalTransactions>0?((t.totalAmount||0)/t.totalTransactions).toFixed(2):"0.00"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Sale"})]})]})})]}),n&&s.jsxs(Np,{children:[s.jsx(Pi,{className:"h-4 w-4"}),s.jsxs(Sp,{children:[s.jsx("strong",{children:"Last Report:"})," ",n.date," - $",n.summary?.totalAmount||0," from ",n.summary?.totalTransactions||0," transactions",s.jsx("br",{}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Generated on ",new Date(n.generatedAt).toLocaleString()]})]})]})]})}class moe extends q.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Dashboard Error:",t,r)}render(){return this.state.hasError?s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-2",children:"Dashboard Error"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Something went wrong loading the dashboard. Please refresh the page."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Refresh Page"}),this.state.error&&s.jsx("pre",{className:"mt-4 text-xs text-red-500 text-left whitespace-pre-wrap break-all",children:this.state.error.message})]})}):this.props.children}}function UP(){const[e,t]=p.useState(!0),[r,n]=p.useState(null),[a,i]=p.useState("daily"),[o,l]=p.useState(null);p.useEffect(()=>{c(),d()},[]),p.useEffect(()=>{d()},[a]);const c=async()=>{try{console.log("🔄 Loading dashboard data..."),t(!0);const f=await kr.getDashboardSummary();console.log("📊 Dashboard response:",f),f.success?(n(f.summary),console.log("✅ Dashboard data loaded successfully")):J.error("Failed to load dashboard data")}catch(f){console.error("❌ Error loading dashboard data:",f),J.error("Error loading dashboard data")}finally{t(!1)}},d=async()=>{try{console.log(`🔄 Loading profit analysis for period: ${a}...`);const f=await kr.getProfitAnalysis(a);console.log("📈 Profit analysis response:",f),f.success?(l(f.analysis),console.log("✅ Profit analysis loaded successfully")):console.error("❌ Failed to load profit analysis:",f.error)}catch(f){console.error("❌ Error loading profit analysis:",f)}};if(e)return s.jsx("div",{className:"p-4 compact-spacing h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading dashboard..."})]})});if(!r)return s.jsx("div",{className:"p-4 compact-spacing h-full overflow-auto",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Dashboard Loading"}),s.jsx("p",{className:"text-muted-foreground",children:"No data available or still loading..."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})})]})});const u=f=>`$${f.toFixed(2)}`,h=f=>`${f>=0?"+":""}${f.toFixed(1)}%`,m=r.weeklyData?.map(f=>({date:new Date(f.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),sales:f.amount,transactions:f.transactions}))||[];return s.jsx(moe,{children:s.jsxs("div",{className:"p-4 compact-spacing h-full overflow-auto",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl",children:"Dashboard Overview"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Latex foam shop chain management system"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Today's Revenue"}),s.jsx(Tt,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsxs(I,{className:"compact-card-content",children:[s.jsx("div",{className:"text-lg font-semibold",children:u(r.today.sales)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("span",{className:r.growth.sales>=0?"text-green-600":"text-red-600",children:h(r.growth.sales)})," from yesterday"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Today's Transactions"}),s.jsx(bs,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsxs(I,{className:"compact-card-content",children:[s.jsx("div",{className:"text-lg font-semibold",children:r.today.transactions}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsx("span",{className:r.growth.transactions>=0?"text-green-600":"text-red-600",children:h(r.growth.transactions)})," from yesterday"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Products"}),s.jsx(Jn,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsxs(I,{className:"compact-card-content",children:[s.jsx("div",{className:"text-lg font-semibold",children:r.counts.products}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total products in inventory"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Customers"}),s.jsx($t,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsxs(I,{className:"compact-card-content",children:[s.jsx("div",{className:"text-lg font-semibold",children:r.counts.customers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered customers"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(M,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-sm",children:"Weekly Sales Trend"})}),s.jsx(I,{className:"compact-card-content",children:s.jsx(_n,{width:"100%",height:200,children:s.jsxs(Kx,{data:m,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"date",fontSize:12}),s.jsx(hr,{fontSize:12}),s.jsx(on,{}),s.jsx(zi,{type:"monotone",dataKey:"sales",stroke:"#8884d8",strokeWidth:2})]})})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"compact-card-header",children:s.jsx(K,{className:"text-sm",children:"Company Performance"})}),s.jsx(I,{className:"compact-card-content",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Workers"}),s.jsx(se,{variant:"outline",children:r.counts.workers})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Inventory Value"}),s.jsx("span",{className:"text-sm font-medium",children:u(r.inventory?.value||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Low Stock Items"}),s.jsx(se,{variant:r.counts.lowStockProducts>0?"destructive":"outline",children:r.counts.lowStockProducts||0})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Pending Corrections"}),s.jsx(se,{variant:r.counts.pendingCorrections>0?"destructive":"outline",children:r.counts.pendingCorrections})]})]})})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between",children:[s.jsx(K,{className:"text-sm",children:"Profit Margins by Product"}),s.jsxs(ve,{value:a,onValueChange:f=>i(f),children:[s.jsx(je,{className:"w-32 h-8 text-xs",children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"daily",children:"Daily"}),s.jsx(F,{value:"weekly",children:"Weekly"}),s.jsx(F,{value:"monthly",children:"Monthly"})]})]})]}),s.jsx(I,{className:"compact-card-content",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 p-3 bg-muted rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Revenue"}),s.jsx("div",{className:"text-sm font-semibold text-blue-600",children:u(o.overall.revenue)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Profit"}),s.jsx("div",{className:"text-sm font-semibold text-green-600",children:u(o.overall.profit)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Margin"}),s.jsxs("div",{className:"text-sm font-semibold",children:[o.overall.margin.toFixed(1),"%"]})]})]})}),s.jsxs("div",{className:"space-y-3",children:[o.productProfits.slice(0,5).map((f,v)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:f.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Sold: ",f.quantity," | Revenue: ",u(f.revenue)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(se,{variant:f.margin>30?"default":f.margin>15?"secondary":"outline",children:[f.margin.toFixed(1),"%"]}),f.margin>0?s.jsx(Kt,{className:"h-4 w-4 text-green-600"}):s.jsx(Ij,{className:"h-4 w-4 text-red-600"})]})]},v)),o.productProfits.length===0&&s.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"No sales data for this period"})]})]}):s.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"Loading profit analysis..."})})]}),s.jsx(foe,{})]})})}var H4="AlertDialog",[poe,Zde]=ns(H4,[BO]),Ga=BO(),q4=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ga(t);return s.jsx(ow,{...n,...r,modal:!0})};q4.displayName=H4;var xoe="AlertDialogTrigger",Y4=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(rT,{...a,...n,ref:t})});Y4.displayName=xoe;var goe="AlertDialogPortal",G4=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ga(t);return s.jsx(lw,{...n,...r})};G4.displayName=goe;var voe="AlertDialogOverlay",X4=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(zd,{...a,...n,ref:t})});X4.displayName=voe;var sc="AlertDialogContent",[yoe,joe]=poe(sc),woe=LF("AlertDialogContent"),J4=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Ga(r),o=p.useRef(null),l=Ke(t,o),c=p.useRef(null);return s.jsx(CK,{contentName:sc,titleName:Q4,docsSlug:"alert-dialog",children:s.jsx(yoe,{scope:r,cancelRef:c,children:s.jsxs(Up,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ee(a.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(woe,{children:n}),s.jsx(Noe,{contentRef:o})]})})})});J4.displayName=sc;var Q4="AlertDialogTitle",Z4=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(cw,{...a,...n,ref:t})});Z4.displayName=Q4;var e$="AlertDialogDescription",t$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(uw,{...a,...n,ref:t})});t$.displayName=e$;var boe="AlertDialogAction",r$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Ga(r);return s.jsx(Kp,{...a,...n,ref:t})});r$.displayName=boe;var n$="AlertDialogCancel",s$=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=joe(n$,r),i=Ga(r),o=Ke(t,a);return s.jsx(Kp,{...i,...n,ref:o})});s$.displayName=n$;var Noe=({contentRef:e})=>{const t=`\`${sc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sc}\` by passing a \`${e$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Soe=q4,koe=Y4,Coe=G4,Poe=X4,_oe=J4,Eoe=r$,Aoe=s$,Ooe=Z4,Toe=t$;function Doe({...e}){return s.jsx(Soe,{"data-slot":"alert-dialog",...e})}function Moe({...e}){return s.jsx(koe,{"data-slot":"alert-dialog-trigger",...e})}function Ioe({...e}){return s.jsx(Coe,{"data-slot":"alert-dialog-portal",...e})}function Roe({className:e,...t}){return s.jsx(Poe,{"data-slot":"alert-dialog-overlay",className:de("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function $oe({className:e,...t}){return s.jsxs(Ioe,{children:[s.jsx(Roe,{}),s.jsx(_oe,{"data-slot":"alert-dialog-content",className:de("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Loe({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:de("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Foe({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:de("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Boe({className:e,...t}){return s.jsx(Ooe,{"data-slot":"alert-dialog-title",className:de("text-lg font-semibold",e),...t})}function zoe({className:e,...t}){return s.jsx(Toe,{"data-slot":"alert-dialog-description",className:de("text-muted-foreground text-sm",e),...t})}function Woe({className:e,...t}){return s.jsx(Eoe,{className:de(hd(),e),...t})}function Uoe({className:e,...t}){return s.jsx(Aoe,{className:de(hd({variant:"outline"}),e),...t})}function Koe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,l]=p.useState("all"),[c,d]=p.useState("all"),[u,h]=p.useState(!1),[m,f]=p.useState(null),[v,x]=p.useState({name:"",sku:"",category:"",supplier:"",cost:"",price:"",stock:"",description:""});p.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0);const S=await kr.getProducts();S.success&&S.products?t(S.products):J.error("Failed to load products")}catch(S){console.error("Error loading products:",S),J.error("Error loading products")}finally{n(!1)}},y=async()=>{try{if(!v.name||!v.sku||!v.category||!v.price||!v.cost){J.error("Please fill in all required fields");return}const S={...v,price:parseFloat(v.price),cost:parseFloat(v.cost),stock:parseInt(v.stock)||0,id:m?.id||`product-${Date.now()}`};let C="In Stock";S.stock===0?C="Out of Stock":S.stock<10&&(C="Low Stock"),(await kr.saveProduct(S)).success?(J.success(m?"Product updated successfully":"Product added successfully"),h(!1),b(),g()):J.error("Failed to save product. Please try again.")}catch(S){console.error("Error saving product:",S),J.error("Error saving product: "+(S instanceof Error?S.message:"Unknown error"))}},j=async S=>{try{(await kr.deleteProduct(S)).success?(J.success("Product deleted successfully"),g()):J.error("Failed to delete product")}catch(C){console.error("Error deleting product:",C),J.error("Error deleting product")}},w=S=>{f(S),x({name:S.name,sku:S.sku,category:S.category,supplier:S.supplier||"",cost:S.cost.toString(),price:S.price.toString(),stock:S.stock.toString(),description:S.description||""}),h(!0)},b=()=>{f(null),x({name:"",sku:"",category:"",supplier:"",cost:"",price:"",stock:"",description:""})},N=e.filter(S=>{const C=S.name.toLowerCase().includes(a.toLowerCase())||S.sku.toLowerCase().includes(a.toLowerCase()),A=o==="all"||S.category===o,P=c==="all"||S.status===c;return C&&A&&P}),k=S=>{switch(S){case"In Stock":return s.jsx(se,{variant:"default",children:"In Stock"});case"Low Stock":return s.jsx(se,{variant:"secondary",children:"Low Stock"});case"Out of Stock":return s.jsx(se,{variant:"destructive",children:"Out of Stock"});default:return s.jsx(se,{variant:"outline",children:S})}};return r?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading products..."})]})}):s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Foam Product Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your latex foam inventory across all shops"})]}),s.jsxs(Qe,{open:u,onOpenChange:h,children:[s.jsx(Ji,{asChild:!0,children:s.jsxs(B,{onClick:b,children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Add Product"]})}),s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:m?"Edit Product":"Add New Product"}),s.jsx(Xt,{children:m?"Update the product details.":"Enter the details for the new product."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"name",children:"Product Name *"}),s.jsx(Z,{id:"name",placeholder:"Enter product name",value:v.name,onChange:S=>x({...v,name:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"sku",children:"SKU *"}),s.jsx(Z,{id:"sku",placeholder:"Enter SKU",value:v.sku,onChange:S=>x({...v,sku:S.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"category",children:"Category *"}),s.jsxs(ve,{value:v.category,onValueChange:S=>x({...v,category:S}),children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select category"})}),s.jsxs(we,{children:[s.jsx(F,{value:"Mattresses",children:"Mattresses"}),s.jsx(F,{value:"Pillows",children:"Pillows"}),s.jsx(F,{value:"Cushions",children:"Cushions"}),s.jsx(F,{value:"Custom Foam",children:"Custom Foam"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"supplier",children:"Supplier"}),s.jsx(Z,{id:"supplier",placeholder:"Enter supplier name",value:v.supplier,onChange:S=>x({...v,supplier:S.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"cost",children:"Cost Price *"}),s.jsx(Z,{id:"cost",type:"number",placeholder:"0.00",value:v.cost,onChange:S=>x({...v,cost:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"price",children:"Selling Price *"}),s.jsx(Z,{id:"price",type:"number",placeholder:"0.00",value:v.price,onChange:S=>x({...v,price:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"stock",children:"Initial Stock"}),s.jsx(Z,{id:"stock",type:"number",placeholder:"0",value:v.stock,onChange:S=>x({...v,stock:S.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"description",children:"Description"}),s.jsx(Dt,{id:"description",placeholder:"Enter product description",value:v.description,onChange:S=>x({...v,description:S.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(B,{onClick:y,children:m?"Update Product":"Add Product"})]})]})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Tj,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(I,{children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search products or SKU...",className:"pl-10",value:a,onChange:S=>i(S.target.value)})]})}),s.jsxs(ve,{value:o,onValueChange:l,children:[s.jsx(je,{className:"w-48",children:s.jsx(ye,{placeholder:"All Categories"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Categories"}),s.jsx(F,{value:"Mattresses",children:"Mattresses"}),s.jsx(F,{value:"Pillows",children:"Pillows"}),s.jsx(F,{value:"Cushions",children:"Cushions"}),s.jsx(F,{value:"Custom Foam",children:"Custom Foam"})]})]}),s.jsxs(ve,{value:c,onValueChange:d,children:[s.jsx(je,{className:"w-48",children:s.jsx(ye,{placeholder:"All Status"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"In Stock",children:"In Stock"}),s.jsx(F,{value:"Low Stock",children:"Low Stock"}),s.jsx(F,{value:"Out of Stock",children:"Out of Stock"})]})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-5 w-5"}),"Products (",N.length,")"]})}),s.jsx(I,{children:N.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Jn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No products found"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Add your first product to get started"})]}):s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Product"}),s.jsx(ee,{children:"SKU"}),s.jsx(ee,{children:"Category"}),s.jsx(ee,{children:"Stock"}),s.jsx(ee,{children:"Cost"}),s.jsx(ee,{children:"Price"}),s.jsx(ee,{children:"Margin"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:N.map(S=>{const C=((S.price-S.cost)/S.cost*100).toFixed(1);return s.jsxs(Be,{children:[s.jsx(Q,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:S.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.supplier||"No supplier"})]})}),s.jsx(Q,{className:"font-mono",children:S.sku}),s.jsx(Q,{children:S.category}),s.jsx(Q,{children:S.stock}),s.jsxs(Q,{children:["$",S.cost]}),s.jsxs(Q,{children:["$",S.price]}),s.jsxs(Q,{children:[C,"%"]}),s.jsx(Q,{children:k(S.status)}),s.jsx(Q,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>w(S),children:s.jsx(jp,{className:"h-4 w-4"})}),s.jsxs(Doe,{children:[s.jsx(Moe,{asChild:!0,children:s.jsx(B,{variant:"outline",size:"sm",children:s.jsx(za,{className:"h-4 w-4"})})}),s.jsxs($oe,{children:[s.jsxs(Loe,{children:[s.jsx(Boe,{children:"Are you sure?"}),s.jsxs(zoe,{children:['This will permanently delete the product "',S.name,'". This action cannot be undone.']})]}),s.jsxs(Foe,{children:[s.jsx(Uoe,{children:"Cancel"}),s.jsx(Woe,{onClick:()=>j(S.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},S.id)})})]})})]})]})}function Voe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,l]=p.useState("all"),[c,d]=p.useState("all"),[u,h]=p.useState(!1),[m,f]=p.useState(null),[v,x]=p.useState(null),[g,y]=p.useState({customerName:"",customerPhone:"",customerAddress:"",status:"Processing",notes:""});p.useEffect(()=>{j()},[]);const j=async()=>{try{n(!0);const P=new Date().toISOString().split("T")[0],D=new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0],E=await kr.getSalesRange(D,P);if(E.success){const R=E.data.flatMap(z=>(z.sales||[]).map(V=>({id:V.id,customer:V.customer||{name:"Walk-in Customer"},items:V.items||[],total:V.total,paymentMethod:V.paymentMethod||"cash",status:"Completed",date:V.date,shop:V.shop||"Main Branch",cashier:V.cashier||"Unknown",notes:V.notes||"",createdAt:V.date})));R.sort((z,V)=>new Date(V.date).getTime()-new Date(z.date).getTime()),t(R)}else J.error("Failed to load orders"),t([])}catch(P){console.error("Error loading orders:",P),J.error("Error loading orders"),t([])}finally{n(!1)}},w=async()=>{try{if(!v)return;const P={...v,customer:{...v.customer,name:g.customerName,phone:g.customerPhone,address:g.customerAddress},status:g.status,notes:g.notes};t(e.map(D=>D.id===v.id?P:D)),J.success("Order updated successfully"),h(!1),S()}catch(P){console.error("Error updating order:",P),J.error("Error updating order")}},b=async P=>{if(window.confirm(`Are you sure you want to delete order "${P}"? This action cannot be undone.`))try{(await kr.deleteSale(P)).success?(t(e.filter(R=>R.id!==P)),J.success("Order deleted successfully")):J.error("Failed to delete order")}catch(E){console.error("Error deleting order:",E),J.error("Error deleting order")}},N=P=>{f(P),h(!0)},k=P=>{x(P),y({customerName:P.customer.name,customerPhone:P.customer.phone||"",customerAddress:P.customer.address||"",status:P.status,notes:P.notes||""}),h(!0)},S=()=>{x(null),f(null),y({customerName:"",customerPhone:"",customerAddress:"",status:"Processing",notes:""})},C=e.filter(P=>{const D=P.customer.name.toLowerCase().includes(a.toLowerCase())||P.id.toLowerCase().includes(a.toLowerCase())||P.customer.phone&&P.customer.phone.includes(a),E=o==="all"||P.status===o,R=new Date,z=new Date(P.date);let V=!0;if(c==="today")V=z.toDateString()===R.toDateString();else if(c==="week"){const L=new Date(R.getTime()-6048e5);V=z>=L}else if(c==="month"){const L=new Date(R.getTime()-2592e6);V=z>=L}return D&&E&&V}),A=P=>{switch(P){case"Completed":return s.jsx(se,{variant:"default",children:"Completed"});case"Processing":return s.jsx(se,{variant:"secondary",children:"Processing"});case"Cancelled":return s.jsx(se,{variant:"destructive",children:"Cancelled"});case"Refunded":return s.jsx(se,{variant:"outline",children:"Refunded"});default:return s.jsx(se,{variant:"outline",children:P})}};return r?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading orders..."})]})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Order Management"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage customer orders"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Total Orders"}),s.jsx(bs,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx(I,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold",children:e.length})})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Today's Orders"}),s.jsx(Hn,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx(I,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold",children:e.filter(P=>new Date(P.date).toDateString()===new Date().toDateString()).length})})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Completed"}),s.jsx(bs,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx(I,{className:"compact-card-content",children:s.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.filter(P=>P.status==="Completed").length})})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-xs",children:"Total Revenue"}),s.jsx(Tt,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx(I,{className:"compact-card-content",children:s.jsxs("div",{className:"text-lg font-semibold",children:["$",e.reduce((P,D)=>P+D.total,0).toFixed(2)]})})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Tj,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(I,{children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search orders...",className:"pl-10",value:a,onChange:P=>i(P.target.value)})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4",children:[s.jsxs(ve,{value:o,onValueChange:l,children:[s.jsx(je,{className:"w-full md:w-48",children:s.jsx(ye,{placeholder:"All Status"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"Completed",children:"Completed"}),s.jsx(F,{value:"Processing",children:"Processing"}),s.jsx(F,{value:"Cancelled",children:"Cancelled"}),s.jsx(F,{value:"Refunded",children:"Refunded"})]})]}),s.jsxs(ve,{value:c,onValueChange:d,children:[s.jsx(je,{className:"w-full md:w-48",children:s.jsx(ye,{placeholder:"All Dates"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Dates"}),s.jsx(F,{value:"today",children:"Today"}),s.jsx(F,{value:"week",children:"This Week"}),s.jsx(F,{value:"month",children:"This Month"})]})]})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Orders (",C.length,")"]})}),s.jsx(I,{children:C.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No orders found"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Orders will appear here when customers make purchases"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{className:"min-w-[120px]",children:"Order ID"}),s.jsx(ee,{className:"min-w-[150px]",children:"Customer"}),s.jsx(ee,{className:"hidden md:table-cell",children:"Items"}),s.jsx(ee,{className:"min-w-[100px]",children:"Total"}),s.jsx(ee,{className:"hidden lg:table-cell",children:"Payment"}),s.jsx(ee,{className:"min-w-[100px]",children:"Status"}),s.jsx(ee,{className:"hidden xl:table-cell",children:"Date"}),s.jsx(ee,{className:"min-w-[120px]",children:"Actions"})]})}),s.jsx(vr,{children:C.map(P=>s.jsxs(Be,{children:[s.jsx(Q,{className:"font-mono",children:P.id}),s.jsx(Q,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.customer.name}),P.customer.phone&&s.jsx("p",{className:"text-sm text-muted-foreground",children:P.customer.phone})]})}),s.jsxs(Q,{className:"hidden md:table-cell",children:[P.items.length," items"]}),s.jsxs(Q,{className:"font-medium",children:["$",P.total.toFixed(2)]}),s.jsx(Q,{className:"hidden lg:table-cell capitalize",children:P.paymentMethod}),s.jsx(Q,{children:A(P.status)}),s.jsx(Q,{className:"hidden xl:table-cell",children:new Date(P.date).toLocaleDateString()}),s.jsx(Q,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>N(P),className:"h-8 w-8 p-0",children:s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>k(P),className:"h-8 w-8 p-0",children:s.jsx(jp,{className:"h-4 w-4"})}),s.jsx(B,{variant:"destructive",size:"sm",className:"h-8 w-8 p-0",onClick:()=>b(P.id),children:s.jsx(za,{className:"h-4 w-4"})})]})})]},P.id))})]})})})]}),s.jsx(Qe,{open:u,onOpenChange:h,children:s.jsxs(Ye,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:v?"Edit Order":"Order Details"}),s.jsx(Xt,{children:v?"Update order information":"View order details"})]}),(m||v)&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Order Information"})}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Order ID"}),s.jsx(Z,{value:(m||v)?.id,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Date"}),s.jsx(Z,{value:new Date((m||v)?.date||"").toLocaleString(),disabled:!0})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Customer Information"})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Customer Name"}),s.jsx(Z,{value:v?g.customerName:m?.customer.name||"",onChange:P=>v&&y({...g,customerName:P.target.value}),disabled:!v})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Phone"}),s.jsx(Z,{value:v?g.customerPhone:m?.customer.phone||"",onChange:P=>v&&y({...g,customerPhone:P.target.value}),disabled:!v})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Address"}),s.jsx(Dt,{value:v?g.customerAddress:m?.customer.address||"",onChange:P=>v&&y({...g,customerAddress:P.target.value}),disabled:!v})]})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Order Items"})}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-2",children:[(m||v)?.items.map((P,D)=>s.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",P.sku]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:[P.quantity,"x $",P.price]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",(P.quantity*P.price).toFixed(2)]})]})]},D)),s.jsx("div",{className:"border-t pt-2 mt-2",children:s.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",(m||v)?.total.toFixed(2)]})]})})]})})]}),v&&s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Order Status"})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Status"}),s.jsxs(ve,{value:g.status,onValueChange:P=>y({...g,status:P}),children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"Processing",children:"Processing"}),s.jsx(F,{value:"Completed",children:"Completed"}),s.jsx(F,{value:"Cancelled",children:"Cancelled"}),s.jsx(F,{value:"Refunded",children:"Refunded"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Notes"}),s.jsx(Dt,{placeholder:"Add notes about this order...",value:g.notes,onChange:P=>y({...g,notes:P.target.value})})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>h(!1),children:v?"Cancel":"Close"}),v&&s.jsx(B,{onClick:w,children:"Update Order"})]})]})})]})}function Hoe(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("");p.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const g=await kr.getCustomers();t(g.customers||[])}catch(g){console.error("Error loading customers:",g),J.error("Failed to load customers")}finally{n(!1)}},[l,c]=p.useState(!1);p.useState(null);const[d,u]=p.useState({name:"",phone:"",email:"",address:"",notes:""}),h=async()=>{try{if(!d.name){J.error("Customer name is required");return}await kr.saveCustomer(d),J.success("Customer added successfully"),c(!1),f(),o()}catch(g){console.error("Error adding customer:",g),J.error("Error adding customer")}},m=async(g,y)=>{if(window.confirm(`Are you sure you want to delete "${y}"? This action cannot be undone.`))try{await kr.deleteCustomer(g),J.success(`Customer "${y}" deleted successfully`),o()}catch(w){console.error("Error deleting customer:",w),J.error("Error deleting customer")}},f=()=>{u({name:"",phone:"",email:"",address:"",notes:""})},v=e.filter(g=>g.name.toLowerCase().includes(a.toLowerCase())||g.phone&&g.phone.includes(a)||g.email&&g.email.toLowerCase().includes(a.toLowerCase())),x=g=>!g.totalOrders||g.totalOrders===0?s.jsx(se,{variant:"outline",children:"New"}):g.totalOrders>=10?s.jsx(se,{variant:"default",children:"VIP"}):g.totalOrders>=5?s.jsx(se,{variant:"secondary",children:"Regular"}):s.jsx(se,{variant:"outline",children:"Occasional"});return r?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading customers..."})]})}):s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Customer Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage customer information and purchase history"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",onClick:()=>window.location.reload(),disabled:r,children:[s.jsx(dn,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]}),s.jsxs(Qe,{open:l,onOpenChange:c,children:[s.jsx(Ji,{asChild:!0,children:s.jsxs(B,{onClick:f,children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Add Customer"]})}),s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Add New Customer"}),s.jsx(Xt,{children:"Add a new customer to your database."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"name",children:"Customer Name *"}),s.jsx(Z,{id:"name",placeholder:"Enter customer name",value:d.name,onChange:g=>u({...d,name:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Z,{id:"phone",placeholder:"Enter phone number",value:d.phone,onChange:g=>u({...d,phone:g.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"email",children:"Email Address"}),s.jsx(Z,{id:"email",type:"email",placeholder:"Enter email address",value:d.email,onChange:g=>u({...d,email:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"address",children:"Address"}),s.jsx(Dt,{id:"address",placeholder:"Enter customer address",value:d.address,onChange:g=>u({...d,address:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"notes",children:"Notes"}),s.jsx(Dt,{id:"notes",placeholder:"Additional notes about customer",value:d.notes,onChange:g=>u({...d,notes:g.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(B,{onClick:h,children:"Add Customer"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Customers"}),s.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(I,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"New This Month"}),s.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(I,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(g=>new Date(g.createdAt).getMonth()===new Date().getMonth()).length})})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Active Customers"}),s.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(I,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(g=>g.totalOrders&&g.totalOrders>0).length})})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"VIP Customers"}),s.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(I,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(g=>g.totalOrders&&g.totalOrders>=10).length})})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"h-5 w-5"}),"Search Customers"]})}),s.jsx(I,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search by name, phone, or email...",className:"pl-10",value:a,onChange:g=>i(g.target.value)})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-5 w-5"}),"Customers (",v.length,")"]})}),s.jsx(I,{children:v.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx($t,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:e.length===0?"No customers yet":"No customers found"})]}):s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Customer"}),s.jsx(ee,{children:"Contact"}),s.jsx(ee,{children:"Type"}),s.jsx(ee,{children:"Orders"}),s.jsx(ee,{children:"Total Spent"}),s.jsx(ee,{children:"Last Order"}),s.jsx(ee,{children:"Joined"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:v.map(g=>s.jsxs(Be,{children:[s.jsx(Q,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:g.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.address})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:g.phone}),s.jsx("p",{className:"text-muted-foreground",children:g.email})]})}),s.jsx(Q,{children:x(g)}),s.jsx(Q,{children:g.totalOrders||0}),s.jsxs(Q,{children:["$",(g.totalSpent||0).toFixed(2)]}),s.jsx(Q,{children:g.lastOrderDate?new Date(g.lastOrderDate).toLocaleDateString():"Never"}),s.jsx(Q,{children:new Date(g.createdAt).toLocaleDateString()}),s.jsx(Q,{children:s.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>m(g.id,g.name),children:[s.jsx(za,{className:"h-3 w-3 mr-1"}),"Delete"]})})]},g.id))})]})})]})]})}function qoe(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState(!0),[o,l]=p.useState(""),[c,d]=p.useState("all"),[u,h]=p.useState(!1),[m,f]=p.useState({open:!1,credentials:null}),[v,x]=p.useState(null),[g,y]=p.useState({name:"",phone:"",position:"",shopId:"",shopName:"",salary:"",hireDate:new Date().toISOString().split("T")[0]});p.useEffect(()=>{j()},[]);const j=async()=>{i(!0),await Promise.all([w(),b()]),i(!1)},w=async()=>{try{const W=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/workers`,{headers:{Authorization:`Bearer ${Wt}`}})).json();W.success&&t(W.workers)}catch(L){console.error("Error loading workers:",L)}},b=async()=>{try{const W=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers`,{headers:{Authorization:`Bearer ${Wt}`}})).json();W.success&&n(W.cashiers)}catch(L){console.error("Error loading cashiers:",L)}},N=async()=>{if(!g.name||!g.phone||!g.position||!g.shopId||!g.shopName||!g.salary){J.error("Please fill in all required fields");return}try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/workers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`},body:JSON.stringify({name:g.name,phone:g.phone,position:g.position,shopId:g.shopId,shopName:g.shopName,salary:parseFloat(g.salary),hire_date:g.hireDate,status:"Active"})})).json()).success?(J.success("Worker added successfully"),h(!1),P(),w()):J.error("Failed to add worker")}catch{J.error("Error adding worker")}},k=async L=>{try{const _=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/auth/create-cashier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`},body:JSON.stringify({workerId:L.id,workerName:L.name,shopId:L.shopId,shopName:L.shopName})})).json();_.success?(J.success("Cashier login created successfully!"),f({open:!0,credentials:_.credentials}),await j()):J.error(_.error||"Failed to create cashier login")}catch{J.error("Error creating cashier login")}},S=async(L,W)=>{const _=W?"deactivate":"activate";try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers/${L}/${_}`,{method:"POST",headers:{Authorization:`Bearer ${Wt}`}})).json()).success?(J.success(`Cashier ${_}d successfully`),b()):J.error(`Failed to ${_} cashier`)}catch{J.error(`Error ${_}ing cashier`)}},C=async L=>{try{const _=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers/${L}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${Wt}`}})).json();_.success?(J.success("Password reset successfully!"),f({open:!0,credentials:{...r.find(O=>O.id===L),password:_.newPassword}}),b()):J.error("Failed to reset password")}catch{J.error("Error resetting password")}},A=async L=>{const W=prompt("Enter new Shop ID:"),_=prompt("Enter new Shop Name:");if(!(!W||!_))try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/cashiers/${L}/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`},body:JSON.stringify({newShopId:W,newShopName:_})})).json()).success?(J.success("Cashier transferred successfully"),b()):J.error("Failed to transfer cashier")}catch{J.error("Error transferring cashier")}},P=()=>{y({name:"",phone:"",position:"",shopId:"",shopName:"",salary:"",hireDate:new Date().toISOString().split("T")[0]})},D=(L,W)=>{navigator.clipboard.writeText(L),x(W),setTimeout(()=>x(null),2e3),J.success("Copied to clipboard!")},E=e.filter(L=>{const W=L.name.toLowerCase().includes(o.toLowerCase())||L.position.toLowerCase().includes(o.toLowerCase()),_=c==="all"||L.shopId===c;return W&&_}),R=r.filter(L=>{const W=L.workerName.toLowerCase().includes(o.toLowerCase())||L.id.toLowerCase().includes(o.toLowerCase()),_=c==="all"||L.shopId===c;return W&&_}),z=[...new Set(e.map(L=>L.shopId))],V=L=>L?new Date(L).toLocaleString():"Never";return s.jsxs("div",{className:"p-3 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl md:text-2xl",children:"Workers & Cashiers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage workers and their cashier logins"})]}),s.jsxs(B,{onClick:()=>h(!0),size:"sm",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Add Worker"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[s.jsxs(M,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4"}),"Total Workers"]})}),s.jsx(I,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Ci,{className:"h-4 w-4"}),"With Logins"]})}),s.jsx(I,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(L=>L.hasLogin).length})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(z1,{className:"h-4 w-4 text-green-600"}),"Active Cashiers"]})}),s.jsx(I,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.filter(L=>L.active).length})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(W1,{className:"h-4 w-4 text-red-600"}),"Inactive"]})}),s.jsx(I,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.filter(L=>!L.active).length})})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search workers or cashiers...",value:o,onChange:L=>l(L.target.value),className:"pl-9"})]}),s.jsxs(ve,{value:c,onValueChange:d,children:[s.jsx(je,{className:"w-full md:w-48",children:s.jsx(ye,{placeholder:"Filter by shop"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Shops"},"all"),z.map(L=>s.jsx(F,{value:L,children:L},L))]})]})]}),s.jsxs(mn,{defaultValue:"workers",className:"space-y-4",children:[s.jsxs(pn,{className:"grid w-full grid-cols-2",children:[s.jsx(Se,{value:"workers",children:"Workers"}),s.jsx(Se,{value:"cashiers",children:"Cashiers"})]}),s.jsx(ke,{value:"workers",className:"space-y-4",children:s.jsx(M,{children:s.jsx(I,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Name"}),s.jsx(ee,{className:"hidden md:table-cell",children:"Position"}),s.jsx(ee,{children:"Shop"}),s.jsx(ee,{className:"hidden lg:table-cell",children:"Phone"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:E.map(L=>s.jsxs(Be,{children:[s.jsx(Q,{children:L.name}),s.jsx(Q,{className:"hidden md:table-cell",children:L.position}),s.jsx(Q,{children:L.shopId}),s.jsx(Q,{className:"hidden lg:table-cell",children:L.phone}),s.jsx(Q,{children:L.hasLogin?s.jsx(se,{variant:"default",children:"Has Login"}):s.jsx(se,{variant:"outline",children:"No Login"})}),s.jsx(Q,{children:!L.hasLogin&&s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>k(L),children:[s.jsx(Ci,{className:"h-3 w-3 mr-1"}),"Create Login"]})})]},L.id))})]})})})})}),s.jsx(ke,{value:"cashiers",className:"space-y-4",children:s.jsx(M,{children:s.jsx(I,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Cashier ID"}),s.jsx(ee,{children:"Name"}),s.jsx(ee,{className:"hidden md:table-cell",children:"Shop"}),s.jsx(ee,{className:"hidden lg:table-cell",children:"Last Login"}),s.jsx(ee,{className:"hidden lg:table-cell",children:"Login Count"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:R.map(L=>s.jsxs(Be,{children:[s.jsx(Q,{className:"font-mono text-xs",children:L.id}),s.jsx(Q,{children:L.workerName}),s.jsx(Q,{className:"hidden md:table-cell",children:L.shopId}),s.jsx(Q,{className:"hidden lg:table-cell text-xs",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zr,{className:"h-3 w-3"}),V(L.lastLogin)]})}),s.jsx(Q,{className:"hidden lg:table-cell",children:L.loginCount}),s.jsx(Q,{children:L.active?s.jsx(se,{variant:"default",className:"bg-green-600",children:"Active"}):s.jsx(se,{variant:"destructive",children:"Inactive"})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>f({open:!0,credentials:L}),title:"View Credentials",children:s.jsx(Ci,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>S(L.id,L.active),children:L.active?s.jsx(W1,{className:"h-3 w-3"}):s.jsx(z1,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>C(L.id),title:"Reset Password",children:s.jsx(dn,{className:"h-3 w-3"})}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>A(L.id),title:"Transfer to Another Shop",children:s.jsx(NF,{className:"h-3 w-3"})})]})})]},L.id))})]})})})})})]}),s.jsx(Qe,{open:u,onOpenChange:h,children:s.jsxs(Ye,{children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Add New Worker"}),s.jsx(Xt,{children:"Add a new worker to the system"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Name *"}),s.jsx(Z,{value:g.name,onChange:L=>y({...g,name:L.target.value}),placeholder:"Worker name"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Phone *"}),s.jsx(Z,{value:g.phone,onChange:L=>y({...g,phone:L.target.value}),placeholder:"+1234567890"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Position *"}),s.jsxs(ve,{value:g.position,onValueChange:L=>y({...g,position:L}),children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select position"})}),s.jsxs(we,{children:[s.jsx(F,{value:"Cashier",children:"Cashier"},"cashier"),s.jsx(F,{value:"Sales Associate",children:"Sales Associate"},"sales-associate"),s.jsx(F,{value:"Store Manager",children:"Store Manager"},"store-manager"),s.jsx(F,{value:"Inventory Clerk",children:"Inventory Clerk"},"inventory-clerk")]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Shop ID *"}),s.jsx(Z,{value:g.shopId,onChange:L=>y({...g,shopId:L.target.value}),placeholder:"SHOP001"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Shop Name *"}),s.jsx(Z,{value:g.shopName,onChange:L=>y({...g,shopName:L.target.value}),placeholder:"Main Branch"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Salary *"}),s.jsx(Z,{type:"number",value:g.salary,onChange:L=>y({...g,salary:L.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Hire Date *"}),s.jsx(Z,{type:"date",value:g.hireDate,onChange:L=>y({...g,hireDate:L.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(B,{onClick:N,children:"Add Worker"})]})]})]})}),s.jsx(Qe,{open:m.open,onOpenChange:L=>f({...m,open:L}),children:s.jsxs(Ye,{children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Cashier Login Credentials"}),s.jsx(Xt,{children:"Share these credentials with the cashier. They won't be shown again."})]}),m.credentials&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-xs text-muted-foreground",children:"Shop ID"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-sm",children:m.credentials.shopId}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>D(m.credentials.shopId,"shopId"),children:v==="shopId"?s.jsx(Wl,{className:"h-4 w-4"}):s.jsx(xi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-xs text-muted-foreground",children:"Cashier ID"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-sm",children:m.credentials.cashierId||m.credentials.id}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>D(m.credentials.cashierId||m.credentials.id,"cashierId"),children:v==="cashierId"?s.jsx(Wl,{className:"h-4 w-4"}):s.jsx(xi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-xs text-muted-foreground",children:"Password"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-sm",children:m.credentials.password}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>D(m.credentials.password,"password"),children:v==="password"?s.jsx(Wl,{className:"h-4 w-4"}):s.jsx(xi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"pt-2 border-t border-green-200 dark:border-green-800",children:[s.jsx(T,{className:"text-xs text-muted-foreground",children:"Login Email (System Generated)"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-xs break-all",children:m.credentials.email}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>D(m.credentials.email,"email"),children:v==="email"?s.jsx(Wl,{className:"h-4 w-4"}):s.jsx(xi,{className:"h-4 w-4"})})]})]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"ⓘ Make sure to save these credentials. The password cannot be retrieved later."}),s.jsx(B,{onClick:()=>f({open:!1,credentials:null}),className:"w-full",children:"Done"})]})]})})]})}function Yoe(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState(!0),[o,l]=p.useState("all"),[c,d]=p.useState("all"),[u,h]=p.useState("all"),[m,f]=p.useState(!1),[v,x]=p.useState(void 0),[g,y]=p.useState({bonus:"",deductions:"",overtime:"",notes:"",payPeriod:new Date().toISOString().slice(0,7)});p.useEffect(()=>{j()},[]);const j=async()=>{i(!0),await Promise.all([w(),b()]),i(!1)},w=async()=>{try{const X=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/workers`,{headers:{Authorization:`Bearer ${Wt}`}})).json();if(X.success){const ae=X.workers.filter(le=>le.status==="Active");t(ae)}}catch(H){console.error("Error loading workers:",H)}},b=async()=>{try{const X=await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll`,{headers:{Authorization:`Bearer ${Wt}`}})).json();X.success&&n(X.payroll)}catch(H){console.error("Error loading payroll:",H)}},N=async()=>{try{const H=new Date().toISOString().slice(0,7);if(r.filter(ae=>ae.payPeriod===H).length>0){J.error("Payroll for this month has already been generated");return}if(e.length===0){J.error("No active workers found");return}for(const ae of e){const le={id:`payroll_${Date.now()}_${ae.id}_${Math.random().toString(36).substr(2,9)}`,workerId:ae.id,workerName:ae.name,position:ae.position,shopId:ae.shopId,shopName:ae.shopName,baseSalary:ae.salary,bonus:0,deductions:0,overtime:0,totalPay:ae.salary,payPeriod:H,status:"Pending",createdAt:new Date().toISOString()};await k(le)}await b(),J.success(`Generated payroll for ${e.length} workers`)}catch(H){console.error("Error generating payroll:",H),J.error("Error generating payroll")}},k=async H=>{try{return await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`},body:JSON.stringify(H)})).json()}catch(X){throw console.error("Error saving payroll record:",X),X}},S=async H=>{try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll/${H}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`},body:JSON.stringify({status:"Processed",processedDate:new Date().toISOString()})})).json()).success?(b(),J.success("Payroll processed successfully")):J.error("Failed to process payroll")}catch(X){console.error("Error processing payroll:",X),J.error("Error processing payroll")}},C=async H=>{try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll/${H}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`},body:JSON.stringify({status:"Paid"})})).json()).success?(b(),J.success("Payroll marked as paid")):J.error("Failed to mark as paid")}catch(X){console.error("Error updating payroll:",X),J.error("Error updating payroll")}},A=async(H,X)=>{if(window.confirm(`Are you sure you want to delete the payroll record for "${X}"? This action cannot be undone.`))try{(await(await fetch(`https://${zt}.supabase.co/functions/v1/make-server-86b98184/payroll/${H}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Wt}`}})).json()).success?(J.success(`Payroll record for "${X}" deleted successfully`),b()):J.error("Failed to delete payroll record")}catch(le){console.error("Error deleting payroll:",le),J.error("Error deleting payroll record")}},P=async()=>{try{if(!v||!g.payPeriod){J.error("Please select worker and pay period");return}const H=e.find(ne=>ne.id===v);if(!H){J.error("Worker not found");return}const X=parseFloat(g.bonus)||0,ae=parseFloat(g.deductions)||0,le=parseFloat(g.overtime)||0,be=H.salary+X+le-ae,Ie={id:`payroll_${Date.now()}_${v}_${Math.random().toString(36).substr(2,9)}`,workerId:v,workerName:H.name,position:H.position,shopId:H.shopId,shopName:H.shopName,baseSalary:H.salary,bonus:X,deductions:ae,overtime:le,totalPay:be,payPeriod:g.payPeriod,status:"Pending",notes:g.notes,createdAt:new Date().toISOString()};await k(Ie),await b(),f(!1),D(),J.success("Payroll adjustment added successfully")}catch(H){console.error("Error adding payroll adjustment:",H),J.error("Error adding payroll adjustment")}},D=()=>{x(void 0),y({bonus:"",deductions:"",overtime:"",notes:"",payPeriod:new Date().toISOString().slice(0,7)})},E=()=>{try{const H=R();if(H.length===0){J.error("No data to export");return}const X=`Worker Name,Position,Shop,Base Salary,Bonus,Overtime,Deductions,Total Pay,Pay Period,Status,Processed Date
`,ae=H.map(Pe=>[Pe.workerName,Pe.position,Pe.shopName,Pe.baseSalary.toFixed(2),Pe.bonus.toFixed(2),Pe.overtime.toFixed(2),Pe.deductions.toFixed(2),Pe.totalPay.toFixed(2),Pe.payPeriod,Pe.status,Pe.processedDate?new Date(Pe.processedDate).toLocaleDateString():"N/A"].join(",")),le=X+ae.join(`
`),be=new Blob([le],{type:"text/csv"}),Ie=URL.createObjectURL(be),ne=document.createElement("a");ne.href=Ie,ne.download=`payroll-report-${new Date().toISOString().split("T")[0]}.csv`,ne.click(),URL.revokeObjectURL(Ie),J.success("Payroll report exported successfully")}catch(H){console.error("Error exporting payroll:",H),J.error("Error exporting payroll")}},R=()=>r.filter(H=>{const X=o==="all"||H.payPeriod===o,ae=c==="all"||H.status===c,le=u==="all"||H.shopId===u;return X&&ae&&le}),z=H=>{switch(H){case"Pending":return s.jsx(se,{variant:"secondary",children:"Pending"});case"Processed":return s.jsx(se,{variant:"default",children:"Processed"});case"Paid":return s.jsx(se,{className:"bg-green-600",children:"Paid"});default:return s.jsx(se,{variant:"outline",children:H})}},V=R(),L=V.reduce((H,X)=>H+X.totalPay,0),W=V.filter(H=>H.status==="Pending").length,_=V.filter(H=>H.status==="Paid").length,O=[...new Set(r.map(H=>H.payPeriod))].sort().reverse(),re=[...new Set(e.map(H=>H.shopId))];return a?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading payroll data..."})]})}):s.jsxs("div",{className:"p-3 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl md:text-2xl",children:"Payroll Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage worker salaries and payments"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:N,size:"sm",children:[s.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Generate This Month"]}),s.jsxs(B,{onClick:()=>f(!0),size:"sm",variant:"outline",children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Add Adjustment"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[s.jsxs(M,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4"}),"Active Workers"]})}),s.jsx(I,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Total Payroll"]})}),s.jsx(I,{className:"p-3 md:p-4 pt-0",children:s.jsxs("div",{className:"text-2xl font-bold",children:["$",L.toFixed(2)]})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Kt,{className:"h-4 w-4 text-yellow-600"}),"Pending"]})}),s.jsx(I,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:W})})]}),s.jsxs(M,{children:[s.jsx(U,{className:"p-3 md:p-4",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Tt,{className:"h-4 w-4 text-green-600"}),"Paid"]})}),s.jsx(I,{className:"p-3 md:p-4 pt-0",children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:_})})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsxs(ve,{value:o,onValueChange:l,children:[s.jsx(je,{className:"w-full md:w-48",children:s.jsx(ye,{placeholder:"All Periods"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Periods"},"all-periods"),O.map(H=>s.jsx(F,{value:H,children:new Date(H+"-01").toLocaleDateString("en-US",{year:"numeric",month:"long"})},H))]})]}),s.jsxs(ve,{value:u,onValueChange:h,children:[s.jsx(je,{className:"w-full md:w-48",children:s.jsx(ye,{placeholder:"All Shops"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Shops"},"all-shops"),re.map(H=>s.jsx(F,{value:H,children:H},H))]})]}),s.jsxs(ve,{value:c,onValueChange:d,children:[s.jsx(je,{className:"w-full md:w-48",children:s.jsx(ye,{placeholder:"All Status"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Status"},"all-status"),s.jsx(F,{value:"Pending",children:"Pending"},"pending"),s.jsx(F,{value:"Processed",children:"Processed"},"processed"),s.jsx(F,{value:"Paid",children:"Paid"},"paid")]})]}),s.jsxs(B,{onClick:E,variant:"outline",size:"sm",className:"md:ml-auto",children:[s.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),s.jsx(M,{children:s.jsx(I,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Worker"}),s.jsx(ee,{className:"hidden md:table-cell",children:"Position"}),s.jsx(ee,{className:"hidden lg:table-cell",children:"Shop"}),s.jsx(ee,{children:"Base Salary"}),s.jsx(ee,{className:"hidden md:table-cell",children:"Adjustments"}),s.jsx(ee,{children:"Total Pay"}),s.jsx(ee,{className:"hidden lg:table-cell",children:"Period"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:V.length===0?s.jsx(Be,{children:s.jsx(Q,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:'No payroll records found. Click "Generate This Month" to create payroll for all workers.'})}):V.map(H=>s.jsxs(Be,{children:[s.jsx(Q,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:H.workerName}),s.jsx("div",{className:"text-xs text-muted-foreground md:hidden",children:H.position})]})}),s.jsx(Q,{className:"hidden md:table-cell",children:H.position}),s.jsx(Q,{className:"hidden lg:table-cell",children:H.shopName}),s.jsxs(Q,{children:["$",H.baseSalary.toFixed(2)]}),s.jsx(Q,{className:"hidden md:table-cell",children:s.jsxs("div",{className:"text-xs space-y-1",children:[H.bonus>0&&s.jsxs("div",{className:"text-green-600",children:["+$",H.bonus.toFixed(2)," bonus"]}),H.overtime>0&&s.jsxs("div",{className:"text-blue-600",children:["+$",H.overtime.toFixed(2)," OT"]}),H.deductions>0&&s.jsxs("div",{className:"text-red-600",children:["-$",H.deductions.toFixed(2)," ded."]})]})}),s.jsxs(Q,{className:"font-semibold",children:["$",H.totalPay.toFixed(2)]}),s.jsx(Q,{className:"hidden lg:table-cell",children:new Date(H.payPeriod+"-01").toLocaleDateString("en-US",{year:"numeric",month:"short"})}),s.jsx(Q,{children:z(H.status)}),s.jsx(Q,{children:s.jsxs("div",{className:"flex gap-1",children:[H.status==="Pending"&&s.jsx(B,{size:"sm",variant:"outline",onClick:()=>S(H.id),children:"Process"}),H.status==="Processed"&&s.jsx(B,{size:"sm",variant:"default",onClick:()=>C(H.id),children:"Mark Paid"}),s.jsxs(B,{size:"sm",variant:"destructive",onClick:()=>A(H.id,H.workerName),children:[s.jsx(za,{className:"h-3 w-3 mr-1"}),"Delete"]})]})})]},H.id))})]})})})}),s.jsx(Qe,{open:m,onOpenChange:f,children:s.jsxs(Ye,{children:[s.jsx(Ge,{children:s.jsx(Xe,{children:"Add Payroll Adjustment"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Worker *"}),s.jsxs(ve,{value:v,onValueChange:x,children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select worker"})}),s.jsx(we,{children:e.map(H=>s.jsxs(F,{value:H.id,children:[H.name," - ",H.position," (",H.shopName,")"]},H.id))})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Pay Period *"}),s.jsx(Z,{type:"month",value:g.payPeriod,onChange:H=>y({...g,payPeriod:H.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Bonus"}),s.jsx(Z,{type:"number",placeholder:"0.00",value:g.bonus,onChange:H=>y({...g,bonus:H.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Overtime"}),s.jsx(Z,{type:"number",placeholder:"0.00",value:g.overtime,onChange:H=>y({...g,overtime:H.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Deductions"}),s.jsx(Z,{type:"number",placeholder:"0.00",value:g.deductions,onChange:H=>y({...g,deductions:H.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Notes"}),s.jsx(Dt,{placeholder:"Optional notes...",value:g.notes,onChange:H=>y({...g,notes:H.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(B,{onClick:P,children:"Add Adjustment"})]})]})]})})]})}function Goe(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const Xoe={},Tu={};function Eo(e,t){try{const n=(Xoe[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Tu?Tu[n]:KP(n,n.split(":"))}catch{if(e in Tu)return Tu[e];const r=e?.match(Joe);return r?KP(e,r.slice(1)):NaN}}const Joe=/([+-]\d\d):?(\d\d)?/;function KP(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return Tu[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Ks extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Eo(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),a$(this),I0(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Ks(...r,t):new Ks(Date.now(),t)}withTimeZone(t){return new Ks(+this,t)}getTimezoneOffset(){const t=-Eo(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),I0(this),+this}[Symbol.for("constructDateFrom")](t){return new Ks(+new Date(t),this.timeZone)}}const VP=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!VP.test(e))return;const t=e.replace(VP,"$1UTC");Ks.prototype[t]&&(e.startsWith("get")?Ks.prototype[e]=function(){return this.internal[t]()}:(Ks.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Qoe(this),+this},Ks.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),I0(this),+this}))});function I0(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Eo(e.timeZone,e)*60))}function Qoe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),a$(e)}function a$(e){const t=Eo(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),o=a-i,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const c=a-r;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const d=new Date(+e);d.setUTCSeconds(0);const u=a>0?d.getSeconds():(d.getSeconds()-60)%60,h=Math.round(-(Eo(e.timeZone,e)*60))%60;(h||u)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+h),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+h+u));const m=Eo(e.timeZone,e),f=m>0?Math.floor(m):Math.ceil(m),x=-new Date(+e).getTimezoneOffset()-f,g=f!==r,y=x-c;if(g&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const j=Eo(e.timeZone,e),w=j>0?Math.floor(j):Math.ceil(j),b=f-w;b&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+b),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+b))}}class Rr extends Ks{static tz(t,...r){return r.length?new Rr(...r,t):new Rr(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${Goe(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new Rr(+this,t)}[Symbol.for("constructDateFrom")](t){return new Rr(+new Date(t),this.timeZone)}}const i$=6048e5,Zoe=864e5,HP=Symbol.for("constructDateFrom");function Qt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&HP in e?e[HP](t):e instanceof Date?new e.constructor(t):new Date(t)}function it(e,t){return Qt(t||e,e)}function o$(e,t,r){const n=it(e,r?.in);return isNaN(t)?Qt(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function l$(e,t,r){const n=it(e,r?.in);if(isNaN(t))return Qt(r?.in||e,NaN);if(!t)return n;const a=n.getDate(),i=Qt(r?.in||e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let ele={};function dh(){return ele}function Ec(e,t){const r=dh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=it(e,t?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function _d(e,t){return Ec(e,{...t,weekStartsOn:1})}function c$(e,t){const r=it(e,t?.in),n=r.getFullYear(),a=Qt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=_d(a),o=Qt(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=_d(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function qP(e){const t=it(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Qc(e,...t){const r=Qt.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Ed(e,t){const r=it(e,t?.in);return r.setHours(0,0,0,0),r}function u$(e,t,r){const[n,a]=Qc(r?.in,e,t),i=Ed(n),o=Ed(a),l=+i-qP(i),c=+o-qP(o);return Math.round((l-c)/Zoe)}function tle(e,t){const r=c$(e,t),n=Qt(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),_d(n)}function rle(e,t,r){return o$(e,t*7,r)}function nle(e,t,r){return l$(e,t*12,r)}function sle(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Qt.bind(null,a));const i=it(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Qt(n,r||NaN)}function ale(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Qt.bind(null,a));const i=it(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Qt(n,r||NaN)}function ile(e,t,r){const[n,a]=Qc(r?.in,e,t);return+Ed(n)==+Ed(a)}function d$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ole(e){return!(!d$(e)&&typeof e!="number"||isNaN(+it(e)))}function lle(e,t,r){const[n,a]=Qc(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function cle(e,t){const r=it(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function h$(e,t){const[r,n]=Qc(e,t.start,t.end);return{start:r,end:n}}function ule(e,t){const{start:r,end:n}=h$(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setDate(1);let l=t?.step??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+o<=i;)c.push(Qt(r,o)),o.setMonth(o.getMonth()+l);return a?c.reverse():c}function dle(e,t){const r=it(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function hle(e,t){const r=it(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function f$(e,t){const r=it(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function fle(e,t){const{start:r,end:n}=h$(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setMonth(0,1);let l=t?.step??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+o<=i;)c.push(Qt(r,o)),o.setFullYear(o.getFullYear()+l);return a?c.reverse():c}function m$(e,t){const r=dh(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=it(e,t?.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function mle(e,t){return m$(e,{...t,weekStartsOn:1})}const ple={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xle=(e,t,r)=>{let n;const a=ple[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function gv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const gle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jle={date:gv({formats:gle,defaultWidth:"full"}),time:gv({formats:vle,defaultWidth:"full"}),dateTime:gv({formats:yle,defaultWidth:"full"})},wle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ble=(e,t,r,n)=>wle[e];function wu(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Nle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ple={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_le={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ele=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ale={ordinalNumber:Ele,era:wu({values:Nle,defaultWidth:"wide"}),quarter:wu({values:Sle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wu({values:kle,defaultWidth:"wide"}),day:wu({values:Cle,defaultWidth:"wide"}),dayPeriod:wu({values:Ple,defaultWidth:"wide",formattingValues:_le,defaultFormattingWidth:"wide"})};function bu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Tle(l,h=>h.test(o)):Ole(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Ole(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Tle(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Dle(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Mle=/^(\d+)(th|st|nd|rd)?/i,Ile=/\d+/i,Rle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$le={any:[/^b/i,/^(a|c)/i]},Lle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fle={any:[/1/i,/2/i,/3/i,/4/i]},Ble={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ule={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hle={ordinalNumber:Dle({matchPattern:Mle,parsePattern:Ile,valueCallback:e=>parseInt(e,10)}),era:bu({matchPatterns:Rle,defaultMatchWidth:"wide",parsePatterns:$le,defaultParseWidth:"any"}),quarter:bu({matchPatterns:Lle,defaultMatchWidth:"wide",parsePatterns:Fle,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bu({matchPatterns:Ble,defaultMatchWidth:"wide",parsePatterns:zle,defaultParseWidth:"any"}),day:bu({matchPatterns:Wle,defaultMatchWidth:"wide",parsePatterns:Ule,defaultParseWidth:"any"}),dayPeriod:bu({matchPatterns:Kle,defaultMatchWidth:"any",parsePatterns:Vle,defaultParseWidth:"any"})},PN={code:"en-US",formatDistance:xle,formatLong:jle,formatRelative:ble,localize:Ale,match:Hle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qle(e,t){const r=it(e,t?.in);return u$(r,f$(r))+1}function p$(e,t){const r=it(e,t?.in),n=+_d(r)-+tle(r);return Math.round(n/i$)+1}function x$(e,t){const r=it(e,t?.in),n=r.getFullYear(),a=dh(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Qt(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Ec(o,t),c=Qt(t?.in||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Ec(c,t);return+r>=+l?n+1:+r>=+d?n:n-1}function Yle(e,t){const r=dh(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=x$(e,t),i=Qt(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ec(i,t)}function g$(e,t){const r=it(e,t?.in),n=+Ec(r,t)-+Yle(r,t);return Math.round(n/i$)+1}function Ze(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ni={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ze(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ze(r+1,2)},d(e,t){return Ze(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ze(e.getHours()%12||12,t.length)},H(e,t){return Ze(e.getHours(),t.length)},m(e,t){return Ze(e.getMinutes(),t.length)},s(e,t){return Ze(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ze(a,t.length)}},kl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ni.y(e,t)},Y:function(e,t,r,n){const a=x$(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ze(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ze(i,t.length)},R:function(e,t){const r=c$(e);return Ze(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ze(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ni.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=g$(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ze(a,t.length)},I:function(e,t,r){const n=p$(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ze(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ni.d(e,t)},D:function(e,t,r){const n=qle(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ze(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ze(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ze(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ze(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=kl.noon:n===0?a=kl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=kl.evening:n>=12?a=kl.afternoon:n>=4?a=kl.morning:a=kl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ni.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ni.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ze(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ze(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ni.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ni.s(e,t)},S:function(e,t){return ni.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return XP(n);case"XXXX":case"XX":return vo(n);case"XXXXX":case"XXX":default:return vo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return XP(n);case"xxxx":case"xx":return vo(n);case"xxxxx":case"xxx":default:return vo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+GP(n,":");case"OOOO":default:return"GMT"+vo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+GP(n,":");case"zzzz":default:return"GMT"+vo(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ze(n,t.length)},T:function(e,t,r){return Ze(+e,t.length)}};function GP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Ze(i,2)}function XP(e,t){return e%60===0?(e>0?"-":"+")+Ze(Math.abs(e)/60,2):vo(e,t)}function vo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ze(Math.trunc(n/60),2),i=Ze(n%60,2);return r+a+t+i}const JP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},v$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Gle=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return JP(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",JP(n,t)).replace("{{time}}",v$(a,t))},Xle={p:v$,P:Gle},Jle=/^D+$/,Qle=/^Y+$/,Zle=["D","DD","YY","YYYY"];function ece(e){return Jle.test(e)}function tce(e){return Qle.test(e)}function rce(e,t,r){const n=nce(e,t,r);if(console.warn(n),Zle.includes(e))throw new RangeError(n)}function nce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ace=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ice=/^'([^]*?)'?$/,oce=/''/g,lce=/[a-zA-Z]/;function kt(e,t,r){const n=dh(),a=r?.locale??n.locale??PN,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=it(e,r?.in);if(!ole(l))throw new RangeError("Invalid time value");let c=t.match(ace).map(u=>{const h=u[0];if(h==="p"||h==="P"){const m=Xle[h];return m(u,a.formatLong)}return u}).join("").match(sce).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:cce(u)};if(YP[h])return{isToken:!0,value:u};if(h.match(lce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!r?.useAdditionalWeekYearTokens&&tce(h)||!r?.useAdditionalDayOfYearTokens&&ece(h))&&rce(h,t,String(e));const m=YP[h[0]];return m(l,h,a.localize,d)}).join("")}function cce(e){const t=e.match(ice);return t?t[1].replace(oce,"'"):e}function uce(e,t){const r=it(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=Qt(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function dce(e,t){return it(e,t?.in).getMonth()}function hce(e,t){return it(e,t?.in).getFullYear()}function fce(e,t){return+it(e)>+it(t)}function mce(e,t){return+it(e)<+it(t)}function pce(e,t,r){const[n,a]=Qc(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function xce(e,t,r){const[n,a]=Qc(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function gce(e,t,r){const n=it(e,r?.in),a=n.getFullYear(),i=n.getDate(),o=Qt(r?.in||e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=uce(o);return n.setMonth(t,Math.min(i,l)),n}function vce(e,t,r){const n=it(e,r?.in);return isNaN(+n)?Qt(r?.in||e,NaN):(n.setFullYear(t),n)}const QP=5,yce=4;function jce(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,QP*7-1);return t.getMonth(e)===t.getMonth(i)?QP:yce}function y$(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-1*6):t.addDays(r,-1*(n-1))}function wce(e,t){const r=y$(e,t),n=jce(e,t);return t.addDays(r,n*7-1)}class In{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Rr.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new Rr(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):o$(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):l$(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):rle(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):nle(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):u$(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):lle(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):ule(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):fle(n),i=new Set(a.map(l=>this.getYear(l)));if(i.size===a.length)return a;const o=[];return i.forEach(l=>{o.push(new Date(l,0,1))}),o},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):wce(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):mle(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):cle(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):m$(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):hle(n),this.format=(n,a,i)=>{const o=this.overrides?.format?this.overrides.format(n,a,this.options):kt(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):p$(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):dce(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):hce(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):g$(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):fce(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):mce(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):d$(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):ile(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):pce(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):xce(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):sle(n),this.min=n=>this.overrides?.min?this.overrides.min(n):ale(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):gce(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):vce(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):y$(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Ed(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):_d(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):dle(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Ec(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):f$(n),this.options={locale:PN,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&In.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&In.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}In.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const ia=new In;class j${constructor(t,r,n=ia){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class bce{constructor(t,r){this.date=t,this.weeks=r}}class Nce{constructor(t,r){this.days=r,this.weekNumber=t}}function Sce(e){return q.createElement("button",{...e})}function kce(e){return q.createElement("span",{...e})}function Cce(e){const{size:t=24,orientation:r="left",className:n}=e;return q.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&q.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&q.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&q.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&q.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Pce(e){const{day:t,modifiers:r,...n}=e;return q.createElement("td",{...n})}function _ce(e){const{day:t,modifiers:r,...n}=e,a=q.useRef(null);return q.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),q.createElement("button",{ref:a,...n})}var Ne;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ne||(Ne={}));var Pt;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Pt||(Pt={}));var Ns;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Ns||(Ns={}));var bn;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(bn||(bn={}));function Ece(e){const{options:t,className:r,components:n,classNames:a,...i}=e,o=[a[Ne.Dropdown],r].join(" "),l=t?.find(({value:c})=>c===i.value);return q.createElement("span",{"data-disabled":i.disabled,className:a[Ne.DropdownRoot]},q.createElement(n.Select,{className:o,...i},t?.map(({value:c,label:d,disabled:u})=>q.createElement(n.Option,{key:c,value:c,disabled:u},d))),q.createElement("span",{className:a[Ne.CaptionLabel],"aria-hidden":!0},l?.label,q.createElement(n.Chevron,{orientation:"down",size:18,className:a[Ne.Chevron]})))}function Ace(e){return q.createElement("div",{...e})}function Oce(e){return q.createElement("div",{...e})}function Tce(e){const{calendarMonth:t,displayIndex:r,...n}=e;return q.createElement("div",{...n},e.children)}function Dce(e){const{calendarMonth:t,displayIndex:r,...n}=e;return q.createElement("div",{...n})}function Mce(e){return q.createElement("table",{...e})}function Ice(e){return q.createElement("div",{...e})}const w$=p.createContext(void 0);function hh(){const e=p.useContext(w$);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Rce(e){const{components:t}=hh();return q.createElement(t.Dropdown,{...e})}function $ce(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:o,classNames:l,labels:{labelPrevious:c,labelNext:d}}=hh(),u=p.useCallback(m=>{a&&r?.(m)},[a,r]),h=p.useCallback(m=>{n&&t?.(m)},[n,t]);return q.createElement("nav",{...i},q.createElement(o.PreviousMonthButton,{type:"button",className:l[Ne.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:h},q.createElement(o.Chevron,{disabled:n?void 0:!0,className:l[Ne.Chevron],orientation:"left"})),q.createElement(o.NextMonthButton,{type:"button",className:l[Ne.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":d(a),onClick:u},q.createElement(o.Chevron,{disabled:a?void 0:!0,orientation:"right",className:l[Ne.Chevron]})))}function Lce(e){const{components:t}=hh();return q.createElement(t.Button,{...e})}function Fce(e){return q.createElement("option",{...e})}function Bce(e){const{components:t}=hh();return q.createElement(t.Button,{...e})}function zce(e){const{rootRef:t,...r}=e;return q.createElement("div",{...r,ref:t})}function Wce(e){return q.createElement("select",{...e})}function Uce(e){const{week:t,...r}=e;return q.createElement("tr",{...r})}function Kce(e){return q.createElement("th",{...e})}function Vce(e){return q.createElement("thead",{"aria-hidden":!0},q.createElement("tr",{...e}))}function Hce(e){const{week:t,...r}=e;return q.createElement("th",{...r})}function qce(e){return q.createElement("th",{...e})}function Yce(e){return q.createElement("tbody",{...e})}function Gce(e){const{components:t}=hh();return q.createElement(t.Dropdown,{...e})}const Xce=Object.freeze(Object.defineProperty({__proto__:null,Button:Sce,CaptionLabel:kce,Chevron:Cce,Day:Pce,DayButton:_ce,Dropdown:Ece,DropdownNav:Ace,Footer:Oce,Month:Tce,MonthCaption:Dce,MonthGrid:Mce,Months:Ice,MonthsDropdown:Rce,Nav:$ce,NextMonthButton:Lce,Option:Fce,PreviousMonthButton:Bce,Root:zce,Select:Wce,Week:Uce,WeekNumber:Hce,WeekNumberHeader:qce,Weekday:Kce,Weekdays:Vce,Weeks:Yce,YearsDropdown:Gce},Symbol.toStringTag,{value:"Module"}));function wa(e,t,r=!1,n=ia){let{from:a,to:i}=e;const{differenceInCalendarDays:o,isSameDay:l}=n;return a&&i?(o(i,a)<0&&([a,i]=[i,a]),o(t,a)>=(r?1:0)&&o(i,t)>=(r?1:0)):!r&&i?l(i,t):!r&&a?l(a,t):!1}function b$(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function _N(e){return!!(e&&typeof e=="object"&&"from"in e)}function N$(e){return!!(e&&typeof e=="object"&&"after"in e)}function S$(e){return!!(e&&typeof e=="object"&&"before"in e)}function k$(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function C$(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ba(e,t,r=ia){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:o}=r;return n.some(l=>{if(typeof l=="boolean")return l;if(r.isDate(l))return a(e,l);if(C$(l,r))return l.includes(e);if(_N(l))return wa(l,e,!1,r);if(k$(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(e.getDay()):l.dayOfWeek===e.getDay();if(b$(l)){const c=i(l.before,e),d=i(l.after,e),u=c>0,h=d<0;return o(l.before,l.after)?h&&u:u||h}return N$(l)?i(e,l.after)>0:S$(l)?i(l.before,e)>0:typeof l=="function"?l(e):!1})}function Jce(e,t,r,n,a){const{disabled:i,hidden:o,modifiers:l,showOutsideDays:c,broadcastCalendar:d,today:u}=t,{isSameDay:h,isSameMonth:m,startOfMonth:f,isBefore:v,endOfMonth:x,isAfter:g}=a,y=r&&f(r),j=n&&x(n),w={[Pt.focused]:[],[Pt.outside]:[],[Pt.disabled]:[],[Pt.hidden]:[],[Pt.today]:[]},b={};for(const N of e){const{date:k,displayMonth:S}=N,C=!!(S&&!m(k,S)),A=!!(y&&v(k,y)),P=!!(j&&g(k,j)),D=!!(i&&ba(k,i,a)),E=!!(o&&ba(k,o,a))||A||P||!d&&!c&&C||d&&c===!1&&C,R=h(k,u??a.today());C&&w.outside.push(N),D&&w.disabled.push(N),E&&w.hidden.push(N),R&&w.today.push(N),l&&Object.keys(l).forEach(z=>{const V=l?.[z];V&&ba(k,V,a)&&(b[z]?b[z].push(N):b[z]=[N])})}return N=>{const k={[Pt.focused]:!1,[Pt.disabled]:!1,[Pt.hidden]:!1,[Pt.outside]:!1,[Pt.today]:!1},S={};for(const C in w){const A=w[C];k[C]=A.some(P=>P===N)}for(const C in b)S[C]=b[C].some(A=>A===N);return{...k,...S}}}function Qce(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[Pt[i]]?a.push(t[Pt[i]]):t[Ns[i]]&&a.push(t[Ns[i]]),a),[t[Ne.Day]])}function Zce(e){return{...Xce,...e}}function eue(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function tue(){const e={};for(const t in Ne)e[Ne[t]]=`rdp-${Ne[t]}`;for(const t in Pt)e[Pt[t]]=`rdp-${Pt[t]}`;for(const t in Ns)e[Ns[t]]=`rdp-${Ns[t]}`;for(const t in bn)e[bn[t]]=`rdp-${bn[t]}`;return e}function P$(e,t,r){return(r??new In(t)).formatMonthYear(e)}const rue=P$;function nue(e,t,r){return(r??new In(t)).format(e,"d")}function sue(e,t=ia){return t.format(e,"LLLL")}function aue(e,t,r){return(r??new In(t)).format(e,"cccccc")}function iue(e,t=ia){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function oue(){return""}function _$(e,t=ia){return t.format(e,"yyyy")}const lue=_$,cue=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:P$,formatDay:nue,formatMonthCaption:rue,formatMonthDropdown:sue,formatWeekNumber:iue,formatWeekNumberHeader:oue,formatWeekdayName:aue,formatYearCaption:lue,formatYearDropdown:_$},Symbol.toStringTag,{value:"Module"}));function uue(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...cue,...e}}function due(e,t,r,n,a){const{startOfMonth:i,startOfYear:o,endOfYear:l,eachMonthOfInterval:c,getMonth:d}=a;return c({start:o(e),end:l(e)}).map(m=>{const f=n.formatMonthDropdown(m,a),v=d(m),x=t&&m<i(t)||r&&m>i(r)||!1;return{value:v,label:f,disabled:x}})}function hue(e,t={},r={}){let n={...t?.[Ne.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function fue(e,t,r){const n=e.today(),a=r?e.startOfBroadcastWeek(n,e):t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let o=0;o<7;o++){const l=e.addDays(a,o);i.push(l)}return i}function mue(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,eachYearOfInterval:l,getYear:c}=n,d=i(e),u=o(t),h=l({start:d,end:u});return a&&h.reverse(),h.map(m=>{const f=r.formatYearDropdown(m,n);return{value:c(m),label:f,disabled:!1}})}function E$(e,t,r,n){let a=(n??new In(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const pue=E$;function A$(e,t,r){return(r??new In(t)).formatMonthYear(e)}const xue=A$;function gue(e,t,r,n){let a=(n??new In(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function vue(e){return"Choose the Month"}function yue(){return""}function jue(e){return"Go to the Next Month"}function wue(e){return"Go to the Previous Month"}function bue(e,t,r){return(r??new In(t)).format(e,"cccc")}function Nue(e,t){return`Week ${e}`}function Sue(e){return"Week Number"}function kue(e){return"Choose the Year"}const Cue=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:xue,labelDay:pue,labelDayButton:E$,labelGrid:A$,labelGridcell:gue,labelMonthDropdown:vue,labelNav:yue,labelNext:jue,labelPrevious:wue,labelWeekNumber:Nue,labelWeekNumberHeader:Sue,labelWeekday:bue,labelYearDropdown:kue},Symbol.toStringTag,{value:"Module"})),fh=e=>e instanceof HTMLElement?e:null,vv=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Pue=e=>fh(e.querySelector("[data-animated-month]")),yv=e=>fh(e.querySelector("[data-animated-caption]")),jv=e=>fh(e.querySelector("[data-animated-weeks]")),_ue=e=>fh(e.querySelector("[data-animated-nav]")),Eue=e=>fh(e.querySelector("[data-animated-weekdays]"));function Aue(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const o=p.useRef(null),l=p.useRef(n),c=p.useRef(!1);p.useLayoutEffect(()=>{const d=l.current;if(l.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||d.length===0||n.length!==d.length)return;const u=i.isSameMonth(n[0].date,d[0].date),h=i.isAfter(n[0].date,d[0].date),m=h?r[bn.caption_after_enter]:r[bn.caption_before_enter],f=h?r[bn.weeks_after_enter]:r[bn.weeks_before_enter],v=o.current,x=e.current.cloneNode(!0);if(x instanceof HTMLElement?(vv(x).forEach(w=>{if(!(w instanceof HTMLElement))return;const b=Pue(w);b&&w.contains(b)&&w.removeChild(b);const N=yv(w);N&&N.classList.remove(m);const k=jv(w);k&&k.classList.remove(f)}),o.current=x):o.current=null,c.current||u||a)return;const g=v instanceof HTMLElement?vv(v):[],y=vv(e.current);if(y?.every(j=>j instanceof HTMLElement)&&g&&g.every(j=>j instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const j=_ue(e.current);j&&(j.style.zIndex="1"),y.forEach((w,b)=>{const N=g[b];if(!N)return;w.style.position="relative",w.style.overflow="hidden";const k=yv(w);k&&k.classList.add(m);const S=jv(w);S&&S.classList.add(f);const C=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),j&&(j.style.zIndex=""),k&&k.classList.remove(m),S&&S.classList.remove(f),w.style.position="",w.style.overflow="",w.contains(N)&&w.removeChild(N)};N.style.pointerEvents="none",N.style.position="absolute",N.style.overflow="hidden",N.setAttribute("aria-hidden","true");const A=Eue(N);A&&(A.style.opacity="0");const P=yv(N);P&&(P.classList.add(h?r[bn.caption_before_exit]:r[bn.caption_after_exit]),P.addEventListener("animationend",C));const D=jv(N);D&&D.classList.add(h?r[bn.weeks_before_exit]:r[bn.weeks_after_exit]),w.insertBefore(N,w.firstChild)})}})}function Oue(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:l,broadcastCalendar:c}=r??{},{addDays:d,differenceInCalendarDays:u,differenceInCalendarMonths:h,endOfBroadcastWeek:m,endOfISOWeek:f,endOfMonth:v,endOfWeek:x,isAfter:g,startOfBroadcastWeek:y,startOfISOWeek:j,startOfWeek:w}=n,b=c?y(a,n):o?j(a):w(a),N=c?m(i):o?f(v(i)):x(v(i)),k=u(N,b),S=h(i,a)+1,C=[];for(let D=0;D<=k;D++){const E=d(b,D);if(t&&g(E,t))break;C.push(E)}const P=(c?35:42)*S;if(l&&C.length<P){const D=P-C.length;for(let E=0;E<D;E++){const R=d(C[C.length-1],1);C.push(R)}}return C}function Tue(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function Due(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let o=0;o<a;o++){const l=n.addMonths(e,o);if(t&&l>t)break;i.push(l)}return i}function ZP(e,t,r,n){const{month:a,defaultMonth:i,today:o=n.today(),numberOfMonths:l=1}=e;let c=a||i||o;const{differenceInCalendarMonths:d,addMonths:u,startOfMonth:h}=n;if(r&&d(r,c)<l-1){const m=-1*(l-1);c=u(r,m)}return t&&d(c,t)<0&&(c=t),h(c)}function Mue(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:l,endOfWeek:c,getISOWeek:d,getWeek:u,startOfBroadcastWeek:h,startOfISOWeek:m,startOfWeek:f}=n,v=e.reduce((x,g)=>{const y=r.broadcastCalendar?h(g,n):r.ISOWeek?m(g):f(g),j=r.broadcastCalendar?i(g):r.ISOWeek?o(l(g)):c(l(g)),w=t.filter(S=>S>=y&&S<=j),b=r.broadcastCalendar?35:42;if(r.fixedWeeks&&w.length<b){const S=t.filter(C=>{const A=b-w.length;return C>j&&C<=a(j,A)});w.push(...S)}const N=w.reduce((S,C)=>{const A=r.ISOWeek?d(C):u(C),P=S.find(E=>E.weekNumber===A),D=new j$(C,g,n);return P?P.days.push(D):S.push(new Nce(A,[D])),S},[]),k=new bce(g,N);return x.push(k),x},[]);return r.reverseMonths?v.reverse():v}function Iue(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:o,endOfMonth:l,addYears:c,endOfYear:d,newDate:u,today:h}=t,{fromYear:m,toYear:f,fromMonth:v,toMonth:x}=e;!r&&v&&(r=v),!r&&m&&(r=t.newDate(m,0,1)),!n&&x&&(n=x),!n&&f&&(n=u(f,11,31));const g=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=o(r):m?r=u(m,0,1):!r&&g&&(r=a(c(e.today??h(),-100))),n?n=l(n):f?n=u(f,11,31):!n&&g&&(n=d(e.today??h())),[r&&i(r),n&&i(n)]}function Rue(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=n,d=a?i:1,u=o(e);if(!t)return l(u,d);if(!(c(t,e)<i))return l(u,d)}function $ue(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:o,addMonths:l,differenceInCalendarMonths:c}=n,d=a?i??1:1,u=o(e);if(!t)return l(u,-d);if(!(c(u,t)<=0))return l(u,-d)}function Lue(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function Yx(e,t){const[r,n]=p.useState(e);return[t===void 0?r:t,n]}function Fue(e,t){const[r,n]=Iue(e,t),{startOfMonth:a,endOfMonth:i}=t,o=ZP(e,r,n,t),[l,c]=Yx(o,e.month?o:void 0);p.useEffect(()=>{const k=ZP(e,r,n,t);c(k)},[e.timeZone]);const d=Due(l,n,e,t),u=Oue(d,e.endMonth?i(e.endMonth):void 0,e,t),h=Mue(d,u,e,t),m=Lue(h),f=Tue(h),v=$ue(l,r,e,t),x=Rue(l,n,e,t),{disableNavigation:g,onMonthChange:y}=e,j=k=>m.some(S=>S.days.some(C=>C.isEqualTo(k))),w=k=>{if(g)return;let S=a(k);r&&S<a(r)&&(S=a(r)),n&&S>a(n)&&(S=a(n)),c(S),y?.(S)};return{months:h,weeks:m,days:f,navStart:r,navEnd:n,previousMonth:v,nextMonth:x,goToMonth:w,goToDay:k=>{j(k)||w(k.date)}}}var Ls;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Ls||(Ls={}));function e_(e){return!e[Pt.disabled]&&!e[Pt.hidden]&&!e[Pt.outside]}function Bue(e,t,r,n){let a,i=-1;for(const o of e){const l=t(o);e_(l)&&(l[Pt.focused]&&i<Ls.FocusedModifier?(a=o,i=Ls.FocusedModifier):n?.isEqualTo(o)&&i<Ls.LastFocused?(a=o,i=Ls.LastFocused):r(o.date)&&i<Ls.Selected?(a=o,i=Ls.Selected):l[Pt.today]&&i<Ls.Today&&(a=o,i=Ls.Today))}return a||(a=e.find(o=>e_(t(o)))),a}function zue(e,t,r,n,a,i,o){const{ISOWeek:l,broadcastCalendar:c}=i,{addDays:d,addMonths:u,addWeeks:h,addYears:m,endOfBroadcastWeek:f,endOfISOWeek:v,endOfWeek:x,max:g,min:y,startOfBroadcastWeek:j,startOfISOWeek:w,startOfWeek:b}=o;let k={day:d,week:h,month:u,year:m,startOfWeek:S=>c?j(S,o):l?w(S):b(S),endOfWeek:S=>c?f(S):l?v(S):x(S)}[e](r,t==="after"?1:-1);return t==="before"&&n?k=g([n,k]):t==="after"&&a&&(k=y([a,k])),k}function O$(e,t,r,n,a,i,o,l=0){if(l>365)return;const c=zue(e,t,r.date,n,a,i,o),d=!!(i.disabled&&ba(c,i.disabled,o)),u=!!(i.hidden&&ba(c,i.hidden,o)),h=c,m=new j$(c,h,o);return!d&&!u?m:O$(e,t,m,n,a,i,o,l+1)}function Wue(e,t,r,n,a){const{autoFocus:i}=e,[o,l]=p.useState(),c=Bue(t.days,r,n||(()=>!1),o),[d,u]=p.useState(i?c:void 0);return{isFocusTarget:x=>!!c?.isEqualTo(x),setFocused:u,focused:d,blur:()=>{l(d),u(void 0)},moveFocus:(x,g)=>{if(!d)return;const y=O$(x,g,d,t.navStart,t.navEnd,e,a);y&&(e.disableNavigation&&!t.days.some(w=>w.isEqualTo(y))||(t.goToDay(y),u(y)))}}}function Uue(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=Yx(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t,d=f=>l?.some(v=>c(v,f))??!1,{min:u,max:h}=e;return{selected:l,select:(f,v,x)=>{let g=[...l??[]];if(d(f)){if(l?.length===u||n&&l?.length===1)return;g=l?.filter(y=>!c(y,f))}else l?.length===h?g=[f]:g=[...g,f];return a||o(g),a?.(g,f,v,x),g},isSelected:d}}function Kue(e,t,r=0,n=0,a=!1,i=ia){const{from:o,to:l}=t||{},{isSameDay:c,isAfter:d,isBefore:u}=i;let h;if(!o&&!l)h={from:e,to:r>0?void 0:e};else if(o&&!l)c(o,e)?r===0?h={from:o,to:e}:a?h={from:o,to:void 0}:h=void 0:u(e,o)?h={from:e,to:o}:h={from:o,to:e};else if(o&&l)if(c(o,e)&&c(l,e))a?h={from:o,to:l}:h=void 0;else if(c(o,e))h={from:o,to:r>0?void 0:e};else if(c(l,e))h={from:e,to:r>0?void 0:e};else if(u(e,o))h={from:e,to:l};else if(d(e,o))h={from:o,to:e};else if(d(e,l))h={from:o,to:e};else throw new Error("Invalid range");if(h?.from&&h?.to){const m=i.differenceInCalendarDays(h.to,h.from);n>0&&m>n?h={from:e,to:void 0}:r>1&&m<r&&(h={from:e,to:void 0})}return h}function Vue(e,t,r=ia){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let l=0;l<=o;l++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function t_(e,t,r=ia){return wa(e,t.from,!1,r)||wa(e,t.to,!1,r)||wa(t,e.from,!1,r)||wa(t,e.to,!1,r)}function Hue(e,t,r=ia){const n=Array.isArray(t)?t:[t];if(n.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:r.isDate(l)?wa(e,l,!1,r):C$(l,r)?l.some(c=>wa(e,c,!1,r)):_N(l)?l.from&&l.to?t_(e,{from:l.from,to:l.to},r):!1:k$(l)?Vue(e,l.dayOfWeek,r):b$(l)?r.isAfter(l.before,l.after)?t_(e,{from:r.addDays(l.after,1),to:r.addDays(l.before,-1)},r):ba(e.from,l,r)||ba(e.to,l,r):N$(l)||S$(l)?ba(e.from,l,r)||ba(e.to,l,r):!1))return!0;const o=n.filter(l=>typeof l=="function");if(o.length){let l=e.from;const c=r.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=c;d++){if(o.some(u=>u(l)))return!0;l=r.addDays(l,1)}}return!1}function que(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:o}=e,[l,c]=Yx(a,o?a:void 0),d=o?a:l;return{selected:d,select:(m,f,v)=>{const{min:x,max:g}=e,y=m?Kue(m,d,x,g,i,t):void 0;return n&&r&&y?.from&&y.to&&Hue({from:y.from,to:y.to},r,t)&&(y.from=m,y.to=void 0),o||c(y),o?.(y,m,f,v),y},isSelected:m=>d&&wa(d,m,!1,t)}}function Yue(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=Yx(r,a?r:void 0),l=a?r:i,{isSameDay:c}=t;return{selected:l,select:(h,m,f)=>{let v=h;return!n&&l&&l&&c(h,l)&&(v=void 0),a||o(v),a?.(v,h,m,f),v},isSelected:h=>l?c(l,h):!1}}function Gue(e,t){const r=Yue(e,t),n=Uue(e,t),a=que(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function Xue(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Rr(t.today,t.timeZone)),t.month&&(t.month=new Rr(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Rr(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Rr(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Rr(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Rr(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map($e=>new Rr($e,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Rr(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Rr(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:i,locale:o,classNames:l}=p.useMemo(()=>{const $e={...PN,...t.locale};return{dateLib:new In({locale:$e,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Zce(t.components),formatters:uue(t.formatters),labels:{...Cue,...t.labels},locale:$e,classNames:{...tue(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:c,mode:d,navLayout:u,numberOfMonths:h=1,onDayBlur:m,onDayClick:f,onDayFocus:v,onDayKeyDown:x,onDayMouseEnter:g,onDayMouseLeave:y,onNextClick:j,onPrevClick:w,showWeekNumber:b,styles:N}=t,{formatCaption:k,formatDay:S,formatMonthDropdown:C,formatWeekNumber:A,formatWeekNumberHeader:P,formatWeekdayName:D,formatYearDropdown:E}=n,R=Fue(t,i),{days:z,months:V,navStart:L,navEnd:W,previousMonth:_,nextMonth:O,goToMonth:re}=R,H=Jce(z,t,L,W,i),{isSelected:X,select:ae,selected:le}=Gue(t,i)??{},{blur:be,focused:Ie,isFocusTarget:ne,moveFocus:Pe,setFocused:$}=Wue(t,R,H,X??(()=>!1),i),{labelDayButton:te,labelGridcell:oe,labelGrid:G,labelMonthDropdown:Le,labelNav:Te,labelPrevious:St,labelNext:yt,labelWeekday:lr,labelWeekNumber:Os,labelWeekNumberHeader:Zc,labelYearDropdown:ul}=a,Ts=p.useMemo(()=>fue(i,t.ISOWeek),[i,t.ISOWeek]),no=d!==void 0||f!==void 0,Jr=p.useCallback(()=>{_&&(re(_),w?.(_))},[_,re,w]),so=p.useCallback(()=>{O&&(re(O),j?.(O))},[re,O,j]),eu=p.useCallback(($e,ot)=>De=>{De.preventDefault(),De.stopPropagation(),$($e),ae?.($e.date,ot,De),f?.($e.date,ot,De)},[ae,f,$]),Tr=p.useCallback(($e,ot)=>De=>{$($e),v?.($e.date,ot,De)},[v,$]),Ds=p.useCallback(($e,ot)=>De=>{be(),m?.($e.date,ot,De)},[be,m]),tu=p.useCallback(($e,ot)=>De=>{const rt={ArrowLeft:[De.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[De.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[De.shiftKey?"year":"week","after"],ArrowUp:[De.shiftKey?"year":"week","before"],PageUp:[De.shiftKey?"year":"month","before"],PageDown:[De.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(rt[De.key]){De.preventDefault(),De.stopPropagation();const[wr,Fe]=rt[De.key];Pe(wr,Fe)}x?.($e.date,ot,De)},[Pe,x,t.dir]),dl=p.useCallback(($e,ot)=>De=>{g?.($e.date,ot,De)},[g]),Xa=p.useCallback(($e,ot)=>De=>{y?.($e.date,ot,De)},[y]),ru=p.useCallback($e=>ot=>{const De=Number(ot.target.value),rt=i.setMonth(i.startOfMonth($e),De);re(rt)},[i,re]),hl=p.useCallback($e=>ot=>{const De=Number(ot.target.value),rt=i.setYear(i.startOfMonth($e),De);re(rt)},[i,re]),{className:ao,style:Ms}=p.useMemo(()=>({className:[l[Ne.Root],t.className].filter(Boolean).join(" "),style:{...N?.[Ne.Root],...t.style}}),[l,t.className,t.style,N]),ce=eue(t),ft=p.useRef(null);Aue(ft,!!t.animate,{classNames:l,months:V,focused:Ie,dateLib:i});const Ja={dayPickerProps:t,selected:le,select:ae,isSelected:X,months:V,nextMonth:O,previousMonth:_,goToMonth:re,getModifiers:H,components:r,classNames:l,styles:N,labels:a,formatters:n};return q.createElement(w$.Provider,{value:Ja},q.createElement(r.Root,{rootRef:t.animate?ft:void 0,className:ao,style:Ms,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...ce},q.createElement(r.Months,{className:l[Ne.Months],style:N?.[Ne.Months]},!t.hideNavigation&&!u&&q.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:l[Ne.Nav],style:N?.[Ne.Nav],"aria-label":Te(),onPreviousClick:Jr,onNextClick:so,previousMonth:_,nextMonth:O}),V.map(($e,ot)=>q.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:l[Ne.Month],style:N?.[Ne.Month],key:ot,displayIndex:ot,calendarMonth:$e},u==="around"&&!t.hideNavigation&&ot===0&&q.createElement(r.PreviousMonthButton,{type:"button",className:l[Ne.PreviousMonthButton],tabIndex:_?void 0:-1,"aria-disabled":_?void 0:!0,"aria-label":St(_),onClick:Jr,"data-animated-button":t.animate?"true":void 0},q.createElement(r.Chevron,{disabled:_?void 0:!0,className:l[Ne.Chevron],orientation:t.dir==="rtl"?"right":"left"})),q.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:l[Ne.MonthCaption],style:N?.[Ne.MonthCaption],calendarMonth:$e,displayIndex:ot},c?.startsWith("dropdown")?q.createElement(r.DropdownNav,{className:l[Ne.Dropdowns],style:N?.[Ne.Dropdowns]},(()=>{const De=c==="dropdown"||c==="dropdown-months"?q.createElement(r.MonthsDropdown,{key:"month",className:l[Ne.MonthsDropdown],"aria-label":Le(),classNames:l,components:r,disabled:!!t.disableNavigation,onChange:ru($e.date),options:due($e.date,L,W,n,i),style:N?.[Ne.Dropdown],value:i.getMonth($e.date)}):q.createElement("span",{key:"month"},C($e.date,i)),rt=c==="dropdown"||c==="dropdown-years"?q.createElement(r.YearsDropdown,{key:"year",className:l[Ne.YearsDropdown],"aria-label":ul(i.options),classNames:l,components:r,disabled:!!t.disableNavigation,onChange:hl($e.date),options:mue(L,W,n,i,!!t.reverseYears),style:N?.[Ne.Dropdown],value:i.getYear($e.date)}):q.createElement("span",{key:"year"},E($e.date,i));return i.getMonthYearOrder()==="year-first"?[rt,De]:[De,rt]})(),q.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},k($e.date,i.options,i))):q.createElement(r.CaptionLabel,{className:l[Ne.CaptionLabel],role:"status","aria-live":"polite"},k($e.date,i.options,i))),u==="around"&&!t.hideNavigation&&ot===h-1&&q.createElement(r.NextMonthButton,{type:"button",className:l[Ne.NextMonthButton],tabIndex:O?void 0:-1,"aria-disabled":O?void 0:!0,"aria-label":yt(O),onClick:so,"data-animated-button":t.animate?"true":void 0},q.createElement(r.Chevron,{disabled:O?void 0:!0,className:l[Ne.Chevron],orientation:t.dir==="rtl"?"left":"right"})),ot===h-1&&u==="after"&&!t.hideNavigation&&q.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:l[Ne.Nav],style:N?.[Ne.Nav],"aria-label":Te(),onPreviousClick:Jr,onNextClick:so,previousMonth:_,nextMonth:O}),q.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":G($e.date,i.options,i)||void 0,className:l[Ne.MonthGrid],style:N?.[Ne.MonthGrid]},!t.hideWeekdays&&q.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:l[Ne.Weekdays],style:N?.[Ne.Weekdays]},b&&q.createElement(r.WeekNumberHeader,{"aria-label":Zc(i.options),className:l[Ne.WeekNumberHeader],style:N?.[Ne.WeekNumberHeader],scope:"col"},P()),Ts.map(De=>q.createElement(r.Weekday,{"aria-label":lr(De,i.options,i),className:l[Ne.Weekday],key:String(De),style:N?.[Ne.Weekday],scope:"col"},D(De,i.options,i)))),q.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:l[Ne.Weeks],style:N?.[Ne.Weeks]},$e.weeks.map(De=>q.createElement(r.Week,{className:l[Ne.Week],key:De.weekNumber,style:N?.[Ne.Week],week:De},b&&q.createElement(r.WeekNumber,{week:De,style:N?.[Ne.WeekNumber],"aria-label":Os(De.weekNumber,{locale:o}),className:l[Ne.WeekNumber],scope:"row",role:"rowheader"},A(De.weekNumber,i)),De.days.map(rt=>{const{date:wr}=rt,Fe=H(rt);if(Fe[Pt.focused]=!Fe.hidden&&!!Ie?.isEqualTo(rt),Fe[Ns.selected]=X?.(wr)||Fe.selected,_N(le)){const{from:nt,to:Ur}=le;Fe[Ns.range_start]=!!(nt&&Ur&&i.isSameDay(wr,nt)),Fe[Ns.range_end]=!!(nt&&Ur&&i.isSameDay(wr,Ur)),Fe[Ns.range_middle]=wa(le,wr,!0,i)}const Jx=hue(Fe,N,t.modifiersStyles),Me=Qce(Fe,l,t.modifiersClassNames),Je=!no&&!Fe.hidden?oe(wr,Fe,i.options,i):void 0;return q.createElement(r.Day,{key:`${i.format(wr,"yyyy-MM-dd")}_${i.format(rt.displayMonth,"yyyy-MM")}`,day:rt,modifiers:Fe,className:Me.join(" "),style:Jx,role:"gridcell","aria-selected":Fe.selected||void 0,"aria-label":Je,"data-day":i.format(wr,"yyyy-MM-dd"),"data-month":rt.outside?i.format(wr,"yyyy-MM"):void 0,"data-selected":Fe.selected||void 0,"data-disabled":Fe.disabled||void 0,"data-hidden":Fe.hidden||void 0,"data-outside":rt.outside||void 0,"data-focused":Fe.focused||void 0,"data-today":Fe.today||void 0},!Fe.hidden&&no?q.createElement(r.DayButton,{className:l[Ne.DayButton],style:N?.[Ne.DayButton],type:"button",day:rt,modifiers:Fe,disabled:Fe.disabled||void 0,tabIndex:ne(rt)?0:-1,"aria-label":te(wr,Fe,i.options,i),onClick:eu(rt,Fe),onBlur:Ds(rt,Fe),onFocus:Tr(rt,Fe),onKeyDown:tu(rt,Fe),onMouseEnter:dl(rt,Fe),onMouseLeave:Xa(rt,Fe)},S(wr,i.options,i)):!Fe.hidden&&S(rt.date,i.options,i))})))))))),t.footer&&q.createElement(r.Footer,{className:l[Ne.Footer],style:N?.[Ne.Footer],role:"status","aria-live":"polite"},t.footer)))}function wv({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(Xue,{showOutsideDays:r,className:de("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:de(hd({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:de("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:de(hd({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(PF,{className:de("size-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(_F,{className:de("size-4",a),...i})},...n})}function Jue(){const[e,t]=p.useState(!1),[r,n]=p.useState("daily"),[a,i]=p.useState(new Date),[o,l]=p.useState({from:void 0,to:void 0}),[c,d]=p.useState([]),[u,h]=p.useState(null);p.useEffect(()=>{r==="daily"&&a?m():r==="weekly"?f():r==="monthly"?v():r==="range"&&o.from&&o.to&&x()},[r,a,o]);const m=async()=>{if(a)try{t(!0);const N=a.toISOString().split("T")[0],k=await kr.getSales(N);if(k.success){const S={date:N,sales:k.data.sales||[],totalAmount:k.data.totalAmount||0,totalTransactions:k.data.totalTransactions||0};d([S]),h(S)}else{const S={date:N,sales:[],totalAmount:0,totalTransactions:0};d([S]),h(S),J.error("Failed to load daily report")}}catch(N){console.error("Error loading daily report:",N);const k={date:a.toISOString().split("T")[0],sales:[],totalAmount:0,totalTransactions:0};d([k]),h(k),J.error("Error loading daily report")}finally{t(!1)}},f=async()=>{try{t(!0);const N=new Date,k=new Date(N.getTime()-7*24*60*60*1e3),S=k.toISOString().split("T")[0],C=N.toISOString().split("T")[0],A=await kr.getSalesRange(S,C);if(A.success){d(A.data||[]);const P=A.data.reduce((z,V)=>z+(V.totalAmount||0),0),D=A.data.reduce((z,V)=>z+(V.totalTransactions||0),0),E=A.data.flatMap(z=>z.sales||[]),R={period:"weekly",startDate:k,endDate:N,totalAmount:P,totalTransactions:D,allSales:E,dailyBreakdown:A.data};h(R)}else d([]),h({period:"weekly",startDate:k,endDate:N,totalAmount:0,totalTransactions:0,allSales:[],dailyBreakdown:[]}),J.error("Failed to load weekly report")}catch(N){console.error("Error loading weekly report:",N),d([]),h(null),J.error("Error loading weekly report")}finally{t(!1)}},v=async()=>{try{t(!0);const N=new Date,k=new Date(N.getTime()-30*24*60*60*1e3),S=k.toISOString().split("T")[0],C=N.toISOString().split("T")[0],A=await kr.getSalesRange(S,C);if(A.success){d(A.data||[]);const P=A.data.reduce((z,V)=>z+(V.totalAmount||0),0),D=A.data.reduce((z,V)=>z+(V.totalTransactions||0),0),E=A.data.flatMap(z=>z.sales||[]),R={period:"monthly",startDate:k,endDate:N,totalAmount:P,totalTransactions:D,allSales:E,dailyBreakdown:A.data};h(R)}else d([]),h({period:"monthly",startDate:k,endDate:N,totalAmount:0,totalTransactions:0,allSales:[],dailyBreakdown:[]}),J.error("Failed to load monthly report")}catch(N){console.error("Error loading monthly report:",N),d([]),h(null),J.error("Error loading monthly report")}finally{t(!1)}},x=async()=>{if(!(!o.from||!o.to))try{t(!0);const N=o.from.toISOString().split("T")[0],k=o.to.toISOString().split("T")[0],S=await kr.getSalesRange(N,k);if(S.success){d(S.data||[]);const C=S.data.reduce((E,R)=>E+(R.totalAmount||0),0),A=S.data.reduce((E,R)=>E+(R.totalTransactions||0),0),P=S.data.flatMap(E=>E.sales||[]),D={dateRange:{from:o.from,to:o.to},totalAmount:C,totalTransactions:A,allSales:P,dailyBreakdown:S.data};h(D)}else d([]),h({dateRange:{from:o.from,to:o.to},totalAmount:0,totalTransactions:0,allSales:[],dailyBreakdown:[]}),J.error("Failed to load range report")}catch(N){console.error("Error loading range report:",N),d([]),h(null)}finally{t(!1)}},g=async()=>{try{if(r==="daily"&&a){const N=a.toISOString().split("T")[0],k=await kr.getDailyReportCSV(N),S=window.URL.createObjectURL(k),C=document.createElement("a");C.href=S,C.download=`daily-report-${N}.csv`,C.click(),window.URL.revokeObjectURL(S),J.success("Report downloaded successfully")}else r==="weekly"?j():r==="monthly"?w():r==="range"&&o.from&&o.to&&y()}catch(N){console.error("Error downloading report:",N),J.error("Error downloading report")}},y=()=>{if(!u)return;const N=`Date,Transaction ID,Customer Name,Customer Phone,Items,Payment Method,Total Amount
`,k=u.allSales.map(E=>{const R=new Date(E.timestamp).toLocaleString(),z=E.items.map(V=>`${V.name} (${V.size}) x${V.quantity}`).join("; ");return[R,E.receiptId||E.id,E.customer?.name||"N/A",E.customer?.phone||"N/A",`"${z}"`,E.paymentMethod,E.total].join(",")}),S=`

RANGE SUMMARY
Period,${kt(o.from,"yyyy-MM-dd")} to ${kt(o.to,"yyyy-MM-dd")}
Total Transactions,${u.totalTransactions}
Total Amount,${u.totalAmount}
`,C=N+k.join(`
`)+S,A=new Blob([C],{type:"text/csv"}),P=window.URL.createObjectURL(A),D=document.createElement("a");D.href=P,D.download=`sales-report-${kt(o.from,"yyyy-MM-dd")}-to-${kt(o.to,"yyyy-MM-dd")}.csv`,D.click(),window.URL.revokeObjectURL(P),J.success("Range report downloaded successfully")},j=()=>{if(!u)return;const N=[];N.push("WEEKLY SALES REPORT"),N.push(""),N.push(`Period:,${kt(u.startDate,"MMM dd yyyy")} - ${kt(u.endDate,"MMM dd yyyy")}`),N.push(`Generated:,${kt(new Date,"MMM dd yyyy HH:mm")}`),N.push(""),N.push("SUMMARY"),N.push(`Total Transactions:,${u.totalTransactions}`),N.push(`Total Sales Amount:,${u.totalAmount.toFixed(2)}`),N.push(`Average Transaction:,${(u.totalAmount/u.totalTransactions).toFixed(2)}`),N.push(""),N.push(""),N.push("TRANSACTION DETAILS"),N.push("Date & Time,Receipt ID,Customer Name,Customer Phone,Items,Payment Method,Amount"),u.allSales.forEach(P=>{const D=kt(new Date(P.timestamp),"MMM dd yyyy HH:mm"),E=P.items.map(R=>`${R.name} (${R.size}) x${R.quantity}`).join("; ");N.push([D,P.receiptId||P.id,P.customer?.name||"Walk-in",P.customer?.phone||"N/A",`"${E}"`,P.paymentMethod,`${P.total.toFixed(2)}`].join(","))}),N.push(""),N.push(""),N.push("DAILY BREAKDOWN"),N.push("Date,Transactions,Total Sales"),u.dailyBreakdown.forEach(P=>{N.push([kt(new Date(P.date),"MMM dd yyyy"),P.totalTransactions,`${P.totalAmount.toFixed(2)}`].join(","))});const k=N.join(`\r
`),S=new Blob([k],{type:"text/csv;charset=utf-8;"}),C=window.URL.createObjectURL(S),A=document.createElement("a");A.href=C,A.download=`weekly-sales-report-${kt(u.startDate,"yyyy-MM-dd")}.csv`,A.click(),window.URL.revokeObjectURL(C),J.success("Weekly report downloaded successfully")},w=()=>{if(!u)return;const N=[];N.push("MONTHLY SALES REPORT"),N.push(""),N.push(`Period:,${kt(u.startDate,"MMM dd yyyy")} - ${kt(u.endDate,"MMM dd yyyy")}`),N.push(`Generated:,${kt(new Date,"MMM dd yyyy HH:mm")}`),N.push(""),N.push("SUMMARY"),N.push(`Total Transactions:,${u.totalTransactions}`),N.push(`Total Sales Amount:,${u.totalAmount.toFixed(2)}`),N.push(`Average Transaction:,${(u.totalAmount/u.totalTransactions).toFixed(2)}`),N.push(""),N.push(""),N.push("TRANSACTION DETAILS"),N.push("Date & Time,Receipt ID,Customer Name,Customer Phone,Items,Payment Method,Amount"),u.allSales.forEach(P=>{const D=kt(new Date(P.timestamp),"MMM dd yyyy HH:mm"),E=P.items.map(R=>`${R.name} (${R.size}) x${R.quantity}`).join("; ");N.push([D,P.receiptId||P.id,P.customer?.name||"Walk-in",P.customer?.phone||"N/A",`"${E}"`,P.paymentMethod,`${P.total.toFixed(2)}`].join(","))}),N.push(""),N.push(""),N.push("DAILY BREAKDOWN"),N.push("Date,Transactions,Total Sales"),u.dailyBreakdown.forEach(P=>{N.push([kt(new Date(P.date),"MMM dd yyyy"),P.totalTransactions,`${P.totalAmount.toFixed(2)}`].join(","))});const k=N.join(`\r
`),S=new Blob([k],{type:"text/csv;charset=utf-8;"}),C=window.URL.createObjectURL(S),A=document.createElement("a");A.href=C,A.download=`monthly-sales-report-${kt(u.startDate,"yyyy-MM-dd")}.csv`,A.click(),window.URL.revokeObjectURL(C),J.success("Monthly report downloaded successfully")},b=()=>{if(r==="daily"&&u){const N={};return u.sales.forEach(k=>{const C=`${new Date(k.timestamp).getHours()}:00`;N[C]||(N[C]={hour:C,amount:0,transactions:0}),N[C].amount+=k.total,N[C].transactions+=1}),Object.values(N)}else{if(r==="weekly"&&u)return c.map(N=>({date:kt(new Date(N.date),"MMM dd"),amount:N.totalAmount,transactions:N.totalTransactions}));if(r==="monthly"&&u)return c.map(N=>({date:kt(new Date(N.date),"MMM dd"),amount:N.totalAmount,transactions:N.totalTransactions}));if(r==="range"&&u)return c.map(N=>({date:kt(new Date(N.date),"MMM dd"),amount:N.totalAmount,transactions:N.totalTransactions}))}return[]};return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Sales Reports"}),s.jsx("p",{className:"text-muted-foreground",children:"Generate and analyze sales reports with custom date ranges"})]}),s.jsxs(B,{onClick:g,disabled:!u||e,children:[s.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Download Report"]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-5 w-5"}),"Report Configuration"]})}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:"Report Type"}),s.jsxs(ve,{value:r,onValueChange:n,children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"daily",children:"Daily Report"}),s.jsx(F,{value:"weekly",children:"Weekly Report"}),s.jsx(F,{value:"monthly",children:"Monthly Report"}),s.jsx(F,{value:"range",children:"Custom Date Range"})]})]})]}),r==="daily"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:"Select Date"}),s.jsxs(Pf,{children:[s.jsx(_f,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Hn,{className:"mr-2 h-4 w-4"}),a?kt(a,"PPP"):"Pick a date"]})}),s.jsx(Ef,{className:"w-auto p-0",align:"start",children:s.jsx(wv,{mode:"single",selected:a,onSelect:i,initialFocus:!0})})]})]}),r==="range"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:"From Date"}),s.jsxs(Pf,{children:[s.jsx(_f,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Hn,{className:"mr-2 h-4 w-4"}),o.from?kt(o.from,"PPP"):"Start date"]})}),s.jsx(Ef,{className:"w-auto p-0",align:"start",children:s.jsx(wv,{mode:"single",selected:o.from,onSelect:N=>l({...o,from:N}),initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{children:"To Date"}),s.jsxs(Pf,{children:[s.jsx(_f,{asChild:!0,children:s.jsxs(B,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Hn,{className:"mr-2 h-4 w-4"}),o.to?kt(o.to,"PPP"):"End date"]})}),s.jsx(Ef,{className:"w-auto p-0",align:"start",children:s.jsx(wv,{mode:"single",selected:o.to,onSelect:N=>l({...o,to:N}),initialFocus:!0})})]})]})]})]})})]}),e&&s.jsx(M,{children:s.jsx(I,{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading report data..."})]})})}),!e&&u&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Sales"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{className:"compact-card-content",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",u.totalAmount?.toFixed(2)||"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r==="daily"?"For selected date":"For selected period"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Transactions"}),s.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{className:"compact-card-content",children:[s.jsx("div",{className:"text-2xl font-bold",children:u.totalTransactions||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r==="daily"?"Transactions today":"Total transactions"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"compact-card-header flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Average Transaction"}),s.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{className:"compact-card-content",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",u.totalTransactions>0?(u.totalAmount/u.totalTransactions).toFixed(2):"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per transaction"})]})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Mi,{className:"h-5 w-5"}),"Sales ",r==="daily"?"Timeline":"Trend"]})}),s.jsx(I,{children:b().length>0?s.jsx(_n,{width:"100%",height:300,children:s.jsxs(Xs,{data:b(),children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:r==="daily"?"hour":"date",fontSize:12}),s.jsx(hr,{fontSize:12}),s.jsx(on,{formatter:N=>[`${N.toFixed(2)}`,"Sales"],contentStyle:{backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"4px"}}),s.jsx(dr,{dataKey:"amount",fill:"#8884d8"})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:s.jsx("p",{children:"No data available for chart"})})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(fc,{className:"h-5 w-5"}),"Transaction Details"]})}),s.jsx(I,{children:(r==="daily"?u.sales:u.allSales)?.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No transactions found for the selected period"})]}):s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Time"}),s.jsx(ee,{children:"Receipt ID"}),s.jsx(ee,{children:"Customer"}),s.jsx(ee,{children:"Items"}),s.jsx(ee,{children:"Payment"}),s.jsx(ee,{children:"Amount"})]})}),s.jsx(vr,{children:(r==="daily"?u.sales:u.allSales)?.map(N=>s.jsxs(Be,{children:[s.jsx(Q,{children:new Date(N.timestamp).toLocaleString()}),s.jsx(Q,{className:"font-mono",children:N.receiptId||N.id}),s.jsx(Q,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:N.customer?.name||"Walk-in Customer"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:N.customer?.phone})]})}),s.jsxs(Q,{children:[N.items.length," item",N.items.length!==1?"s":""]}),s.jsx(Q,{children:s.jsx(se,{variant:"outline",children:N.paymentMethod})}),s.jsxs(Q,{className:"font-medium",children:["$",N.total.toFixed(2)]})]},N.id))})]})})]})]}),!e&&!u&&s.jsx(M,{children:s.jsxs(I,{className:"text-center py-8",children:[s.jsx(Hn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Select a date or date range to generate a report"})]})})]})}var Gx="Switch",[Que,ehe]=ns(Gx),[Zue,ede]=Que(Gx),T$=p.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,f]=p.useState(null),v=Ke(t,w=>f(w)),x=p.useRef(!1),g=m?u||!!m.closest("form"):!0,[y,j]=Ii({prop:a,defaultProp:i??!1,onChange:d,caller:Gx});return s.jsxs(Zue,{scope:r,checked:y,disabled:l,children:[s.jsx(Ae.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":R$(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Ee(e.onClick,w=>{j(b=>!b),g&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),g&&s.jsx(I$,{control:m,bubbles:!x.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});T$.displayName=Gx;var D$="SwitchThumb",M$=p.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=ede(D$,r);return s.jsx(Ae.span,{"data-state":R$(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});M$.displayName=D$;var tde="SwitchBubbleInput",I$=p.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=p.useRef(null),l=Ke(o,i),c=Xj(r),d=Hj(t);return p.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(v)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});I$.displayName=tde;function R$(e){return e?"checked":"unchecked"}var rde=T$,nde=M$;function Ct({className:e,...t}){return s.jsx(rde,{"data-slot":"switch",className:de("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(nde,{"data-slot":"switch-thumb",className:de("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function sde(){const[e,t]=p.useState(null),[r,n]=p.useState(!0);p.useEffect(()=>{a()},[]);const a=async()=>{try{const i=gi(),{data:{user:o}}=await i.auth.getUser();if(o?.user_metadata?.business_id){const{data:l,error:c}=await i.from("businesses").select("*").eq("id",o.user_metadata.business_id).single();c?(console.error("Error loading business data:",c),J.error("Failed to load business information")):t(l)}}catch(i){console.error("Error:",i)}finally{n(!1)}};return r?s.jsx("div",{className:"p-4 md:p-6 flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"System Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure your ERP system preferences"})]}),s.jsxs(mn,{defaultValue:"general",className:"space-y-6",children:[s.jsxs(pn,{children:[s.jsx(Se,{value:"general",children:"General"}),s.jsx(Se,{value:"notifications",children:"Notifications"}),s.jsx(Se,{value:"security",children:"Security"}),s.jsx(Se,{value:"integrations",children:"Integrations"}),s.jsx(Se,{value:"preferences",children:"Preferences"})]}),s.jsxs(ke,{value:"general",className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(hn,{className:"h-5 w-5"}),"Company Information"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"companyName",children:"Company Name"}),s.jsx(Z,{id:"companyName",defaultValue:e?.business_name||""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"businessType",children:"Business Type"}),s.jsxs(ve,{defaultValue:e?.business_type||"retail",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"wholesale",children:"Wholesale"}),s.jsx(F,{value:"retail",children:"Retail"}),s.jsx(F,{value:"distribution",children:"Distribution"}),s.jsx(F,{value:"service",children:"Service"}),s.jsx(F,{value:"manufacturing",children:"Manufacturing"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"email",children:"Business Email"}),s.jsx(Z,{id:"email",type:"email",defaultValue:e?.email||""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"phone",children:"Business Phone"}),s.jsx(Z,{id:"phone",defaultValue:"N/A"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"address",children:"Business Address"}),s.jsx(Dt,{id:"address",defaultValue:e?.business_description||"No description provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"taxId",children:"Tax ID"}),s.jsx(Z,{id:"taxId",defaultValue:"N/A"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"currency",children:"Default Currency"}),s.jsxs(ve,{defaultValue:"usd",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"usd",children:"USD ($)"}),s.jsx(F,{value:"ghs",children:"GHS (₵)"}),s.jsx(F,{value:"eur",children:"EUR (€)"}),s.jsx(F,{value:"gbp",children:"GBP (£)"})]})]})]})]})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ko,{className:"h-5 w-5"}),"User Management"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Administrator"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e?.email||"No email"})]}),s.jsx(se,{children:"Owner"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Sales Manager"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"sales@wholeerp.com"})]}),s.jsx(se,{variant:"secondary",children:"Manager"})]}),s.jsxs(B,{className:"w-full",children:[s.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Invite New User"]})]})]})]}),s.jsx(ke,{value:"notifications",className:"space-y-6",children:s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(gp,{className:"h-5 w-5"}),"Notification Preferences"]})}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Order Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when new orders are placed"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Low Stock Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Alert when inventory is running low"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Payment Reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Remind about overdue payments"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"System Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications about system updates"})]}),s.jsx(Ct,{})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Weekly Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly business reports"})]}),s.jsx(Ct,{defaultChecked:!0})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"Email Preferences"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"emailFrequency",children:"Email Frequency"}),s.jsxs(ve,{defaultValue:"immediate",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"immediate",children:"Immediate"}),s.jsx(F,{value:"hourly",children:"Hourly Digest"}),s.jsx(F,{value:"daily",children:"Daily Digest"}),s.jsx(F,{value:"weekly",children:"Weekly Digest"})]})]})]})]})]})]})}),s.jsx(ke,{value:"security",className:"space-y-6",children:s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(ga,{className:"h-5 w-5"}),"Security & Privacy"]})}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),s.jsx(Ct,{})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Login Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified of new login sessions"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Session Timeout"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-logout after inactivity"})]}),s.jsxs(ve,{defaultValue:"30min",children:[s.jsx(je,{className:"w-32",children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"15min",children:"15 min"}),s.jsx(F,{value:"30min",children:"30 min"}),s.jsx(F,{value:"1hour",children:"1 hour"}),s.jsx(F,{value:"4hours",children:"4 hours"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"Password Security"}),s.jsx(B,{variant:"outline",children:"Change Password"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"passwordPolicy",children:"Password Policy"}),s.jsxs(ve,{defaultValue:"strong",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"basic",children:"Basic (8+ characters)"}),s.jsx(F,{value:"strong",children:"Strong (12+ chars, mixed case, numbers)"}),s.jsx(F,{value:"enterprise",children:"Enterprise (complex requirements)"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"Data Backup"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Automatic Backups"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last backup: Today at 3:00 AM"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsx(B,{variant:"outline",children:"Download Backup"})]})]})]})}),s.jsx(ke,{value:"integrations",className:"space-y-6",children:s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-5 w-5"}),"Third-Party Integrations"]})}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded",children:s.jsx(Pi,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email Service"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connected to SendGrid"})]})]}),s.jsx(se,{children:"Connected"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded",children:s.jsx(ha,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Accounting Software"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"QuickBooks integration"})]})]}),s.jsx(B,{variant:"outline",size:"sm",children:"Connect"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded",children:s.jsx(vp,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"E-commerce Platform"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shopify store sync"})]})]}),s.jsx(B,{variant:"outline",size:"sm",children:"Connect"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded",children:s.jsx(hn,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Shipping Provider"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"FedEx API integration"})]})]}),s.jsx(se,{variant:"secondary",children:"Connected"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"API Settings"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"apiKey",children:"API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{id:"apiKey",value:"wh_live_51H...",type:"password",readOnly:!0}),s.jsx(B,{variant:"outline",children:"Regenerate"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"webhookUrl",children:"Webhook URL"}),s.jsx(Z,{id:"webhookUrl",defaultValue:"https://wholeerp.com/api/webhooks"})]})]})]})]})}),s.jsxs(ke,{value:"preferences",className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Mj,{className:"h-5 w-5"}),"Display & Preferences"]})}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"theme",children:"Theme"}),s.jsxs(ve,{defaultValue:"system",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"light",children:"Light"}),s.jsx(F,{value:"dark",children:"Dark"}),s.jsx(F,{value:"system",children:"System"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"language",children:"Language"}),s.jsxs(ve,{defaultValue:"en",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"en",children:"English"}),s.jsx(F,{value:"es",children:"Spanish"}),s.jsx(F,{value:"fr",children:"French"}),s.jsx(F,{value:"de",children:"German"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"timezone",children:"Timezone"}),s.jsxs(ve,{defaultValue:"est",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"est",children:"Eastern Time (EST)"}),s.jsx(F,{value:"cst",children:"Central Time (CST)"}),s.jsx(F,{value:"mst",children:"Mountain Time (MST)"}),s.jsx(F,{value:"pst",children:"Pacific Time (PST)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"dateFormat",children:"Date Format"}),s.jsxs(ve,{defaultValue:"mdy",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"mdy",children:"MM/DD/YYYY"}),s.jsx(F,{value:"dmy",children:"DD/MM/YYYY"}),s.jsx(F,{value:"ymd",children:"YYYY-MM-DD"})]})]})]})]}),s.jsx(Fs,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{children:"Dashboard Preferences"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Show Quick Stats"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display overview metrics on dashboard"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Auto-refresh Data"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically update dashboard data"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"recordsPerPage",children:"Records per Page"}),s.jsxs(ve,{defaultValue:"25",children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"10",children:"10"}),s.jsx(F,{value:"25",children:"25"}),s.jsx(F,{value:"50",children:"50"}),s.jsx(F,{value:"100",children:"100"})]})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",children:"Reset to Defaults"}),s.jsx(B,{children:"Save Changes"})]})]})]})]})}function ade({businessConfig:e}){const[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(!1),[l,c]=p.useState(null),[d,u]=p.useState("all"),[h,m]=p.useState({name:"",type:"shop",address:"",phone:"",manager:""});p.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0),r([])}catch(_){console.error("Error loading locations:",_),J.error("Failed to load locations")}finally{a(!1)}},v=async()=>{try{if(!h.name||!h.address){J.error("Name and address are required");return}const _={id:`loc_${Date.now()}`,name:h.name,type:h.type,address:h.address,phone:h.phone,manager:h.manager,staffCount:0,inventoryValue:0,monthlySales:0,dailySales:0,cashierCount:0,avgOrderValue:0,totalOrders:0,growth:0,status:"active",createdAt:new Date().toISOString().split("T")[0]};r([...t,_]),J.success("Location added successfully"),o(!1),j()}catch(_){console.error("Error adding location:",_),J.error("Failed to add location")}},x=_=>{c(_),m({name:_.name,type:_.type,address:_.address,phone:_.phone||"",manager:_.manager||""}),o(!0)},g=async()=>{try{if(!l)return;const _={...l,...h};r(t.map(O=>O.id===l.id?_:O)),J.success("Location updated successfully"),o(!1),c(null),j()}catch(_){console.error("Error updating location:",_),J.error("Failed to update location")}},y=async _=>{if(window.confirm("Are you sure you want to delete this location? This action cannot be undone."))try{r(t.filter(re=>re.id!==_)),J.success("Location deleted successfully")}catch(re){console.error("Error deleting location:",re),J.error("Failed to delete location")}},j=()=>{m({name:"",type:"shop",address:"",phone:"",manager:""}),c(null)},w=_=>{switch(_){case"shop":return s.jsx(mc,{className:"h-4 w-4"});case"warehouse":return s.jsx(NE,{className:"h-4 w-4"});case"office":return s.jsx(At,{className:"h-4 w-4"});default:return s.jsx(Yn,{className:"h-4 w-4"})}},b=_=>{const re={shop:{label:"Shop",color:"bg-blue-100 text-blue-800"},warehouse:{label:"Warehouse",color:"bg-green-100 text-green-800"},office:{label:"Office",color:"bg-purple-100 text-purple-800"}}[_];return s.jsx(se,{className:re.color,children:re.label})},N=_=>_==="active"?s.jsx(se,{className:"bg-green-100 text-green-800",children:"Active"}):s.jsx(se,{className:"bg-red-100 text-red-800",children:"Inactive"}),k=d==="all"?null:t.find(_=>_.id===d),S=d==="all"?t:t.filter(_=>_.id===d),C=t.length,A=t.filter(_=>_.status==="active").length,P=S.reduce((_,O)=>_+O.staffCount,0);S.reduce((_,O)=>_+O.inventoryValue,0);const D=S.reduce((_,O)=>_+O.monthlySales,0);S.reduce((_,O)=>_+(O.dailySales||0),0);const E=S.reduce((_,O)=>_+(O.totalOrders||0),0),R=E>0?D/E:0,z=t.map(_=>({name:_.name,sales:_.monthlySales,orders:_.totalOrders})),V=t.map(_=>({name:_.name,growth:_.growth||0,efficiency:((_.monthlySales||0)/(_.staffCount||1)/1e3).toFixed(1)})),L=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],W=[];return n?s.jsx("div",{className:"p-6 space-y-6 h-full overflow-auto flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),s.jsx("span",{children:"Loading locations..."})]})}):s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Location Management"}),s.jsxs("p",{className:"text-muted-foreground",children:["Manage your ",e?.locationCount||C," location",(e?.locationCount||C)>1?"s":""," and track performance"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{value:d,onValueChange:u,children:[s.jsx(je,{className:"w-48",children:s.jsx(ye,{placeholder:"All Locations"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Locations"}),t.map(_=>s.jsx(F,{value:_.id,children:_.name},_.id))]})]}),s.jsxs(Qe,{open:i,onOpenChange:o,children:[s.jsx(Ji,{asChild:!0,children:s.jsxs(B,{onClick:j,children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Add Location"]})}),s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:l?"Edit Location":"Add New Location"}),s.jsx(Xt,{children:l?"Update location information":"Add a new location to your business"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"name",children:"Location Name *"}),s.jsx(Z,{id:"name",placeholder:"Enter location name",value:h.name,onChange:_=>m({...h,name:_.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"type",children:"Location Type"}),s.jsxs(ve,{value:h.type,onValueChange:_=>m({...h,type:_}),children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"shop",children:"Shop"}),s.jsx(F,{value:"warehouse",children:"Warehouse"}),s.jsx(F,{value:"office",children:"Office"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"address",children:"Address *"}),s.jsx(Dt,{id:"address",placeholder:"Enter full address",value:h.address,onChange:_=>m({...h,address:_.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Z,{id:"phone",placeholder:"Enter phone number",value:h.phone,onChange:_=>m({...h,phone:_.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"manager",children:"Manager"}),s.jsx(Z,{id:"manager",placeholder:"Enter manager name",value:h.manager,onChange:_=>m({...h,manager:_.target.value})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(B,{onClick:l?g:v,children:l?"Update Location":"Add Location"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:d==="all"?"Total Locations":"Location Status"}),s.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d==="all"?C:k?.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d==="all"?`${A} active`:N(k?.status||"active")})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Monthly Sales"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",D.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d==="all"?"All locations":k?.name})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Staff"}),s.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",d==="all"?"all locations":"this location"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Avg Order Value"}),s.jsx(Uo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",R.toFixed(0)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[E," orders"]})]})]})]}),s.jsxs(mn,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(pn,{children:[s.jsx(Se,{value:"overview",children:"Overview"}),s.jsx(Se,{value:"analytics",children:"Analytics"}),s.jsx(Se,{value:"manage",children:"Manage Locations"})]}),s.jsxs(ke,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Sales by Location"})}),s.jsx(I,{children:s.jsx(_n,{width:"100%",height:300,children:s.jsxs(Xs,{data:z,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"name"}),s.jsx(hr,{}),s.jsx(on,{}),s.jsx(dr,{dataKey:"sales",fill:"#8884d8"})]})})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Daily Sales Trend"}),s.jsx(_e,{children:d==="all"?"All locations combined":k?.name})]}),s.jsx(I,{children:s.jsx(_n,{width:"100%",height:300,children:s.jsxs(Kx,{data:W,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"day"}),s.jsx(hr,{}),s.jsx(on,{}),s.jsx(zi,{type:"monotone",dataKey:"sales",stroke:"#8884d8",strokeWidth:2})]})})})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Location Performance"}),s.jsx(_e,{children:"Key metrics for each location"})]}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:S.map(_=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:w(_.type)}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:_.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.address})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[b(_.type),N(_.status)]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly Sales"}),s.jsxs("p",{className:"text-lg font-semibold",children:["$",_.monthlySales.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders"}),s.jsx("p",{className:"text-lg font-semibold",children:_.totalOrders})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Staff"}),s.jsx("p",{className:"text-lg font-semibold",children:_.staffCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Inventory"}),s.jsxs("p",{className:"text-lg font-semibold",children:["$",(_.inventoryValue/1e3).toFixed(0),"K"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Growth"}),s.jsxs("div",{className:"flex items-center gap-1",children:[(_.growth||0)>=0?s.jsx(Kt,{className:"h-4 w-4 text-green-600"}):s.jsx(Ij,{className:"h-4 w-4 text-red-600"}),s.jsxs("p",{className:`text-lg font-semibold ${(_.growth||0)>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(_.growth||0).toFixed(1),"%"]})]})]})]})]},_.id))})})]})]}),s.jsxs(ke,{value:"analytics",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Performance by Location"})}),s.jsx(I,{children:s.jsx(_n,{width:"100%",height:300,children:s.jsxs(Xs,{data:V,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"name"}),s.jsx(hr,{}),s.jsx(on,{}),s.jsx(il,{}),s.jsx(dr,{dataKey:"growth",fill:"#82ca9d",name:"Growth %"}),s.jsx(dr,{dataKey:"efficiency",fill:"#8884d8",name:"Efficiency (K/staff)"})]})})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Sales Distribution"})}),s.jsx(I,{children:s.jsx(_n,{width:"100%",height:300,children:s.jsxs(bN,{children:[s.jsx(Bx,{data:z,cx:"50%",cy:"50%",labelLine:!1,label:_=>`${_.name}: $${(_.sales/1e3).toFixed(0)}K`,outerRadius:80,fill:"#8884d8",dataKey:"sales",children:z.map((_,O)=>s.jsx(Jc,{fill:L[O%L.length]},`cell-${O}`))}),s.jsx(on,{})]})})})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Detailed Performance Metrics"})}),s.jsx(I,{children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Location"}),s.jsx(ee,{children:"Sales/Staff"}),s.jsx(ee,{children:"Avg Order"}),s.jsx(ee,{children:"Orders/Day"}),s.jsx(ee,{children:"Growth"}),s.jsx(ee,{children:"Manager"})]})}),s.jsx(vr,{children:S.map(_=>s.jsxs(Be,{children:[s.jsx(Q,{className:"font-medium",children:_.name}),s.jsxs(Q,{children:["$",((_.monthlySales||0)/(_.staffCount||1)/1e3).toFixed(1),"K"]}),s.jsxs(Q,{children:["$",((_.monthlySales||0)/(_.totalOrders||1)).toFixed(0)]}),s.jsx(Q,{children:((_.totalOrders||0)/30).toFixed(1)}),s.jsx(Q,{children:s.jsxs("span",{className:(_.growth||0)>=0?"text-green-600":"text-red-600",children:[(_.growth||0)>=0?"+":"",(_.growth||0).toFixed(1),"%"]})}),s.jsx(Q,{children:_.manager||"Not assigned"})]},_.id))})]})})]})]}),s.jsx(ke,{value:"manage",className:"space-y-4",children:s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5"}),"All Locations (",t.length,")"]})}),s.jsx(I,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No locations yet"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Add your first location to get started"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Location"}),s.jsx(ee,{children:"Type"}),s.jsx(ee,{children:"Manager"}),s.jsx(ee,{children:"Staff"}),s.jsx(ee,{children:"Inventory"}),s.jsx(ee,{children:"Sales"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:t.map(_=>s.jsxs(Be,{children:[s.jsx(Q,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:_.address}),_.phone&&s.jsx("p",{className:"text-sm text-muted-foreground",children:_.phone})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[w(_.type),b(_.type)]})}),s.jsx(Q,{children:_.manager||"Not assigned"}),s.jsx(Q,{children:_.staffCount}),s.jsxs(Q,{children:["$",_.inventoryValue.toLocaleString()]}),s.jsxs(Q,{children:["$",_.monthlySales.toLocaleString()]}),s.jsx(Q,{children:N(_.status)}),s.jsx(Q,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(B,{variant:"outline",size:"sm",onClick:()=>x(_),className:"h-8 w-8 p-0",children:s.jsx(jp,{className:"h-4 w-4"})}),s.jsx(B,{variant:"destructive",size:"sm",onClick:()=>y(_.id),className:"h-8 w-8 p-0",children:s.jsx(za,{className:"h-4 w-4"})})]})})]},_.id))})]})})})]})})]})]})}function ide({businessConfig:e}){const[t,r]=p.useState("6months"),[n,a]=p.useState(!0),[i,o]=p.useState([]),[l,c]=p.useState([]),[d,u]=p.useState([]),[h,m]=p.useState([]),[f,v]=p.useState([]);p.useEffect(()=>{x()},[t]);const x=async()=>{try{a(!0),o([]),c([]),u([]),m([]),v([])}catch(b){console.error("Error loading analytics:",b)}finally{a(!1)}},g=l.reduce((b,N)=>b+(N.sales||0),0);l.reduce((b,N)=>b+(N.profit||0),0);const y=l.reduce((b,N)=>b+(N.orders||0),0),j=l.reduce((b,N)=>b+(N.cashierInputs||0),0),w=l.length>0?l.reduce((b,N)=>b+(N.growth||0),0)/l.length:0;return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Business Analytics"}),s.jsxs("p",{className:"text-muted-foreground",children:["Performance insights across all ",i.length," locations"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(ve,{value:t,onValueChange:r,children:[s.jsx(je,{className:"w-48",children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"1week",children:"Last Week"}),s.jsx(F,{value:"1month",children:"Last Month"}),s.jsx(F,{value:"3months",children:"Last 3 Months"}),s.jsx(F,{value:"6months",children:"Last 6 Months"}),s.jsx(F,{value:"1year",children:"Last Year"})]})]}),s.jsxs(B,{size:"sm",className:"h-8 px-3",children:[s.jsx(Hi,{className:"h-3 w-3 mr-1"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Revenue"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl",children:["$",g.toLocaleString()]}),s.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[s.jsx(Kt,{className:"h-3 w-3 mr-1"}),"+",w.toFixed(1),"% across locations"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Cashier Inputs"}),s.jsx(hc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl",children:j.toLocaleString()}),s.jsxs("div",{className:"flex items-center text-xs text-blue-600",children:[s.jsx($t,{className:"h-3 w-3 mr-1"}),"Across all locations"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Orders"}),s.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl",children:y.toLocaleString()}),s.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[s.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Across all locations"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Avg Order Value"}),s.jsx(Uo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl",children:["$",(g/y).toFixed(0)]}),s.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[s.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Per order average"]})]})]})]}),s.jsxs(mn,{defaultValue:"performance",className:"space-y-4",children:[s.jsxs(pn,{className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[s.jsx(Se,{value:"performance",children:"Location Performance"}),s.jsx(Se,{value:"cashiers",children:"Cashier Performance"}),s.jsx(Se,{value:"trends",children:"Daily Trends"}),s.jsx(Se,{value:"products",children:"Product Analysis"}),s.jsx(Se,{value:"comparison",children:"Location Comparison"})]}),s.jsxs(ke,{value:"performance",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Sales Performance"})}),s.jsx(I,{children:s.jsx(_n,{width:"100%",height:300,children:s.jsxs(Xs,{data:l,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"name"}),s.jsx(hr,{}),s.jsx(on,{}),s.jsx(dr,{dataKey:"sales",fill:"#8884d8"})]})})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Cashier Input Activity"})}),s.jsx(I,{children:s.jsx(_n,{width:"100%",height:300,children:s.jsxs(Xs,{data:l,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"name"}),s.jsx(hr,{}),s.jsx(on,{}),s.jsx(dr,{dataKey:"cashierInputs",fill:"#82ca9d"})]})})})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Location Performance Summary"})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:l.map((b,N)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-14 h-14 bg-black text-white rounded-md flex items-center justify-center text-lg font-bold",children:N+1}),s.jsxs("div",{className:"space-y-1 ml-4",children:[s.jsx("p",{className:"font-semibold text-base",children:b.name}),s.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[s.jsxs("div",{children:[b.orders," orders"]}),s.jsxs("div",{children:[b.cashierInputs," cashier inputs"]}),s.jsxs("div",{children:["Updated ",b.lastUpdated]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-lg",children:["$",b.sales.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["+",b.growth,"% growth"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",b.avgOrderValue," avg order"]})]})]},b.id))})})]})]}),s.jsx(ke,{value:"cashiers",className:"space-y-4",children:s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Cashier Performance"})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:h.map((b,N)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-12",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-sm font-bold shadow-sm",style:{backgroundColor:"#3b82f6",color:"#ffffff",border:"2px solid #1d4ed8"},children:b.name.split(" ").map(k=>k[0]).join("")}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold text-base",children:b.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.location}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last active: ",b.lastActive]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-lg",children:["$",b.sales.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.orders," orders"]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(hc,{className:"h-3 w-3 text-green-600"}),s.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[b.efficiency,"% efficiency"]})]})]})]},N))})})]})}),s.jsx(ke,{value:"trends",className:"space-y-4",children:s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Daily Performance Trends"})}),s.jsx(I,{children:s.jsx(_n,{width:"100%",height:400,children:s.jsxs(Oie,{data:d,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"day"}),s.jsx(hr,{yAxisId:"left"}),s.jsx(hr,{yAxisId:"right",orientation:"right"}),s.jsx(on,{}),s.jsx(il,{}),s.jsx(dr,{yAxisId:"left",dataKey:"sales",fill:"#8884d8",name:"Sales ($)"}),s.jsx(zi,{yAxisId:"right",type:"monotone",dataKey:"orders",stroke:"#82ca9d",strokeWidth:3,name:"Orders"}),s.jsx(zi,{yAxisId:"right",type:"monotone",dataKey:"cashierInputs",stroke:"#ffc658",strokeWidth:3,name:"Cashier Inputs"})]})})})]})}),s.jsx(ke,{value:"products",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Top Products by Sales"})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:f.map((b,N)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-semibold",children:N+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.product}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.location})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["$",b.sales.toLocaleString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.units," units"]}),s.jsxs("p",{className:"text-xs text-green-600",children:[b.margin,"% margin"]})]})]},N))})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Product Performance Chart"})}),s.jsx(I,{children:s.jsx(_n,{width:"100%",height:300,children:s.jsxs(Xs,{data:f,layout:"horizontal",children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{type:"number"}),s.jsx(hr,{dataKey:"product",type:"category",width:100}),s.jsx(on,{}),s.jsx(dr,{dataKey:"sales",fill:"#8884d8"})]})})})]})]})}),s.jsx(ke,{value:"comparison",className:"space-y-4",children:s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Location Comparison"})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map(b=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold",children:b.name}),s.jsxs(se,{variant:b.growth>10?"default":"secondary",children:[b.growth,"% growth"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sales:"}),s.jsxs("span",{className:"font-medium",children:["$",b.sales.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Orders:"}),s.jsx("span",{className:"font-medium",children:b.orders})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Cashier Inputs:"}),s.jsx("span",{className:"font-medium",children:b.cashierInputs})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Order:"}),s.jsxs("span",{className:"font-medium",children:["$",b.avgOrderValue]})]})]})]},b.id))})})})]})})]})]})}const ode=[{id:"dashboard",label:"Dashboard",icon:yp},{id:"signup-requests",label:"Signup Requests",icon:tm},{id:"businesses",label:"Businesses",icon:At},{id:"payments",label:"Payments",icon:ws},{id:"features",label:"Features",icon:hn},{id:"backups",label:"Backups",icon:ha},{id:"analytics",label:"Analytics",icon:Mi},{id:"settings",label:"Settings",icon:hn}];function lde({activeTab:e,onSelect:t,user:r,onLogout:n}){return s.jsxs("div",{className:"w-64 bg-card border-r border-border flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b border-border",children:s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("div",{className:"p-2 bg-primary rounded-lg",children:s.jsx(yp,{className:"h-6 w-6 text-primary-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"font-semibold text-foreground",children:"Super Admin Panel"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage all businesses"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("ul",{className:"space-y-2",children:ode.map(a=>{const i=a.icon;return s.jsx("li",{children:s.jsxs("button",{onClick:()=>t(a.id),className:de("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left",e===a.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[s.jsx(i,{className:"h-5 w-5"}),a.label]})},a.id)})})}),s.jsxs("div",{className:"p-4 border-t border-border",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:r?.name?.slice(0,2).toUpperCase()||"SA"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:r?.name||"Super Admin"}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r?.role||"super_admin"})]})]}),n&&s.jsxs(B,{onClick:n,variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Dj,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const cde={light:"",dark:".dark"},$$=p.createContext(null);function L$(){const e=p.useContext($$);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}function Ao({id:e,className:t,children:r,config:n,...a}){const i=p.useId(),o=`chart-${e||i.replace(/:/g,"")}`;return s.jsx($$.Provider,{value:{config:n},children:s.jsxs("div",{"data-slot":"chart","data-chart":o,className:de("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",t),...a,children:[s.jsx(ude,{id:o,config:n}),s.jsx(_n,{children:r})]})})}const ude=({id:e,config:t})=>{const r=Object.entries(t).filter(([,n])=>n.theme||n.color);return r.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(cde).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{const l=o.theme?.[n]||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Kl=on;function Vl(e){const{active:t,payload:r=[],className:n,indicator:a="dot",hideLabel:i=!1,hideIndicator:o=!1,label:l,labelFormatter:c,labelClassName:d,formatter:u,color:h,nameKey:m,labelKey:f}=e,{config:v}=L$(),x=p.useMemo(()=>{if(i||!r?.length)return null;const[y]=r,j=`${f||y?.dataKey||y?.name||"value"}`,w=R0(v,y,j),b=!f&&typeof l=="string"?v[l]?.label||l:w?.label;return c?s.jsx("div",{className:de("font-medium",d),children:c(b,r)}):b?s.jsx("div",{className:de("font-medium",d),children:b}):null},[l,c,r,i,d,v,f]);if(!t||!r?.length)return null;const g=r.length===1&&a!=="dot";return s.jsxs("div",{className:de("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",n),children:[g?null:x,s.jsx("div",{className:"grid gap-1.5",children:r?.map((y,j)=>{const w=`${m||y.name||y.dataKey||"value"}`,b=R0(v,y,w),N=h||y.payload.fill||y.color;return s.jsx("div",{className:de("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",a==="dot"&&"items-center"),children:u&&y?.value!==void 0&&y.name?u(y.value,y.name,y,j,y.payload):s.jsxs(s.Fragment,{children:[b?.icon?s.jsx(b.icon,{}):!o&&s.jsx("div",{className:de("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":g&&a==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),s.jsxs("div",{className:de("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[g?x:null,s.jsx("span",{className:"text-muted-foreground",children:b?.label||y.name})]}),y.value&&s.jsx("span",{className:"text-foreground font-mono font-medium tabular-nums",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})}const r_=il;function n_({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a}){const{config:i}=L$();return r?.length?s.jsx("div",{className:de("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r?.map(o=>{const l=`${a||o.dataKey||"value"}`,c=R0(i,o,l);return s.jsxs("div",{className:de("[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3"),children:[c?.icon&&!t?s.jsx(c.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:o.color}}),c?.label]},o.value)})}):null}function R0(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function s_({stats:e,businesses:t,onNavigate:r,onVerifyPayment:n}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),n&&s.jsxs(B,{onClick:n,children:[s.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Verify Payment"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(M,{className:"border-l-4 border-l-blue-500",children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Businesses"}),s.jsx("p",{className:"text-3xl font-bold",children:e.totalBusinesses}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Sg,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+12% from last month"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(At,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx(M,{className:"border-l-4 border-l-green-500",children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Businesses"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.activeBusinesses}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Sg,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+8% from last month"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Oe,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(M,{className:"border-l-4 border-l-purple-500",children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-3xl font-bold",children:["₵",e.totalRevenue.toLocaleString()]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(Sg,{className:"h-4 w-4 text-green-500 mr-1"}),s.jsx("span",{className:"text-sm text-green-600",children:"+15% from last month"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Tt,{className:"h-6 w-6 text-purple-600"})})]})})}),s.jsx(M,{className:"border-l-4 border-l-red-500",children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Overdue Payments"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:e.overduePayments}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx(bF,{className:"h-4 w-4 text-red-500 mr-1"}),s.jsx("span",{className:"text-sm text-red-600",children:"-3 from last week"})]})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:s.jsx(Do,{className:"h-6 w-6 text-red-600"})})]})})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Id,{className:"h-5 w-5"}),"Quick Navigation"]}),s.jsx(_e,{children:"Access all major features from here"})]}),s.jsx(I,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("businesses"),children:[s.jsx(At,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Businesses"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("payments"),children:[s.jsx(ws,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Payments"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("features"),children:[s.jsx(hn,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Features"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("backups"),children:[s.jsx(ha,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Backups"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("analytics"),children:[s.jsx(Mi,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Analytics"})]}),s.jsxs(B,{variant:"outline",className:"h-12 flex items-center gap-2",onClick:()=>r?.("settings"),children:[s.jsx(hn,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Settings"})]})]})})]}),s.jsxs(mn,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(pn,{className:"grid w-full grid-cols-4",children:[s.jsx(Se,{value:"overview",children:"Overview"}),s.jsx(Se,{value:"analytics",children:"Analytics"}),s.jsx(Se,{value:"revenue",children:"Revenue"}),s.jsx(Se,{value:"activity",children:"Activity"})]}),s.jsx(ke,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-6",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Uo,{className:"h-5 w-5"}),"Business Health"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Rate"}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[Math.round(e.activeBusinesses/e.totalBusinesses*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${e.activeBusinesses/e.totalBusinesses*100}%`}})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Rate"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Math.round((e.totalBusinesses-e.overduePayments)/e.totalBusinesses*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${(e.totalBusinesses-e.overduePayments)/e.totalBusinesses*100}%`}})})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-5 w-5"}),"Growth Metrics"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"New This Month"}),s.jsx("span",{className:"text-2xl font-bold",children:e.newThisMonth})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Renewals Due"}),s.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:e.renewalsDue})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Revenue/Business"}),s.jsxs("span",{className:"text-2xl font-bold",children:["₵",Math.round(e.totalRevenue/e.totalBusinesses)]})]})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-5 w-5"}),"System Status"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Database"}),s.jsx(se,{className:"bg-green-500 text-white",children:"Online"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Payments"}),s.jsx(se,{className:"bg-green-500 text-white",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Backups"}),s.jsx(se,{className:"bg-green-500 text-white",children:"Up to Date"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API"}),s.jsx(se,{className:"bg-green-500 text-white",children:"Healthy"})]})]})]})]})}),s.jsx(ke,{value:"analytics",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-6",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-5 w-5"}),"Revenue Trend"]}),s.jsx(_e,{children:"Last 8 weeks"})]}),s.jsx(I,{children:s.jsx(Ao,{config:{revenue:{label:"Revenue",color:"hsl(var(--primary))"}},className:"h-48",children:s.jsxs(Eie,{data:Array.from({length:8}).map((a,i)=>({week:`W${i+1}`,revenue:Math.round(400+Math.random()*800)})),children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"week"}),s.jsx(hr,{}),s.jsx(Kl,{content:s.jsx(Vl,{})}),s.jsx(a4,{type:"monotone",dataKey:"revenue",stroke:"var(--color-revenue)",fill:"var(--color-revenue)",fillOpacity:.2})]})})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Business Growth"}),s.jsx(_e,{children:"New signups vs renewals"})]}),s.jsx(I,{children:s.jsx(Ao,{config:{signups:{label:"Signups",color:"hsl(var(--chart-1))"},renewals:{label:"Renewals",color:"hsl(var(--chart-2))"}},className:"h-48",children:s.jsxs(Kx,{data:Array.from({length:8}).map((a,i)=>({week:`W${i+1}`,signups:Math.round(1+Math.random()*4),renewals:Math.round(1+Math.random()*4)})),children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"week"}),s.jsx(hr,{}),s.jsx(on,{}),s.jsx(il,{}),s.jsx(zi,{type:"monotone",dataKey:"signups",stroke:"var(--color-signups)",dot:!1}),s.jsx(zi,{type:"monotone",dataKey:"renewals",stroke:"var(--color-renewals)",dot:!1})]})})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Retention Rate"}),s.jsx(_e,{children:"Monthly retention percentage"})]}),s.jsx(I,{children:s.jsx(Ao,{config:{retained:{label:"Retained",color:"hsl(var(--chart-3))"}},className:"h-48",children:s.jsxs(Xs,{data:Array.from({length:6}).map((a,i)=>({month:`M${i+1}`,retained:Math.round(40+Math.random()*60)})),children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"month"}),s.jsx(hr,{}),s.jsx(Kl,{content:s.jsx(Vl,{})}),s.jsx(dr,{dataKey:"retained",fill:"var(--color-retained)"})]})})})]})]})}),s.jsx(ke,{value:"revenue",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-3 gap-6",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5"}),"Revenue Breakdown"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Basic Plans"}),s.jsxs("span",{className:"text-lg font-bold",children:["₵",Math.round(e.totalRevenue*.4)]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Pro Plans"}),s.jsxs("span",{className:"text-lg font-bold",children:["₵",Math.round(e.totalRevenue*.4)]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Enterprise"}),s.jsxs("span",{className:"text-lg font-bold",children:["₵",Math.round(e.totalRevenue*.2)]})]})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-5 w-5"}),"Growth Rate"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-green-600",children:"+15%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Month over Month"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"+8%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"New Businesses"})]})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Uo,{className:"h-5 w-5"}),"Targets"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Monthly Goal"}),s.jsxs("span",{className:"text-lg font-bold",children:["₵",Math.round(e.totalRevenue*1.2)]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"83%"}})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"83% of monthly goal"})]})]})]})}),s.jsx(ke,{value:"activity",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-6",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-5 w-5"}),"Recent Activity"]}),s.jsx(_e,{children:"Latest system events and actions"})]}),s.jsx(I,{className:"space-y-4",children:[{id:"a1",text:"Payment recorded for Kofi Electronics",level:"info",time:"2 min ago"},{id:"a2",text:"Enabled Workers feature for Ama Wholesale",level:"success",time:"15 min ago"},{id:"a3",text:"Unpaid renewal detected for Uncle 19 Shops",level:"warning",time:"1 hour ago"},{id:"a4",text:"New business registered: Tech Solutions",level:"info",time:"2 hours ago"},{id:"a5",text:"Backup completed for all businesses",level:"success",time:"3 hours ago"}].map(a=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${a.level==="warning"?"bg-yellow-500":a.level==="success"?"bg-green-500":"bg-blue-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:a.text}),s.jsx("p",{className:"text-xs text-muted-foreground",children:a.time})]}),s.jsx(se,{variant:a.level==="warning"?"destructive":"outline",className:a.level==="success"?"bg-green-500 text-white border-none":"",children:a.level})]},a.id))})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),"Top Businesses"]}),s.jsx(_e,{children:"By monthly revenue"})]}),s.jsx(I,{className:"space-y-4",children:t.slice().sort((a,i)=>i.monthlyRevenue-a.monthlyRevenue).slice(0,5).map((a,i)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-blue-600",children:i+1})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:a.businessName}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["₵",a.monthlyRevenue,"/month"]})]})]}),s.jsx(B,{size:"sm",variant:"ghost",children:s.jsx(Da,{className:"h-4 w-4"})})]},a.id))})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"h-5 w-5"}),"Upcoming Renewals (Next 30 Days)"]}),s.jsx(_e,{children:"Businesses with payments due soon"})]}),s.jsx(I,{children:s.jsx("div",{className:"space-y-3",children:t.filter(a=>{const i=new Date(a.renewalDate),o=new Date,l=Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24));return l<=30&&l>=0}).slice(0,6).map(a=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:s.jsx(zr,{className:"h-5 w-5 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a.businessName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",new Date(a.renewalDate).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-lg font-bold",children:["₵",a.monthlyRevenue]}),s.jsx(se,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Due Soon"}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(DF,{className:"h-4 w-4"})})]})]},a.id))})})]})]})})]})]})}const xn=`https://${zt}.supabase.co`,gn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNkZG9ib2JveGVhbmdyaXBjcXJuIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1OTc1ODI1NCwiZXhwIjoyMDc1MzM0MjU0fQ.CbCMnclEfF2iWZzLeI4VGIgKYEPuYAt7P-kSAfPr83Q",of=gi();let bv=null;function Ft(){return bv||(bv=$O(xn,gn)),bv}const Et={async getAllBusinesses(){try{const{data:e,error:t}=await Ft().from("businesses").select("*").order("created_at",{ascending:!1});return t?{data:null,error:t.message}:{data:e,error:null}}catch(e){return{data:null,error:e.message}}},async getBusinessById(e){try{const{data:t,error:r}=await Ft().from("businesses").select("*").eq("id",e).single();return r?{data:null,error:r.message}:{data:t,error:null}}catch(t){return{data:null,error:t.message}}},async updateBusiness(e,t){try{const{error:r}=await Ft().from("businesses").update(t).eq("id",e);return r?{success:!1,error:r.message}:{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}},async deleteBusiness(e){try{const{error:t}=await Ft().from("businesses").delete().eq("id",e);return t?{success:!1,error:t.message}:{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}},async recordPayment(e){try{console.log("💳 Recording payment in Supabase...",e);const{error:t}=await Ft().from("payments").insert({business_id:e.business_id,amount:e.amount});if(t)return console.error("❌ Payment insert error:",t),{success:!1,error:t.message};console.log("✅ Payment recorded in Supabase payments table");const r={payment_status:"paid",last_payment_date:new Date().toISOString()};if(e.payment_type==="upfront")r.upfront_fee_paid=!0;else if(e.payment_type==="maintenance"){r.maintenance_fee_paid=!0;const a=new Date;a.setMonth(a.getMonth()+6),r.next_payment_date=a.toISOString(),r.next_maintenance_due=a.toISOString()}const{error:n}=await Ft().from("businesses").update(r).eq("id",e.business_id);return n?(console.error("❌ Business update error:",n),{success:!1,error:n.message}):(console.log("✅ Business payment status updated in Supabase"),{success:!0,error:null})}catch(t){return console.error("💥 Payment recording error:",t),{success:!1,error:t.message}}},async getAllPayments(){try{console.log("📊 Fetching payments from Supabase payments table...");const{data:e,error:t}=await Ft().from("payments").select(`
          *,
          businesses!inner(business_name)
        `).order("payment_date",{ascending:!1});return t?(console.error("❌ Error fetching payments:",t),{data:null,error:t.message}):(console.log("✅ Payments fetched from Supabase:",e?.length||0),{data:e?.map(n=>({...n,business_name:n.businesses?.business_name||"Unknown Business"}))||[],error:null})}catch(e){return console.error("💥 Error fetching payments:",e),{data:null,error:e.message}}},async verifyPayment(e){try{const r=await(await fetch(`${xn}/functions/v1/payment-verification`,{method:"POST",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return r.success?{success:!0,error:null}:{success:!1,error:r.error||"Payment verification failed"}}catch(t){return{success:!1,error:t.message}}},async getPaymentHistory(e){try{let t=Ft().from("payments").select("*").order("payment_date",{ascending:!1});e&&(t=t.eq("business_id",e));const{data:r,error:n}=await t;return n?{data:null,error:n.message}:{data:r,error:null}}catch(t){return{data:null,error:t.message}}},async triggerBackup(e,t="full"){try{const r=e?"backup-system":"cron-backup",n=e?{business_id:e,backup_type:t}:{},i=await(await fetch(`${xn}/functions/v1/${r}`,{method:"POST",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"},body:JSON.stringify(n)})).json();return i.success?{success:!0,error:null}:{success:!1,error:i.error||"Backup failed"}}catch(r){return{success:!1,error:r.message}}},async getBackupHistory(e){try{let t=Ft().from("backup_records").select("*").order("created_at",{ascending:!1});e&&(t=t.eq("business_id",e));const{data:r,error:n}=await t;return n?{data:null,error:n.message}:{data:r,error:null}}catch(t){return{data:null,error:t.message}}},async restoreBackup(e,t,r){try{const a=await(await fetch(`${xn}/functions/v1/data-restore`,{method:"POST",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"},body:JSON.stringify({business_id:e,backup_id:t,restore_type:r?"selective":"full",data_types:r})})).json();return a.success?{success:!0,error:null}:{success:!1,error:a.error||"Restore failed"}}catch(n){return{success:!1,error:n.message}}},async getAllApiKeys(){try{const{data:e,error:t}=await Ft().from("api_keys").select("*").order("created_at",{ascending:!1});return t?{data:null,error:t.message}:{data:e,error:null}}catch(e){return{data:null,error:e.message}}},async createApiKey(e){try{const t=`sk_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,{data:r,error:n}=await Ft().from("api_keys").insert({key_name:e.key_name,key_value:t,business_id:e.business_id||null,permissions:e.permissions,rate_limit:e.rate_limit,is_active:!0}).select().single();return n?{data:null,error:n.message}:{data:r,error:null}}catch(t){return{data:null,error:t.message}}},async updateApiKey(e,t){try{const{error:r}=await Ft().from("api_keys").update(t).eq("id",e);return r?{success:!1,error:r.message}:{success:!0,error:null}}catch(r){return{success:!1,error:r.message}}},async deleteApiKey(e){try{const{error:t}=await Ft().from("api_keys").delete().eq("id",e);return t?{success:!1,error:t.message}:{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}},async getAnalytics(e="month"){try{const r=await(await fetch(`${xn}/functions/v1/analytics?timeframe=${e}`,{method:"GET",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"}})).json();return r.success?{data:r.data,error:null}:{data:null,error:r.error||"Failed to fetch analytics"}}catch(t){return{data:null,error:t.message}}},async addCustomFeature(e){try{const r=await(await fetch(`${xn}/functions/v1/feature-management?action=add-custom-feature`,{method:"POST",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).json();return r.success?{success:!0,feature:r.feature,error:null}:{success:!1,error:r.error||"Failed to add custom feature"}}catch(t){return{success:!1,error:t.message}}},async enableFeature(e,t,r){try{console.log("➕ Enabling feature:",{businessId:e,featureId:t,reason:r});const{data:n,error:a}=await Ft().from("businesses").select("features, email").eq("id",e).single();if(a||!n)return console.error("❌ Failed to fetch business:",a),{success:!1,error:"Business not found"};const i=n.features||[];if(!i.includes(t)){const o=[...i,t],{error:l}=await Ft().from("businesses").update({features:o}).eq("id",e);if(l)return console.error("❌ Failed to update business features:",l),{success:!1,error:l.message};const{data:{users:c},error:d}=await Ft().auth.admin.listUsers();if(d)console.error("❌ Failed to list users:",d);else{const u=c.find(h=>h.user_metadata?.business_id===e);if(u){const{error:h}=await Ft().auth.admin.updateUserById(u.id,{user_metadata:{...u.user_metadata,features:o}});h?console.error("⚠️ Failed to update user metadata:",h):console.log("✅ User metadata updated with new features")}}return console.log("✅ Feature enabled successfully:",o),{success:!0,features:o,error:null}}return{success:!0,features:i,error:null}}catch(n){return console.error("❌ Error enabling feature:",n),{success:!1,error:n.message}}},async disableFeature(e,t,r){try{console.log("➖ Disabling feature:",{businessId:e,featureId:t,reason:r});const{data:n,error:a}=await Ft().from("businesses").select("features, email").eq("id",e).single();if(a||!n)return console.error("❌ Failed to fetch business:",a),{success:!1,error:"Business not found"};const i=n.features||[];if(i.includes(t)){const o=i.filter(u=>u!==t),{error:l}=await Ft().from("businesses").update({features:o}).eq("id",e);if(l)return console.error("❌ Failed to update business features:",l),{success:!1,error:l.message};const{data:{users:c},error:d}=await Ft().auth.admin.listUsers();if(d)console.error("❌ Failed to list users:",d);else{const u=c.find(h=>h.user_metadata?.business_id===e);if(u){const{error:h}=await Ft().auth.admin.updateUserById(u.id,{user_metadata:{...u.user_metadata,features:o}});h?console.error("⚠️ Failed to update user metadata:",h):console.log("✅ User metadata updated with removed feature")}}return console.log("✅ Feature disabled successfully:",o),{success:!0,features:o,error:null}}return{success:!0,features:i,error:null}}catch(n){return console.error("❌ Error disabling feature:",n),{success:!1,error:n.message}}},async getBusinessFeatures(e){try{const r=await(await fetch(`${xn}/functions/v1/feature-management?action=get-business-features&business_id=${e}`,{method:"GET",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"}})).json();return r.success?{data:r.data,error:null}:{data:null,error:r.error||"Failed to get business features"}}catch(t){return{data:null,error:t.message}}},async getFeatureStats(){try{const t=await(await fetch(`${xn}/functions/v1/feature-management?action=get-feature-stats`,{method:"GET",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"}})).json();return t.success?{data:t,error:null}:{data:null,error:t.error||"Failed to get feature stats"}}catch(e){return{data:null,error:e.message}}},async getCustomFeatures(){try{const t=await(await fetch(`${xn}/functions/v1/feature-management?action=get-custom-features`,{method:"GET",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"}})).json();return t.success?{data:t.features,error:null}:{data:null,error:t.error||"Failed to get custom features"}}catch(e){return{data:null,error:e.message}}},async bulkUpdateFeatures(e,t,r,n){try{const i=await(await fetch(`${xn}/functions/v1/feature-management?action=bulk-update`,{method:"POST",headers:{Authorization:`Bearer ${gn}`,"Content-Type":"application/json"},body:JSON.stringify({business_ids:e,features_to_add:t,features_to_remove:r,reason:n,changed_by:"super_admin"})})).json();return i.success?{success:!0,results:i.results,error:null}:{success:!1,error:i.error||"Failed to bulk update features"}}catch(a){return{success:!1,error:a.message}}},subscribeToBusinessUpdates(e){return of.channel("businesses-changes").on("postgres_changes",{event:"*",schema:"public",table:"businesses"},e).subscribe()},subscribeToPaymentUpdates(e){return of.channel("payments-changes").on("postgres_changes",{event:"*",schema:"public",table:"payments"},e).subscribe()},subscribeToBackupUpdates(e){return of.channel("backups-changes").on("postgres_changes",{event:"*",schema:"public",table:"backup_records"},e).subscribe()},subscribeToFeatureUpdates(e){return of.channel("features-changes").on("postgres_changes",{event:"*",schema:"public",table:"businesses"},e).subscribe()},async getSignupRequests(e="all"){try{console.log("Fetching signup requests with status:",e);const r=await(await fetch(`${xn}/functions/v1/business-signup-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${gn}`},body:JSON.stringify({action:"get-requests",status:e})})).json();return console.log("Signup requests response:",r),r.success?r.requests:[]}catch(t){return console.error("Error fetching signup requests:",t),[]}},async approveSignupRequest(e,t="basic",r=0,n=0){try{return await(await fetch(`${xn}/functions/v1/business-signup-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${gn}`},body:JSON.stringify({action:"approve-request",requestId:e,plan:t,upfrontPayment:r,maintenanceFee:n})})).json()}catch(a){return console.error("Error approving signup request:",a),{success:!1,error:"Network error"}}},async rejectSignupRequest(e,t){try{return await(await fetch(`${xn}/functions/v1/business-signup-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${gn}`},body:JSON.stringify({action:"reject-request",requestId:e,reason:t})})).json()}catch(r){return console.error("Error rejecting signup request:",r),{success:!1,error:"Network error"}}}};function dde(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("all"),[o,l]=p.useState(""),[c,d]=p.useState(null),[u,h]=p.useState(!1),[m,f]=p.useState(!1),[v,x]=p.useState(!1),[g,y]=p.useState(""),[j,w]=p.useState(null),[b,N]=p.useState("basic"),[k,S]=p.useState(""),[C,A]=p.useState("");p.useEffect(()=>{P()},[a]);const P=async()=>{try{n(!0),console.log("Loading signup requests with filter:",a);const W=await Et.getSignupRequests(a);console.log("Received data:",W),t(W)}catch(W){console.error("Error loading requests:",W),J.error("Failed to load signup requests")}finally{n(!1)}},D=W=>{d(W),N("basic"),S("1000"),A("200"),x(!0)},E=async()=>{if(c)try{w(c.id);const W=await Et.approveSignupRequest(c.id,b,parseFloat(k)||0,parseFloat(C)||0);W.success?(J.success(`Business approved with ${b.toUpperCase()} plan!`),P(),h(!1),x(!1)):J.error(W.error||"Failed to approve business")}catch(W){console.error("Error approving request:",W),J.error("Failed to approve business")}finally{w(null)}},R=W=>{N(W),W==="basic"?(S("1000"),A("200")):W==="pro"?(S("2000"),A("200")):W==="enterprise"&&(S("5000"),A("800"))},z=async W=>{try{w(W);const _=await Et.rejectSignupRequest(W,g);_.success?(J.success("Business rejected successfully!"),P(),f(!1),y("")):J.error(_.error||"Failed to reject business")}catch(_){console.error("Error rejecting request:",_),J.error("Failed to reject business")}finally{w(null)}},V=e.filter(W=>W.email.toLowerCase().includes(o.toLowerCase())||W.business_config?.businessName?.toLowerCase().includes(o.toLowerCase())),L=W=>{switch(W){case"pending":return s.jsxs(se,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[s.jsx(zr,{className:"h-3 w-3 mr-1"}),"Pending"]});case"approved":return s.jsxs(se,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Approved"]});case"rejected":return s.jsxs(se,{variant:"outline",className:"text-red-600 border-red-600",children:[s.jsx(Ei,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return s.jsx(se,{variant:"outline",children:W})}};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading signup requests..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Business Signup Requests"}),s.jsx("p",{className:"text-muted-foreground",children:"Review and approve new business registrations"})]}),s.jsxs(B,{onClick:P,variant:"outline",children:[s.jsx(fc,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search by business name or email...",value:o,onChange:W=>l(W.target.value),className:"pl-10"})]}),s.jsxs(ve,{value:a,onValueChange:W=>i(W),children:[s.jsx(je,{className:"w-40",children:s.jsx(ye,{placeholder:"Status"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"pending",children:"Pending"}),s.jsx(F,{value:"approved",children:"Approved"}),s.jsx(F,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(W=>s.jsxs(M,{className:"hover:shadow-md transition-shadow",children:[s.jsx(U,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(At,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:W.business_config?.businessName||"Unknown Business"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:W.email})]})]}),L(W.status)]})}),s.jsxs(I,{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"capitalize",children:W.business_config?.businessType||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[W.business_config?.city||"N/A",", ",W.business_config?.region||"N/A"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:new Date(W.created_at).toLocaleDateString()})]})]}),W.status==="pending"&&s.jsx("div",{className:"flex gap-2 pt-2",children:s.jsxs(B,{size:"sm",onClick:()=>{d(W),h(!0)},className:"flex-1",children:[s.jsx(Da,{className:"h-3 w-3 mr-1"}),"Review"]})}),W.status==="approved"&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[s.jsx(Oe,{className:"h-4 w-4"}),s.jsxs("span",{children:["Approved on ",new Date(W.approved_at).toLocaleDateString()]})]}),W.status==="rejected"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[s.jsx(Ei,{className:"h-4 w-4"}),s.jsxs("span",{children:["Rejected on ",new Date(W.approved_at).toLocaleDateString()]})]}),W.rejection_reason&&s.jsx("p",{className:"text-xs text-muted-foreground bg-red-50 p-2 rounded",children:W.rejection_reason})]})]})]},W.id))}),V.length===0&&s.jsx(M,{className:"border-dashed",children:s.jsxs(I,{className:"p-8 text-center",children:[s.jsx(At,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-600 mb-1",children:"No signup requests found"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a==="all"?"No business signup requests have been submitted yet.":`No ${a} requests found.`})]})}),s.jsx(Qe,{open:u,onOpenChange:h,children:s.jsxs(Ye,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ge,{children:[s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),"Business Signup Request Details"]}),s.jsx(Xt,{children:"Review all business information before approving or rejecting"})]}),c&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-lg",children:"Business Information"})}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Business Name"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.businessName||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Business Type"}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:c.business_config?.businessType||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Business Size"}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:c.business_config?.businessSize||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Registration Number"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.registrationNumber||"N/A"})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-lg",children:"Contact Information"})}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Owner Name"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.ownerName||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Owner Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.ownerPhone||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Business Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.email})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Business Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.businessPhone||"N/A"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{className:"text-sm font-medium",children:"Business Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.businessAddress||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"City"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.city||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Region"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.region||"N/A"})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-lg",children:"Business Details"})}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"TIN Number"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.tinNumber||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Year Established"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.yearEstablished||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Number of Employees"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.numberOfEmployees||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Number of Locations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.numberOfLocations||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Products Count"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.business_config?.productsCount||"N/A"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Average Monthly Sales"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["₵",c.business_config?.averageMonthlySales||"N/A"]})]})]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(B,{onClick:()=>{h(!1),D(c)},className:"flex-1",children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Approve & Assign Plan"]}),s.jsxs(B,{variant:"outline",onClick:()=>{h(!1),f(!0)},className:"flex-1",children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]})}),s.jsx(Qe,{open:m,onOpenChange:f,children:s.jsxs(Ye,{children:[s.jsxs(Ge,{children:[s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Ta,{className:"h-5 w-5 text-red-500"}),"Reject Business Signup"]}),s.jsx(Xt,{children:"Please provide a reason for rejecting this business signup request."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"rejection-reason",children:"Rejection Reason"}),s.jsx(Dt,{id:"rejection-reason",placeholder:"Enter reason for rejection...",value:g,onChange:W=>y(W.target.value),rows:3})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(B,{variant:"outline",onClick:()=>{f(!1),y("")},className:"flex-1",children:"Cancel"}),s.jsx(B,{onClick:()=>c&&z(c.id),disabled:j===c?.id,variant:"destructive",className:"flex-1",children:j===c?.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Rejecting..."]}):"Reject Business"})]})]})]})}),s.jsx(Qe,{open:v,onOpenChange:x,children:s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Ge,{children:[s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-5 w-5 text-green-500"}),"Approve Business & Assign Plan"]}),s.jsx(Xt,{children:c&&`Assign a plan and pricing for ${c.business_config?.businessName}`})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"plan",children:"Select Plan"}),s.jsxs(ve,{value:b,onValueChange:W=>R(W),children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"basic",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-semibold",children:"Basic Plan"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"₵1,000 upfront + ₵200/6 months"})]})}),s.jsx(F,{value:"pro",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-semibold",children:"Pro Plan"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"₵2,000-3,000 upfront + ₵200/6 months"})]})}),s.jsx(F,{value:"enterprise",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-semibold",children:"Enterprise Plan"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"₵5,000+ upfront + ₵800/6 months"})]})})]})]})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{className:"text-sm",children:"Features Included"})}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[b==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Inventory Management"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Sales & POS"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Worker Management"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Basic Reports"})]})]}),b==="pro"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"All Basic Features"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Customer Management"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Advanced Analytics"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Multi-Location (3 max)"})]})]}),b==="enterprise"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"All Pro Features"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Unlimited Locations"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"API Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Priority Support"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"upfront-payment",children:"Upfront Payment (₵)"}),s.jsx(Z,{id:"upfront-payment",type:"number",value:k,onChange:W=>S(W.target.value),placeholder:"1000"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"maintenance-fee",children:"Maintenance Fee (₵/6 months)"}),s.jsx(Z,{id:"maintenance-fee",type:"number",value:C,onChange:W=>A(W.target.value),placeholder:"200"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(B,{variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"Cancel"}),s.jsx(B,{onClick:E,disabled:j===c?.id,className:"flex-1",children:j===c?.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Approving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Approve Business"]})})]})]})]})})]})}var Xx="Checkbox",[hde,the]=ns(Xx),[fde,EN]=hde(Xx);function mde(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[m,f]=Ii({prop:r,defaultProp:a??!1,onChange:c,caller:Xx}),[v,x]=p.useState(null),[g,y]=p.useState(null),j=p.useRef(!1),w=v?!!o||!!v.closest("form"):!0,b={checked:m,disabled:i,setChecked:f,control:v,setControl:x,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:j,required:d,defaultChecked:Oi(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:y};return s.jsx(fde,{scope:t,...b,children:pde(h)?h(b):n})}var F$="CheckboxTrigger",B$=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:f,bubbleInput:v}=EN(F$,e),x=Ke(a,u),g=p.useRef(c);return p.useEffect(()=>{const y=i?.form;if(y){const j=()=>h(g.current);return y.addEventListener("reset",j),()=>y.removeEventListener("reset",j)}},[i,h]),s.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":Oi(c)?"mixed":c,"aria-required":d,"data-state":H$(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:x,onKeyDown:Ee(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Ee(r,y=>{h(j=>Oi(j)?!0:!j),v&&f&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});B$.displayName=F$;var z$=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return s.jsx(mde,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(B$,{...h,ref:t,__scopeCheckbox:r}),m&&s.jsx(V$,{__scopeCheckbox:r})]})})});z$.displayName=Xx;var W$="CheckboxIndicator",U$=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=EN(W$,r);return s.jsx(ss,{present:n||Oi(i.checked)||i.checked===!0,children:s.jsx(Ae.span,{"data-state":H$(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});U$.displayName=W$;var K$="CheckboxBubbleInput",V$=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:f}=EN(K$,e),v=Ke(r,f),x=Xj(i),g=Hj(n);p.useEffect(()=>{const j=m;if(!j)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,k=!a.current;if(x!==i&&N){const S=new Event("click",{bubbles:k});j.indeterminate=Oi(i),N.call(j,Oi(i)?!1:i),j.dispatchEvent(S)}},[m,x,i,a]);const y=p.useRef(Oi(i)?!1:i);return s.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:v,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});V$.displayName=K$;function pde(e){return typeof e=="function"}function Oi(e){return e==="indeterminate"}function H$(e){return Oi(e)?"indeterminate":e?"checked":"unchecked"}function qu({className:e,...t}){return s.jsx(z$,{"data-slot":"checkbox",className:de("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(U$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Wl,{className:"size-3.5"})})})}function xde({businesses:e,onRefresh:t}){const[r,n]=p.useState(""),[a,i]=p.useState("all"),[o,l]=p.useState("all"),[c,d]=p.useState("all"),[u,h]=p.useState(null),[m,f]=p.useState(!1),[v,x]=p.useState([]),[g,y]=p.useState(""),[j,w]=p.useState(!1),[b,N]=p.useState("grid"),[k,S]=p.useState(!1),[C,A]=p.useState(!1),[P,D]=p.useState({businessName:"",ownerEmail:"",ownerPassword:"",businessPhone:"",businessAddress:"",plan:"basic",businessType:"retail"}),E=p.useMemo(()=>e.filter(O=>{const re=O.businessName.toLowerCase().includes(r.toLowerCase())||O.email.toLowerCase().includes(r.toLowerCase()),H=a==="all"||O.status===a,X=o==="all"||O.plan===o;let ae=!0;if(c!=="all"){const le=new Date(O.createdAt),Ie=Math.floor((new Date().getTime()-le.getTime())/(1e3*60*60*24));switch(c){case"today":ae=Ie===0;break;case"week":ae=Ie<=7;break;case"month":ae=Ie<=30;break;case"quarter":ae=Ie<=90;break}}return re&&H&&X&&ae}),[e,r,a,o,c]),R=O=>{switch(O){case"active":return"bg-green-500";case"inactive":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}},z=O=>{switch(O){case"basic":return"bg-blue-500";case"pro":return"bg-purple-500";case"enterprise":return"bg-amber-500";default:return"bg-gray-500"}},V=O=>{switch(O){case"paid":return"bg-green-500";case"pending":return"bg-yellow-500";case"overdue":return"bg-red-500";default:return"bg-gray-500"}},L=O=>{x(re=>re.includes(O)?re.filter(H=>H!==O):[...re,O])},W=()=>{g&&v.length>0&&(console.log(`Performing ${g} on ${v.length} businesses`),w(!1),x([]),y(""))},_=async()=>{if(!P.businessName||!P.ownerEmail||!P.ownerPassword){alert("Please fill in all required fields");return}A(!0);try{console.log("Creating new business:",P),await new Promise(O=>setTimeout(O,1500)),D({businessName:"",ownerEmail:"",ownerPassword:"",businessPhone:"",businessAddress:"",plan:"basic",businessType:"retail"}),S(!1),alert("Business created successfully!"),t()}catch(O){console.error("Error creating business:",O),alert("Failed to create business")}finally{A(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Business Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage all businesses and their settings"})]}),s.jsxs(B,{size:"lg",onClick:()=>S(!0),children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"New Business"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search businesses, emails...",value:r,onChange:O=>n(O.target.value),className:"pl-10 w-64"})]}),s.jsxs(ve,{value:a,onValueChange:i,children:[s.jsx(je,{className:"w-40",children:s.jsx(ye,{placeholder:"Status"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"active",children:"Active"}),s.jsx(F,{value:"inactive",children:"Inactive"}),s.jsx(F,{value:"pending",children:"Pending"})]})]}),s.jsxs(ve,{value:o,onValueChange:l,children:[s.jsx(je,{className:"w-40",children:s.jsx(ye,{placeholder:"Plan"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Plans"}),s.jsx(F,{value:"basic",children:"Basic"}),s.jsx(F,{value:"pro",children:"Pro"}),s.jsx(F,{value:"enterprise",children:"Enterprise"})]})]}),s.jsxs(ve,{value:c,onValueChange:d,children:[s.jsx(je,{className:"w-40",children:s.jsx(ye,{placeholder:"Date"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Time"}),s.jsx(F,{value:"today",children:"Today"}),s.jsx(F,{value:"week",children:"This Week"}),s.jsx(F,{value:"month",children:"This Month"}),s.jsx(F,{value:"quarter",children:"This Quarter"})]})]}),v.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.length," selected"]}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>w(!0),children:"Bulk Actions"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex gap-1 border rounded-md",children:[s.jsx(B,{size:"sm",variant:b==="grid"?"default":"ghost",onClick:()=>N("grid"),children:s.jsx(MF,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:b==="list"?"default":"ghost",onClick:()=>N("list"),children:s.jsx(fc,{className:"h-4 w-4"})})]}),s.jsxs(B,{onClick:t,variant:"outline",size:"sm",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),b==="grid"?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:E.map(O=>s.jsxs(M,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(U,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qu,{checked:v.includes(O.id),onCheckedChange:()=>L(O.id)}),s.jsxs("div",{children:[s.jsx(K,{className:"text-lg",children:O.businessName}),s.jsx(_e,{className:"capitalize",children:O.businessType})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(se,{className:`${R(O.status)} text-white`,children:O.status}),s.jsx(se,{className:`${z(O.plan)} text-white`,children:O.plan})]})]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium truncate",children:O.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Revenue"}),s.jsxs("p",{className:"font-medium",children:["₵",O.monthlyRevenue]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Logins"}),s.jsx("p",{className:"font-medium",children:O.activeLogins})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Payment"}),s.jsx(se,{className:`${V(O.paymentStatus)} text-white text-xs`,children:O.paymentStatus})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>{h(O),f(!0)},children:[s.jsx(Da,{className:"h-4 w-4 mr-1"})," View"]}),s.jsxs(B,{size:"sm",variant:"outline",children:[s.jsx(ws,{className:"h-4 w-4 mr-1"})," Pay"]})]}),O.setupComplete?s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-100 rounded-full",children:s.jsx(Oe,{className:"h-5 w-5 text-green-600"})}):s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-red-100 rounded-full",children:s.jsx(Ei,{className:"h-5 w-5 text-red-600"})})]})]})]},O.id))}):s.jsx("div",{className:"space-y-2",children:E.map(O=>s.jsx(M,{className:"hover:shadow-md transition-shadow",children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(qu,{checked:v.includes(O.id),onCheckedChange:()=>L(O.id)}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:O.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.email})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{className:`${R(O.status)} text-white`,children:O.status}),s.jsx(se,{className:`${z(O.plan)} text-white`,children:O.plan}),s.jsx(se,{className:`${V(O.paymentStatus)} text-white`,children:O.paymentStatus})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right text-sm",children:[s.jsxs("p",{className:"font-medium",children:["₵",O.monthlyRevenue]}),s.jsxs("p",{className:"text-muted-foreground",children:[O.activeLogins," logins"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{h(O),f(!0)},children:s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(ws,{className:"h-4 w-4"})})]})]})]})})},O.id))}),s.jsx(Qe,{open:m,onOpenChange:f,children:s.jsxs(Ye,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ge,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),u?.businessName," - Business Details"]})}),u&&s.jsxs(mn,{defaultValue:"overview",className:"w-full",children:[s.jsxs(pn,{className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[s.jsx(Se,{value:"overview",children:"Overview"}),s.jsx(Se,{value:"details",children:"Business Details"}),s.jsx(Se,{value:"users",children:"Users"}),s.jsx(Se,{value:"features",children:"Features"}),s.jsx(Se,{value:"payments",children:"Payments"}),s.jsx(Se,{value:"notes",children:"Notes"})]}),s.jsx(ke,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Business Information"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Business ID:"}),s.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:u.id})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name:"}),s.jsx("span",{className:"font-medium",children:u.businessName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"font-medium capitalize",children:u.businessType})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Email:"}),s.jsx("span",{className:"font-medium",children:u.email})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx(se,{className:`${z(u.plan)} text-white`,children:u.plan})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(se,{className:`${R(u.status)} text-white`,children:u.status})]})]})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Performance Metrics"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Sales:"}),s.jsx("span",{className:"font-medium",children:u.totalSales})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Revenue:"}),s.jsxs("span",{className:"font-medium",children:["₵",u.monthlyRevenue]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active Logins:"}),s.jsx("span",{className:"font-medium",children:u.activeLogins})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Setup Complete:"}),s.jsx(se,{className:u.setupComplete?"bg-green-500 text-white":"bg-red-500 text-white",children:u.setupComplete?"Yes":"No"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Created:"}),s.jsx("span",{className:"font-medium",children:new Date(u.createdAt).toLocaleDateString()})]})]})]})})]})}),s.jsx(ke,{value:"details",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(M,{className:"border-2 border-primary/20 bg-primary/5",children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Business Identifier"]})}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Backend Business ID (UUID)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 bg-muted px-3 py-2 rounded font-mono text-sm break-all",children:u?.id}),s.jsx(B,{size:"sm",variant:"outline",onClick:()=>{navigator.clipboard.writeText(u?.id||"")},children:"Copy"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This ID is used to link all business data (workers, products, sales, etc.)"})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4"}),"Owner Information"]})}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Owner Name"}),s.jsx("p",{className:"font-medium mt-1",children:u?.ownerName||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Owner Phone"}),s.jsx("p",{className:"font-medium mt-1",children:u?.ownerPhone||"Not provided"})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(dd,{className:"h-4 w-4"}),"Business Contact"]})}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Business Phone"}),s.jsx("p",{className:"font-medium mt-1",children:u?.businessPhone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Business Email"}),s.jsx("p",{className:"font-medium mt-1",children:u?.email||"Not provided"})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(Yn,{className:"h-4 w-4"}),"Location"]})}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Address"}),s.jsx("p",{className:"font-medium mt-1",children:u?.businessAddress||"Not provided"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"City"}),s.jsx("p",{className:"font-medium mt-1",children:u?.city||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Region"}),s.jsx("p",{className:"font-medium mt-1",children:u?.region||"Not provided"})]})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(fc,{className:"h-4 w-4"}),"Registration Details"]})}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Registration Number"}),s.jsx("p",{className:"font-medium mt-1",children:u?.registrationNumber||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"TIN Number"}),s.jsx("p",{className:"font-medium mt-1",children:u?.tinNumber||"Not provided"})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Business Metrics"]})}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Business Size"}),s.jsx("p",{className:"font-medium mt-1 capitalize",children:u?.businessSize||"Not specified"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Year Established"}),s.jsx("p",{className:"font-medium mt-1",children:u?.yearEstablished||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Number of Employees"}),s.jsx("p",{className:"font-medium mt-1",children:u?.numberOfEmployees||"Not provided"})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Products Count"}),s.jsx("p",{className:"font-medium mt-1",children:u?.productsCount||"Not provided"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{className:"text-muted-foreground text-sm",children:"Average Monthly Sales"}),s.jsx("p",{className:"font-medium mt-1",children:u?.averageMonthlySales?`₵${Number(u.averageMonthlySales).toLocaleString()}`:"Not provided"})]})]})})]}),u?.businessDescription&&s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{className:"text-base flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Business Idea / Description"]})}),s.jsx(I,{children:s.jsx("p",{className:"text-sm leading-relaxed",children:u.businessDescription})})]})]})}),s.jsx(ke,{value:"users",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Users & Logins"}),s.jsxs(B,{size:"sm",children:[s.jsx($t,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium",children:"A"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Admin User"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["admin@",u.email]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",children:"Admin"}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(hn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium",children:"C"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Cashier User"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["cashier@",u.email]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",children:"Cashier"}),s.jsx(B,{size:"sm",variant:"outline",children:s.jsx(hn,{className:"h-4 w-4"})})]})]})]})]})}),s.jsx(ke,{value:"features",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Feature Management"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",children:"Apply Preset"}),s.jsx(B,{size:"sm",children:"Save Changes"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium mb-2 block",children:"Core Features"}),s.jsx("div",{className:"space-y-2",children:["Inventory","Sales","Customers","Reports"].map(O=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{className:"text-sm",children:O}),s.jsx(se,{className:"bg-green-500 text-white",children:"Enabled"})]},O))})]}),s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium mb-2 block",children:"Advanced Features"}),s.jsx("div",{className:"space-y-2",children:["Workers","Payroll","Multi-location","Analytics"].map(O=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsx("span",{className:"text-sm",children:O}),s.jsx(se,{className:u.features.includes(O.toLowerCase())?"bg-green-500 text-white":"bg-gray-500 text-white",children:u.features.includes(O.toLowerCase())?"Enabled":"Disabled"})]},O))})]})]})]})}),s.jsx(ke,{value:"payments",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Payment History"}),s.jsxs(B,{size:"sm",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["₵",u.plan==="basic"?"1,500":u.plan==="pro"?"3,000":"5,000"," - Upfront Payment"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Paid on ",new Date(u.lastPayment).toLocaleDateString()]})]}),s.jsx(se,{className:`${V(u.paymentStatus)} text-white`,children:u.paymentStatus})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["₵",u.plan==="basic"?"200":u.plan==="pro"?"400":"800"," - Maintenance Fee"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due on ",new Date(u.renewalDate).toLocaleDateString()]})]}),s.jsx(se,{className:"bg-yellow-500 text-white",children:"Pending"})]})]})]})}),s.jsx(ke,{value:"notes",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Business Notes"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"notes",children:"Add Note"}),s.jsx(Dt,{id:"notes",placeholder:"Add notes about this business...",className:"min-h-24"}),s.jsx(B,{size:"sm",children:"Save Note"})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"System Note"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"2 days ago"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Business setup completed successfully. All features enabled."})]})})]})})]})]})}),s.jsx(Qe,{open:j,onOpenChange:w,children:s.jsxs(Ye,{children:[s.jsx(Ge,{children:s.jsx(Xe,{children:"Bulk Actions"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Action"}),s.jsxs(ve,{value:g,onValueChange:y,children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select action"})}),s.jsxs(we,{children:[s.jsx(F,{value:"activate",children:"Activate Selected"}),s.jsx(F,{value:"deactivate",children:"Deactivate Selected"}),s.jsx(F,{value:"send_reminder",children:"Send Payment Reminder"}),s.jsx(F,{value:"apply_preset",children:"Apply Feature Preset"})]})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["This will affect ",v.length," businesses."]})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),s.jsx(B,{onClick:W,disabled:!g,children:"Apply Action"})]})]})}),s.jsx(Qe,{open:k,onOpenChange:S,children:s.jsxs(Ye,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ge,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),"Create New Business"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Business Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{htmlFor:"businessName",children:"Business Name *"}),s.jsx(Z,{id:"businessName",placeholder:"e.g., Acme Store",value:P.businessName,onChange:O=>D({...P,businessName:O.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessType",children:"Business Type"}),s.jsxs(ve,{value:P.businessType,onValueChange:O=>D({...P,businessType:O}),children:[s.jsx(je,{id:"businessType",children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"retail",children:"Retail"}),s.jsx(F,{value:"restaurant",children:"Restaurant"}),s.jsx(F,{value:"wholesale",children:"Wholesale"}),s.jsx(F,{value:"service",children:"Service"}),s.jsx(F,{value:"manufacturing",children:"Manufacturing"}),s.jsx(F,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"plan",children:"Subscription Plan *"}),s.jsxs(ve,{value:P.plan,onValueChange:O=>D({...P,plan:O}),children:[s.jsx(je,{id:"plan",children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"basic",children:"Basic - ₵200/month"}),s.jsx(F,{value:"pro",children:"Pro - ₵400/month"}),s.jsx(F,{value:"enterprise",children:"Enterprise - ₵800/month"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessPhone",children:"Phone Number"}),s.jsx(Z,{id:"businessPhone",type:"tel",placeholder:"+233 XX XXX XXXX",value:P.businessPhone,onChange:O=>D({...P,businessPhone:O.target.value})})]}),s.jsxs("div",{className:"col-span-1",children:[s.jsx(T,{htmlFor:"businessAddress",children:"Business Address"}),s.jsx(Z,{id:"businessAddress",placeholder:"Street, City, Region",value:P.businessAddress,onChange:O=>D({...P,businessAddress:O.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Owner Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{htmlFor:"ownerEmail",children:"Owner Email *"}),s.jsx(Z,{id:"ownerEmail",type:"email",placeholder:"owner@example.com",value:P.ownerEmail,onChange:O=>D({...P,ownerEmail:O.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will be used for login and notifications"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(T,{htmlFor:"ownerPassword",children:"Initial Password *"}),s.jsx(Z,{id:"ownerPassword",type:"password",placeholder:"Create a secure password",value:P.ownerPassword,onChange:O=>D({...P,ownerPassword:O.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Owner can change this after first login"})]})]})]}),s.jsxs("div",{className:"bg-muted/50 border rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Plan Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Selected Plan:"}),s.jsx("span",{className:"font-medium capitalize",children:P.plan})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Fee:"}),s.jsxs("span",{className:"font-medium",children:["₵",P.plan==="basic"?"200":P.plan==="pro"?"400":"800"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Features:"}),s.jsx("span",{className:"font-medium",children:P.plan==="basic"?"Core Features":P.plan==="pro"?"Core + Advanced":"All Features"})]})]})]})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>S(!1),disabled:C,children:"Cancel"}),s.jsx(B,{onClick:_,disabled:C||!P.businessName||!P.ownerEmail||!P.ownerPassword,children:C?s.jsxs(s.Fragment,{children:[s.jsx(dn,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Create Business"]})})]})]})})]})}function gde({businesses:e,onRefresh:t}){const[r,n]=p.useState(!1),[a,i]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(""),[u,h]=p.useState(""),[m,f]=p.useState(""),[v,x]=p.useState("upfront");p.useState("overdue");const[g,y]=p.useState([]),[j,w]=p.useState(!1);p.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:P,error:D}=await Et.getAllPayments();D?(console.error("Error loading payments:",D),y([])):y(P||[])}catch(P){console.error("Error loading payments:",P),y([])}},N=e.filter(P=>P.paymentStatus==="overdue"),k=e.filter(P=>{const D=new Date(P.renewalDate),E=new Date,R=Math.ceil((D.getTime()-E.getTime())/(1e3*60*60*24));return R<=30&&R>=0&&P.paymentStatus!=="overdue"}),S=e.filter(P=>P.paymentStatus==="paid").sort((P,D)=>new Date(D.lastPayment).getTime()-new Date(P.lastPayment).getTime()).slice(0,10),C=async()=>{if(a&&o&&c){w(!0);try{const{success:P,error:D}=await Et.recordPayment({business_id:a,amount:parseFloat(o),payment_type:v,payment_method:c,reference:u,notes:m});P?(alert("Payment recorded successfully!"),n(!1),i(""),l(""),d(""),h(""),f(""),x("upfront"),b(),t()):alert(`Failed to record payment: ${D}`)}catch(P){console.error("Error recording payment:",P),alert("Failed to record payment")}finally{w(!1)}}},A=P=>{console.log("Sending reminder to business:",P)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payment Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Track payments, send reminders, and manage renewals"})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Overdue"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:k.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Due Soon"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Recent"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(B,{onClick:t,variant:"outline",size:"sm",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{onClick:()=>n(!0),children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("h3",{className:"font-semibold text-lg",children:"Overdue"}),s.jsx(se,{variant:"destructive",children:N.length})]}),s.jsx("div",{className:"space-y-3",children:N.length>0?N.map(P=>s.jsx(M,{className:"border-l-4 border-l-red-500 hover:shadow-md transition-shadow",children:s.jsxs(I,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(At,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:P.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P.email})]})]}),s.jsx(se,{variant:"destructive",className:"text-xs",children:"Overdue"})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-medium",children:["₵",P.plan==="basic"?"200":P.plan==="pro"?"400":"800"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Due:"}),s.jsx("span",{className:"text-red-600",children:new Date(P.renewalDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"capitalize",children:P.plan})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>A(P.id),children:[s.jsx(Pi,{className:"h-3 w-3 mr-1"}),"Remind"]}),s.jsxs(B,{size:"sm",className:"flex-1",onClick:()=>{i(P.id),l(P.plan==="basic"?"200":P.plan==="pro"?"400":"800"),n(!0)},children:[s.jsx(ws,{className:"h-3 w-3 mr-1"}),"Record"]})]})]})},P.id)):s.jsx(M,{className:"border-dashed",children:s.jsxs(I,{className:"p-8 text-center",children:[s.jsx(Oe,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-green-600",children:"All Caught Up!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No overdue payments"})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("h3",{className:"font-semibold text-lg",children:"Due Soon"}),s.jsx(se,{variant:"secondary",children:k.length})]}),s.jsx("div",{className:"space-y-3",children:k.length>0?k.map(P=>s.jsx(M,{className:"border-l-4 border-l-yellow-500 hover:shadow-md transition-shadow",children:s.jsxs(I,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Hn,{className:"h-4 w-4 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:P.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P.email})]})]}),s.jsx(se,{variant:"secondary",className:"text-xs",children:"Due Soon"})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-medium",children:["₵",P.plan==="basic"?"200":P.plan==="pro"?"400":"800"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Due:"}),s.jsx("span",{className:"text-yellow-600",children:new Date(P.renewalDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"capitalize",children:P.plan})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>A(P.id),children:[s.jsx(Pi,{className:"h-3 w-3 mr-1"}),"Remind"]}),s.jsxs(B,{size:"sm",className:"flex-1",onClick:()=>{i(P.id),l(P.plan==="basic"?"200":P.plan==="pro"?"400":"800"),n(!0)},children:[s.jsx(ws,{className:"h-3 w-3 mr-1"}),"Record"]})]})]})},P.id)):s.jsx(M,{className:"border-dashed",children:s.jsxs(I,{className:"p-8 text-center",children:[s.jsx(zr,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-blue-600",children:"All Good!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No payments due soon"})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("h3",{className:"font-semibold text-lg",children:"Recent"}),s.jsx(se,{variant:"default",children:S.length})]}),s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-2 lg:grid-cols-1 xl:grid-cols-2 gap-3",children:S.length>0?S.map(P=>s.jsx(M,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow",children:s.jsxs(I,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Oe,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:P.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P.email})]})]}),s.jsx(se,{className:"bg-green-500 text-white text-xs",children:"Paid"})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("span",{className:"font-medium",children:["₵",P.plan==="basic"?"200":P.plan==="pro"?"400":"800"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid:"}),s.jsx("span",{className:"text-green-600",children:new Date(P.lastPayment).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Plan:"}),s.jsx("span",{className:"capitalize",children:P.plan})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>A(P.id),children:[s.jsx(Pi,{className:"h-3 w-3 mr-1"}),"Contact"]}),s.jsxs(B,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(fc,{className:"h-3 w-3 mr-1"}),"Receipt"]})]})]})},P.id)):s.jsx(M,{className:"border-dashed col-span-full",children:s.jsxs(I,{className:"p-8 text-center",children:[s.jsx(ws,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-600",children:"No Recent Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent payments"})]})})})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"h-5 w-5"}),"Recent Activity"]}),s.jsx(_e,{children:"Latest payment transactions and updates"})]}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:g.length>0?g.slice(0,10).map((P,D)=>{const E=e.find(R=>R.id===P.business_id);return s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Oe,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:E?.businessName||"Unknown Business"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(P.payment_date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:P.payment_method}),s.jsx(se,{className:"bg-green-500 text-white text-xs",children:"Completed"})]}),s.jsxs("span",{className:"font-semibold text-green-600",children:["₵",P.amount]})]})]})]},D)}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ws,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-gray-600",children:"No Payment History"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No payments have been recorded yet"})]})})})]}),s.jsx(Qe,{open:r,onOpenChange:n,children:s.jsxs(Ye,{children:[s.jsx(Ge,{children:s.jsx(Xe,{children:"Record Payment"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Business"}),s.jsxs(ve,{value:a,onValueChange:i,children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select business"})}),s.jsx(we,{children:e.map(P=>s.jsxs(F,{value:P.id,children:[P.businessName," (",P.plan,")"]},P.id))})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Payment Type"}),s.jsxs(ve,{value:v,onValueChange:P=>x(P),children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"upfront",children:"Upfront Payment"}),s.jsx(F,{value:"maintenance",children:"Maintenance Fee"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Amount (₵)"}),s.jsx(Z,{value:o,onChange:P=>l(P.target.value),placeholder:"Enter amount"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Payment Method"}),s.jsxs(ve,{value:c,onValueChange:d,children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select method"})}),s.jsxs(we,{children:[s.jsx(F,{value:"momo",children:"Mobile Money"}),s.jsx(F,{value:"bank",children:"Bank Transfer"}),s.jsx(F,{value:"cash",children:"Cash"}),s.jsx(F,{value:"card",children:"Card Payment"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Reference/Transaction ID"}),s.jsx(Z,{value:u,onChange:P=>h(P.target.value),placeholder:"Enter reference number"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Notes"}),s.jsx(Dt,{value:m,onChange:P=>f(P.target.value),placeholder:"Additional notes about this payment",className:"min-h-20"})]})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(B,{onClick:C,disabled:!a||!o||!c||j,children:j?"Recording...":"Record Payment"})]})]})})]})}const Cl=["inventory","sales","workers","reports"],Pl={core:[{id:"inventory",name:"Inventory Management",icon:Jn,description:"Track products, stock levels, and suppliers"},{id:"sales",name:"Sales & POS",icon:bs,description:"Point of sale system and sales tracking"},{id:"workers",name:"Worker Management",icon:$t,description:"Employee management and payroll processing"},{id:"reports",name:"Reports & Analytics",icon:Mi,description:"Business reports and performance analytics"}],advanced:[{id:"customers",name:"Customer Management",icon:$t,description:"Customer database and loyalty programs"},{id:"multi-location",name:"Multi-Location",icon:vp,description:"Manage multiple shops and warehouses"},{id:"analytics",name:"Advanced Analytics",icon:Kt,description:"Deep business intelligence and insights"}],enterprise:[{id:"api",name:"API Access",icon:Id,description:"REST API for custom integrations"},{id:"white-label",name:"White Label",icon:ga,description:"Custom branding and white-label options"},{id:"priority-support",name:"Priority Support",icon:qs,description:"24/7 priority customer support"},{id:"custom-features",name:"Custom Features",icon:Uo,description:"Tailored features for specific needs"}]};function vde({businesses:e,onRefresh:t}){const[r,n]=p.useState("overview"),[a,i]=p.useState(""),[o,l]=p.useState(null),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[m,f]=p.useState([]),[v,x]=p.useState({}),[g,y]=p.useState(!1),[j,w]=p.useState({}),[b,N]=p.useState(null),[k,S]=p.useState([]),[C,A]=p.useState(""),[P,D]=p.useState(""),[E,R]=p.useState(""),[z,V]=p.useState("Package"),[L,W]=p.useState("custom"),[_,O]=p.useState("");p.useEffect(()=>{re(),H();const $=Et.subscribeToFeatureUpdates(te=>{console.log("Feature update received:",te),H(),t()});return()=>{$.unsubscribe()}},[]);const re=async()=>{const{data:$,error:te}=await Et.getCustomFeatures();$&&!te&&f($)},H=async()=>{const{data:$,error:te}=await Et.getFeatureStats();$&&!te&&x($.stats||{})},X=async()=>{if(!P||!E){J.error("Please provide feature ID and name");return}y(!0);const{success:$,error:te}=await Et.addCustomFeature({feature_id:P,feature_name:E,feature_icon:z,category:L,description:_});$?(J.success("Custom feature added successfully!"),h(!1),D(""),R(""),V("Package"),W("custom"),O(""),re()):J.error(te||"Failed to add custom feature"),y(!1)},ae=$=>{l($),S([...$.features||[]]),A(""),d(!0)},le=async()=>{if(!o)return;if(!C.trim()){J.error("Please provide a reason for this change");return}y(!0);const $=o.features||[],te=k.filter(G=>!$.includes(G)),oe=$.filter(G=>!k.includes(G));for(const G of te){const{success:Le,error:Te}=await Et.enableFeature(o.id,G,C);Le||J.error(`Failed to enable ${G}: ${Te}`)}for(const G of oe){if(Cl.includes(G)){J.error(`Cannot remove core feature: ${G}`);continue}const{success:Le,error:Te}=await Et.disableFeature(o.id,G,C);Le||J.error(`Failed to disable ${G}: ${Te}`)}J.success("Features updated successfully!"),d(!1),y(!1),t(),H()},be=$=>{if(Cl.includes($)&&k.includes($)){J.error("Cannot remove core features");return}k.includes($)?S(k.filter(te=>te!==$)):S([...k,$])},Ie=$=>{navigator.clipboard.writeText($),N($),J.success("API key copied to clipboard!"),setTimeout(()=>N(null),2e3)},ne=[...Pl.core,...Pl.advanced,...Pl.enterprise,...m.map($=>({id:$.feature_id,name:$.feature_name,icon:Jn,description:$.description}))],Pe=e.filter($=>$.businessName.toLowerCase().includes(a.toLowerCase())||$.email.toLowerCase().includes(a.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(hn,{className:"h-6 w-6"}),"Feature Management"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage features for all businesses"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:()=>h(!0),children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Add Custom Feature"]}),s.jsxs(B,{variant:"outline",onClick:t,children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs(mn,{value:r,onValueChange:n,children:[s.jsxs(pn,{children:[s.jsx(Se,{value:"overview",children:"Overview"}),s.jsx(Se,{value:"businesses",children:"Businesses"}),s.jsx(Se,{value:"catalog",children:"Feature Catalog"}),s.jsx(Se,{value:"stats",children:"Statistics"})]}),s.jsxs(ke,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(M,{children:[s.jsx(U,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Total Features"})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold",children:ne.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.length," custom features"]})]})]}),s.jsxs(M,{children:[s.jsx(U,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Total Businesses"})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold",children:e.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter($=>$.status==="active").length," active"]})]})]}),s.jsxs(M,{children:[s.jsx(U,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Most Used Feature"})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold",children:Object.keys(v).length>0&&Object.entries(v).sort(($,te)=>te[1]-$[1])[0]?.[0]||"N/A"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Object.keys(v).length>0?`${Object.entries(v).sort(($,te)=>te[1]-$[1])[0]?.[1]||0} businesses`:"No data"})]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Quick Actions"}),s.jsx(_e,{children:"Manage features across your businesses"})]}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(B,{variant:"outline",className:"h-20",onClick:()=>n("catalog"),children:s.jsxs("div",{className:"text-left w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Jn,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"View Feature Catalog"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Browse all available features"})]})}),s.jsx(B,{variant:"outline",className:"h-20",onClick:()=>n("businesses"),children:s.jsxs("div",{className:"text-left w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(At,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Manage Business Features"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable/disable features per business"})]})})]})})]})]}),s.jsxs(ke,{value:"businesses",className:"space-y-4",children:[s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search businesses...",value:a,onChange:$=>i($.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"grid gap-4",children:Pe.map($=>s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(At,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:$.businessName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$.email})]}),s.jsx(se,{variant:$.plan==="enterprise"?"default":$.plan==="pro"?"secondary":"outline",children:$.plan})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx(T,{className:"text-xs text-muted-foreground",children:"API Key (for backups)"}),s.jsxs("div",{className:"bg-gray-100 p-2 rounded flex items-center gap-2 mt-1",children:[s.jsx(Ci,{className:"h-4 w-4 text-gray-500"}),s.jsx("code",{className:"text-sm font-mono flex-1",children:j[$.id]?"biz_"+$.id.substring(0,20):"••••••••••••••••••••••••"}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>w({...j,[$.id]:!j[$.id]}),children:j[$.id]?s.jsx(jE,{className:"h-4 w-4"}):s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>Ie("biz_"+$.id),children:b==="biz_"+$.id?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):s.jsx(xi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsxs(T,{className:"text-xs text-muted-foreground",children:["Enabled Features (",$.features?.length||0,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:$.features&&$.features.length>0?$.features.map(te=>{const oe=ne.find(Le=>Le.id===te),G=Cl.includes(te);return s.jsxs(se,{variant:G?"default":"secondary",className:"text-xs",children:[oe?.name||te,G&&s.jsx(ga,{className:"h-3 w-3 ml-1"})]},te)}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"No features enabled"})})]})]}),s.jsxs(B,{onClick:()=>ae($),children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Manage"]})]})})},$.id))})]}),s.jsx(ke,{value:"catalog",className:"space-y-4",children:s.jsxs("div",{className:"grid gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[s.jsx(ga,{className:"h-5 w-5"}),"Core Features (Cannot be removed)"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Pl.core.map($=>{const te=$.icon,oe=v[$.id]||0;return s.jsxs(M,{className:"border-l-4 border-l-blue-500",children:[s.jsx(U,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(te,{className:"h-4 w-4"}),$.name]})}),s.jsxs(I,{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:$.description}),s.jsxs(se,{variant:"secondary",children:[oe," businesses"]})]})]},$.id)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Advanced Features"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Pl.advanced.map($=>{const te=$.icon,oe=v[$.id]||0;return s.jsxs(M,{children:[s.jsx(U,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(te,{className:"h-4 w-4"}),$.name]})}),s.jsxs(I,{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:$.description}),s.jsxs(se,{variant:"secondary",children:[oe," businesses"]})]})]},$.id)})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Enterprise Features"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Pl.enterprise.map($=>{const te=$.icon,oe=v[$.id]||0;return s.jsxs(M,{children:[s.jsx(U,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(te,{className:"h-4 w-4"}),$.name]})}),s.jsxs(I,{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:$.description}),s.jsxs(se,{variant:"secondary",children:[oe," businesses"]})]})]},$.id)})})]}),m.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Custom Features"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map($=>{const te=v[$.feature_id]||0;return s.jsxs(M,{children:[s.jsx(U,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[s.jsx(Jn,{className:"h-4 w-4"}),$.feature_name]})}),s.jsxs(I,{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:$.description}),s.jsxs(se,{variant:"secondary",children:[te," businesses"]})]})]},$.id)})})]})]})}),s.jsx(ke,{value:"stats",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Feature Usage Statistics"}),s.jsx(_e,{children:"See which features are most popular"})]}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-4",children:[Object.entries(v).sort(($,te)=>te[1]-$[1]).map(([$,te])=>{const oe=ne.find(Le=>Le.id===$),G=e.length>0?te/e.length*100:0;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:oe?.name||$}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[te," / ",e.length," (",G.toFixed(0),"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${G}%`}})})]},$)}),Object.keys(v).length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No feature usage data available"})]})})]})})]}),s.jsx(Qe,{open:c,onOpenChange:d,children:s.jsxs(Ye,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ge,{children:[s.jsxs(Xe,{children:["Manage Features - ",o?.businessName]}),s.jsx(Xt,{children:"Enable or disable features for this business. Core features cannot be removed."})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2 text-foreground",children:[s.jsx(ga,{className:"h-4 w-4"}),"Core Features"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ne.filter($=>Cl.includes($.id)).map($=>{const te=k.includes($.id),oe=$.icon;return s.jsx("div",{className:"border rounded-lg p-4 bg-muted/30 hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qu,{checked:te,onCheckedChange:()=>be($.id),disabled:te,className:"mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(oe,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:$.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:$.description}),s.jsxs(se,{variant:"default",className:"text-xs",children:[s.jsx(ga,{className:"h-3 w-3 mr-1"}),"Core"]})]})]})},$.id)})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2 text-foreground",children:[s.jsx(Kt,{className:"h-4 w-4"}),"Advanced Features"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ne.filter($=>!Cl.includes($.id)&&["customers","multi-location","analytics"].includes($.id)).map($=>{const te=k.includes($.id),oe=$.icon;return s.jsx("div",{className:`border rounded-lg p-4 transition-colors ${te?"bg-blue-50 border-blue-200":"bg-background hover:bg-muted/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qu,{checked:te,onCheckedChange:()=>be($.id),className:"mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(oe,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:$.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$.description})]})]})},$.id)})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2 text-foreground",children:[s.jsx(qs,{className:"h-4 w-4"}),"Enterprise Features"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ne.filter($=>!Cl.includes($.id)&&!["customers","multi-location","analytics"].includes($.id)).map($=>{const te=k.includes($.id),oe=$.icon;return s.jsx("div",{className:`border rounded-lg p-4 transition-colors ${te?"bg-purple-50 border-purple-200":"bg-background hover:bg-muted/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qu,{checked:te,onCheckedChange:()=>be($.id),className:"mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(oe,{className:"h-5 w-5 text-primary flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:$.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:$.description})]})]})},$.id)})})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx(T,{htmlFor:"reason",className:"text-sm font-semibold",children:"Reason for Change *"}),s.jsx(Dt,{id:"reason",placeholder:"Why are you making these changes? (e.g., 'Customer requested', 'Trial period', etc.)",value:C,onChange:$=>A($.target.value),rows:3,className:"mt-2"})]})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(B,{onClick:le,disabled:g||!C.trim(),children:g?"Saving...":"Save Changes"})]})]})}),s.jsx(Qe,{open:u,onOpenChange:h,children:s.jsxs(Ye,{children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Add Custom Feature"}),s.jsx(Xt,{children:"Create a new feature that can be assigned to businesses"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"feature-id",children:"Feature ID *"}),s.jsx(Z,{id:"feature-id",placeholder:"e.g., loyalty-program",value:P,onChange:$=>D($.target.value.toLowerCase().replace(/\s+/g,"-"))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use lowercase with hyphens"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"feature-name",children:"Feature Name *"}),s.jsx(Z,{id:"feature-name",placeholder:"e.g., Loyalty Program",value:E,onChange:$=>R($.target.value)})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"feature-icon",children:"Icon Name"}),s.jsx(Z,{id:"feature-icon",placeholder:"e.g., Package, Star, Gift",value:z,onChange:$=>V($.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lucide icon name"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"feature-category",children:"Category"}),s.jsxs(ve,{value:L,onValueChange:W,children:[s.jsx(je,{id:"feature-category",children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"custom",children:"Custom"}),s.jsx(F,{value:"advanced",children:"Advanced"}),s.jsx(F,{value:"enterprise",children:"Enterprise"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"feature-description",children:"Description"}),s.jsx(Dt,{id:"feature-description",placeholder:"Describe what this feature does...",value:_,onChange:$=>O($.target.value),rows:3})]})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(B,{onClick:X,disabled:g||!P||!E,children:g?"Adding...":"Add Feature"})]})]})})]})}function yde({businesses:e,onRefresh:t}){const[r,n]=p.useState("6m"),[a,i]=p.useState("revenue"),o=[],l=[],c=[],d=e.sort((f,v)=>v.monthlyRevenue-f.monthlyRevenue).slice(0,5),u=e.reduce((f,v)=>(f[v.plan]=(f[v.plan]||0)+1,f),{}),h=e.reduce((f,v)=>{const x=v.plan==="basic"?200:v.plan==="pro"?400:800;return f+x},0),m=e.length>0?h/e.length:0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Analytics & Insights"}),s.jsx("p",{className:"text-muted-foreground",children:"Business performance, revenue trends, and user adoption"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ve,{value:r,onValueChange:n,children:[s.jsx(je,{className:"w-32",children:s.jsx(ye,{placeholder:"Time range"})}),s.jsxs(we,{children:[s.jsx(F,{value:"1m",children:"1 Month"}),s.jsx(F,{value:"3m",children:"3 Months"}),s.jsx(F,{value:"6m",children:"6 Months"}),s.jsx(F,{value:"1y",children:"1 Year"})]})]}),s.jsxs(B,{onClick:t,variant:"outline",size:"sm",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{variant:"outline",size:"sm",children:[s.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Total MRR"}),s.jsx(Tt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["₵",h.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly Recurring Revenue"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Average ARPU"}),s.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["₵",Math.round(m)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Average Revenue Per User"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Active Businesses"}),s.jsx(At,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.filter(f=>f.status==="active").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Churn Rate"}),s.jsx(Ij,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"2.5%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly churn rate"})]})]})]}),s.jsxs(mn,{value:a,onValueChange:i,className:"space-y-4",children:[s.jsxs(pn,{className:"grid w-full grid-cols-4",children:[s.jsx(Se,{value:"revenue",children:"Revenue"}),s.jsx(Se,{value:"retention",children:"Retention"}),s.jsx(Se,{value:"adoption",children:"Adoption"}),s.jsx(Se,{value:"leaderboards",children:"Leaderboards"})]}),s.jsxs(ke,{value:"revenue",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"MRR Growth"}),s.jsx(_e,{children:"Monthly Recurring Revenue over time"})]}),s.jsx(I,{children:s.jsx(Ao,{config:{mrr:{label:"MRR",color:"hsl(var(--primary))"}},className:"h-64",children:s.jsxs(Kx,{data:o,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"month"}),s.jsx(hr,{}),s.jsx(Kl,{content:s.jsx(Vl,{})}),s.jsx(zi,{type:"monotone",dataKey:"mrr",stroke:"var(--color-mrr)",strokeWidth:2})]})})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Plan Distribution"}),s.jsx(_e,{children:"Business distribution by plan"})]}),s.jsx(I,{children:s.jsx(Ao,{config:{basic:{label:"Basic",color:"hsl(var(--chart-1))"},pro:{label:"Pro",color:"hsl(var(--chart-2))"},enterprise:{label:"Enterprise",color:"hsl(var(--chart-3))"}},className:"h-64",children:s.jsxs(bN,{children:[s.jsx(Bx,{data:Object.entries(u).map(([f,v])=>({plan:f,count:v})),dataKey:"count",nameKey:"plan",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8"}),s.jsx(Kl,{content:s.jsx(Vl,{})}),s.jsx(r_,{content:s.jsx(n_,{})})]})})})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Revenue Breakdown"}),s.jsx(_e,{children:"Revenue by plan and business type"})]}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["₵",u.basic*200||0]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic Plan Revenue"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.basic||0," businesses"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["₵",u.pro*400||0]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pro Plan Revenue"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.pro||0," businesses"]})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-amber-600",children:["₵",u.enterprise*800||0]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise Plan Revenue"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.enterprise||0," businesses"]})]})]})})]})]}),s.jsx(ke,{value:"retention",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Retention Cohort"}),s.jsx(_e,{children:"Business retention by signup month"})]}),s.jsx(I,{children:s.jsx(Ao,{config:{month0:{label:"Month 0",color:"hsl(var(--chart-1))"},month1:{label:"Month 1",color:"hsl(var(--chart-2))"},month2:{label:"Month 2",color:"hsl(var(--chart-3))"},month3:{label:"Month 3",color:"hsl(var(--chart-4))"},month4:{label:"Month 4",color:"hsl(var(--chart-5))"},month5:{label:"Month 5",color:"hsl(var(--chart-6))"}},className:"h-80",children:s.jsxs(Xs,{data:l,children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{dataKey:"cohort"}),s.jsx(hr,{}),s.jsx(Kl,{content:s.jsx(Vl,{})}),s.jsx(r_,{content:s.jsx(n_,{})}),s.jsx(dr,{dataKey:"month0",stackId:"a",fill:"var(--color-month0)"}),s.jsx(dr,{dataKey:"month1",stackId:"a",fill:"var(--color-month1)"}),s.jsx(dr,{dataKey:"month2",stackId:"a",fill:"var(--color-month2)"}),s.jsx(dr,{dataKey:"month3",stackId:"a",fill:"var(--color-month3)"}),s.jsx(dr,{dataKey:"month4",stackId:"a",fill:"var(--color-month4)"}),s.jsx(dr,{dataKey:"month5",stackId:"a",fill:"var(--color-month5)"})]})})})]})}),s.jsxs(ke,{value:"adoption",className:"space-y-4",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Feature Adoption"}),s.jsx(_e,{children:"Feature usage across all businesses"})]}),s.jsx(I,{children:s.jsx(Ao,{config:{usage:{label:"Usage %",color:"hsl(var(--primary))"}},className:"h-64",children:s.jsxs(Xs,{data:c,layout:"horizontal",children:[s.jsx(Cr,{strokeDasharray:"3 3"}),s.jsx(Pr,{type:"number",domain:[0,100]}),s.jsx(hr,{dataKey:"feature",type:"category",width:100}),s.jsx(Kl,{content:s.jsx(Vl,{})}),s.jsx(dr,{dataKey:"usage",fill:"var(--color-usage)"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Top Features"}),s.jsx(_e,{children:"Most used features"})]}),s.jsx(I,{className:"space-y-2",children:c.slice(0,5).map((f,v)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["#",v+1]}),s.jsx("span",{className:"text-sm",children:f.feature})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[f.usage,"%"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.businesses," businesses"]})]})]},f.feature))})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Underutilized Features"}),s.jsx(_e,{children:"Features with low adoption"})]}),s.jsx(I,{className:"space-y-2",children:c.slice(-3).map((f,v)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:["#",c.length-2+v]}),s.jsx("span",{className:"text-sm",children:f.feature})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium text-red-600",children:[f.usage,"%"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.businesses," businesses"]})]})]},f.feature))})]})]})]}),s.jsxs(ke,{value:"leaderboards",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"h-5 w-5"}),"Top Performing Businesses"]}),s.jsx(_e,{children:"By monthly revenue"})]}),s.jsx(I,{className:"space-y-3",children:d.map((f,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-bold text-yellow-600",children:["#",v+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:f.businessName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.plan," • ",f.businessType]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["₵",f.monthlyRevenue]}),s.jsx(se,{className:f.status==="active"?"bg-green-500":"bg-red-500",variant:"outline",children:f.status})]})]},f.id))})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-5 w-5"}),"Newest Businesses"]}),s.jsx(_e,{children:"Recently registered"})]}),s.jsx(I,{className:"space-y-3",children:e.sort((f,v)=>new Date(v.createdAt).getTime()-new Date(f.createdAt).getTime()).slice(0,5).map((f,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-bold text-blue-600",children:["#",v+1]})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:f.businessName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.plan," • ",f.businessType]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(f.createdAt).toLocaleDateString()}),s.jsx(se,{className:f.setupComplete?"bg-green-500":"bg-yellow-500",variant:"outline",children:f.setupComplete?"Complete":"Pending"})]})]},f.id))})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-5 w-5"}),"Business Activity Summary"]}),s.jsx(_e,{children:"Overall platform activity and engagement"})]}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Businesses"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(f=>f.status==="active").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Businesses"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.reduce((f,v)=>f+v.activeLogins,0)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logins"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-amber-600",children:e.filter(f=>f.setupComplete).length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Setup Complete"})]})]})})]})]})]})]})}function jde({onRefresh:e}){const[t,r]=p.useState("system"),[n,a]=p.useState(!1),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[d,u]=p.useState([]),[h,m]=p.useState(!1),[f,v]=p.useState(!1),[x,g]=p.useState(""),[y,j]=p.useState([]),[w,b]=p.useState("1000"),[N,k]=p.useState(null),[S,C]=p.useState(null),[A,P]=p.useState("5"),[D,E]=p.useState("30"),[R,z]=p.useState(!0),[V,L]=p.useState(!1),[W,_]=p.useState("1500"),[O,re]=p.useState("200"),[H,X]=p.useState("3000"),[ae,le]=p.useState("400"),[be,Ie]=p.useState("5000"),[ne,Pe]=p.useState("800"),[$,te]=p.useState(!1),[oe,G]=p.useState(!0),[Le,Te]=p.useState(!1),[St,yt]=p.useState("8"),[lr,Os]=p.useState("Rekon360"),[Zc,ul]=p.useState(""),[Ts,no]=p.useState("#3b82f6"),[Jr,so]=p.useState("#64748b");p.useEffect(()=>{eu()},[]);const eu=async()=>{const{data:ce,error:ft}=await Et.getAllApiKeys();ce&&!ft&&u(ce)},Tr=async()=>{if(!x||y.length===0){alert("Please provide a key name and at least one permission");return}const{data:ce,error:ft}=await Et.createApiKey({key_name:x,permissions:y,rate_limit:parseInt(w)});ft?alert(`Failed to create API key: ${ft}`):ce&&(u([ce,...d]),v(!1),g(""),j([]),b("1000"),k(ce),m(!0))},Ds=async ce=>{if(!confirm("Are you sure you want to delete this API key? This cannot be undone."))return;const{error:ft}=await Et.deleteApiKey(ce);ft?alert(`Failed to delete API key: ${ft}`):u(d.filter(Ja=>Ja.id!==ce))},tu=async(ce,ft)=>{const{error:Ja}=await Et.updateApiKey(ce,{is_active:!ft});Ja?alert(`Failed to update API key: ${Ja}`):u(d.map($e=>$e.id===ce?{...$e,is_active:!ft}:$e))},dl=ce=>{navigator.clipboard.writeText(ce),C(ce),setTimeout(()=>C(null),2e3)},Xa=ce=>{y.includes(ce)?j(y.filter(ft=>ft!==ce)):j([...y,ce])},ru=()=>{console.log("Saving settings...")},hl=()=>{console.log("Exporting configuration..."),a(!1)},ao=()=>{console.log("Importing configuration..."),o(!1)},Ms=()=>{console.log("Performing dangerous action..."),c(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"System Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure system behavior, pricing, and access controls"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:e,variant:"outline",size:"sm",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(B,{onClick:ru,children:[s.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Save All"]})]})]}),s.jsxs(mn,{value:t,onValueChange:r,className:"space-y-6",children:[s.jsxs(pn,{className:"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[s.jsx(Se,{value:"system",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"System"}),s.jsx(Se,{value:"pricing",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"Pricing"}),s.jsx(Se,{value:"api",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"API Keys"}),s.jsx(Se,{value:"roles",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"Roles & Access"}),s.jsx(Se,{value:"branding",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"Branding"})]}),s.jsx(ke,{value:"system",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(hn,{className:"h-5 w-5"}),"System Configuration"]}),s.jsx(_e,{children:"Core system settings and behavior"})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"sync-interval",children:"Sync Interval (minutes)"}),s.jsx(Z,{id:"sync-interval",value:A,onChange:ce=>P(ce.target.value),placeholder:"5",className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"How often to sync data with Supabase"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"reminder-days",children:"Payment Reminder Days"}),s.jsx(Z,{id:"reminder-days",value:D,onChange:ce=>E(ce.target.value),placeholder:"30",className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Days before due date to send reminders"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"auto-reminders",className:"text-sm font-medium",children:"Auto Reminders"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically send payment reminders"})]}),s.jsx(Ct,{id:"auto-reminders",checked:R,onCheckedChange:z})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"maintenance-mode",className:"text-sm font-medium",children:"Maintenance Mode"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Temporarily disable system access"})]}),s.jsx(Ct,{id:"maintenance-mode",checked:V,onCheckedChange:L})]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(gp,{className:"h-5 w-5"}),"Notification Settings"]}),s.jsx(_e,{children:"Configure system notifications"})]}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Send email alerts for important events"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Payment Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Alert on overdue payments"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"System Alerts"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Alert on system issues"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Feature Updates"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notify about new features"})]}),s.jsx(Ct,{})]})]})})]})]})}),s.jsx(ke,{value:"pricing",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{className:"pb-3",children:[s.jsxs(K,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Pricing Configuration"]}),s.jsx(_e,{className:"text-sm",children:"Set pricing for different business plans (hidden from end-users)"})]}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-2xl mx-auto",children:[s.jsxs(M,{className:"border-blue-200",children:[s.jsx(U,{className:"text-center pb-0 px-2 pt-1 flex items-center justify-center",children:s.jsx("h3",{className:"text-lg font-bold text-blue-600 mb-0",children:"Basic"})}),s.jsxs(I,{className:"space-y-1 p-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"basic-upfront",className:"text-xs",children:"Upfront (₵)"}),s.jsx(Z,{id:"basic-upfront",value:W,onChange:ce=>_(ce.target.value),className:"w-full h-6 text-xs"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"basic-maintenance",className:"text-xs",children:"Maintenance (₵)"}),s.jsx(Z,{id:"basic-maintenance",value:O,onChange:ce=>re(ce.target.value),className:"w-full h-6 text-xs"})]})]})]}),s.jsxs(M,{className:"border-purple-200",children:[s.jsx(U,{className:"text-center pb-0 px-2 pt-1 flex items-center justify-center",children:s.jsx("h3",{className:"text-lg font-bold text-purple-600 mb-0",children:"Pro"})}),s.jsxs(I,{className:"space-y-1 p-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"pro-upfront",className:"text-xs",children:"Upfront (₵)"}),s.jsx(Z,{id:"pro-upfront",value:H,onChange:ce=>X(ce.target.value),className:"w-full h-6 text-xs"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"pro-maintenance",className:"text-xs",children:"Maintenance (₵)"}),s.jsx(Z,{id:"pro-maintenance",value:ae,onChange:ce=>le(ce.target.value),className:"w-full h-6 text-xs"})]})]})]}),s.jsxs(M,{className:"border-amber-200",children:[s.jsx(U,{className:"text-center pb-0 px-2 pt-1 flex items-center justify-center",children:s.jsx("h3",{className:"text-lg font-bold text-amber-600 mb-0",children:"Enterprise"})}),s.jsxs(I,{className:"space-y-1 p-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"enterprise-upfront",className:"text-xs",children:"Upfront (₵)"}),s.jsx(Z,{id:"enterprise-upfront",value:be,onChange:ce=>Ie(ce.target.value),className:"w-full h-6 text-xs"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{htmlFor:"enterprise-maintenance",className:"text-xs",children:"Maintenance (₵)"}),s.jsx(Z,{id:"enterprise-maintenance",value:ne,onChange:ce=>Pe(ce.target.value),className:"w-full h-6 text-xs"})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-base font-semibold mb-3",children:"Current Pricing Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"p-3 border rounded-lg text-center bg-blue-50",children:[s.jsxs("div",{className:"text-xl font-bold text-blue-600",children:["₵",W]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic Upfront"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["₵",O,"/month"]})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center bg-purple-50",children:[s.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["₵",H]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pro Upfront"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["₵",ae,"/month"]})]}),s.jsxs("div",{className:"p-3 border rounded-lg text-center bg-amber-50",children:[s.jsxs("div",{className:"text-xl font-bold text-amber-600",children:["₵",be]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise Upfront"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["₵",ne,"/month"]})]})]})]})]})]})}),s.jsxs(ke,{value:"api",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"API Keys Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage API keys for external integrations"})]}),s.jsxs(B,{onClick:()=>v(!0),children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]}),s.jsxs("div",{className:"grid gap-4",children:[d.map(ce=>s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ci,{className:"h-5 w-5 text-blue-500"}),s.jsx("h4",{className:"font-medium",children:ce.key_name}),s.jsx(se,{variant:ce.is_active?"default":"secondary",children:ce.is_active?"Active":"Disabled"})]}),s.jsxs("div",{className:"bg-gray-100 p-2 rounded flex items-center gap-2 mb-2",children:[s.jsxs("code",{className:"text-sm font-mono flex-1",children:[ce.key_value.substring(0,20),"...",ce.key_value.substring(ce.key_value.length-10)]}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>dl(ce.key_value),children:S===ce.key_value?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):s.jsx(xi,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:ce.permissions.map(ft=>s.jsx(se,{variant:"outline",className:"text-xs",children:ft},ft))}),s.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Rate Limit: ",ce.rate_limit,"/hr"]}),s.jsxs("span",{children:["Created: ",new Date(ce.created_at).toLocaleDateString()]}),ce.last_used&&s.jsxs("span",{children:["Last Used: ",new Date(ce.last_used).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{size:"sm",variant:"outline",onClick:()=>tu(ce.id,ce.is_active),children:ce.is_active?s.jsxs(s.Fragment,{children:[s.jsx(OF,{className:"h-4 w-4 mr-1"})," Disable"]}):s.jsxs(s.Fragment,{children:[s.jsx(RF,{className:"h-4 w-4 mr-1"})," Enable"]})}),s.jsx(B,{size:"sm",variant:"destructive",onClick:()=>Ds(ce.id),children:s.jsx(za,{className:"h-4 w-4"})})]})]})})},ce.id)),d.length===0&&s.jsx(M,{className:"border-dashed",children:s.jsxs(I,{className:"p-12 text-center",children:[s.jsx(Ci,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"font-medium text-gray-600 mb-2",children:"No API Keys"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first API key to enable external integrations"}),s.jsxs(B,{onClick:()=>v(!0),children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]})})]})]}),s.jsx(ke,{value:"roles",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-5 w-5"}),"Access Control"]}),s.jsx(_e,{children:"Manage user roles and permissions"})]}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Super Admin Assistants"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow assistants to help with admin tasks"})]}),s.jsx(Ct,{checked:$,onCheckedChange:te})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Lock Dangerous Operations"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require confirmation for destructive actions"})]}),s.jsx(Ct,{checked:oe,onCheckedChange:G})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Require Two-Factor Authentication"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Force 2FA for all admin accounts"})]}),s.jsx(Ct,{checked:Le,onCheckedChange:Te})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"session-timeout",children:"Session Timeout (hours)"}),s.jsx(Z,{id:"session-timeout",value:St,onChange:ce=>yt(ce.target.value),placeholder:"8",className:"w-full"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-logout after inactivity"})]})]})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(ga,{className:"h-5 w-5"}),"Security Settings"]}),s.jsx(_e,{children:"Configure security policies"})]}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"IP Whitelist"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Restrict access to specific IP addresses"})]}),s.jsx(Ct,{})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Login Attempts Limit"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Block after failed login attempts"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Audit Logging"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Log all admin actions"})]}),s.jsx(Ct,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{className:"text-sm font-medium",children:"Data Encryption"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Encrypt sensitive data at rest"})]}),s.jsx(Ct,{defaultChecked:!0})]})]})})]})]})}),s.jsx(ke,{value:"branding",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Mj,{className:"h-5 w-5"}),"Branding Configuration"]}),s.jsx(_e,{children:"Customize app appearance and branding"})]}),s.jsx(I,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"app-name",children:"Application Name"}),s.jsx(Z,{id:"app-name",value:lr,onChange:ce=>Os(ce.target.value),placeholder:"Rekon360"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"app-logo",children:"Logo URL"}),s.jsx(Z,{id:"app-logo",value:Zc,onChange:ce=>ul(ce.target.value),placeholder:"https://example.com/logo.png"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"primary-color",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{id:"primary-color",value:Ts,onChange:ce=>no(ce.target.value),placeholder:"#3b82f6"}),s.jsx("div",{className:"w-10 h-10 border rounded cursor-pointer",style:{backgroundColor:Ts},onClick:()=>{}})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"secondary-color",children:"Secondary Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{id:"secondary-color",value:Jr,onChange:ce=>so(ce.target.value),placeholder:"#64748b"}),s.jsx("div",{className:"w-10 h-10 border rounded cursor-pointer",style:{backgroundColor:Jr},onClick:()=>{}})]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:lr})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Colors and branding will appear in the desktop app header and sidebar"})]})]})})]})})]})})]}),s.jsx(Qe,{open:n,onOpenChange:a,children:s.jsxs(Ye,{children:[s.jsx(Ge,{children:s.jsx(Xe,{children:"Export Configuration"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Export Type"}),s.jsxs(ve,{defaultValue:"full",children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select export type"})}),s.jsxs(we,{children:[s.jsx(F,{value:"full",children:"Full Configuration"}),s.jsx(F,{value:"settings",children:"Settings Only"}),s.jsx(F,{value:"pricing",children:"Pricing Only"}),s.jsx(F,{value:"branding",children:"Branding Only"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Include Sensitive Data"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"include-sensitive"}),s.jsx(T,{htmlFor:"include-sensitive",className:"text-sm",children:"Include API keys and passwords (not recommended for sharing)"})]})]})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(B,{onClick:hl,children:"Export"})]})]})}),s.jsx(Qe,{open:i,onOpenChange:o,children:s.jsxs(Ye,{children:[s.jsx(Ge,{children:s.jsx(Xe,{children:"Import Configuration"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Configuration File"}),s.jsx(Z,{type:"file",accept:".json"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select a JSON configuration file to import"})]}),s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-600",children:[s.jsx("strong",{children:"Note:"})," This will overwrite current settings. Make sure to backup first."]})})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(B,{onClick:ao,children:"Import"})]})]})}),s.jsx(Qe,{open:l,onOpenChange:c,children:s.jsxs(Ye,{children:[s.jsx(Ge,{children:s.jsxs(Xe,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Do,{className:"h-5 w-5"}),"Confirm Dangerous Action"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm",children:"This action will permanently delete all business data, user accounts, and system settings. This cannot be undone."}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-600",children:[s.jsx("strong",{children:"Warning:"}),' Type "DELETE ALL DATA" to confirm this action.']})}),s.jsx(Z,{placeholder:"Type DELETE ALL DATA to confirm"})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(B,{variant:"destructive",onClick:Ms,children:"Delete All Data"})]})]})}),s.jsx(Qe,{open:f,onOpenChange:v,children:s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsx(Ge,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-5 w-5"}),"Create New API Key"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"key-name",children:"Key Name"}),s.jsx(Z,{id:"key-name",placeholder:"e.g., Mobile App Integration",value:x,onChange:ce=>g(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"A descriptive name to identify this key"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Permissions"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["analytics","backup_status","realtime_events","read_sales","write_products","manage_customers"].map(ce=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`perm-${ce}`,checked:y.includes(ce),onChange:()=>Xa(ce),className:"rounded"}),s.jsx(T,{htmlFor:`perm-${ce}`,className:"text-sm font-normal cursor-pointer",children:ce.replace(/_/g," ")})]},ce))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select what this key can access"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"rate-limit",children:"Rate Limit (requests/hour)"}),s.jsx(Z,{id:"rate-limit",type:"number",placeholder:"1000",value:w,onChange:ce=>b(ce.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum number of requests per hour"})]}),s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-600",children:[s.jsx("strong",{children:"Important:"})," The API key will only be shown once. Make sure to copy and save it securely."]})})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsxs(B,{onClick:Tr,children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Create Key"]})]})]})}),s.jsx(Qe,{open:h,onOpenChange:m,children:s.jsxs(Ye,{children:[s.jsx(Ge,{children:s.jsxs(Xe,{className:"flex items-center gap-2 text-green-600",children:[s.jsx(Oe,{className:"h-5 w-5"}),"API Key Created Successfully"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-600 mb-2",children:s.jsx("strong",{children:"Your API Key:"})}),s.jsxs("div",{className:"bg-white p-3 rounded flex items-center gap-2",children:[s.jsx("code",{className:"text-sm font-mono flex-1 break-all",children:N?.key_value}),s.jsx(B,{size:"sm",variant:"ghost",onClick:()=>N&&dl(N.key_value),children:S===N?.key_value?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):s.jsx(xi,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-600",children:[s.jsx("strong",{children:"Warning:"})," This is the only time you'll see this key. Make sure to copy it now!"]})}),N&&s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Key Name:"})," ",N.key_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Permissions:"})," ",N.permissions.join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Rate Limit:"})," ",N.rate_limit," requests/hour"]})]})]}),s.jsx(nn,{children:s.jsx(B,{onClick:()=>m(!1),children:"I've Saved the Key"})})]})})]})}function wde({businesses:e,onRefresh:t}){console.log("SuperAdminBackups component rendered");const[r,n]=p.useState("all"),[a,i]=p.useState([]),[o,l]=p.useState(!1),[c,d]=p.useState(""),[u,h]=p.useState("all"),[m,f]=p.useState(!1),[v,x]=p.useState(!1),[g,y]=p.useState(null),[j,w]=p.useState(0),[b,N]=p.useState(!1);if(p.useEffect(()=>{e&&e.length>=0&&k();const E=Et.subscribeToBackupUpdates(R=>{console.log("Backup update received:",R),k()});return()=>{E.unsubscribe()}},[e]),o)return s.jsx("div",{className:"flex items-center justify-center h-full p-8",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(dn,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-lg font-medium",children:"Loading backups..."})]})});const k=async()=>{try{l(!0);const{data:E,error:R}=await Et.getBackupHistory();if(R)console.error("Error loading backups:",R),i([]);else if(E&&E.length>0){const z=E.map(V=>({id:V.id,businessId:V.business_id,businessName:e.find(L=>L.id===V.business_id)?.businessName||"Unknown Business",timestamp:V.created_at,size:(V.data_size||0)/1048576,type:V.backup_type==="full"?"automatic":"manual",status:V.status==="completed"?"completed":V.status==="failed"?"failed":"in_progress",description:`${V.backup_type} backup`,dataPoints:{products:0,customers:0,sales:0,workers:0,payroll:0}}));i(z)}else i([])}catch(E){console.error("Error loading backups:",E),i([])}finally{l(!1)}},S=async()=>{if(!r||r==="all"){J.error("Please select a specific business first");return}l(!0);try{const{success:E,error:R}=await Et.triggerBackup(r,"full");E?(J.success("Backup initiated successfully"),f(!1),setTimeout(()=>k(),2e3)):J.error(R||"Failed to create backup")}catch(E){console.error("Backup creation error:",E),J.error(`Failed to create backup: ${E.message}`)}finally{l(!1)}},C=async E=>{if(confirm(`Are you sure you want to restore data from this backup to ${E.businessName}? This will overwrite their current data.`)){N(!0),w(0);try{const R=setInterval(()=>{w(L=>Math.min(L+10,90))},200),{success:z,error:V}=await Et.restoreBackup(E.businessId,E.id);clearInterval(R),z?(w(100),J.success(`Data restored to ${E.businessName} successfully!`),setTimeout(()=>{N(!1),w(0)},1e3)):(J.error(V||"Failed to restore data"),N(!1),w(0))}catch(R){console.error("Restore error:",R),J.error(`Failed to restore data: ${R.message}`),N(!1),w(0)}}},A=a.filter(E=>{const R=E.businessName.toLowerCase().includes(c.toLowerCase())||E.description.toLowerCase().includes(c.toLowerCase()),z=u==="all"||E.status===u,V=r==="all"||!r||E.businessId===r;return R&&z&&V}),P=E=>{switch(E){case"completed":return"bg-green-500";case"failed":return"bg-red-500";case"in_progress":return"bg-yellow-500";default:return"bg-gray-500"}},D=E=>{switch(E){case"automatic":return s.jsx(dn,{className:"h-4 w-4"});case"manual":return s.jsx(ha,{className:"h-4 w-4"});case"scheduled":return s.jsx(zr,{className:"h-4 w-4"});default:return s.jsx(ha,{className:"h-4 w-4"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(ha,{className:"h-6 w-6"}),"Business Backups & Data Recovery"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage backups and restore data for any business"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{onClick:()=>f(!0),children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Create Backup"]}),s.jsxs(B,{variant:"outline",onClick:t,children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{className:"text-lg",children:"Backup Management"}),s.jsx(_e,{children:"Select a business to manage their backups and data recovery"})]}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Select Business"}),s.jsxs(ve,{value:r,onValueChange:n,children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Choose a business"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Businesses"}),e.map(E=>s.jsx(F,{value:E.id,children:E.businessName},E.id))]})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Search Backups"}),s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search backups...",value:c,onChange:E=>d(E.target.value),className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Filter by Status"}),s.jsxs(ve,{value:u,onValueChange:h,children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"All statuses"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Statuses"}),s.jsx(F,{value:"completed",children:"Completed"}),s.jsx(F,{value:"failed",children:"Failed"}),s.jsx(F,{value:"in_progress",children:"In Progress"})]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ha,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Backups"})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(AF,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[a.reduce((E,R)=>E+R.size,0).toFixed(1),"GB"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Storage"})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Oe,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.filter(E=>E.status==="completed").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Successful"})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Do,{className:"h-8 w-8 text-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.filter(E=>E.status==="failed").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"})]})]})})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Backup History"}),s.jsx(_e,{children:"All backups with restore and deploy options"})]}),s.jsx(I,{children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Business"}),s.jsx(ee,{children:"Type"}),s.jsx(ee,{children:"Date"}),s.jsx(ee,{children:"Size"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Data Points"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:A.map(E=>s.jsxs(Be,{children:[s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:E.businessName})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[D(E.type),s.jsx("span",{className:"capitalize",children:E.type})]})}),s.jsxs(Q,{children:[new Date(E.timestamp).toLocaleDateString(),s.jsx("br",{}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(E.timestamp).toLocaleTimeString()})]}),s.jsxs(Q,{children:[E.size.toFixed(1),"GB"]}),s.jsx(Q,{children:s.jsx(se,{className:`${P(E.status)} text-white`,children:E.status})}),s.jsx(Q,{children:s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jn,{className:"h-3 w-3"}),E.dataPoints.products," products"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($t,{className:"h-3 w-3"}),E.dataPoints.customers," customers"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Tt,{className:"h-3 w-3"}),E.dataPoints.sales," sales"]})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(B,{size:"sm",variant:"outline",onClick:()=>{y(E),x(!0)},children:[s.jsx(Da,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(B,{size:"sm",onClick:()=>C(E),disabled:b,children:[s.jsx(em,{className:"h-4 w-4 mr-1"}),"Deploy"]})]})})]},E.id))})]})})]}),s.jsx(Qe,{open:m,onOpenChange:f,children:s.jsxs(Ye,{children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Create Manual Backup"}),s.jsx(Xt,{children:"Create a backup for the selected business. This will capture all their current data."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Business"}),s.jsxs(ve,{value:r,onValueChange:n,children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select business"})}),s.jsx(we,{children:e.map(E=>s.jsx(F,{value:E.id,children:E.businessName},E.id))})]})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Backup Description"}),s.jsx(Dt,{placeholder:"Describe this backup (e.g., 'Before major update', 'Monthly backup')",className:"min-h-20"})]})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(B,{onClick:S,disabled:o||!r,children:o?"Creating...":"Create Backup"})]})]})}),s.jsx(Qe,{open:v,onOpenChange:x,children:s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Backup Details & Recovery Options"}),s.jsx(Xt,{children:"View backup details and choose recovery options for this business."})]}),g&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Backup Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Business:"}),s.jsx("span",{className:"font-medium",children:g.businessName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Date:"}),s.jsx("span",{children:new Date(g.timestamp).toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Size:"}),s.jsxs("span",{children:[g.size.toFixed(1),"GB"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Type:"}),s.jsx("span",{className:"capitalize",children:g.type})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Data Contents"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Products:"}),s.jsx("span",{children:g.dataPoints.products})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Customers:"}),s.jsx("span",{children:g.dataPoints.customers})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sales Records:"}),s.jsx("span",{children:g.dataPoints.sales})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Workers:"}),s.jsx("span",{children:g.dataPoints.workers})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Payroll Records:"}),s.jsx("span",{children:g.dataPoints.payroll})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Recovery Options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"Deploy to Business System"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this backup data to the business's system to restore their data"})]}),s.jsxs(B,{onClick:()=>C(g),children:[s.jsx(em,{className:"h-4 w-4 mr-2"}),"Deploy Now"]})]})}),s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"Download Backup File"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Download the backup file for manual restoration"})]}),s.jsxs(B,{variant:"outline",children:[s.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Download"]})]})})]})]}),b&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["Deploying data to ",g.businessName,"..."]}),s.jsxs("span",{children:[j,"%"]})]}),s.jsx(fw,{value:j,className:"w-full"})]})]}),s.jsx(nn,{children:s.jsx(B,{variant:"outline",onClick:()=>x(!1),children:"Close"})})]})})]})}const bde=[{id:"dashboard",name:"Dashboard",icon:Mi,category:"core"},{id:"products",name:"Products",icon:Jn,category:"core"},{id:"orders",name:"Orders",icon:bs,category:"core"},{id:"reports",name:"Reports",icon:Mi,category:"core"},{id:"settings",name:"Settings",icon:hn,category:"core"},{id:"workers",name:"Workers",icon:$t,category:"advanced"},{id:"customers",name:"Customers",icon:$t,category:"advanced"},{id:"multi-location",name:"Multi-location",icon:Yn,category:"advanced"},{id:"warehouse",name:"Warehouse",icon:At,category:"enterprise"},{id:"analytics",name:"Analytics",icon:Kt,category:"enterprise"},{id:"api",name:"API Access",icon:vp,category:"enterprise"},{id:"priority-support",name:"Priority Support",icon:qs,category:"enterprise"}];function Nde({onLogout:e}){const[t,r]=p.useState("dashboard"),[n,a]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(""),[d,u]=p.useState("all"),[h,m]=p.useState(null),[f,v]=p.useState(!1),[x,g]=p.useState(!1),[y,j]=p.useState({businessId:"",amount:"",paymentMethod:"",reference:"",notes:""});p.useEffect(()=>{w();const N=Et.subscribeToBusinessUpdates(S=>{console.log("Business update received:",S),w()}),k=Et.subscribeToPaymentUpdates(S=>{console.log("Payment update received:",S),w()});return()=>{N.unsubscribe(),k.unsubscribe()}},[]);const w=async()=>{o(!0);try{const{data:N,error:k}=await Et.getAllBusinesses();if(k){J.error(`Failed to load businesses: ${k}`),a([]);return}if(N&&N.length>0){const S=N.map(C=>({id:C.id,businessName:C.business_name,businessType:C.business_type||"retail",email:C.email||C.owner_email||"No email",plan:C.plan,status:C.status,features:C.features||["dashboard","products","orders","reports"],paymentStatus:C.payment_status,lastPayment:C.last_payment_date||"",renewalDate:C.next_payment_date||C.next_maintenance_due||"",totalSales:0,monthlyRevenue:C.monthly_revenue||C.upfront_payment+C.maintenance_fee||0,setupComplete:C.setup_complete!==!1,activeLogins:0,createdAt:C.created_at,ownerName:C.owner_name,ownerPhone:C.owner_phone,businessPhone:C.business_phone,businessAddress:C.business_address,businessDescription:C.business_description,city:C.city,region:C.region,registrationNumber:C.registration_number,tinNumber:C.tin_number,yearEstablished:C.year_established,numberOfEmployees:C.number_of_employees,productsCount:C.products_count,averageMonthlySales:C.average_monthly_sales,businessSize:C.business_size,businessConfig:C.business_config,business_type:C.business_type,business_phone:C.business_phone,business_address:C.business_address,next_payment_date:C.next_payment_date,next_maintenance_due:C.next_maintenance_due,payment_history:C.payment_history}));a(S),J.success(`Loaded ${S.length} businesses`)}else a([]),J.info("No businesses found")}catch(N){console.error("Error loading businesses:",N),J.error("Failed to load businesses"),a([])}finally{o(!1)}};n.filter(N=>{const k=N.businessName.toLowerCase().includes(l.toLowerCase())||N.email.toLowerCase().includes(l.toLowerCase()),S=d==="all"||N.status===d;return k&&S});const b={totalBusinesses:n.length,activeBusinesses:n.filter(N=>N.status==="active").length,totalRevenue:n.reduce((N,k)=>N+k.monthlyRevenue,0),overduePayments:n.filter(N=>N.paymentStatus==="overdue").length,newThisMonth:n.filter(N=>{const k=new Date(N.createdAt),S=new Date;return k.getMonth()===S.getMonth()&&k.getFullYear()===S.getFullYear()}).length,renewalsDue:n.filter(N=>{const k=new Date(N.renewalDate),S=new Date,C=Math.ceil((k.getTime()-S.getTime())/(1e3*60*60*24));return C<=30&&C>=0}).length};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(dn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:"Loading Super Admin Panel..."})]})}):s.jsxs("div",{className:"h-screen flex",children:[s.jsx(lde,{activeTab:t,onSelect:r,user:{name:"Super Admin",role:"super_admin"},onLogout:e}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsxs("div",{className:"p-4 compact-spacing h-full overflow-auto",children:[i&&s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(dn,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-lg font-medium",children:"Loading data..."})]})}),!i&&t==="dashboard"&&s.jsx("div",{className:"space-y-4",children:s.jsx(s_,{stats:b,businesses:n,onNavigate:r,onVerifyPayment:()=>g(!0)})}),!i&&t==="signup-requests"&&s.jsx("div",{className:"space-y-4",children:s.jsx(dde,{})}),!i&&t==="businesses"&&s.jsx("div",{className:"space-y-4",children:s.jsx(xde,{businesses:n,onRefresh:w})}),!i&&t==="payments"&&s.jsx("div",{className:"space-y-4",children:s.jsx(gde,{businesses:n,onRefresh:w})}),!i&&t==="features"&&s.jsx("div",{className:"space-y-4",children:s.jsx(vde,{businesses:n,onRefresh:w})}),!i&&t==="backups"&&s.jsx("div",{className:"space-y-4",children:s.jsx(wde,{businesses:n,onRefresh:w})}),!i&&t==="analytics"&&s.jsx("div",{className:"space-y-4",children:s.jsx(yde,{businesses:n,onRefresh:w})}),!i&&t==="settings"&&s.jsx("div",{className:"space-y-4",children:s.jsx(jde,{onRefresh:w})}),!i&&!t&&s.jsx("div",{className:"space-y-4",children:s.jsx(s_,{stats:b,businesses:n,onNavigate:r,onVerifyPayment:()=>g(!0)})})]})}),s.jsx(Qe,{open:f,onOpenChange:v,children:s.jsxs(Ye,{className:"max-w-4xl",children:[s.jsx(Ge,{children:s.jsx(Xe,{children:"Business Details"})}),h&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Business Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Name:"})," ",h.businessName]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Type:"})," ",h.businessType]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Email:"})," ",h.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Plan:"})," ",h.plan]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Status:"})," ",h.status]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Performance"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Total Sales:"})," ",h.totalSales]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Monthly Revenue:"})," ₵",h.monthlyRevenue]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Active Logins:"})," ",h.activeLogins]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-semibold",children:"Setup Complete:"})," ",h.setupComplete?"Yes":"No"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Features"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:bde.map(N=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(N.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:N.name}),h.features.includes(N.id)?s.jsx(Oe,{className:"h-4 w-4 text-green-500"}):s.jsx(Ei,{className:"h-4 w-4 text-red-500"})]},N.id))})]})]})]})}),s.jsx(Qe,{open:x,onOpenChange:g,children:s.jsxs(Ye,{children:[s.jsxs(Ge,{children:[s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5"}),"Verify Payment"]}),s.jsx(Xt,{children:"Manually verify a payment for a business"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"business-select",children:"Select Business"}),s.jsxs(ve,{value:y.businessId,onValueChange:N=>j({...y,businessId:N}),children:[s.jsx(je,{id:"business-select",children:s.jsx(ye,{placeholder:"Choose a business"})}),s.jsx(we,{children:n.map(N=>s.jsxs(F,{value:N.id,children:[N.businessName," - ",N.email]},N.id))})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"amount",children:"Amount (₵)"}),s.jsx(Z,{id:"amount",type:"number",placeholder:"400",value:y.amount,onChange:N=>j({...y,amount:N.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"payment-method",children:"Payment Method"}),s.jsxs(ve,{value:y.paymentMethod,onValueChange:N=>j({...y,paymentMethod:N}),children:[s.jsx(je,{id:"payment-method",children:s.jsx(ye,{placeholder:"Select payment method"})}),s.jsxs(we,{children:[s.jsx(F,{value:"MoMo",children:"Mobile Money (MoMo)"}),s.jsx(F,{value:"Bank Transfer",children:"Bank Transfer"}),s.jsx(F,{value:"Cash",children:"Cash"}),s.jsx(F,{value:"Card",children:"Card"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"reference",children:"Reference/Transaction ID (Optional)"}),s.jsx(Z,{id:"reference",placeholder:"e.g., TXN123456",value:y.reference,onChange:N=>j({...y,reference:N.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"notes",children:"Notes (Optional)"}),s.jsx(Dt,{id:"notes",placeholder:"Additional notes about this payment...",value:y.notes,onChange:N=>j({...y,notes:N.target.value}),rows:3})]}),s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-600",children:[s.jsx("strong",{children:"Note:"})," This will mark the payment as verified and update the business payment status."]})})]}),s.jsxs(nn,{children:[s.jsx(B,{variant:"outline",onClick:()=>{g(!1),j({businessId:"",amount:"",paymentMethod:"",reference:"",notes:""})},children:"Cancel"}),s.jsxs(B,{onClick:async()=>{if(!y.businessId||!y.amount||!y.paymentMethod){J.error("Please fill in all required fields");return}try{const{success:N,error:k}=await Et.verifyPayment({business_id:y.businessId,amount:parseFloat(y.amount),payment_type:parseFloat(y.amount)>=1e3?"upfront":"maintenance",payment_method:y.paymentMethod,notes:y.notes||void 0});N?(J.success("Payment verified successfully!"),g(!1),j({businessId:"",amount:"",paymentMethod:"",reference:"",notes:""}),w()):J.error(k||"Failed to verify payment")}catch(N){J.error(`Error: ${N.message}`)}},children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Verify Payment"]})]})]})})]})}function Sde(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,l]=p.useState("all"),[c,d]=p.useState("all");p.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0),t([])}catch(j){console.error("Error loading suppliers:",j),J.error("Error loading suppliers")}finally{n(!1)}},h=e.filter(j=>{const w=j.name.toLowerCase().includes(a.toLowerCase())||j.email.toLowerCase().includes(a.toLowerCase())||j.id.toLowerCase().includes(a.toLowerCase()),b=o==="all"||j.status===o,N=c==="all"||j.category===c;return w&&b&&N}),m=j=>{switch(j){case"Active":return s.jsx(se,{children:"Active"});case"Inactive":return s.jsx(se,{variant:"secondary",children:"Inactive"});case"Suspended":return s.jsx(se,{variant:"destructive",children:"Suspended"});default:return s.jsx(se,{variant:"outline",children:j})}},f=j=>Array.from({length:5},(w,b)=>s.jsx(qs,{className:`h-4 w-4 ${b<Math.floor(j)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},b)),v=e.length,x=e.filter(j=>j.status==="Active").length,g=e.reduce((j,w)=>j+w.totalPurchased,0),y=e.reduce((j,w)=>j+w.rating,0)/e.length;return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Supplier Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your wholesale suppliers"})]}),s.jsxs(Qe,{children:[s.jsx(Ji,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Add Supplier"]})}),s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Add New Supplier"}),s.jsx(Xt,{children:"Enter the details for the new supplier."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"supplierName",children:"Company Name"}),s.jsx(Z,{id:"supplierName",placeholder:"Enter company name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"supplierCategory",children:"Category"}),s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select category"})}),s.jsxs(we,{children:[s.jsx(F,{value:"cleaning",children:"Cleaning Supplies"}),s.jsx(F,{value:"personal",children:"Personal Care"}),s.jsx(F,{value:"food",children:"Food & Beverages"}),s.jsx(F,{value:"household",children:"Household Items"}),s.jsx(F,{value:"general",children:"General Supplies"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"supplierEmail",children:"Email"}),s.jsx(Z,{id:"supplierEmail",type:"email",placeholder:"supplier@company.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"supplierPhone",children:"Phone"}),s.jsx(Z,{id:"supplierPhone",placeholder:"+1 (555) 123-4567"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"supplierAddress",children:"Address"}),s.jsx(Dt,{id:"supplierAddress",placeholder:"Enter full address"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"paymentTerms",children:"Payment Terms"}),s.jsxs(ve,{children:[s.jsx(je,{children:s.jsx(ye,{placeholder:"Select terms"})}),s.jsxs(we,{children:[s.jsx(F,{value:"cod",children:"COD"}),s.jsx(F,{value:"net15",children:"Net 15"}),s.jsx(F,{value:"net30",children:"Net 30"}),s.jsx(F,{value:"net45",children:"Net 45"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{htmlFor:"leadTime",children:"Lead Time"}),s.jsx(Z,{id:"leadTime",placeholder:"e.g., 3-5 days"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",children:"Cancel"}),s.jsx(B,{children:"Add Supplier"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(M,{children:s.jsx(I,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Suppliers"}),s.jsx("p",{className:"text-2xl",children:v})]}),s.jsx(IF,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(M,{children:s.jsx(I,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Suppliers"}),s.jsx("p",{className:"text-2xl",children:x})]}),s.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:"✓"})})]})})}),s.jsx(M,{children:s.jsx(I,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Purchased"}),s.jsxs("p",{className:"text-2xl",children:["$",g.toLocaleString()]})]}),s.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm",children:"💰"})})]})})}),s.jsx(M,{children:s.jsx(I,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Rating"}),s.jsx("p",{className:"text-2xl",children:y.toFixed(1)})]}),s.jsx("div",{className:"h-8 w-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(qs,{className:"h-4 w-4 text-yellow-600"})})]})})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsx(K,{children:"Supplier Filters"})}),s.jsx(I,{children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx("div",{className:"flex-1 min-w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search suppliers...",className:"pl-10",value:a,onChange:j=>i(j.target.value)})]})}),s.jsxs(ve,{value:o,onValueChange:l,children:[s.jsx(je,{className:"w-48",children:s.jsx(ye,{placeholder:"All Status"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"Active",children:"Active"}),s.jsx(F,{value:"Inactive",children:"Inactive"}),s.jsx(F,{value:"Suspended",children:"Suspended"})]})]}),s.jsxs(ve,{value:c,onValueChange:d,children:[s.jsx(je,{className:"w-48",children:s.jsx(ye,{placeholder:"All Categories"})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Categories"}),s.jsx(F,{value:"Cleaning Supplies",children:"Cleaning Supplies"}),s.jsx(F,{value:"Personal Care",children:"Personal Care"}),s.jsx(F,{value:"Food & Beverages",children:"Food & Beverages"}),s.jsx(F,{value:"Household Items",children:"Household Items"}),s.jsx(F,{value:"General Supplies",children:"General Supplies"})]})]})]})})]}),s.jsxs(M,{children:[s.jsx(U,{children:s.jsxs(K,{children:["Suppliers (",h.length,")"]})}),s.jsx(I,{children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Supplier"}),s.jsx(ee,{children:"Contact"}),s.jsx(ee,{children:"Category"}),s.jsx(ee,{children:"Rating"}),s.jsx(ee,{children:"Orders"}),s.jsx(ee,{children:"Total Purchased"}),s.jsx(ee,{children:"Terms"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Actions"})]})}),s.jsx(vr,{children:h.map(j=>s.jsxs(Be,{children:[s.jsx(Q,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:j.name}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:j.id})]})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Pi,{className:"h-3 w-3"}),j.email]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(dd,{className:"h-3 w-3"}),j.phone]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Yn,{className:"h-3 w-3"}),j.address.split(",")[0],"..."]})]})}),s.jsx(Q,{children:j.category}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[f(j.rating),s.jsx("span",{className:"text-sm ml-1",children:j.rating})]})}),s.jsx(Q,{children:j.totalOrders}),s.jsxs(Q,{children:["$",j.totalPurchased.toLocaleString()]}),s.jsx(Q,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:j.paymentTerms}),s.jsx("p",{className:"text-muted-foreground",children:j.leadTime})]})}),s.jsx(Q,{children:m(j.status)}),s.jsx(Q,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(B,{variant:"outline",size:"sm",children:s.jsx(jp,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",children:s.jsx(za,{className:"h-4 w-4"})})]})})]},j.id))})]})})]})]})}function kde({isAdmin:e=!1,currentUser:t}){const[r,n]=p.useState([]),[a,i]=p.useState(""),[o,l]=p.useState("all");p.useState(null);const c=r.filter(g=>{const y=g.receiptId.toLowerCase().includes(a.toLowerCase())||g.cashierName.toLowerCase().includes(a.toLowerCase())||g.reason.toLowerCase().includes(a.toLowerCase()),j=o==="all"||g.status===o;return y&&j}),d=g=>{n(y=>y.map(j=>j.id===g?{...j,status:"approved",approvedBy:t?.name||"Admin"}:j))},u=(g,y)=>{n(j=>j.map(w=>w.id===g?{...w,status:"rejected",notes:y,approvedBy:t?.name||"Admin"}:w))},h=g=>{switch(g){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},m=g=>{switch(g){case"pending":return s.jsx(Do,{className:"h-4 w-4"});case"approved":return s.jsx(kg,{className:"h-4 w-4"});case"rejected":return s.jsx(Ei,{className:"h-4 w-4"});default:return s.jsx(zr,{className:"h-4 w-4"})}},f=r.filter(g=>g.status==="pending").length,v=r.filter(g=>g.status==="approved").length,x=r.filter(g=>g.status==="rejected").length;return s.jsxs("div",{className:"p-6 space-y-6 h-full overflow-auto",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Sales Corrections"}),s.jsx("p",{className:"text-muted-foreground",children:e?"Review and approve sale corrections from cashiers":"View your submitted corrections"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Do,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:f})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kg,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Approved"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:v})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ei,{className:"h-5 w-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Rejected"}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:x})]})]})})}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length})]})]})})})]}),s.jsx(M,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Dn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Z,{placeholder:"Search by receipt ID, cashier, or reason...",value:a,onChange:g=>i(g.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tj,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(ve,{value:o,onValueChange:l,children:[s.jsx(je,{className:"w-32",children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"all",children:"All Status"}),s.jsx(F,{value:"pending",children:"Pending"}),s.jsx(F,{value:"approved",children:"Approved"}),s.jsx(F,{value:"rejected",children:"Rejected"})]})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.length===0?s.jsx(M,{children:s.jsxs(I,{className:"p-8 text-center",children:[s.jsx(_i,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No corrections found matching your criteria"})]})}):c.map(g=>s.jsxs(M,{className:"border-l-4 border-l-blue-500",children:[s.jsx(U,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(se,{className:h(g.status),children:[m(g.status),s.jsx("span",{className:"ml-1",children:g.status.toUpperCase()})]}),s.jsxs("div",{children:[s.jsxs(K,{className:"text-lg",children:["Receipt #",g.receiptId]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Correction #",g.id]})]})]}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zr,{className:"h-3 w-3"}),g.timestamp]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(Ko,{className:"h-3 w-3"}),g.cashierName," (",g.shopId,")"]})]})]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{className:"text-sm font-medium",children:"Reason for Correction:"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.reason})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{className:"text-sm font-medium text-red-600",children:"Original Sale"}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-950 p-3 rounded-lg space-y-2",children:[g.originalItems.map((y,j)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-sm",children:[y.name," (",y.size,")"]}),s.jsxs("span",{className:"text-sm font-medium",children:["$",y.price," x ",y.quantity]})]},j)),s.jsx(Fs,{}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",g.originalAmount]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(T,{className:"text-sm font-medium text-green-600",children:"Corrected Sale"}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-3 rounded-lg space-y-2",children:[g.correctedItems.map((y,j)=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-sm",children:[y.name," (",y.size,")"]}),s.jsxs("span",{className:"text-sm font-medium",children:["$",y.price," x ",y.quantity]})]},j)),s.jsx(Fs,{}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",g.correctedAmount]})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Tt,{className:"h-4 w-4"}),s.jsx("span",{children:"Amount Difference: "}),s.jsxs("span",{className:`font-medium ${g.correctedAmount>g.originalAmount?"text-green-600":g.correctedAmount<g.originalAmount?"text-red-600":"text-muted-foreground"}`,children:[g.correctedAmount>g.originalAmount?"+":"","$",g.correctedAmount-g.originalAmount]})]}),g.notes&&s.jsxs(Np,{children:[s.jsx(Do,{className:"h-4 w-4"}),s.jsxs(Sp,{children:[s.jsx("strong",{children:"Admin Notes:"})," ",g.notes]})]}),e&&g.status==="pending"&&s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(B,{onClick:()=>d(g.id),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(kg,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(B,{onClick:()=>u(g.id,"Requires more information"),variant:"destructive",children:[s.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),g.approvedBy&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[g.status==="approved"?"Approved":"Rejected"," by ",g.approvedBy]})]})]},g.id))})]})}function Cde(){const[e,t]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState({}),[o,l]=p.useState(!1),[c,d]=p.useState(""),u=()=>{if(!c.trim()){J.error("Please enter a name for the API key");return}const b={id:Date.now().toString(),name:c,key:`sk_live_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,createdAt:new Date().toISOString().split("T")[0],lastUsed:null,requests:0,status:"active"};t([...e,b]),J.success("API key generated successfully"),l(!1),d("")},h=b=>{navigator.clipboard.writeText(b),J.success("API key copied to clipboard")},m=b=>{window.confirm("Are you sure you want to revoke this API key? This action cannot be undone.")&&(t(e.map(k=>k.id===b?{...k,status:"revoked"}:k)),J.success("API key revoked"))},f=b=>{i({...a,[b]:!a[b]})},v=b=>b.substring(0,12)+"•".repeat(b.length-12),x=b=>b==="active"?s.jsxs(se,{className:"bg-green-100 text-green-800",children:[s.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Active"]}):s.jsxs(se,{className:"bg-red-100 text-red-800",children:[s.jsx(Do,{className:"h-3 w-3 mr-1"}),"Revoked"]}),g=b=>{const N={GET:"bg-blue-100 text-blue-800",POST:"bg-green-100 text-green-800",PUT:"bg-yellow-100 text-yellow-800",DELETE:"bg-red-100 text-red-800"};return s.jsx(se,{className:N[b]||"",children:b})},y=b=>b>=200&&b<300?"text-green-600":b>=400&&b<500?"text-yellow-600":b>=500?"text-red-600":"text-gray-600",j=e.reduce((b,N)=>b+N.requests,0),w=e.filter(b=>b.status==="active").length;return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2",children:[s.jsx(Id,{className:"h-7 w-7"}),"API Access"]}),s.jsx("p",{className:"text-muted-foreground",children:"Manage API keys and monitor usage"})]}),s.jsxs(Qe,{open:o,onOpenChange:l,children:[s.jsx(Ji,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Generate New Key"]})}),s.jsxs(Ye,{children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Generate New API Key"}),s.jsx(Xt,{children:"Create a new API key for your application"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(T,{htmlFor:"keyName",children:"API Key Name"}),s.jsx(Z,{id:"keyName",placeholder:"e.g., Production API, Mobile App",value:c,onChange:b=>d(b.target.value)})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(B,{onClick:u,children:"Generate Key"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Active Keys"}),s.jsx(Ci,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.length," total keys"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Requests"}),s.jsx(hc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:j.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Rate Limit"}),s.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"10,000"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per hour"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Avg Response Time"}),s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"65ms"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})]})]}),s.jsxs(mn,{defaultValue:"keys",className:"space-y-4",children:[s.jsxs(pn,{children:[s.jsx(Se,{value:"keys",children:"API Keys"}),s.jsx(Se,{value:"logs",children:"Request Logs"}),s.jsx(Se,{value:"docs",children:"Documentation"})]}),s.jsx(ke,{value:"keys",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"API Keys"}),s.jsx(_e,{children:"Manage your API keys for accessing the REST API"})]}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:e.map(b=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:b.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created ",b.createdAt]})]}),x(b.status)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"flex-1 bg-muted px-3 py-2 rounded text-sm font-mono",children:a[b.id]?b.key:v(b.key)}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>f(b.id),children:a[b.id]?s.jsx(jE,{className:"h-4 w-4"}):s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(B,{variant:"outline",size:"sm",onClick:()=>h(b.key),children:s.jsx(xi,{className:"h-4 w-4"})}),b.status==="active"&&s.jsx(B,{variant:"destructive",size:"sm",onClick:()=>m(b.id),children:s.jsx(za,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:[b.requests.toLocaleString()," requests"]}),b.lastUsed&&s.jsxs("span",{children:["Last used: ",b.lastUsed]})]})]},b.id))})})]})}),s.jsx(ke,{value:"logs",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Request Logs"}),s.jsx(_e,{children:"Recent API requests and their responses"})]}),s.jsx(I,{children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Timestamp"}),s.jsx(ee,{children:"Method"}),s.jsx(ee,{children:"Endpoint"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Response Time"})]})}),s.jsx(vr,{children:r.map(b=>s.jsxs(Be,{children:[s.jsx(Q,{className:"text-sm",children:b.timestamp}),s.jsx(Q,{children:g(b.method)}),s.jsx(Q,{children:s.jsx("code",{className:"text-sm",children:b.endpoint})}),s.jsx(Q,{children:s.jsx("span",{className:`font-medium ${y(b.status)}`,children:b.status})}),s.jsxs(Q,{children:[b.responseTime,"ms"]})]},b.id))})]})})]})}),s.jsx(ke,{value:"docs",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(kF,{className:"h-5 w-5"}),"API Documentation"]}),s.jsx(_e,{children:"Learn how to integrate with our REST API"})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Include your API key in the Authorization header:"}),s.jsx("code",{className:"block bg-muted p-3 rounded text-sm",children:"Authorization: Bearer sk_live_your_api_key_here"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Base URL"}),s.jsx("code",{className:"block bg-muted p-3 rounded text-sm",children:"https://api.yourapp.com/v1"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Example Request"}),s.jsx("code",{className:"block bg-muted p-3 rounded text-sm whitespace-pre",children:`GET /api/products
Authorization: Bearer sk_live_your_api_key_here
Content-Type: application/json`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Rate Limits"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["• 10,000 requests per hour",s.jsx("br",{}),"• 1,000 requests per minute",s.jsx("br",{}),"• Rate limit headers included in all responses"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Available Endpoints"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[g("GET"),s.jsx("code",{children:"/api/products"}),s.jsx("span",{className:"text-muted-foreground",children:"- Get all products"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g("POST"),s.jsx("code",{children:"/api/products"}),s.jsx("span",{className:"text-muted-foreground",children:"- Create product"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g("GET"),s.jsx("code",{children:"/api/orders"}),s.jsx("span",{className:"text-muted-foreground",children:"- Get all orders"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g("POST"),s.jsx("code",{children:"/api/orders"}),s.jsx("span",{className:"text-muted-foreground",children:"- Create order"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[g("GET"),s.jsx("code",{children:"/api/customers"}),s.jsx("span",{className:"text-muted-foreground",children:"- Get all customers"})]})]})]})]})]})})]})]})}function Pde(){const[e,t]=p.useState({companyName:"Foam Shop Manager",tagline:"Digital Sales & Management System",primaryColor:"#0070f3",secondaryColor:"#7928ca",accentColor:"#ff0080",logoUrl:"",faviconUrl:"",customDomain:"",supportEmail:"support@foamshop.com",companyWebsite:""}),[r,n]=p.useState({welcomeSubject:"Welcome to {{company_name}}",welcomeBody:`Hi {{user_name}},

Welcome to {{company_name}}! We're excited to have you on board.`,orderConfirmationSubject:"Order Confirmation #{{order_id}}",orderConfirmationBody:"Your order has been confirmed and is being processed.",passwordResetSubject:"Reset Your Password",passwordResetBody:"Click the link below to reset your password: {{reset_link}}"}),[a,i]=p.useState({appName:"Foam Shop",bundleId:"com.foamshop.app",appIconUrl:"",splashScreenUrl:"",primaryColor:"#0070f3",accentColor:"#ff0080"}),o=()=>{J.success("Branding settings saved successfully")},l=()=>{J.success("Email templates saved successfully")},c=()=>{J.success("Mobile app settings saved successfully")},d=u=>{J.success("File uploaded successfully")};return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2",children:[s.jsx(ga,{className:"h-7 w-7"}),"White Label Settings"]}),s.jsx("p",{className:"text-muted-foreground",children:"Customize your brand identity and appearance"})]})}),s.jsx(M,{className:"border-blue-200 bg-blue-50",children:s.jsxs(I,{className:"flex items-start gap-3 pt-6",children:[s.jsx(Ta,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Enterprise Feature"}),s.jsx("p",{children:"White label branding allows you to completely customize the platform with your own brand identity. Changes will be reflected across all user interfaces."})]})]})}),s.jsxs(mn,{defaultValue:"branding",className:"space-y-4",children:[s.jsxs(pn,{children:[s.jsx(Se,{value:"branding",children:"Brand Identity"}),s.jsx(Se,{value:"domain",children:"Domain & URLs"}),s.jsx(Se,{value:"email",children:"Email Templates"}),s.jsx(Se,{value:"mobile",children:"Mobile App"})]}),s.jsx(ke,{value:"branding",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Mj,{className:"h-5 w-5"}),"Brand Identity"]}),s.jsx(_e,{children:"Customize your company's visual identity"})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"companyName",children:"Company Name"}),s.jsx(Z,{id:"companyName",value:e.companyName,onChange:u=>t({...e,companyName:u.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"tagline",children:"Tagline"}),s.jsx(Z,{id:"tagline",value:e.tagline,onChange:u=>t({...e,tagline:u.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Logo & Assets"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"Company Logo"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.logoUrl&&s.jsx("div",{className:"w-16 h-16 border rounded flex items-center justify-center bg-muted",children:s.jsx("img",{src:e.logoUrl,alt:"Logo",className:"max-w-full max-h-full"})}),s.jsxs(B,{variant:"outline",onClick:()=>d(),children:[s.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Upload Logo"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 200x200px, PNG or SVG"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Favicon"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.faviconUrl&&s.jsx("div",{className:"w-8 h-8 border rounded flex items-center justify-center bg-muted",children:s.jsx("img",{src:e.faviconUrl,alt:"Favicon",className:"max-w-full max-h-full"})}),s.jsxs(B,{variant:"outline",onClick:()=>d(),children:[s.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Upload Favicon"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 32x32px, PNG or ICO"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Color Scheme"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"primaryColor",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Z,{id:"primaryColor",type:"color",value:e.primaryColor,onChange:u=>t({...e,primaryColor:u.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Z,{value:e.primaryColor,onChange:u=>t({...e,primaryColor:u.target.value}),className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"secondaryColor",children:"Secondary Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Z,{id:"secondaryColor",type:"color",value:e.secondaryColor,onChange:u=>t({...e,secondaryColor:u.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Z,{value:e.secondaryColor,onChange:u=>t({...e,secondaryColor:u.target.value}),className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"accentColor",children:"Accent Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Z,{id:"accentColor",type:"color",value:e.accentColor,onChange:u=>t({...e,accentColor:u.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Z,{value:e.accentColor,onChange:u=>t({...e,accentColor:u.target.value}),className:"flex-1"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(B,{variant:"outline",children:[s.jsx(Da,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(B,{onClick:o,children:[s.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}),s.jsx(ke,{value:"domain",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(vp,{className:"h-5 w-5"}),"Custom Domain"]}),s.jsx(_e,{children:"Configure your custom domain and URLs"})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"customDomain",children:"Custom Domain"}),s.jsx(Z,{id:"customDomain",placeholder:"app.yourdomain.com",value:e.customDomain,onChange:u=>t({...e,customDomain:u.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Point your domain's CNAME record to: app.foamshop.com"})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"supportEmail",children:"Support Email"}),s.jsx(Z,{id:"supportEmail",type:"email",placeholder:"support@yourdomain.com",value:e.supportEmail,onChange:u=>t({...e,supportEmail:u.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"companyWebsite",children:"Company Website"}),s.jsx(Z,{id:"companyWebsite",type:"url",placeholder:"https://www.yourdomain.com",value:e.companyWebsite,onChange:u=>t({...e,companyWebsite:u.target.value})})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"DNS Configuration"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsx("p",{children:"To use a custom domain, add the following CNAME record:"}),s.jsx("code",{className:"block bg-white p-2 rounded",children:"CNAME: app → app.foamshop.com"}),s.jsx("p",{className:"mt-2",children:"SSL certificates will be automatically provisioned once DNS is configured."})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{onClick:o,children:[s.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Save Domain Settings"]})})]})]})}),s.jsx(ke,{value:"email",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5"}),"Email Templates"]}),s.jsx(_e,{children:"Customize email templates sent to users"})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Welcome Email"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"welcomeSubject",children:"Subject Line"}),s.jsx(Z,{id:"welcomeSubject",value:r.welcomeSubject,onChange:u=>n({...r,welcomeSubject:u.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"welcomeBody",children:"Email Body"}),s.jsx(Dt,{id:"welcomeBody",rows:4,value:r.welcomeBody,onChange:u=>n({...r,welcomeBody:u.target.value})})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Order Confirmation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"orderSubject",children:"Subject Line"}),s.jsx(Z,{id:"orderSubject",value:r.orderConfirmationSubject,onChange:u=>n({...r,orderConfirmationSubject:u.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"orderBody",children:"Email Body"}),s.jsx(Dt,{id:"orderBody",rows:4,value:r.orderConfirmationBody,onChange:u=>n({...r,orderConfirmationBody:u.target.value})})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Password Reset"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"resetSubject",children:"Subject Line"}),s.jsx(Z,{id:"resetSubject",value:r.passwordResetSubject,onChange:u=>n({...r,passwordResetSubject:u.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"resetBody",children:"Email Body"}),s.jsx(Dt,{id:"resetBody",rows:4,value:r.passwordResetBody,onChange:u=>n({...r,passwordResetBody:u.target.value})})]})]})]})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold mb-2",children:"Available Variables:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[s.jsx("code",{children:"{{company_name}}"}),s.jsx("code",{children:"{{user_name}}"}),s.jsx("code",{children:"{{user_email}}"}),s.jsx("code",{children:"{{order_id}}"}),s.jsx("code",{children:"{{reset_link}}"}),s.jsx("code",{children:"{{support_email}}"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{onClick:l,children:[s.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Save Templates"]})})]})]})}),s.jsx(ke,{value:"mobile",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(bE,{className:"h-5 w-5"}),"Mobile App Branding"]}),s.jsx(_e,{children:"Customize your mobile app appearance"})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"appName",children:"App Name"}),s.jsx(Z,{id:"appName",value:a.appName,onChange:u=>i({...a,appName:u.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"bundleId",children:"Bundle ID"}),s.jsx(Z,{id:"bundleId",value:a.bundleId,onChange:u=>i({...a,bundleId:u.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{children:"App Icon"}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsxs(B,{variant:"outline",onClick:()=>d(),children:[s.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Upload Icon"]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 1024x1024px, PNG"})]}),s.jsxs("div",{children:[s.jsx(T,{children:"Splash Screen"}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsxs(B,{variant:"outline",onClick:()=>d(),children:[s.jsx(Oh,{className:"h-4 w-4 mr-2"}),"Upload Splash Screen"]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recommended: 1242x2688px, PNG"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"appPrimaryColor",children:"Primary Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Z,{id:"appPrimaryColor",type:"color",value:a.primaryColor,onChange:u=>i({...a,primaryColor:u.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Z,{value:a.primaryColor,onChange:u=>i({...a,primaryColor:u.target.value}),className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"appAccentColor",children:"Accent Color"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Z,{id:"appAccentColor",type:"color",value:a.accentColor,onChange:u=>i({...a,accentColor:u.target.value}),className:"w-16 h-10 p-1"}),s.jsx(Z,{value:a.accentColor,onChange:u=>i({...a,accentColor:u.target.value}),className:"flex-1"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(B,{onClick:c,children:[s.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Save App Settings"]})})]})]})})]})]})}function _de(){const[e,t]=p.useState([]),[r,n]=p.useState(!1),[a,i]=p.useState({title:"",description:"",priority:"medium",category:"Technical"}),o=()=>{if(!a.title||!a.description){J.error("Please fill in all required fields");return}const h={id:`TICK-${String(e.length+1).padStart(3,"0")}`,title:a.title,description:a.description,priority:a.priority,status:"open",category:a.category,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),responses:0};t([h,...e]),J.success("Support ticket created successfully"),n(!1),i({title:"",description:"",priority:"medium",category:"Technical"})},l=h=>{const m={urgent:{label:"Urgent",className:"bg-red-100 text-red-800"},high:{label:"High",className:"bg-orange-100 text-orange-800"},medium:{label:"Medium",className:"bg-yellow-100 text-yellow-800"},low:{label:"Low",className:"bg-blue-100 text-blue-800"}},{label:f,className:v}=m[h];return s.jsx(se,{className:v,children:f})},c=h=>{const m={open:{label:"Open",icon:Ta,className:"bg-blue-100 text-blue-800"},"in-progress":{label:"In Progress",icon:zr,className:"bg-yellow-100 text-yellow-800"},resolved:{label:"Resolved",icon:Oe,className:"bg-green-100 text-green-800"},closed:{label:"Closed",icon:Oe,className:"bg-gray-100 text-gray-800"}},{label:f,icon:v,className:x}=m[h];return s.jsxs(se,{className:x,children:[s.jsx(v,{className:"h-3 w-3 mr-1"}),f]})},d=e.filter(h=>h.status==="open"||h.status==="in-progress").length,u="< 2 hours";return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2",children:[s.jsx(qs,{className:"h-7 w-7 text-yellow-500"}),"Priority Support"]}),s.jsx("p",{className:"text-muted-foreground",children:"24/7 priority support for enterprise customers"})]}),s.jsxs(Qe,{open:r,onOpenChange:n,children:[s.jsx(Ji,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"New Support Ticket"]})}),s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Create Support Ticket"}),s.jsx(Xt,{children:"Describe your issue and our support team will respond within 2 hours"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"title",children:"Issue Title *"}),s.jsx(Z,{id:"title",placeholder:"Brief description of the issue",value:a.title,onChange:h=>i({...a,title:h.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"description",children:"Description *"}),s.jsx(Dt,{id:"description",rows:5,placeholder:"Provide detailed information about your issue...",value:a.description,onChange:h=>i({...a,description:h.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"category",children:"Category"}),s.jsxs(ve,{value:a.category,onValueChange:h=>i({...a,category:h}),children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"Technical",children:"Technical Issue"}),s.jsx(F,{value:"Feature Request",children:"Feature Request"}),s.jsx(F,{value:"Question",children:"Question"}),s.jsx(F,{value:"Billing",children:"Billing"}),s.jsx(F,{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"priority",children:"Priority"}),s.jsxs(ve,{value:a.priority,onValueChange:h=>i({...a,priority:h}),children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"low",children:"Low"}),s.jsx(F,{value:"medium",children:"Medium"}),s.jsx(F,{value:"high",children:"High"}),s.jsx(F,{value:"urgent",children:"Urgent"})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(B,{onClick:o,children:[s.jsx(em,{className:"h-4 w-4 mr-2"}),"Submit Ticket"]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Open Tickets"}),s.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.length," total tickets"]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Avg Response Time"}),s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Priority support"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Resolution Rate"}),s.jsx(Oe,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"98%"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"First contact resolution"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Support Level"}),s.jsx(qs,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:"Priority"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"24/7 support access"})]})]})]}),s.jsxs(mn,{defaultValue:"tickets",className:"space-y-4",children:[s.jsxs(pn,{children:[s.jsx(Se,{value:"tickets",children:"My Tickets"}),s.jsx(Se,{value:"contact",children:"Contact Options"}),s.jsx(Se,{value:"sla",children:"SLA Information"})]}),s.jsx(ke,{value:"tickets",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Support Tickets"}),s.jsx(_e,{children:"View and manage your support tickets"})]}),s.jsx(I,{children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Ticket ID"}),s.jsx(ee,{children:"Title"}),s.jsx(ee,{children:"Priority"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Category"}),s.jsx(ee,{children:"Created"}),s.jsx(ee,{children:"Responses"})]})}),s.jsx(vr,{children:e.map(h=>s.jsxs(Be,{className:"cursor-pointer hover:bg-muted/50",children:[s.jsx(Q,{className:"font-medium",children:h.id}),s.jsx(Q,{children:s.jsxs("div",{className:"max-w-xs",children:[s.jsx("p",{className:"font-medium truncate",children:h.title}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.description})]})}),s.jsx(Q,{children:l(h.priority)}),s.jsx(Q,{children:c(h.status)}),s.jsx(Q,{children:h.category}),s.jsx(Q,{className:"text-sm",children:new Date(h.createdAt).toLocaleDateString()}),s.jsx(Q,{children:s.jsxs(se,{variant:"outline",children:[h.responses," replies"]})})]},h.id))})]})})]})}),s.jsx(ke,{value:"contact",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(B1,{className:"h-5 w-5"}),"Live Chat"]}),s.jsx(_e,{children:"Chat with a support agent in real-time"})]}),s.jsxs(I,{children:[s.jsxs(B,{className:"w-full",children:[s.jsx(B1,{className:"h-4 w-4 mr-2"}),"Start Live Chat"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:["Average wait time: ",s.jsx("strong",{children:"30 seconds"})]})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(dd,{className:"h-5 w-5"}),"Phone Support"]}),s.jsx(_e,{children:"Speak directly with our support team"})]}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-lg font-semibold",children:"+1 (800) 123-4567"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Available 24/7 for priority customers"})]})})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(U1,{className:"h-5 w-5"}),"Screen Sharing"]}),s.jsx(_e,{children:"Share your screen for complex issues"})]}),s.jsxs(I,{children:[s.jsxs(B,{className:"w-full",variant:"outline",children:[s.jsx(U1,{className:"h-4 w-4 mr-2"}),"Schedule Screen Share"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Book a session with our support team"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5"}),"Email Support"]}),s.jsx(_e,{children:"Send us an email for non-urgent matters"})]}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-lg font-semibold",children:"priority@foamshop.com"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Response within 2 hours"})]})})]})]})}),s.jsx(ke,{value:"sla",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Id,{className:"h-5 w-5"}),"Service Level Agreement (SLA)"]}),s.jsx(_e,{children:"Your guaranteed support response times"})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Priority Support Benefits"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"24/7 support availability across all channels"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Dedicated support team assigned to your account"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Priority queue for all support tickets"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Screen sharing and remote assistance available"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Quarterly business reviews and optimization sessions"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Response Time Guarantees"}),s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"Priority Level"}),s.jsx(ee,{children:"First Response"}),s.jsx(ee,{children:"Resolution Target"})]})}),s.jsxs(vr,{children:[s.jsxs(Be,{children:[s.jsx(Q,{children:"Urgent"}),s.jsx(Q,{className:"font-semibold",children:"15 minutes"}),s.jsx(Q,{children:"4 hours"})]}),s.jsxs(Be,{children:[s.jsx(Q,{children:"High"}),s.jsx(Q,{className:"font-semibold",children:"1 hour"}),s.jsx(Q,{children:"8 hours"})]}),s.jsxs(Be,{children:[s.jsx(Q,{children:"Medium"}),s.jsx(Q,{className:"font-semibold",children:"2 hours"}),s.jsx(Q,{children:"24 hours"})]}),s.jsxs(Be,{children:[s.jsx(Q,{children:"Low"}),s.jsx(Q,{className:"font-semibold",children:"4 hours"}),s.jsx(Q,{children:"48 hours"})]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(qs,{className:"h-4 w-4 text-yellow-500"}),"SLA Compliance"]}),s.jsx("p",{className:"text-sm text-blue-800",children:"We maintain 99.5% SLA compliance across all priority support tickets. In the rare event we miss our response time guarantee, you'll receive a service credit for the affected period."})]})]})]})})]})]})}function Ede(){const[e,t]=p.useState([{id:"CF-001",title:"Advanced Inventory Forecasting",description:"AI-powered inventory forecasting based on historical sales data and seasonal trends",businessValue:"Reduce stockouts by 40% and optimize inventory levels",status:"in-development",priority:"high",estimatedCost:5e3,estimatedTime:"4-6 weeks",submittedDate:"2024-02-15",updatedDate:"2024-03-10"},{id:"CF-002",title:"Customer Loyalty Program",description:"Points-based loyalty program with automated rewards and tier management",businessValue:"Increase customer retention by 25%",status:"approved",priority:"medium",estimatedCost:3500,estimatedTime:"3-4 weeks",submittedDate:"2024-02-28",updatedDate:"2024-03-05"},{id:"CF-003",title:"Multi-Currency Support",description:"Support for multiple currencies with automatic exchange rate updates",businessValue:"Enable expansion into 5 new international markets",status:"reviewing",priority:"medium",estimatedCost:4e3,estimatedTime:"3-5 weeks",submittedDate:"2024-03-01",updatedDate:"2024-03-08"}]),[r,n]=p.useState(!1),[a,i]=p.useState({title:"",description:"",businessValue:"",priority:"medium"}),o=()=>{if(!a.title||!a.description||!a.businessValue){J.error("Please fill in all required fields");return}const m={id:`CF-${String(e.length+1).padStart(3,"0")}`,title:a.title,description:a.description,businessValue:a.businessValue,status:"submitted",priority:a.priority,estimatedCost:0,estimatedTime:"TBD",submittedDate:new Date().toISOString().split("T")[0],updatedDate:new Date().toISOString().split("T")[0]};t([m,...e]),J.success("Custom feature request submitted successfully"),n(!1),i({title:"",description:"",businessValue:"",priority:"medium"})},l=m=>{const f={submitted:{label:"Submitted",icon:zr,className:"bg-blue-100 text-blue-800"},reviewing:{label:"Reviewing",icon:Ta,className:"bg-yellow-100 text-yellow-800"},approved:{label:"Approved",icon:Oe,className:"bg-green-100 text-green-800"},"in-development":{label:"In Development",icon:F1,className:"bg-purple-100 text-purple-800"},completed:{label:"Completed",icon:Oe,className:"bg-green-100 text-green-800"},rejected:{label:"Rejected",icon:Ta,className:"bg-red-100 text-red-800"}},{label:v,icon:x,className:g}=f[m];return s.jsxs(se,{className:g,children:[s.jsx(x,{className:"h-3 w-3 mr-1"}),v]})},c=m=>{const f={high:{label:"High",className:"bg-red-100 text-red-800"},medium:{label:"Medium",className:"bg-yellow-100 text-yellow-800"},low:{label:"Low",className:"bg-blue-100 text-blue-800"}},{label:v,className:x}=f[m];return s.jsx(se,{className:x,children:v})},d=e.filter(m=>m.status==="submitted"||m.status==="reviewing").length,u=e.filter(m=>m.status==="in-development").length,h=e.filter(m=>m.status==="completed").length;return s.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6 h-full overflow-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2",children:[s.jsx(Uo,{className:"h-7 w-7"}),"Custom Features"]}),s.jsx("p",{className:"text-muted-foreground",children:"Request and track custom feature development"})]}),s.jsxs(Qe,{open:r,onOpenChange:n,children:[s.jsx(Ji,{asChild:!0,children:s.jsxs(B,{children:[s.jsx(pr,{className:"h-4 w-4 mr-2"}),"Request Custom Feature"]})}),s.jsxs(Ye,{className:"max-w-2xl",children:[s.jsxs(Ge,{children:[s.jsx(Xe,{children:"Request Custom Feature"}),s.jsx(Xt,{children:"Describe your custom feature requirement and our team will review it"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(T,{htmlFor:"title",children:"Feature Title *"}),s.jsx(Z,{id:"title",placeholder:"Brief title for the feature",value:a.title,onChange:m=>i({...a,title:m.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"description",children:"Detailed Description *"}),s.jsx(Dt,{id:"description",rows:5,placeholder:"Describe the feature in detail - what it should do, how it should work, etc.",value:a.description,onChange:m=>i({...a,description:m.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"businessValue",children:"Business Value *"}),s.jsx(Dt,{id:"businessValue",rows:3,placeholder:"Explain how this feature will benefit your business (e.g., increase sales, reduce costs, improve efficiency)",value:a.businessValue,onChange:m=>i({...a,businessValue:m.target.value})})]}),s.jsxs("div",{children:[s.jsx(T,{htmlFor:"priority",children:"Priority"}),s.jsxs(ve,{value:a.priority,onValueChange:m=>i({...a,priority:m}),children:[s.jsx(je,{children:s.jsx(ye,{})}),s.jsxs(we,{children:[s.jsx(F,{value:"low",children:"Low - Nice to have"}),s.jsx(F,{value:"medium",children:"Medium - Important for growth"}),s.jsx(F,{value:"high",children:"High - Critical for operations"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(B,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsxs(B,{onClick:o,children:[s.jsx(em,{className:"h-4 w-4 mr-2"}),"Submit Request"]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Submitted"}),s.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Under review"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"In Development"}),s.jsx(F1,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Being built"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Completed"}),s.jsx(Oe,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered features"})]})]}),s.jsxs(M,{children:[s.jsxs(U,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm",children:"Total Requests"}),s.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]})]}),s.jsxs(mn,{defaultValue:"requests",className:"space-y-4",children:[s.jsxs(pn,{children:[s.jsx(Se,{value:"requests",children:"My Requests"}),s.jsx(Se,{value:"process",children:"Development Process"}),s.jsx(Se,{value:"pricing",children:"Pricing Model"})]}),s.jsx(ke,{value:"requests",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Custom Feature Requests"}),s.jsx(_e,{children:"Track the status of your custom feature requests"})]}),s.jsx(I,{children:s.jsxs(xr,{children:[s.jsx(gr,{children:s.jsxs(Be,{children:[s.jsx(ee,{children:"ID"}),s.jsx(ee,{children:"Feature"}),s.jsx(ee,{children:"Priority"}),s.jsx(ee,{children:"Status"}),s.jsx(ee,{children:"Estimated Cost"}),s.jsx(ee,{children:"Timeline"}),s.jsx(ee,{children:"Submitted"})]})}),s.jsx(vr,{children:e.map(m=>s.jsxs(Be,{className:"cursor-pointer hover:bg-muted/50",children:[s.jsx(Q,{className:"font-medium",children:m.id}),s.jsx(Q,{children:s.jsxs("div",{className:"max-w-md",children:[s.jsx("p",{className:"font-medium",children:m.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:m.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s.jsx(Kt,{className:"h-3 w-3"}),m.businessValue]})]})}),s.jsx(Q,{children:c(m.priority)}),s.jsx(Q,{children:l(m.status)}),s.jsx(Q,{children:m.estimatedCost>0?s.jsxs("span",{className:"font-semibold",children:["$",m.estimatedCost.toLocaleString()]}):s.jsx("span",{className:"text-muted-foreground",children:"Pending"})}),s.jsx(Q,{children:m.estimatedTime}),s.jsx(Q,{className:"text-sm",children:new Date(m.submittedDate).toLocaleDateString()})]},m.id))})]})})]})}),s.jsx(ke,{value:"process",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsx(K,{children:"Custom Feature Development Process"}),s.jsx(_e,{children:"How we handle custom feature requests"})]}),s.jsx(I,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-blue-800",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Submission & Review"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit your feature request with detailed requirements and business value. Our team reviews within 2-3 business days."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-yellow-800",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Scope & Estimation"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"We analyze the technical requirements and provide an estimate for cost and timeline. You'll receive a detailed proposal."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-green-800",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Approval & Payment"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Once you approve the proposal and provide payment, we add the feature to our development queue."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-purple-800",children:"4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Development & Testing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Our team develops and tests the feature. You'll receive regular updates and can provide feedback during development."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx("span",{className:"font-bold text-green-800",children:"5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Delivery & Training"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The feature is deployed to your account. We provide training and documentation to ensure successful adoption."})]})]})]})})]})}),s.jsx(ke,{value:"pricing",className:"space-y-4",children:s.jsxs(M,{children:[s.jsxs(U,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5"}),"Custom Feature Pricing"]}),s.jsx(_e,{children:"Transparent pricing for custom development"})]}),s.jsx(I,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Pricing Model"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Custom features are priced based on complexity, development time, and required resources. Our standard rate is $150/hour for development time."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Typical Cost Ranges"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"Simple Features"}),s.jsx("span",{className:"font-semibold",children:"$1,500 - $3,000"})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"Medium Complexity"}),s.jsx("span",{className:"font-semibold",children:"$3,000 - $7,000"})]}),s.jsxs("div",{className:"flex justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"Complex Features"}),s.jsx("span",{className:"font-semibold",children:"$7,000 - $15,000+"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"What's Included"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Requirements analysis and technical design"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Full development and quality assurance testing"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Documentation and user training materials"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"Deployment to production environment"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Oe,{className:"h-4 w-4 text-green-600 mt-0.5"}),s.jsx("span",{children:"30 days of post-launch support and bug fixes"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),"Payment Terms"]}),s.jsx("p",{className:"text-sm text-blue-800",children:"50% upfront upon approval, 50% upon completion and delivery. For features exceeding $10,000, milestone-based payment schedules are available."})]})]})})]})})]})]})}var Ade=(e,t,r,n,a,i,o,l)=>{let c=document.documentElement,d=["light","dark"];function u(f){(Array.isArray(e)?e:[e]).forEach(v=>{let x=v==="class",g=x&&i?a.map(y=>i[y]||y):a;x?(c.classList.remove(...g),c.classList.add(i&&i[f]?i[f]:f)):c.setAttribute(v,f)}),h(f)}function h(f){l&&d.includes(f)&&(c.style.colorScheme=f)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)u(n);else try{let f=localStorage.getItem(t)||r,v=o&&f==="system"?m():f;u(v)}catch{}},Ode=p.createContext(void 0),Tde={setTheme:e=>{},themes:[]},Dde=()=>{var e;return(e=p.useContext(Ode))!=null?e:Tde};p.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:d})=>{let u=JSON.stringify([r,t,i,e,l,o,n,a]).slice(1,-1);return p.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Ade.toString()})(${u})`}})});const lf=({...e})=>{const{theme:t="system"}=Dde();return s.jsx(fK,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function Mde(){const[e,t]=p.useState(null),[r,n]=p.useState(""),[a,i]=p.useState("dashboard"),[o,l]=p.useState(!1),[c,d]=p.useState(!0),[u,h]=p.useState(window.innerWidth>=768),[m,f]=p.useState(null);p.useEffect(()=>{(async()=>{const{user:w,accessToken:b}=await ua.getSession();w&&b&&(t(w),n(b)),d(!1)})()},[]),p.useEffect(()=>{const j=()=>{h(window.innerWidth>=768)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const v=(j,w,b)=>{t(w),n(b)},x=async()=>{await ua.signOut(),t(null),n(""),i("dashboard"),f(null)},g=j=>{f(j),localStorage.setItem("businessConfig",JSON.stringify(j))};if(p.useEffect(()=>{const j=localStorage.getItem("businessConfig");if(j)try{f(JSON.parse(j))}catch(w){console.error("Error loading business config:",w)}},[]),c)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!e)return s.jsxs(s.Fragment,{children:[s.jsx(mK,{onLogin:v,onBusinessSetupComplete:g}),s.jsx(lf,{})]});if(e.role==="super_admin")return console.log("🎯 Super Admin detected, showing Super Admin Panel"),s.jsxs(s.Fragment,{children:[s.jsx(Nde,{onLogout:x}),s.jsx(lf,{})]});if(console.log("🔍 Current user role:",e.role,"User object:",e),e.role==="cashier")return s.jsxs(s.Fragment,{children:[s.jsx(Mie,{user:e,accessToken:r,onLogout:x,selectedFeatures:m?.selectedFeatures}),s.jsx(lf,{})]});const y=()=>{switch(a){case"dashboard":return s.jsx(UP,{});case"products":return s.jsx(Koe,{});case"suppliers":return s.jsx(Sde,{});case"orders":return s.jsx(Voe,{});case"corrections":return s.jsx(kde,{});case"customers":return s.jsx(Hoe,{});case"workers":return s.jsx(qoe,{});case"payroll":return s.jsx(Yoe,{});case"reports":return s.jsx(Jue,{});case"settings":return s.jsx(sde,{});case"locations":return s.jsx(ade,{businessConfig:m||void 0});case"analytics":return s.jsx(ide,{businessConfig:m||{businessName:"Business",businessType:"retail",businessSize:"small",ownerName:"Owner",ownerPhone:"",businessEmail:"",businessPhone:"",businessAddress:"",city:"",region:"",registrationNumber:"",tinNumber:"",yearEstablished:"",numberOfEmployees:0,locationCount:1,description:"",productsCount:0,averageMonthlySales:"0",selectedFeatures:[],paymentMethod:"monthly",dashboardType:"simple"}});case"api-access":return s.jsx(Cde,{});case"white-label":return s.jsx(Pde,{});case"priority-support":return s.jsx(_de,{});case"custom-features":return s.jsx(Ede,{});default:return s.jsx(UP,{})}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex h-screen bg-background",children:[u&&s.jsx("aside",{className:"w-64 flex-shrink-0",children:s.jsx(WP,{activeSection:a,setActiveSection:i,user:e,onLogout:x,businessConfig:m})}),s.jsx(j4,{open:o,onOpenChange:l,children:s.jsx(b4,{side:"left",className:"p-0 w-64","aria-describedby":void 0,children:s.jsx(WP,{activeSection:a,setActiveSection:i,user:e,onLogout:x,onNavigate:()=>l(!1),businessConfig:m})})}),s.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[!u&&s.jsx("div",{className:"p-4 border-b border-border bg-card",children:s.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"gap-2",children:[s.jsx(wE,{className:"h-5 w-5"}),s.jsx("span",{children:"Menu"})]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:y()})]})]}),s.jsx(lf,{})]})}vE(document.getElementById("root")).render(s.jsx(Mde,{}));
